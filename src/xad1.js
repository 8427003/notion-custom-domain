checkbox":return i?go(D):m.Z;case"select":return i?go(vt):m.Z;case"multi_select":return i?go(ke):m.Z;case"person":case"created_by":case"last_edited_by":return i?go(at):m.Z;case"text":return i?go(Zt):m.Z;case"title":return i?go(lo):m.Z;case"number":return i?go(We):m.Z;default:return m.Z}}}(i,r,h);return s.createElement(f,n()({ref:g},e))}},37911:(e,t,o)=>{o.d(t,{Z:()=>io});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(99036),u=o(80951),m=o(67219),g=o(65917),h=o(42875),f=o(89837),v=o(98459),y=o(98963),b=o(97880),S=o(82990),w=o(63143),k=o(5366),C=o(51127),_=o(82993),M=o(43664),T=o(51365),I=o(50906);function P(e){const{environment:t,pageStore:o,syncedPageStore:i,collectionStore:n,collectionViewStore:r}=e;if(n.isSyncedCollection()||!i.isExternalObjectInstancePageBlockStore())return;const a=null==r?void 0:r.id,s=null==r?void 0:r.getType(),l=null==i?void 0:i.getParentId(),c=null==o?void 0:o.id;!r&&c&&l?I.trackPageVisitWithRelationToSyncedDatabase(t,{type:"page",page_id:c,collection_id:n.id,synced_collection_id:l}):a&&s&&"page"!==s&&l&&I.trackDatabaseVisitWithRelationToSyncedDatabase(t,{type:s,from_collection_view_id:a,from_collection_id:n.id,synced_collection_id:l})}var x=o(95477),B=o(66890),Z=o(11368),E=o(93959),R=o(49616),A=o(23223),D=o(14976),F=o(17731),L=o(12534),V=o(33929),N=o(39500),O=o(79315),U=o(61766),H=o(10161),z=o(31792),W=o(3815),j=o(12318),K=o(4853),Y=o(64921),G=o(73063),X=o(84076),q=o(63296),$=o(58032),J=o(81954),Q=o(24405),ee=o(32918),te=o(82433),oe=o(84682),ie=o(18955),ne=o(12549),re=o(32056),ae=o(74446),se=o(77907),le=o(12508),ce=o(16354),de=o(89845),pe=o(56247);function ue(e){const t=(0,k.useIntl)(),o=(0,Q.Fg)(),{property:i,schema:r,style:s}=e,d=(0,J.VK)((()=>{const{property:o,store:i,schema:n}=e;if(i.isDefined())return(0,oe.AH)({property:o,schema:n,block:i.getModel(),getRecordModel:e.store.getRecordModel,userTimeZone:(0,h.r)(),depth:0,intl:t,resultCache:{}})}),[e,t]);(0,c.useEffect)((()=>{(async()=>{if(!H.default.checkGate("formulas_dark_read"))return;const{store:o}=e,n=r[i],a=null==o?void 0:o.getParentPointer();if(!(n&&"formula"===n.type&&n.formula&&a&&d&&"collection"===a.table))return;const{convertCollectionFormulaToFormula2:s,executeFormula:l}=await se.deps.formulas.loader(),c=s(n.formula,a,r),p=o.getRecordValue,u={values:[{kind:te.yp.ThisRow,value:{type:"block",value:o.pointer}}],handleDataRequest:(0,te.yf)(p,ae.zF.fromGetRecordValueFn(p)),intl:t,userTimeZone:(0,h.r)()},m=await l(c,u);(0,te.hV)(m,d)||g.logWithSampleRate({logMessage:{level:"warning",from:"FormulaValue",type:"formulaConverterMismatch",data:{miscDataToConvertToString:n.formula}},samplePercentage:1})})()}),[t,i,e,r,d]);const p=c.useMemo((()=>"string"==typeof d&&(0,ne.Z)(d)),[d]),u=r[i];if(!u||"formula"!==u.type)return null;const{formula:m,number_format:f}=u,v=m?m.result_type:null;if("checkbox"===v&&"boolean"==typeof d)return c.createElement(le.Z,n()({checked:d,disabled:!0,tooltipHeader:e.tooltipHeader,size:16,checkSize:12},e.checkboxProps));if("number"===v&&(0,w.hj)(d)){var y;const t=f||re.dk;if(l().isNaN(d)||(0,w.z4)(d))return null;const o=a()("div",{style:{alignItems:"baseline"}},void 0,c.createElement(pe.b,n()({},e.numberValueProps,{style:{...s,minHeight:"100%",width:"100%",...null===(y=e.numberValueProps)||void 0===y?void 0:y.style},numberValue:d,numberFormat:t,numberShowAs:u.show_as})));if(!e.tooltipHeader)return o;const i=R.X7({numberValue:d,numberFormat:t,numberShowAs:u.show_as});return a()($.Z,{renderTooltip:()=>i?`${e.tooltipHeader}: ${i}`:e.tooltipHeader,render:e=>c.createElement("span",e,o),placement:e.tooltipPlacement})}if("date"===v&&ee.U3(d)){let t;return(0,ie.pV)(m).find((e=>{const o=r[e];return!(!o||"date"!==o.type)&&(t=o,!0)})),a()(de.Z,{value:d,dateFormat:t&&t.date_format?t.date_format:ee.sF,timeFormat:t&&t.time_format?t.time_format:ee.c_,style:{...s,...e.tooltipHeader&&{lineHeight:1.2,...S.Z.textOverflowStyle,fontSize:S.Z.fontSize.UISmall.desktop,color:o.mediumTextColor}},tooltipHeader:e.tooltipHeader,tooltipPlacement:e.tooltipPlacement})}if("text"===v&&"string"==typeof d){const t=t=>e.urlAsLink&&p?c.createElement("div",n()({style:s},t),a()(ce.Z,{href:d,style:{pointerEvents:"auto"},external:!0,onClick:e=>e.stopPropagation()},void 0,a()("span",{style:R.z0(o)},void 0,d))):c.createElement("div",n()({style:s},t),d);return e.tooltipHeader?a()($.Z,{renderTooltip:()=>e.tooltipHeader,render:e=>t(e),placement:e.tooltipPlacement}):t()}return null}var me=o(69265),ge=o(66094),he=o(91007),fe=o(52576),ve=o(39694),ye=o(24844);function be(e){window.__c={n:"TooltipURLButton"};const{tooltip:t,urlValue:o,disabled:i,onClick:r,overflowFormat:s}=e,l=function(e){return(0,Q.yK)((t=>({button:{fontSize:R.Kt,paddingLeft:R.AK.paddingLeft,borderRadius:5,padding:6,alignItems:"center",..."ellipsis"===e&&{...S.Z.textOverflowStyle}},smallInlineLink:{lineHeight:R.Al,pointerEvents:"all",...R.z0(t)}})),[e])}(s);return a()($.Z,{renderTooltip:()=>t,render:e=>a()(Y.Z,{style:l.button,onClick:r,disabled:i},void 0,c.createElement("span",n()({},e,{style:l.smallInlineLink}),o||""))})}var Se=o(78030),we=o(24118);function ke(e){const{propertySchema:t,format:o,render:i,additionalTooltipText:n}=e,r=o===Se.C.Board,s=o===Se.C.GalleryView,l=r||s,c=(0,J.VK)((()=>R.km(o)),[o]),d=(0,J.VK)((()=>i()),[i]),p=(0,J.VK)((()=>a()($.Z,{renderTooltip:()=>n?`${t.name}: ${n}`:`${t.name}`,render:e=>i(e),placement:l?$.Z.Placement.Left:void 0})),[t,i,n,l]);return c?p:d}var Ce=o(480),_e=o(77162),Me=o(78316),Te=o(62385);function Ie(e){const{style:t,mouseStore:o,collectionContextStore:i,store:r,property:s,schema:d,format:p,forceMouseEntered:u,shouldWrap:m,enablePointerEventsForInteractiveTypes:g,onOpenPeekPage:h,onContextMenu:f,onEditButtonClick:v,renderEditButton:y,shouldShowCopyButton:b,renderCopyButton:S,actionButtonProps:k,disabled:C}=e,_=d[s],T=null==_?void 0:_.type,I=(0,Ce.O7)(),P=(0,Ce.Fy)(),x=(0,c.useRef)(null),B=p===Se.C.Board,Z=p===Se.C.GalleryView,E=B||Z,A=(0,J.VK)((()=>p===Se.C.RelationSection),[p]),D=(0,J.VK)((()=>R.Hw({store:r,propertySchema:_,property:s})),[r,_,s]),F=(0,J.VK)((()=>{if("title"===T&&!P.isMobile){const{mainEditorCurrentBlockStore:e}=O.default.state;return Me.mb({store:r,mainEditorCurrentBlockStore:e,collectionContextStore:i,fullyQualified:!1})}}),[P,r,T,i]),V=(0,J.VK)((()=>w.z4(u)?o.state.mouseEntered:u),[o,u]),U=(0,J.VK)((()=>"url"===T?R.p7({store:r,property:s,propertySchema:_}):void 0),[T,r,s,_]),H=(0,J.VK)((()=>r.getPropertyValue(s)),[r,s]),z=(0,c.useCallback)((()=>{M.V7({environment:I,store:r,property:s,schema:d,handleOpenPeekPage:h})}),[I,r,s,d,h]),W=(0,c.useCallback)((e=>{e.shiftKey||(0,L.ZP)({event:e,context:L.Af.EditorClick,callback:()=>{(0,N.X9)()||v()}})}),[v]),j=(0,c.useCallback)((()=>{o.setState({...o.state,mouseEntered:!0})}),[o]),K=(0,c.useCallback)((()=>{o.setState({...o.state,mouseEntered:!1})}),[o]),G=(0,c.useCallback)((()=>{i&&_e.YU({environment:I,collectionContextStore:i,block_id:r.id,property:s,from:R.Sy(p),is_external_title_property_id:!1})}),[i,I,p,s,r]),X=p===Se.C.ListView,q=p===Se.C.Timeline,ee=p===Se.C.Table,te=p===Se.C.Page,oe=(0,Q.yK)((e=>({smallButtonStyle:{display:"flex",paddingRight:void 0===U?0:void 0},iconStyle:{width:12,height:12,fill:e.mediumIconColor,marginTop:2,marginRight:4},listLinkStyle:{minWidth:0,...g&&{pointerEvents:"auto"}},mobileLinkStyle:{...t,borderRadius:0,margin:0,textDecoration:"none"},actionTextStyle:R.TF({device:P,format:p,shouldWrap:m,theme:e}),actionableCellWrapStyle:{...ee&&{display:"flex"},...!ee&&{display:"flex",height:"100%",flex:"auto"},...E&&{paddingRight:32},...Z&&{flex:"none",maxWidth:"calc(100% + 8px)"}}})),[U,g,t,P,p,m,ee,E,Z]),ie=(0,c.useCallback)((()=>{if(T&&k)return a()(Pe,{type:T,href:D,metaHref:F,actionButtonProps:k,handleActionButtonClick:z})}),[T,D,F,k,z]),ne=(0,J.VK)((()=>{let e=[];if("url"===T){const t=P.isMobile,o=A,i=(V||t)&&!o&&!C;e=l().compact([i&&y,b&&S])}else if("title"!==T||!P.isMobile){const t=V||P.isMobile,o=t&&!E&&!A&&!C&&!ee,i=t&&!A;e=l().compact([i&&ie,o&&y,b&&S])}return e.map((e=>e()))}),[P.isMobile,C,E,A,ee,V,ie,S,y,b,T]);if(X||R.sH(p)&&!A||q){if(!k)return c.createElement(c.Fragment,null,e.children);const{icon:t,tooltip:o}=k,i=a()(Te.Z,{style:oe.smallButtonStyle,onClick:z},void 0,t(oe.iconStyle),U&&a()("span",{style:oe.actionTextStyle},void 0,U));return a()($.Z,{renderTooltip:()=>c.createElement(c.Fragment,null,R.km(p)&&a()("div",{},void 0,null==_?void 0:_.name),o),render:t=>D?c.createElement(ce.Z,n()({href:D,external:"title"!==T,style:oe.listLinkStyle},t,{onClick:G}),i):c.createElement(c.Fragment,null,c.createElement("div",t,i),e.children)})}return P.isMobile&&"title"===s?a()("div",{style:oe.actionableCellWrapStyle},void 0,a()(ce.Z,{href:D,external:"title"!==T,style:oe.mobileLinkStyle},void 0,e.children)):"url"===T?c.createElement("div",{ref:x,style:{...oe.actionableCellWrapStyle,position:ne.length?"relative":void 0},onMouseMove:j,onMouseLeave:K,onContextMenu:f},ee||te?a()(Y.Z,{style:t,onClick:v,disabled:C},void 0,H&&D?a()(ce.Z,{href:D,metaHref:F,external:!0,onClick:e=>{e.stopPropagation(),G()}},void 0,e.children):e.children):a()(Y.Z,{style:t,onClick:v},void 0,e.children),a()(ye.t,{format:p,containerRef:x},void 0,ne)):c.createElement("div",{ref:x,style:{...oe.actionableCellWrapStyle,position:ne.length?"relative":void 0},onMouseMove:j,onMouseLeave:K,onContextMenu:f},ee?a()("div",{style:t,onClick:W},void 0,e.children):a()(Y.Z,{style:t,onClick:v,disabled:C},void 0,e.children),a()(ye.t,{format:p,containerRef:x},void 0,ne))}function Pe(e){window.__c={n:"ActionButton"};const{type:t,href:o,metaHref:i,actionButtonProps:r,handleActionButtonClick:s}=e,{icon:l,iconStyle:d,tooltip:p,caption:u}=r;return a()($.Z,{renderTooltip:()=>p,render:e=>c.createElement(ce.Z,n()({href:o,metaHref:i,external:"title"!==t,onClick:s},e),a()(G.Z,{ariaLabel:p,icon:l,iconStyle:d,hasBackground:!0,showShadow:!0,caption:u}))})}var xe=o(90559);function Be(e){window.__c={n:"BlockPropertyValueAutoIncrementIdProperty"};const{collectionStore:t,numberValue:o,propertySchema:i,format:r,shouldWrap:s}=e,l=(0,Ce.Fy)(),d=(0,J.VK)((()=>{const e=t.getRecordKeyStore();return null==e?void 0:e.getRecordKey()}),[t]),p=r===Se.C.Timeline,u=r===Se.C.Relation||r===Se.C.RelationSection,m=(0,Q.yK)((e=>({uniqueIdWrapperStyle:{minHeight:"100%",width:"100%",display:"flex",alignItems:p||u?"center":"baseline"},uniqueIdStyle:{...R.DG({device:l,format:r,shouldWrap:s}),color:e.lightTextColor,justifyContent:"flex-start",minHeight:"100%",width:"100%"}})),[l,r,s,p,u]);return a()(ke,{propertySchema:i,format:r,render:e=>c.createElement("div",n()({},e,{style:m.uniqueIdWrapperStyle}),a()(Ze,{style:m.uniqueIdStyle,prefixValue:d,numberValue:o}))})}function Ze(e){const{prefixValue:t,numberValue:o,style:i}=e,n={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",...i};if(void 0===o)return a()("div",{style:n},void 0,"...");{const e=xe.wf(t,o);return a()("div",{style:n},void 0,e)}}function Ee(e){window.__c={n:"BlockPropertyValueCardProperty"};const{onContextMenu:t,styleOverrides:o}=e,i=(0,Q.yK)((()=>({cardStyle:{paddingRight:10,fontSize:12,display:"flex",alignItems:"stretch",paddingBottom:2,...o}})),[o]);return a()("div",{style:i.cardStyle,onContextMenu:t},void 0,e.children)}function Re(e){window.__c={n:"BlockPropertyValueCheckboxProperty"};const{disabled:t,format:o,checked:i,propertySchema:r,onClick:s}=e,l=(0,Ce.Fy)(),d=(0,J.VK)((()=>R.km(o)),[o]),p=o===Se.C.Table,u=o===Se.C.Page,m=o===Se.C.Board,g=o===Se.C.GalleryView,h=m||g||R.fi(l,o),f=R.oF(l,o)||R.l6(l,o),v=!t&&!p&&!u,y=(0,Q.yK)((()=>({cardCheckboxWrapStyle:{display:"flex",alignItems:"center",...(m||g)&&{marginTop:-4,marginRight:4}},cardCheckboxNameStyle:{marginLeft:6}})),[m,g]);if(h||f){const t=r.name;return a()("div",{style:y.cardCheckboxWrapStyle},void 0,a()(le.Z,{checked:i,size:f?12:16,checkSize:f?8:12,disabled:!v,onClick:s,style:{...e.enablePointerEventsForInteractiveTypes&&{pointerEvents:"auto"}}}),a()("div",{style:y.cardCheckboxNameStyle},void 0,t))}return a()(ke,{propertySchema:r,format:o,render:t=>c.createElement(le.Z,n()({checked:i,disabled:!v,onClick:s,size:16,checkSize:12},t,{style:{...e.enablePointerEventsForInteractiveTypes&&{pointerEvents:"auto"}},tooltipHeader:d?c.createElement(c.Fragment,null,r.name):void 0}))})}function Ae(e){window.__c={n:"BlockPropertyValueDateProperty"};const{propertyValue:t,format:o,propertySchema:i,shouldWrap:n}=e,r=(0,Ce.Fy)(),s=o===Se.C.Board,l=o===Se.C.GalleryView,c=s||l,d=(0,J.VK)((()=>R.km(o)),[o]),p=o===Se.C.ListView,u=o===Se.C.Timeline,m=R.sH(o),g=p||u||m,h=(0,Q.yK)((e=>({dateStyle:{...R.DG({device:r,format:o,shouldWrap:n}),...g&&{fontSize:12,color:e.mediumTextColor},...c&&{marginTop:s?-4:0,marginRight:4,pointerEvents:"all"}}})),[r,o,n,c,s,g]),f=i.date_format||ee.sF,v=i.time_format||ee.c_;return a()(de.Z,{value:t,dateFormat:f,timeFormat:v,style:h.dateStyle,shortenDateAndRange:d,tooltipHeader:d?a()("div",{},void 0,i.name):void 0,tooltipPlacement:c?$.Z.Placement.Left:void 0})}var De=o(3779),Fe=o(51454),Le=o(31945),Ve=o(75173);function Ne(e){window.__c={n:"BlockPropertyValueEditableNumberProperty"};const{mouseStore:t,numberFormatButtonPopupStore:o,locked:i,disabled:n,property:r,schema:s,format:d,collectionStore:p,style:u,forceMouseEntered:m,shouldShowCopyButton:g,renderCopyButton:h,onClick:f,onContextMenu:v,disableNumberFormatEditButton:y}=e,b=(0,Ce.O7)(),{device:S}=b,k=d===Se.C.Board,C=d===Se.C.GalleryView,_=k||C,M=(0,J.VK)((()=>w.z4(m)?t.state.mouseEntered:m),[t,m]),T=(0,J.VK)((()=>o.state.open),[o]),I=(0,J.VK)((()=>Me.eD({collectionStore:p,collectionViewBlockStore:null==p?void 0:p.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[p]),P=d===Se.C.Table,x=d===Se.C.ListView,B=(0,c.useCallback)((()=>{t.setState({...t.state,mouseEntered:!0})}),[t]),Z=(0,c.useCallback)((()=>{t.setState({...t.state,mouseEntered:!1})}),[t]),E=(0,c.useCallback)((e=>{const{device:t}=b;t.isAndroid&&t.isPhone?e.preventDefault():v&&(0,L.ZP)({event:e,context:L.Af.EditorContextMenu,callback:()=>{v(e)}})}),[b,v]),A=(0,c.useCallback)((e=>{e.shiftKey||(0,L.ZP)({event:e,context:L.Af.EditorClick,callback:()=>{(0,N.X9)()||f()}})}),[f]),D=(0,c.useCallback)((()=>a()(Oe,{isTable:P,numberFormatButtonPopupStore:o,property:r,schema:s,collectionStore:p})),[P,o,r,s,p]),F=(0,c.useRef)(null),V=!n&&!y&&(T||M||S.isMobile)&&I,O=(0,Q.yK)((()=>({cellWrapperStyle:{...P?{display:"flex"}:{display:"flex",height:"100%",flex:"auto"},..._&&{height:void 0,paddingRight:32},...V&&{position:"relative"},...C&&{flex:"none",maxWidth:"calc(100% + 8px)"},...x&&{height:void 0,overflow:"hidden"}},cellStyle:{...u,...P?{textAlign:"right",paddingRight:R.AK.paddingRight}:_?{padding:4}:{paddingLeft:R.AK.paddingLeft}}})),[u,P,_,C,x,V]),U=(0,J.VK)((()=>l().compact([!P&&V&&D,g&&h]).map((e=>e()))),[P,h,D,g,V]);return c.createElement("div",{ref:F,style:O.cellWrapperStyle,onMouseMove:B,onMouseLeave:Z,onContextMenu:E},P&&V&&!i&&D(),P?a()("div",{style:O.cellStyle,onClick:A},void 0,e.children):a()(Y.Z,{style:O.cellStyle,onClick:f,disabled:n},void 0,e.children),a()(ye.t,{format:d,containerRef:F},void 0,U))}function Oe(e){window.__c={n:"NumberFormatEditButton"};const{styleOverrides:t,isTable:o,numberFormatButtonPopupStore:i,property:r,schema:s,collectionStore:l}=e,d=(0,Ce.O7)(),{device:p}=d,u=(0,Q.yK)((()=>({buttonStyle:{...o&&{position:"absolute",top:4,left:5,zIndex:Fe.XP},...t}})),[t,o]),m=(0,c.useCallback)((()=>{i.reset()}),[i]);return a()(Le.Z,{popupType:p.isMobile?Le.Z.PopupType.SlideUp:Le.Z.PopupType.Popup,alignmentToOrigin:Le.Z.Alignment.End,buttonPopupStore:i,style:{width:200},renderOrigin:e=>c.createElement(G.Z,n()({icon:De.Z.collectionNumberType,hasBackground:!0,showShadow:!0,style:u.buttonStyle},e)),render:()=>a()(Ve.Z,{collectionStore:l,property:r,schema:s,onClose:m})})}function Ue(e){window.__c={n:"BlockPropertyValueEditableRollupProperty"};const{mouseStore:t,schema:o,property:i,format:n,style:r,forceMouseEntered:s,renderEditButton:d,shouldShowCopyButton:p,renderCopyButton:u,enableCellButton:m,onClick:g,onContextMenu:h,disabled:f}=e,v=n===Se.C.Table,y=(0,Ce.O7)(),{device:b}=y,S=n===Se.C.Board,k=n===Se.C.GalleryView,C=S||k,_=n===Se.C.RelationSection,M=(0,J.VK)((()=>w.z4(s)?t.state.mouseEntered:s),[t,s]),T=(0,c.useRef)(null),I=(0,c.useCallback)((()=>{t.setState({...t.state,mouseEntered:!0})}),[t]),P=(0,c.useCallback)((()=>{t.setState({...t.state,mouseEntered:!1})}),[t]),x=(0,c.useCallback)((e=>{const{device:t}=y;t.isAndroid&&t.isPhone?e.preventDefault():h&&(0,L.ZP)({event:e,context:L.Af.EditorContextMenu,callback:()=>{h(e)}})}),[y,h]),B=(0,c.useCallback)((e=>{e.shiftKey||(0,L.ZP)({event:e,context:L.Af.EditorClick,callback:()=>{(0,N.X9)()||g()}})}),[g]),Z=o[i],E=Z&&"rollup"===Z.type&&Z.aggregation&&"show_unique"!==Z.aggregation,A=M&&!b.isMobile&&!f,D=l().compact([A&&d,p&&u]),F=(0,Q.yK)((()=>({cellWrapperStyle:{display:"flex",...n===Se.C.Page&&{flex:1,minWidth:0},...A&&{position:"relative"},...C&&{paddingRight:32},...k&&{maxWidth:"calc(100% + 8px)"}},cellStyle:{...r,...E&&(C||_?{paddingBottom:4,paddingRight:4,paddingTop:_?8:k?4:6,paddingLeft:4}:{paddingLeft:R.AK.paddingLeft})}})),[n,E,C,_,k,A,r]);return c.createElement("div",{ref:T,style:F.cellWrapperStyle,onMouseMove:I,onMouseLeave:P,onContextMenu:x},b.isMobile||m?v?a()("div",{style:F.cellStyle,onClick:B},void 0,e.children):a()(Y.Z,{style:{...F.cellStyle,...S&&{paddingTop:4}},onClick:g},void 0,e.children):a()("div",{style:F.cellStyle},void 0,e.children),a()(ye.t,{format:n,containerRef:T},void 0,D.map((e=>e()))))}var He=o(39068);function ze(e){const{property:t,schema:o,format:i,style:n,onClick:r,onContextMenu:s,disabled:l}=e,d=i===Se.C.Board,p=i===Se.C.GalleryView,u=i===Se.C.ListView,m=d||p,g=(0,Q.yK)((e=>({cellStyle:{...n,color:e.lightTextColor,...m&&{display:"flex",flexGrow:1,paddingRight:4,paddingBottom:4},...u&&{display:"flex",fontSize:12,paddingRight:4,paddingBottom:4},...p&&{paddingTop:2}},textStyle:{...u&&S.Z.textOverflowStyle}})),[m,p,u,n]),h=(0,Q.Fg)(),f=o[t],v=(0,c.useCallback)((e=>{e.shiftKey||(0,L.ZP)({event:e,context:L.Af.EditorClick,callback:()=>{(0,N.X9)()||r()}})}),[r]),y=(m||u)&&f?a()(k.FormattedMessage,{defaultMessage:"Add {propertyName}",id:"database.boardProperty.fillProperty",values:{propertyName:f.name},description:"Prompt to user to fill in an empty property"}):a()(We,{});return i===Se.C.Table?a()("div",{style:g.cellStyle,onClick:v,onContextMenu:s},void 0,y):a()(Y.Z,{style:g.cellStyle,onClick:r,onContextMenu:s,disabled:l},void 0,(m||u)&&f&&a()(He.ZP,{type:f.type,icon:f.icon,size:p||u?14:16,theme:h,style:{marginRight:8}}),a()("div",{style:g.textStyle},void 0,y))}const We=()=>(window.__c={n:"EmptyPropertyMessage"},a()(k.FormattedMessage,{defaultMessage:"Empty",id:"database.pageProperty.emptyTitle"}));var je=o(95538),Ke=o(81865);function Ye(e){window.__c={n:"BlockPropertyValueFileProperty"};const{links:t,store:o,format:i,propertySchema:r,shouldWrap:s}=e,l=(0,Ce.Fy)(),d=i===Se.C.Board,p=i===Se.C.GalleryView,u=d||p,m=(0,Q.yK)((e=>({fileStyle:{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:e.legacyDefaultSelectColor,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1,...(0,R.oF)(l,i)&&{height:14,display:"inline-flex"}},fileTokenWrapStyle:(0,R.hM)({device:l,format:i,isCard:u,shouldWrap:s}),fileImageStyle:{maxHeight:(0,R.oF)(l,i)||p?18:24,marginRight:6},fileTitleStyle:S.Z.textOverflowStyle})),[l,i,s,u,p]);return a()(ke,{propertySchema:r,format:i,render:e=>c.createElement("div",n()({style:m.fileTokenWrapStyle},e),t.map((t=>{const i=t.url,r=t.name;return je.SR({url:i})?c.createElement(Ke.Z,n()({key:i,url:i,isAuthenticated:!0,permissionRecord:o.pointer,width:20,render:(e,t)=>{if(t)return a()("img",{src:t,style:m.fileImageStyle},i)}},e)):c.createElement("div",n()({style:m.fileStyle},e,{key:i}),a()("span",{style:m.fileTitleStyle},void 0,r))})))})}var Ge=o(19511),Xe=o(65598);function qe(e){window.__c={n:"BlockPropertyValueDiscussionIndicator"};const{store:t,disabled:o}=e,i=(0,J.VK)((()=>Xe.Xp(t,{recursivelyLoadAllDiscussions:!1})),[t],{useDeepEqual:!0}),n=function(e){return(0,Q.yK)((t=>({iconWrap:{display:"inline-flex",alignItems:"center",color:t.lightTextColor,fontWeight:S.Z.fontWeight.semibold,fontSize:12,paddingLeft:10,paddingRight:e?10:0},icon:{width:14,height:14,marginRight:4,fill:t.mediumIconColor}})),[e])}(o);return i<1?c.createElement(c.Fragment,null):a()("div",{style:n.iconWrap},void 0,De.Z.speechBubble(n.icon),i)}var $e=o(64434),Je=o(24677),Qe=o(98104),et=o(75079),tt=o(17311);function ot(){return(0,Q.yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4px 6px",height:24,fontWeight:S.Z.fontWeight.medium,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,background:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,borderRadius:tt.Z.borderRadius,zIndex:Fe.XP,marginLeft:10,marginRight:10},buttonHoveredStyle:{background:e.whiteButtonHoveredBackground},buttonPressedStyle:{background:e.whiteButtonPressedBackground},icon:{width:16,height:16}})),[])}function it(e){window.__c={n:"BlockPropertyValueTitleEditButton"};const{store:t}=e,o=(0,Ce.O7)(),i=(0,B.DK)(),r=(0,c.useCallback)((()=>{const e=t.getBlockTitleStore();Je.eP({environment:o,store:t}),Qe.NX({store:e}),$e.Z5({store:t}),I.trackCollectionItemEditModeEnter(o,"list_item_edit_mode_enter",{...(0,et.Pn)(i),block_id:t.id,from:"click",view_type:"list"})}),[t,o,i]),s=ot();return a()($.Z,{renderTooltip:()=>a()(k.FormattedMessage,{defaultMessage:"Edit",id:"collectionViewItem.edit.tooltip",description:"Tooltip on edit button that prompts user to edit the collection view item (title and other properties)"}),render:e=>c.createElement(Y.Z,n()({style:s.button,hoveredStyle:s.buttonHoveredStyle,pressedStyle:s.buttonPressedStyle,onClick:r},e),De.Z.pencil(s.icon))})}var nt=o(9953),rt=o(30149),at=o(31278);function st(e){const{store:t,disabled:o}=e,i=(0,Ce.O7)(),{icon:n,isEmptyPage:r,recordTable:s,blockType:l,hasError:d}=(0,J.VK)((()=>{var e;return{icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),recordTable:null===(e=t.getIconStore())||void 0===e?void 0:e.table,blockType:t.getType(),hasError:t.hasError()}}),[t],{useDeepEqual:!0}),p=(0,c.useCallback)((e=>{const o=t.getIconStore();o&&rt.createAndCommit({userAction:"BlockPropertyValueTitleIcon.handleRecordIconChange",environment:i,perform:t=>{nt.sO({store:o,value:e,transaction:t})}})}),[i,t]),u=(0,Q.yK)((e=>({icon:{marginLeft:2,marginRight:6},errorIcon:{width:18,marginLeft:4,marginRight:6,fill:e.accentColors.orange[500]}})),[]),m=a()(at.Z,o?{disabled:!0,icon:n,isEmptyPage:r,size:22,style:u.icon}:{disabled:!1,bucket:"secure",store:t,icon:n,isEmptyPage:r,size:22,iconLoggingData:{collection_id:e.collectionId,recordTable:s,source:e.iconLoggingSource,block_type:l},style:u.icon,onChange:p});return d?De.Z.warning(u.errorIcon):m}var lt=o(5978),ct=o(88923);function dt(e){const{store:t,handleOpenPeekPage:o}=e,i=(0,B.DK)(),r=(0,J.VK)((()=>null==i?void 0:i.collectionViewStore()),[i]),s=(0,Ce.O7)(),{isAlreadyOpenInPeek:l,peekModeProps:d}=(0,J.VK)((()=>{const e=void 0!==r?Me.kr(r):"full_page";return{isAlreadyOpenInPeek:ct.default.state.open&&ct.default.state.target.id===t.id,peekModeProps:(0,R.X9)(e,!1)}}),[t,r],{useDeepEqual:!0}),p=(0,c.useCallback)((()=>{const{mainEditorCurrentBlockStore:e}=O.default.state;return Me.mb({store:t,mainEditorCurrentBlockStore:e,collectionContextStore:i,fullyQualified:!1})}),[t,i]),u=ot();return l?c.createElement(c.Fragment,null):a()($.Z,{renderTooltip:()=>d.tooltip,render:e=>c.createElement(Y.Z,n()({style:u.button,hoveredStyle:u.buttonHoveredStyle,pressedStyle:u.buttonPressedStyle,onClick:()=>{const e=p();e&&(o&&o(),lt.navigate({environment:s,url:e}))}},e),d.icon(u.icon))})}var pt=o(52821),ut=o(65187);function mt(e){window.__c={n:"BlockPropertyValueTitleText"};const{store:t,isEditing:o,onTab:i,onUntab:n}=e,r=(0,Ce.O7)(),s=(0,J.VK)((()=>(0,pt.JI)(t)),[t],{useDeepEqual:!0}),l=(0,c.useCallback)((e=>{"Enter"!==(null==e?void 0:e.key)&&$e.IH({store:t})}),[t]),d=(0,c.useCallback)((()=>{Ge.Z.setState({isActive:!1}),Qe.ZH(r),Je.Ys({environment:r,store:t})}),[t,r]),p=(0,k.defineMessages)({untitledBlock:{defaultMessage:"Untitled",id:"collectionViewItemTitle.untitledBlock",description:"Default empty text for collection view item with no title"},typeAName:{defaultMessage:"Type a name…",id:"collectionViewItemTitle.itemName.placeholder",description:"Placeholder text when editing the title of a collection view item"}}),u=(0,Q.yK)((e=>({text:{fontWeight:S.Z.fontWeight.medium,borderBottom:`1px solid ${e.tableDividerColor}`,lineHeight:1.3,width:"auto",pointerEvents:o?void 0:"none",cursor:o?"text":void 0,...!o&&S.Z.textOverflowStyle}})),[o]);return a()(ut.Z,{store:s,disabled:!o,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,disableShiftEnter:!0,onEnter:d,onEsc:d,onTab:i,onUntab:n,onChange:l,placeholder:o?V.default.formatMessage(p.typeAName):V.default.formatMessage(p.untitledBlock),style:u.text,disableSelectAllBlocks:!0,pasteBehavior:"inline"})}function gt(e){window.__c={n:"BlockPropertyValueListTitleProperty"};const{store:t,disabled:o,forceMouseEntered:i,handleOpenPeekPage:n,collectionContextStore:r,onTab:s,onUntab:l}=e,d=(0,Ce.Fy)(),p=(0,J.VK)((()=>{const e=Ge.Z.state;return Boolean(e.isActive&&e.store.id===t.id)}),[t]),u=(0,J.VK)((()=>{var e;return null==r||null===(e=r.collectionStore())||void 0===e?void 0:e.id}),[r]),m=function(e){return(0,Q.yK)((()=>({titleWrap:{display:"flex",marginRight:"auto",minWidth:e.isMobile?0:240,alignItems:"center",maxWidth:"70%"},buttonWrap:{minWidth:35}})),[e])}(d),g=Boolean(!o&&i&&!d.isMobile);return a()(c.Fragment,{},void 0,a()(st,{store:t,disabled:o,iconLoggingSource:"collection_list_view",collectionId:u}),a()("div",{style:m.titleWrap},void 0,a()(mt,{store:t,isEditing:p,onTab:s,onUntab:l}),a()(qe,{store:t,disabled:o}),a()("div",{style:m.buttonWrap},void 0,g&&(p?a()(dt,{store:t,handleOpenPeekPage:n}):a()(it,{store:t})))))}var ht=o(6287),ft=o(75081),vt=o(98165),yt=o(86176),bt=o(93686);function St(){return window.__c={n:"LocationPathDivider"},a()("span",{style:{padding:"0 4px"}},void 0,"/")}function wt(e){window.__c={n:"CollectionInTeamLocation"};const{team:t,isOnlyCollectionInTeam:o,collection:i}=e,n=(0,J.VK)((()=>t.getName()),[t]),r=(0,J.VK)((()=>{const e=vt.uJ(i).slice(1);return e.reverse(),e}),[i]),s=(0,J.VK)((()=>i.getName()),[i]),l=(0,Q.yK)((e=>({recordPathTextStyle:{color:e.accentColors.gray[100]}})),[]);return a()("div",{style:{display:"flex",flexDirection:"row",width:"fit-content"}},void 0,a()($.Z,{renderTooltip:()=>a()("span",{},void 0,n),disableTooltip:o,render:e=>c.createElement("div",e,a()(bt.p,{style:{marginRight:4},store:t,disabled:!0,size:20},"icon"))}),o&&a()("span",{},void 0,n),!o&&c.createElement(c.Fragment,null,r.length>1&&c.createElement(c.Fragment,null,a()($.Z,{renderTooltip:()=>a()("span",{},void 0,a()(yt.Z,{store:i,hideTeam:!0,textColor:l.recordPathTextStyle.color})),render:e=>c.createElement("span",e,a()(St,{}),a()("span",{},void 0,"..."))})),a()(St,{}),a()("span",{},void 0,s)))}const kt=function(e){window.__c={n:"CollectionLocation"};const{collectionContextStore:t,parentStore:o,collectionForLocation:i}=e,n=(0,Ce.O7)(),r=(0,J.VK)((()=>O.default.state.currentSpaceStore),[]),s=(0,J.VK)((()=>t.remoteCollectionIds.state.map((e=>W.NW.createChildStore(o,{table:ht.v,id:e})))),[t.remoteCollectionIds,o]),l=(0,J.VK)((()=>{if(r)return(0,ft.x1)({environment:n,typedCollections:s,spaceStore:r})}),[s,n,r]),c=(0,J.VK)((()=>vt.VP(i)),[i]),d=(0,J.VK)((()=>{var e;return Boolean(c&&1===(null==l||null===(e=l.teamDatabases[c.id])||void 0===e?void 0:e.length))}),[null==l?void 0:l.teamDatabases,c]),p=Boolean(null==l?void 0:l.privateDatabases.some((e=>e.id===i.id))),u=Boolean(null==l?void 0:l.otherDatabases.some((e=>e.id===i.id))),m=(0,J.VK)((()=>i.getName()),[i]),g=(0,Q.yK)((e=>({button:{color:e.accentColors.gray[800]},chevronRight:{width:12,height:"auto",color:e.accentColors.gray[200]},shareTypeIndicatorIcon:{width:20,height:20,color:e.accentColors.gray[400],padding:2,backgroundColor:e.accentColors.gray[75],borderRadius:2}})),[]);return a()(Y.Z,{hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},style:g.button,onClick:()=>{const e=i.getParentBlockStore();e&&lt.navigateToBlock({environment:n,store:e})}},void 0,c&&a()(wt,{isOnlyCollectionInTeam:d,team:c,collection:i}),(p||u)&&a()("div",{style:{display:"flex",flexDirection:"row",columnGap:4}},void 0,p&&De.Z.lockedFilled(g.shareTypeIndicatorIcon),u&&De.Z.typesPerson(g.shareTypeIndicatorIcon),De.Z.chevronRight(g.chevronRight),a()("span",{},void 0,m)))};function Ct(e){window.__c={n:"BlockPropertyValueLocationProperty"};const{store:t,collectionContextStore:o}=e,i=(0,J.VK)((()=>t.getParentCollectionStore()),[t]);return i?a()(kt,{collectionContextStore:o,parentStore:t,collectionForLocation:i}):null}const _t={title:0,text:4,number:4,date:4,created_time:4,last_edited_time:4,url:6,email:6,phone_number:6,select:0,multi_select:0,person:0,created_by:0,last_edited_by:0,relation:0,checkbox:4,file:4,formula:4};function Mt(e){window.__c={n:"BlockPropertyValueMobileCalendarProperty"};const{type:t}=e;return a()("div",{style:{paddingBottom:t&&_t[t],fontSize:14}},void 0,e.children)}var Tt=o(22084);function It(e){window.__c={n:"BlockPropertyValueMultiSelectProperty"};const{propertyValue:t,format:o,propertySchema:i,shouldWrap:r}=e,s=(0,Ce.Fy)(),l=o===Se.C.Page,d=o===Se.C.Board,p=o===Se.C.GalleryView,u=d||p;return a()(ke,{propertySchema:i,format:o,render:e=>{const d=i.options||[];return c.createElement("div",n()({style:R.Vs({device:s,propertySchema:i,format:o,shouldWrap:r})},e),t.map((e=>a()(Tt.Z,{value:e,options:d,showRemoveButton:!1,format:R.qP(s,o),isSingle:!1,shouldShrink:l||u||R.fi(s,o)||R.sH(o)},e))))}})}function Pt(e){window.__c={n:"BlockPropertyValueNumberProperty"};const{numberValue:t,propertySchema:o,format:i,shouldWrap:r}=e,s=(0,Ce.Fy)(),l=(0,J.VK)((()=>!R.km(i)),[i]),d=(0,Q.yK)((()=>({numberWrapperStyle:{minHeight:"100%",width:"100%",display:"flex",alignItems:"center"},numberStyle:{...R.DG({device:s,format:i,shouldWrap:r}),justifyContent:i===Se.C.Table?"flex-end":"flex-start",minHeight:"100%",width:"100%"}})),[s,i,r]),p=o.number_format||re.dk,u=R.X7({numberValue:t,numberFormat:p,numberShowAs:o.show_as});return a()(ke,{propertySchema:o,format:i,render:e=>c.createElement("div",n()({},e,{style:d.numberWrapperStyle}),a()(pe.b,{style:d.numberStyle,barStyle:R.M7(i),numberValue:t,numberFormat:p,numberShowAs:o.show_as,shouldRenderTooltip:l})),additionalTooltipText:u})}var xt=o(66897),Bt=o(84619),Zt=o(92864),Et=o(23049);function Rt(e){window.__c={n:"BlockPropertyValuePersonProperty"};const{actorPointers:t,propertySchema:o,format:i,shouldWrap:n,getRecordValue:r}=e,s=(0,Ce.Fy)(),d=i===Se.C.Board,p=i===Se.C.GalleryView,u=d||p,m=(0,J.VK)((()=>R.km(i)),[i]),g=(0,Q.yK)((e=>({tokenWrapStyle:R.Vs({device:s,propertySchema:o,format:i,shouldWrap:n})||{},userInnerTooltipStyle:{color:e.mediumInvertedTextColor}})),[s,o,i,n]),h=i===Se.C.Page,f=(0,J.VK)((()=>l().compact(t.slice(0,R.h6).map((e=>(0,xt.Hl)({pointer:e,getRecordValue:r}))))),[t,r]),v=R.qP(s,i);let y=f;return v===Bt.l.Inline&&(y=f.slice().reverse()),a()("div",{style:g.tokenWrapStyle},void 0,y.map((e=>{var t;const i=V.default.getIntl(),n=a()(Zt.ZP,{actor:e,showRemoveButton:!1,format:v,isSingle:!1,tooltipHeader:m?c.createElement(c.Fragment,null,o.name):void 0},null===(t=e.value)||void 0===t?void 0:t.id);return u?a()($.Z,{renderTooltip:()=>{var t;return c.createElement(c.Fragment,null,a()("div",{},void 0,o.name),(0,xt.$4)(i,e),a()("br",{}),"notion_user"===e.table&&a()("span",{style:g.userInnerTooltipStyle},void 0,null===(t=e.value)||void 0===t?void 0:t.email))},placement:$.Z.Placement.Left,alignment:$.Z.Alignment.Start,render:e=>c.createElement("div",e,n)}):n})),t.length>R.h6&&a()(Et.Z,{count:t.length-R.h6,format:v,fixedHeight:!h,isCompact:!0}))}var At=o(34299),Dt=o(16187),Ft=o(76725),Lt=o(61784),Vt=o(21202),Nt=o(70203),Ot=o(96310);class Ut extends d.Z{constructor(){super(...arguments),this.renderCommaSeparator=()=>a()("span",{style:{marginRight:6,marginLeft:2}},void 0,","),this.renderSpaceSeparator=()=>a()("span",{style:{marginRight:8}}),this.intersperseTokens=(e,t)=>{const o=e.length;return e.map(((e,i)=>a()("div",{style:{display:"flex",flexWrap:"nowrap"}},`${e}-${i}`,e,o===i+1?void 0:t)))},this.getTextValue=()=>l().flatten(this.getTextTokens())}willMountOrUpdate(){this.environment.KatexStore.loadIfNeeded(this.getTextValue)}renderComponent(){const e=this.getPropertySchema();if(e){if("title"===e.type)return this.renderTitleTokens();if("text"===e.type)return this.renderTextTokens();if("relation"===e.type)return this.renderRelationTokens(e);if("checkbox"===e.type)return this.renderCheckboxTokens();if("select"===e.type)return this.renderSelectTokens(e);if("multi_select"===e.type)return this.renderMultiSelectTokens(e);if("status"===e.type)return this.renderStatusTokens(e);if("person"===e.type)return this.renderPersonTokens(e);if("number"===e.type)return this.renderNumberTokens(e);if("date"===e.type)return this.renderDateTokens(e);if("file"===e.type)return this.renderFileTokens();if("url"===e.type||"email"===e.type||"phone_number"===e.type)return this.renderUrlTokens(e.type);if("created_by"===e.type)return this.renderCreatedByTokens();if("created_time"===e.type)return this.renderCreatedTimeTokens();if("last_edited_by"===e.type)return this.renderLastEditedByTokens();if("last_edited_time"===e.type)return this.renderLastEditedTimeTokens();if("formula"===e.type)return this.renderFormulaTokens(e);if("rollup"!==e.type)return"auto_increment_id"===e.type?this.renderAutoIncrementIdTokens():void 0}}renderTitleTokens(){const{stores:e}=this.props,t=[];for(const o of e)o.isDefined()&&t.push(a()(me.Z,{format:this.getTokenFormat(),blockId:o.id,isSingle:!1,parentStore:this.props.parentStore,clickTitleBehavior:"peek"},o.id));return a()(c.Fragment,{},void 0,t)}renderTextTokens(){const{parentStore:e}=this.props,t=this.getTextTokens(),o=l().flatten((0,Ft.Z)(t,(()=>(0,Nt.TP)(", ")))),i=(0,Nt.Zx)(o);return a()("span",{style:{...this.getBaseTextStyle(),...!this.props.wrap&&{whiteSpace:"nowrap"}}},void 0,D.IY({environment:this.environment,textValue:{value:i,spaceId:this.props.blockSpaceId},parentStore:e,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:(0,F.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]}))}renderUrlTokens(e){const{stores:t,property:o}=this.props,i=[],n=new Set;for(const r of t){const t=r.getPropertyValue(o),s=u.zB(t),l=u.Hw(e,t),c=a()(ce.Z,{href:l,external:!0,onClick:L.Wi},void 0,a()("span",{style:this.getLinkTextStyle()},void 0,s||""));this.addToken(c,s,i,n)}return a()(c.Fragment,{},void 0,this.intersperseTokens(i,this.renderCommaSeparator()))}renderNumberTokens(e){const{stores:t,property:o}=this.props,i=e&&"number"===e.type&&e.number_format?e.number_format:re.dk,n=[],r=new Set;for(const s of t){const e=s.getPropertyValue(o),t=u.VY(e);if(!l().isNaN(t)&&!w.z4(t)){const e=a()("span",{style:this.getBaseTextStyle()},s.id,re.uf(t,i,V.default.getIntl()));this.addToken(e,t,n,r)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(n,this.renderCommaSeparator()))}renderCheckboxTokens(){const{stores:e,property:t}=this.props,o=[],i=new Set;for(const n of e){const e=n.getPropertyValue(t),r=u.Ml(e),s=a()("div",{style:{marginTop:Ot.Zv/4,display:"flex",alignItems:"center"}},void 0,a()(le.Z,{checked:r,disabled:!0,size:this.isCalendar()?12:16,checkSize:this.isDesktopCalendar()?8:12},n.id));this.addToken(s,r,o,i)}return a()(c.Fragment,{},void 0,this.intersperseTokens(o,this.renderSpaceSeparator()))}renderSelectTokens(e){const{stores:t,property:o}=this.props,i=e.options||[],n=[],r=new Set;for(const s of t){const e=s.getPropertyValue(o),t=u.Sj(e,i);if(t){const e=a()(Tt.Z,{value:t,options:i,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()},s.id);this.addToken(e,t,n,r)}}return a()(c.Fragment,{},void 0,n)}renderMultiSelectTokens(e){const{stores:t,property:o}=this.props,i=e.options||[],n=[],r=new Set;for(const s of t){const e=s.getPropertyValue(o),t=u.uP(e,i);for(const o of t){const e=a()(Tt.Z,{value:o,options:i,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar()},`${s.id}-${o}`);this.addToken(e,o,n,r)}}return a()(c.Fragment,{},void 0,n)}renderStatusTokens(e){const{stores:t,property:o}=this.props,i=e.groups??[],n=e.options??[],r=[],s=new Set;for(const l of t){const t=l.getPropertyValue(o),c=u.ZG(t,e),d=n.find((e=>e.value===c)),p=d&&i.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(d.id)}));if(c){const e=a()(Tt.Z,{value:c,options:n,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1,shouldShrink:this.isPage()||this.isBoard()||this.isMobileCalendar(),isRound:!0,showColoredDot:u.JR(d,p)},`${l.id}-${c}`);this.addToken(e,c,r,s)}}return a()(c.Fragment,{},void 0,r)}renderPersonTokens(e){const{stores:t,property:o}=this.props,i=[],n=new Set;for(const r of t){const t=r.getPropertyValue(o),s=u.DW({textValue:t,propertySchema:e,blockCreatorPointer:u.I1(r.getCreatedById(),r.getCreatedByTable())});for(const e of s){const t=(0,xt.Hl)({pointer:e,getRecordValue:this.getRecordValue});if(t.value){const o=a()(Zt.ZP,{actor:t,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1},`${r.id}-${e.id}`);this.addToken(o,e.id,i,n)}}}return a()(c.Fragment,{},void 0,i)}renderRelationTokens(e){const{stores:t,property:o}=this.props,i=[],n=new Set;for(const r of t){const t=r.getPropertyValue(o),s=u.j$({relationValue:u.rq(t),getRecordValue:this.getRecordValue,propertySchema:e});for(const o of s){const t=W.G.createChildStore(r,{table:Vt.iU,id:o.id}).getParentId();if(t&&t===p.F0(e)){const e=a()(me.Z,{format:this.getTokenFormat(),blockId:o.id,isSingle:!1,parentStore:this.props.parentStore},`${r.id}-${o.id}`);this.addToken(e,o.id,i,n)}}}return a()(c.Fragment,{},void 0,i)}renderDateTokens(e){const{stores:t,property:o}=this.props,i=e&&e.time_format?e.time_format:ee.c_,n=e&&e.date_format?e.date_format:ee.sF,r=[],s=new Set;for(const l of t){const e=l.isExternalObjectInstancePageBlockStore(),t=l.getPropertyValue(o),c=u.Gl(t);if(t){const t=a()(de.Z,{value:c,dateFormat:n,timeFormat:i,style:this.getBaseTextStyle(),displayInUserTimezone:e},l.id),o=c?(0,Lt.ZV)({value:c,date_format:n,time_format:i,userTimeZone:(0,h.r)(),allowRelativeDates:!0,intl:this.props.intl,displayInUserTimezone:e}):"";this.addToken(t,o,r,s)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(r,this.renderCommaSeparator()))}renderFileTokens(){const{stores:e,property:t}=this.props,o=[],i=new Set;for(const n of e){const e=n.getPropertyValue(t),r=u.g(e);for(const t of r){const e=t.name,r=t.url,s=je.SR({url:r})?a()(Ke.Z,{url:r,isAuthenticated:!0,permissionRecord:n.pointer,width:20,render:(e,t)=>{if(t)return a()("img",{src:t,style:this.getFileImageStyle()},r)}},`${n.id}-${r}`):a()("div",{style:{...this.getFileStyle(),...this.isDesktopCalendar()&&{height:14,display:"inline-flex"}}},`${n.id}-${r}`,a()("span",{style:Ut.fileTitleStyle},void 0,e));this.addToken(s,r,o,i)}}return a()(c.Fragment,{},void 0,o)}renderFormulaTokens(e){const{stores:t,property:o,schema:i}=this.props,{formula:n,number_format:r}=e,s=n?n.result_type:null,d=r||re.dk,p=[],u=new Set;for(const c of t){const e=c.getValue();let t;if(e){const r=(0,oe.AH)({property:o,schema:i,block:e,userTimeZone:(0,h.r)(),getRecordValue:this.getRecordValue,depth:0,intl:V.default.getIntl(),resultCache:{}});if("checkbox"===s&&"boolean"==typeof r)t=a()(le.Z,{checked:r,disabled:!0,size:this.isDesktopCalendar()?12:16,checkSize:this.isDesktopCalendar()?8:12},c.id);else if("number"===s&&w.hj(r))l().isNaN(r)||w.z4(r)||(t=a()("span",{style:this.getBaseTextStyle()},c.id,re.uf(r,d,V.default.getIntl())));else if("date"===s&&ee.U3(r)){let e;(0,ie.pV)(n).find((t=>{const o=i[t];return!(!o||"date"!==o.type)&&(e=o,!0)})),t=a()(de.Z,{value:r,dateFormat:e&&e.date_format?e.date_format:ee.sF,timeFormat:e&&e.time_format?e.time_format:ee.c_,style:this.getBaseTextStyle()},c.id)}else"text"===s&&"string"==typeof r&&(t=a()("div",{style:this.getBaseTextStyle()},c.id,r?r.toString():null));t&&this.addToken(t,r&&r.toString()||"",p,u)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(p,"checkbox"===s?this.renderSpaceSeparator():this.renderCommaSeparator()))}renderCreatedTimeTokens(){const{stores:e}=this.props,t=[],o=new Set;for(const i of e){const e=i.getCreatedTime();if(e){const n=f.CQ(e,(0,h.r)()),r=a()(de.Z,{value:n,dateFormat:ee.sF,timeFormat:"h:mm A",style:this.getBaseTextStyle()},i.id);this.addToken(r,e,t,o)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(t,this.renderCommaSeparator()))}renderCreatedByTokens(){const{stores:e}=this.props,t=[],o=new Set;for(const i of e){const e=i.getCreatedById(),n=i.getCreatedByTable();if(!n||!e)return;const r=(0,xt.Hl)({pointer:{table:n,id:e},getRecordValue:this.getRecordValue});if(r.value){const n=a()(Zt.ZP,{actor:r,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1},`${i.id}-${e}`);this.addToken(n,e,t,o)}}return a()(c.Fragment,{},void 0,t)}renderLastEditedTimeTokens(){const{stores:e}=this.props,t=[],o=new Set;for(const i of e){const e=i.getLastEditedTime();if(e){const n=f.CQ(e,(0,h.r)()),r=a()(de.Z,{value:n,dateFormat:ee.sF,timeFormat:"h:mm A",style:this.getBaseTextStyle()},i.id);this.addToken(r,e,t,o)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(t,this.renderCommaSeparator()))}renderLastEditedByTokens(){const{stores:e}=this.props,t=[],o=new Set;for(const i of e){const e=i.getLastEditedById(),n=i.getLastEditedByTable();if(!n||!e)return;const r=(0,xt.Hl)({pointer:{table:n,id:e},getRecordValue:this.getRecordValue});if(r.value){const n=a()(Zt.ZP,{actor:r,showRemoveButton:!1,format:this.getTokenFormat(),isSingle:!1},`${i.id}-${e}`);this.addToken(n,e,t,o)}}return a()(c.Fragment,{},void 0,t)}renderAutoIncrementIdTokens(){var e;const{stores:t,property:o,targetCollectionStore:i}=this.props,n=null==i||null===(e=i.getRecordKeyStore())||void 0===e?void 0:e.getRecordKey(),r=[],s=new Set;for(const l of t){const e=l.getPropertyValue(o),t=u.ah(e),i=(0,xe.wf)(n,t);if(i){const e=a()("span",{style:this.getBaseTextStyle()},l.id,i);this.addToken(e,t,r,s)}}return a()(c.Fragment,{},void 0,this.intersperseTokens(r,this.renderCommaSeparator()))}addToken(e,t,o,i){const{unique:n}=this.props;n&&i.has(t)||o.push(e),i.add(t)}getPropertySchema(){const{property:e,schema:t}=this.props;return t[e]}isTable(){const{format:e}=this.props;return e===Se.C.Table}isBoard(){const{format:e}=this.props;return e===Se.C.Board}isCalendar(){const{format:e}=this.props;return e===Se.C.Calendar}isDesktopCalendar(){const{device:e}=this.environment,{format:t}=this.props;return!e.isMobile&&t===Se.C.Calendar}isMobileCalendar(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Se.C.Calendar}isPage(){const{format:e}=this.props;return e===Se.C.Page}isListView(){const{format:e}=this.props;return e===Se.C.ListView}isTimelineView(){const{format:e}=this.props;return e===Se.C.Timeline}isMobileGallery(){const{device:e}=this.environment,{format:t}=this.props;return e.isMobile&&t===Se.C.GalleryView}isDesktopGallery(){const{device:e}=this.environment,{format:t}=this.props;return!e.isMobile&&t===Se.C.GalleryView}getTokenFormat(){return this.isMobileCalendar()?Bt.l.Medium:this.isDesktopCalendar()||this.isDesktopGallery()?Bt.l.ExtraSmall:this.isBoard()?Bt.l.Small:this.isListView()||this.isTimelineView()||this.isMobileGallery()?Bt.l.Inline:Bt.l.Medium}get getRecordValue(){return this.props.parentStore.getRecordValue}getTextTokens(){const{stores:e,property:t}=this.props,o=[];for(const i of e){const e=i.getPropertyValue(t);e&&o.push(e)}return o}getBaseTextStyle(){return this.isTable()?{lineHeight:1.5,whiteSpace:"normal",wordBreak:"normal",pointerEvents:"none"}:this.isDesktopCalendar()?{lineHeight:1.2,...S.Z.textOverflowStyle}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}}getLinkUnderlineStyle(){return{backgroundImage:`linear-gradient(\n\t\t\tto right,\n\t\t\t${this.theme.darkDividerColor} 0%,\n\t\t\t${this.theme.darkDividerColor} 100%\n\t\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}getLinkTextStyle(){return{...this.getBaseTextStyle(),...this.getLinkUnderlineStyle(),...!this.props.wrap&&{whiteSpace:"nowrap"}}}getFileImageStyle(){return{maxHeight:this.isDesktopCalendar()?18:24,marginRight:6}}getFileStyle(){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",maxWidth:120,height:18,borderRadius:3,background:this.theme.legacyDefaultSelectColor,paddingLeft:6,paddingRight:6,overflow:"hidden",marginRight:6,marginTop:3,marginBottom:3,paddingBottom:1}}}Ut.displayName="BlockRollupTokens",Ut.cellHeight=32,Ut.fileTitleStyle={...S.Z.textOverflowStyle};const Ht=(0,k.injectIntl)(Ut);function zt(e){window.__c={n:"BlockPropertyValueRollupProperty"};const{block:t,store:o,property:i,schema:r,propertySchema:s,format:d,collectionStore:p,shouldWrap:m}=e,g=(0,Ce.Fy)(),f=(0,B.Y$)(),y=d===Se.C.Board,b=d===Se.C.GalleryView,S=y||b,w=(0,J.VK)((()=>At.gT({property:i,schema:r,getRecordValue:p.getRecordValue})),[i,r,p]),k=(0,J.VK)((()=>t&&At.O0({block:t,property:i,schema:r,getRecordValue:o.getRecordValue,userTimeZone:(0,h.r)(),depth:0,intl:V.default.getIntl()})),[t,i,r,o]),C=(0,J.VK)((()=>t&&s.relation_property&&w&&u.j$({relationValue:u.rq(u.wS(t,s.relation_property)),getRecordValue:o.getRecordValue,propertySchema:w.relationPropertySchema})),[t,s,o,w]),_=(0,J.VK)((()=>{if(!C||!w)return;return C.map((e=>W.G.createChildStore(o,e))).filter((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)===w.targetCollectionValue.id}))}),[C,o,w]),M=(0,J.VK)((()=>!R.km(d)),[d]),T=R.Vs({device:g,propertySchema:s,format:d,shouldWrap:m}),I=R.hM({device:g,format:d,isCard:S,shouldWrap:m}),P=d===Se.C.Table,x=d===Se.C.Page,Z=(0,J.VK)((()=>{var e;const t=(null==w||null===(e=w.targetPropertySchema)||void 0===e?void 0:e.type)||"relation";return{title:T,number:R.Br,file:I,text:R.Br,checkbox:{paddingBottom:x?Ot.Zv/4:0},person:T,url:R.Br,email:R.Br,phone_number:R.Br,select:T,multi_select:T,status:T,date:R.Br,created_by:T,created_time:R.Br,last_edited_by:T,last_edited_time:R.Br,relation:T,rollup:void 0,button:void 0,formula:R.Br,auto_increment_id:R.Br}[t]}),[I,x,T,w]),E=(0,Q.yK)((()=>({numberRollupStyle:{justifyContent:P?"flex-end":"flex-start",minHeight:"100%",width:"100%"},numberRenderInnerStyle:{...R.DG({device:g,format:d,shouldWrap:m}),minHeight:"100%",width:"100%",display:"flex",alignItems:"center",...S&&{pointerEvents:"all"}},nonNumberRollupStyle:{...Z,display:"flex",flexWrap:m||y?"wrap":"nowrap"}})),[g,d,S,y,P,Z,m]);if(!(s.relation_property&&t&&w&&C&&_))return c.createElement(c.Fragment,null);const{targetCollectionSchema:A,targetProperty:D,targetPropertySchema:F}=w;if(s.aggregation&&"show_unique"!==s.aggregation){if(void 0===k)return c.createElement(c.Fragment,null);const e=(0,Dt.SD)(s.aggregation,"formula"===F.type||"number"===F.type?F.number_format:void 0);let t,o;if(e){const i=void 0===k.value||"number"!=typeof k.value?void 0:l().round(k.value,3);t=a()(pe.b,{numberFormat:e,numberValue:i,numberShowAs:s.show_as,style:E.numberRollupStyle,barStyle:R.M7(d),shouldRenderTooltip:M}),o=R.X7({numberValue:i,numberFormat:e,numberShowAs:s.show_as})}else t=(0,Dt.Ol)({numberFormat:e,aggregationType:s.aggregation,value:k,userTimeZone:(0,h.r)(),roundDecimal:3});const i=e=>c.createElement("span",n()({style:E.numberRenderInnerStyle},e),t);return a()(ke,{propertySchema:s,format:d,render:i,additionalTooltipText:o})}return a()(ke,{propertySchema:s,format:d,render:e=>{if(!f)return c.createElement(c.Fragment,null);const i=f.collectionViewBlockStore(),r=w.relationPropertySchema.collection_pointer,l=r&&i?W.NW.createChildStore(i,r):void 0;return c.createElement("div",n()({style:E.nonNumberRollupStyle},e),a()(Ht,{stores:_,unique:Boolean("show_unique"===s.aggregation),property:D,schema:A,format:d,parentStore:o,wrap:m,blockSpaceId:(0,v.CG)(t.space_id),targetCollectionStore:l}))}})}function Wt(e){window.__c={n:"BlockPropertyValueSelectProperty"};const{propertyValue:t,format:o,propertySchema:i,shouldWrap:r}=e,s=(0,Ce.Fy)(),l=o===Se.C.Page,d=o===Se.C.Board,p=o===Se.C.GalleryView,u=d||p,m=o===Se.C.ListView,g=o===Se.C.Timeline;return a()(ke,{propertySchema:i,format:o,render:e=>{const d=i.options||[];return c.createElement("div",n()({style:R.Vs({device:s,propertySchema:i,format:o,shouldWrap:r})},e),a()(Tt.Z,{value:t,options:d,showRemoveButton:!1,format:R.qP(s,o),isSingle:!1,shouldShrink:l||u||R.fi(s,o)||m||g||R.sH(o)},t))}})}function jt(e){window.__c={n:"BlockPropertyValueStatusProperty"};const{propertyValue:t,format:o,propertySchema:i,shouldWrap:r}=e,s=(0,Ce.Fy)(),l=(0,Q.yK)((()=>({statusStyle:{...R.Vs({device:s,propertySchema:i,format:o,shouldWrap:r}),flexShrink:0}})),[s,o,i,r]),d=i.options??[],p=d.find((e=>e.value===t)),m=i.groups??[],g=p&&m.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(p.id)}));if(!p)return null;return a()(ke,{propertySchema:i,format:o,render:e=>c.createElement("div",n()({style:l.statusStyle},e),a()(Tt.Z,{value:p.value,options:d,showRemoveButton:!1,format:R.qP(s,o),isSingle:!1,shouldShrink:R.fi(s,o),isRound:!0,showColoredDot:u.JR(p,g)},p.id))})}var Kt=o(64002),Yt=o(41232);function Gt(e){const{store:t,property:o,format:i,shouldWrap:n,collectionContextStore:r}=e,s=(0,Ce.O7)(),l=(0,Ce.Fy)(),d=(0,Q.Fg)(),u=(0,J.VK)((()=>t.getIcon()),[t],{useDeepEqual:!0}),m=(0,J.VK)((()=>Boolean(u)||!t.isEmptyPage()),[t,u]),g=(0,J.VK)((()=>t.hasError()),[t]),h=(0,J.VK)((()=>Xe.Xp(t,{recursivelyLoadAllDiscussions:!1})),[t]),f=(0,J.VK)((()=>{const e=t.getFormatStore().getKeyStore("uri").getValue(),o=e&&Kt.Nm({str:e,allowNoProtocol:!1});return o&&(0,Yt.pI)(o,t.pointer.spaceId)}),[t]),y=(0,Q.yK)((e=>({titleStyle:{...R.TF({device:l,format:i,shouldWrap:n,theme:e}),fontWeight:S.Z.fontWeight.medium,whiteSpace:n?"normal":"nowrap"},recordIconStyle:{display:"inline-block",verticalAlign:"text-top",marginBottom:-1,marginRight:4},linkBoxStyle:{flexShrink:1,width:"none",padding:"0 4px",marginLeft:-4,borderRadius:3},discussionIndicatorStyle:{display:"inline-flex",alignItems:"center",color:e.lightTextColor,fontSize:12,fontWeight:S.Z.fontWeight.semibold,marginLeft:8,verticalAlign:"text-top"}})),[l,i,n]),b=(0,c.useCallback)((()=>{r&&_e.YU({environment:s,collectionContextStore:r,block_id:t.id,property:o,from:R.Sy(i),is_external_title_property_id:!0})}),[r,s,i,o,t]),w=(0,J.VK)((()=>{var e;let i=null===(e=t.getTitleStore())||void 0===e?void 0:e.getValue();return t.isType("external_object_instance_page")&&(i=t.getPropertyValue(o)),D.IY({environment:s,textValue:i&&{value:i,spaceId:(0,v.CG)(t.pointer.spaceId)},parentStore:t,disableHover:!0,disableStyleAnnotations:!0,disableDateStyleAnnotations:!1,disabled:!0,theme:d,emojiType:(0,F.e_)(s),katex:s.KatexStore.getKatex(),formulaValueTypes:[]})}),[s,t,o,d]),k=a()("span",{style:y.titleStyle},"value",w);return c.createElement(c.Fragment,null,m&&!g&&a()(at.Z,{disabled:!0,icon:u,isEmptyPage:!1,style:y.recordIconStyle,size:20},"icon"),g&&De.Z.warning({display:"inline-block",verticalAlign:"text-top",marginLeft:1,marginRight:7,paddingBottom:4,width:16,fill:d.accentColors.orange[500]}),p.us(o)&&f?a()(X.Z,{href:f,style:{display:"inline-flex"},innerStyle:y.linkBoxStyle,external:!0,onClick:b},void 0,k):k,h>0&&a()("span",{style:y.discussionIndicatorStyle},"discussion-indicator",De.Z.speechBubble({width:14,height:14,marginRight:4,fill:d.mediumIconColor}),h))}var Xt=o(31869),qt=o(29798),$t=o(9342),Jt=o(72495),Qt=o(68139);class eo extends d.Z{constructor(){super(...arguments),this.storeTypes={menuListStore:qt.Z},this.showMoreRef=c.createRef(),this.relationValueStore=this.createComputedStore((()=>{const{store:e,schema:t,property:o}=this.props,i=t[o];if(!i||"relation"!==i.type)return[];const n=e.getPropertyValue(o);return u.j$({relationValue:u.rq(n),propertySchema:i,getRecordValue:e.getRecordValue})}),!0),this.handleRemoveRelationClick=(e,t)=>{const{store:o,schema:i,property:n,format:r,blockPropertyValueOverlayStore:a}=this.props,{collectionContextStore:s}=this.context,l=i[n];if(!l||"relation"!==l.type||!s)return;const c=e.filter((e=>e.id!==t.id)),d=o.getPropertyStore(n);rt.createAndCommit({userAction:"RelationBlockPropertyValue.handleRemoveRelationClick",environment:this.environment,perform:e=>{Xt.sf({store:o,propertyStore:d,value:c,environment:this.environment,relatedPageId:t.id,propertySchema:l,transaction:e,collectionContextStore:s,analyticsData:{isFromBulkActionsToolbar:R.VM(a),analyticsFrom:R.Sy(r)},isUnthrottled:!1})}})},this.handleOpenProperty=(e,t)=>{const{blockPropertyValueOverlayStore:o,store:i,format:n,property:r}=this.props,{collectionContextStore:a}=this.context;T.bA({environment:this.environment,blockPropertyValueOverlayStore:o,store:i,property:r,rect:null==t?void 0:t.getBoundingClientRect(),format:n,mode:e,collectionContextStore:a})}}renderComponent(){const{schema:e,property:t,format:o,store:i,collectionStore:r,disabled:s}=this.props,{menuListStore:l}=this.stores,d=e[t];if(!d||"relation"!==d.type)return;const u=o===Se.C.GalleryView,m=p.j0(d);if(!m)return;const g=W.NW.createChildStore(i,m),h=this.relationValueStore.state,f=d.limit??5,v=h.slice(0,f),y=a()($t.Z,{type:$t.i.Vertical,store:l,initialFocus:void 0,disableKeyboard:!0,style:{width:"100%"},sections:[{key:"results",render:e=>c.createElement(Jt.Z,n()({},e,{disableDesktopPadding:!0,disableMobileBorders:!0,children:e.children})),items:v.reduce(((e,o,a)=>{var u;const m=W.G.createChildStore(i,o),f=null===(u=m.getAssociatedCollectionStore())||void 0===u?void 0:u.id;if(P({environment:this.environment,pageStore:i,syncedPageStore:m,collectionStore:r}),f===p.F0(d)){const o={key:m.id,render:e=>c.createElement(Qt.Z,n()({},e,{canDrag:!1,collectionStore:r,targetCollectionStore:g,relatedPageStore:m,disabled:s,isSelected:!0,pageStore:i,property:t,rowType:"inline",onActionButtonClick:()=>{this.handleRemoveRelationClick(h,m)},onMouseLeave:()=>l.unsetFocus(),onSecondaryButtonClick:e=>{this.handleOpenProperty({type:"add",index:a+1},e)}})),action:e=>{}};e.push(o)}return e}),[])}]});return a()("div",{style:{flex:1,minWidth:0,display:"flex",flexWrap:"wrap",flexDirection:"column"},onMouseMove:this.props.handleMouseMove,onMouseLeave:this.props.handleMouseLeave,onContextMenu:this.props.handleContextMenu},void 0,y,h.length>f&&c.createElement(Y.Z,{style:{width:"100%",display:"flex",alignItems:"center",borderRadius:3,fontSize:14,minHeight:30,margin:0,padding:"6px 8px 7px 8px",...u&&{paddingLeft:4}},ref:this.showMoreRef,onClick:e=>this.handleOpenProperty({type:"view"},this.showMoreRef.current)},a()(Et.Z,{count:h.length-f,format:Bt.l.Medium,style:{margin:void 0},fixedHeight:!1,isCompact:!1})))}}eo.displayName="RelationBlockPropertyValue",eo.contextTypes={...d.w,...B.xm};const to=eo;class oo extends d.Z{constructor(){super(...arguments),this.clonedStore=void 0,this.node=void 0,this.storeTypes={numberFormatButtonPopupStore:U.Z,rollupAggregationButtonPopupStore:U.Z,mouseStore:z.Z,numberFormatFilterStore:j.default.of("")},this.renderQuickActionButtons=(e,t)=>a()(ye.t,{format:this.props.format,containerRef:t},void 0,e.map((e=>e()))),this.renderCopyButton=()=>{const e=this.props.store.getValue();return a()(ve.Z,{store:this.props.store,schema:this.collectionSchemaStore.state,property:this.props.property,pageValue:e,format:this.props.format})},this.renderEditButton=()=>{const e=this.getType(),t=e&&R._0(e);if(!t)return;const{icon:o,tooltip:i}=t;return a()($.Z,{renderTooltip:()=>i,render:e=>c.createElement("div",n()({onClick:this.handleEditButtonClick},e),a()(G.Z,{ariaLabel:i,icon:o,hasBackground:!0,showShadow:!0}))})},this.handleTableCellClick=e=>{e.shiftKey||(0,L.ZP)({event:e,context:L.Af.EditorClick,callback:()=>{(0,N.X9)()||this.handleEditButtonClick()}})},this.handleEditButtonClick=async()=>{var e;const{property:t,collectionStore:o}=this.props,i={verticalScroller:this.getContextVerticalScroller(),horizontalScroller:this.getContextHorizontalScroller()};await M.zt({element:this.getNode(),scrollers:i,environment:this.environment,onClick:this.props.onClick,store:this.props.store,property:o.getMappedProperty(t),collectionStore:o,format:this.props.format,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll,collectionContextStore:this.context.collectionContextStore,mouseStore:this.stores.mouseStore,statusShowAsCheckbox:"checkbox"===(null===(e=this.propertyFormatStore.state)||void 0===e?void 0:e.statusShowAs)});const n=O.default.state.currentUserSettingsStore,r=O.default.state.currentSpaceStore;if(!n||!r)return;const a=(0,E.jH)(n,r);a&&this.shouldShowProjManagementTooltipTour(a)&&C.uR({environment:this.environment,requiredCurrPhase:a,nextPhase:E.FD[a],currentUserSettingsStore:n,currentSpaceStore:r})},this.handleContextMenu=e=>{const{onContextMenu:t}=this.props,{device:o}=this.environment;o.isAndroid&&o.isPhone?e.preventDefault():t&&(0,L.ZP)({event:e,context:L.Af.EditorContextMenu,callback:()=>{t(e)}})},this.handleMouseMove=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!0})},this.handleMouseLeave=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})},this.handleNativeDrop=e=>{T.bA({environment:this.environment,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,store:this.props.store,property:this.props.property,format:this.props.format,uploadFiles:e.files,disableHorizontalEdgeScroll:this.props.disableHorizontalEdgeScroll,collectionContextStore:this.context.collectionContextStore})},this.handleButtonPropertyClick=async()=>{const{store:e}=this.props,t=this.buttonContextStore.state;t&&await _.oS({environment:this.environment,store:e,clientContext:t})},this.buttonRef=c.createRef(),this.getPropertyValue=()=>{const{store:e,property:t,collectionStore:o}=this.props,i=o.getMappedProperty(t);return e.getPropertyValue(i)},this.propertyFormatStore=this.createComputedStore((()=>{var e,t;const{property:o}=this.props,i=null===(e=this.context.collectionContextStore)||void 0===e?void 0:e.formatStore(),n=null===(t=this.context.collectionContextStore)||void 0===t?void 0:t.getPropertyFormatKey();if(!i||!n)return;const r=i.getFormat()[n]??[];return null==r?void 0:r.find((e=>e.property===o))})),this.isLoadingExternalObjectInstancePageStore=this.createComputedStore((()=>{var e,t,o;const{store:i,collectionStore:n}=this.props,r=n.isSyncedCollection();return Boolean(r&&!(null!==(e=i.getFormat())&&void 0!==e&&null!==(t=e.attributes)&&void 0!==t&&t.length)&&!(null!==(o=i.getFormat())&&void 0!==o&&o.error))})),this.isEditableTypeStore=this.createComputedStore((()=>{const e=this.propertySchemaStore.state;return Boolean(e&&function(e,t){return!(0,we.Sm)(e)}(e,x.Z.env))})),this.isActionableTypeStore=this.createComputedStore((()=>{const e=this.propertySchemaStore.state;var t;if("formula"===(null==e?void 0:e.type))return"text"===(null===(t=e.formula)||void 0===t?void 0:t.result_type);const o=null==e?void 0:e.type;return!(!o||!function(e){const t=e.type;return"title"===t||"url"===t||"email"===t||"phone_number"===t||"person"===t||!!p.q3(e)}(e))&&"person"!==o})),this.isEmptyStore=this.createComputedStore((()=>{const{store:e,property:t}=this.props,o=this.collectionSchemaStore.state;return(0,we.bb)({store:e,schema:o,property:t})})),this.collectionSchemaStore=this.createComputedStore((()=>{const{collectionStore:e}=this.props;return e.getSchema()})),this.propertySchemaStore=this.createComputedStore((()=>{const{collectionStore:e,property:t}=this.props,{collectionContextStore:o}=this.context,i=this.collectionSchemaStore.state,n=e.getMappedProperty(t),r=null==o?void 0:o.normalizedSchemaStore.state;return i[n]??(null==r?void 0:r[t])})),this.buttonContextStore=this.createComputedStore((()=>{const{collectionStore:e,property:t}=this.props,o=this.propertySchemaStore.state,{collectionContextStore:i}=this.context,n=this.environment.currentUser.id;if(!i||!o||"button"!==o.type||!o.automation_id)return;const r=W.Mz.createChildStore(e,{table:y.cv,id:o.automation_id,spaceId:e.getSpaceId()});return{type:"button_property",persisted:!0,automationStore:r,collectionContextStore:i,propertyId:t,propertySchema:o,intl:V.default.getIntl(),parentRecordStore:r,currentUserId:n}})),this.getButtonLabelPlaceholderStyle=()=>({pointerEvents:"none",color:this.theme.lightTextColor})}didMount(){this.node=this.getNode()}getContextVerticalScroller(){var e;return null===(e=this.context.scrollerContext)||void 0===e?void 0:e.verticalScroller}getContextHorizontalScroller(){var e;return null===(e=this.context.scrollerContext)||void 0===e?void 0:e.horizontalScroller}willMountOrUpdate(){this.environment.KatexStore.loadIfNeeded(this.getPropertyValue)}renderComponent(){const{format:e}=this.props;return this.isTable()?this.renderTableProperty():this.isPage()?this.renderPageProperty():this.isBoard()?this.renderBoardProperty():(0,R.fi)(this.environment.device,e)?this.renderMobileCalendarProperty():(0,R.oF)(this.environment.device,e)?this.renderCalendarProperty():this.isGallery()?this.renderGalleryProperty():this.isRelationSection()&&!this.isEmpty()?this.renderEditableProperty():this.isListView()?this.renderEditableListViewProperty():R.sH(e)?this.renderListViewProperty():this.isTimeline()?this.renderTimelineProperty():void 0}renderPageProperty(){return this.isDroppableType()?this.renderDroppableType():this.isEmpty()?!this.props.store.isTemplate()&&this.shouldShowProjManagementTooltipTour("assign_to_someone")?a()(he.Z,{origin:this.renderEmptyPageProperty(),isFirstTooltip:!1,phase:"assign_to_someone",alignment:"right"}):this.renderEmptyPageProperty():this.isRelation()?this.renderCustomRelation():this.isLoadingExternalObjectInstancePageStore.state?this.renderLoadingExternalObjectInstancePage():this.shouldShowProjManagementTooltipTour("change_task_status")?a()(he.Z,{origin:this.renderEditableProperty(),isFirstTooltip:!1,phase:"change_task_status",alignment:"right"}):this.renderEditableProperty()}renderTableProperty(){return this.isLoadingExternalObjectInstancePageStore.state?this.renderLoadingExternalObjectInstancePage():this.renderEditableProperty()}renderEditableProperty(){return this.isActionableTypeStore.state?this.renderActionableType():this.isNumberType()?this.renderNumberType():this.isReadOnlyType()?this.renderReadOnlyType():this.isDroppableType()?this.renderDroppableType():this.isRollup()?this.renderRollupType():this.isButtonProperty()?this.renderButtonProperty():this.isVerificationProperty()?this.renderVerification():this.renderButtonType()}renderBoardProperty(){const{showIfEmpty:e}=this.props,{device:t}=this.environment,o=this.isEmpty()&&e;if(this.shouldHideEditableEmptyPropertyInQuickEdit())return;const i=t.isPhone?this.renderValue():o?this.renderEmptyProperty():this.renderEditableProperty();return a()(Ee,{onContextMenu:this.handleContextMenu,styleOverrides:{...o?{width:"100%"}:void 0,paddingLeft:6,minHeight:28}},void 0,i)}renderMobileCalendarProperty(){return a()(Mt,{type:this.getType()},void 0,this.renderValue())}renderCalendarProperty(){return a()("div",{style:oo.calendarPropertyStyle,onContextMenu:this.handleContextMenu},void 0,this.renderValue())}renderGalleryProperty(){const{showIfEmpty:e}=this.props,{device:t}=this.environment;if(this.shouldHideEditableEmptyPropertyInQuickEdit())return;const o=t.isPhone?this.renderValue():this.isEmpty()&&e?this.renderEmptyProperty():this.renderEditableProperty();return a()(Ee,{onContextMenu:this.handleContextMenu,styleOverrides:this.getGalleryPropertyStyle(e)},void 0,o)}renderEditableListViewProperty(){const{device:e}=this.environment,t={marginLeft:e.isMobile?0:8,marginRight:e.isMobile?4:0},o=this.propertySchemaStore.state;if(!o)return;const i=o.type,n="select"===i||"multi_select"===i;if("title"===i)return a()(gt,{store:this.props.store,disabled:this.isPropertyDisabled(),forceMouseEntered:this.props.forceMouseEntered,format:this.props.format,collectionViewStore:this.props.collectionViewStore,handleOpenPeekPage:this.props.handleOpenPeekPage,collectionContextStore:this.context.collectionContextStore,onTab:this.props.onTab,onUntab:this.props.onUntab});if(this.isEmpty())return this.props.showIfEmpty?this.renderEmptyProperty():void 0;if("phone_number"===i||"email"===i||"url"===i){const e=R.p7({store:this.props.store,property:this.props.property,propertySchema:this.propertySchemaStore.state});if("url"===i&&!this.getLinkHref())return;return a()("div",{style:{...this.getListPropertyStyle(),...t}},void 0,a()(be,{urlValue:e,disabled:this.isPropertyDisabled(),onClick:this.handleEditButtonClick,tooltip:`${o.name}`,overflowFormat:"ellipsis"}))}return this.isUserType()?a()("div",{style:{...this.getListPropertyStyle(),minWidth:"none",...t}},void 0,this.renderEditableProperty()):a()("div",{style:{...this.getListPropertyStyle(),...n&&{flexShrink:0},marginLeft:2}},void 0,this.renderEditableProperty())}renderListViewProperty(){const{device:e}=this.environment,t=this.getType(),o=this.isUserType(),i="select"===t||"multi_select"===t,n=this.isActionableTypeStore.state;if(!this.isEmpty()){if(n){if("url"===t&&!this.getLinkHref())return;return a()("div",{style:{...this.getListPropertyStyle(),...o&&{minWidth:"none"},marginLeft:e.isMobile?0:8,marginRight:e.isMobile?4:0}},void 0,this.renderActionableType())}return a()("div",{style:{...this.getListPropertyStyle(),...i&&{flexShrink:0}}},void 0,this.renderValue())}}renderTimelineProperty(){const e=this.getType(),t=this.isUserType(),o="select"===e||"multi_select"===e,i=this.isActionableTypeStore.state;if(!this.isEmpty()){if(i){if("url"===e&&!this.getLinkHref())return;return a()("div",{style:this.getTimelinePropertyStyle()},void 0,this.renderActionableType())}return a()("div",{style:{...this.getTimelinePropertyStyle(),...t&&{minWidth:"none"},...o&&{flexShrink:0}}},void 0,this.renderValue())}}renderEmptyPageProperty(){if(this.props.store.isTemplate()){const e=this.props.property,t=this.collectionSchemaStore.state[e];if("auto_increment_id"===(null==t?void 0:t.type))return this.renderReadOnlyType()}return this.renderEmptyProperty()}renderEmptyProperty(){return a()(ze,{property:this.props.property,schema:this.collectionSchemaStore.state,format:this.props.format,style:this.getCellStyle(),onClick:this.handleEditButtonClick,onContextMenu:this.handleContextMenu,disabled:this.isPropertyDisabled()})}shouldShowCopyButton(){var e;const t=this.propertySchemaStore.state,o=null==t?void 0:t.type;if(!o)return!1;if(!this.getMouseEntered())return!1;switch(o){case"auto_increment_id":const i=this.getPropertyValue(),n=u.ah(i);return(this.isPage()||this.isTable())&&void 0!==n;case"created_by":case"last_edited_by":return this.isPage()||this.isTable();case"text":case"created_time":case"last_edited_time":case"number":case"phone_number":case"email":case"url":return this.isPage();case"formula":const r=null==t||null===(e=t.formula)||void 0===e?void 0:e.result_type;if(void 0===r||"checkbox"===r)return!1;if("number"===r)return this.isPage()||this.isTable();if("date"===r||"text"===r)return this.isPage()||this.isTable()||this.isCard();(0,b.t1)(r);break;case"title":case"person":case"file":case"checkbox":case"select":case"multi_select":case"status":case"date":case"relation":case"rollup":case"button":case"location":case"verification":return!1;default:(0,b.t1)(o)}}renderLoadingExternalObjectInstancePage(){return a()("div",{style:{...this.getCellStyle(),display:"flex",alignItems:"center"},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},void 0,a()("div",{style:{overflow:"hidden",position:"relative",background:this.theme.selectLightGray[30],width:"100%",height:10}},void 0,a()("div",{style:{position:"absolute",height:"100%",width:"100%",zIndex:1,animation:"shimmer 1s infinite",background:`linear-gradient(to right, ${this.theme.selectLightGray[30]} 0%, ${this.theme.selectLightGray[50]} 20%, ${this.theme.selectLightGray[30]} 40%, ${this.theme.selectLightGray[30]} 100%)`}})))}renderActionableType(){if(this.propertySchemaStore.state)return a()(Ie,{style:this.getCellStyle(),mouseStore:this.stores.mouseStore,collectionContextStore:this.context.collectionContextStore,store:this.props.store,property:this.props.property,schema:this.collectionSchemaStore.state,format:this.props.format,forceMouseEntered:this.props.forceMouseEntered,shouldWrap:this.shouldWrap(),enablePointerEventsForInteractiveTypes:this.props.enablePointerEventsForInteractiveTypes,onOpenPeekPage:this.props.handleOpenPeekPage,onContextMenu:this.props.onContextMenu,onEditButtonClick:this.handleEditButtonClick,renderEditButton:this.renderEditButton,shouldShowCopyButton:this.shouldShowCopyButton(),renderCopyButton:this.renderCopyButton,actionButtonProps:this.renderActionButtonProps(),disabled:this.isPropertyDisabled()},void 0,this.renderValue())}renderNumberType(){return a()(Ne,{mouseStore:this.stores.mouseStore,numberFormatButtonPopupStore:this.stores.numberFormatButtonPopupStore,disabled:this.isPropertyDisabled(),locked:this.props.locked,property:this.props.property,schema:this.collectionSchemaStore.state,format:this.props.format,collectionStore:this.props.collectionStore,style:this.getCellStyle(),forceMouseEntered:this.props.forceMouseEntered,shouldShowCopyButton:this.shouldShowCopyButton(),renderCopyButton:this.renderCopyButton,onClick:this.handleEditButtonClick,onContextMenu:this.props.onContextMenu,disableNumberFormatEditButton:this.isListView()||this.isRelationSection()},void 0,this.renderValue())}renderButtonType(){const e=this.propertySchemaStore.state,t=l().compact([this.shouldShowCopyButton()&&this.renderCopyButton]),o="file"===(null==e?void 0:e.type);return this.isTable()?a()("div",{style:this.getCellStyle(),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:this.props.disabled&&this.isCheckBoxType()?void 0:this.handleTableCellClick},void 0,this.renderValue()):c.createElement(Y.Z,{style:{...this.getCellStyle(),position:this.shouldShowCopyButton()?"relative":void 0},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:this.handleEditButtonClick,disabled:this.isPropertyDisabled()&&!o,ref:this.buttonRef},this.renderValue(),this.renderQuickActionButtons(t,this.buttonRef))}renderButtonProperty(){return a()("div",{style:this.getCellStyle()},void 0,this.renderButtonPropertyInner())}renderButtonPropertyInner(){const{collectionStore:e}=this.props,t=this.propertySchemaStore.state,o=this.buttonContextStore.state;if(!t||"button"!==t.type||!t.automation_id||!o)return;const i=W.Mz.createChildStore(e,{table:y.cv,id:t.automation_id,spaceId:e.getSpaceId()}).getNameStore().getValue(),n="sufficient"===(0,A.Gb)(o).state.executionPermissionStatus;return a()(q.Z,{isSmall:!0,disabled:!n,onClick:this.handleButtonPropertyClick,disabledFeedback:!0},void 0,i?a()("span",{style:oo.buttonLabelStyle},void 0,i):a()("span",{style:this.getButtonLabelPlaceholderStyle()},void 0,c.createElement(k.FormattedMessage,K.y.buttonPlaceholder)))}renderRollupType(){const e=!(this.isListView()||this.isRelationSection());return a()(Ue,{mouseStore:this.stores.mouseStore,property:this.props.property,schema:this.collectionSchemaStore.state,format:this.props.format,style:this.getCellStyle(),forceMouseEntered:this.props.forceMouseEntered,renderEditButton:e?this.renderEditButton:void 0,shouldShowCopyButton:this.shouldShowCopyButton(),renderCopyButton:this.renderCopyButton,onClick:this.handleEditButtonClick,onContextMenu:this.props.onContextMenu,disabled:this.isPropertyDisabled(),enableCellButton:this.isCard()||this.isListView()||this.isRelationSection()},void 0,this.renderValue())}renderDroppableType(){const{disabled:e,store:t,showIfEmpty:o}=this.props;return this.clonedStore||(this.clonedStore=t.clone()),a()(ge.Z,{store:this.clonedStore,canNativeDropOnto:!e,onNativeDrop:this.handleNativeDrop,style:{width:this.isPage()?"100%":"auto"},analyticsName:"file_property",shouldShowDropZone:!0},void 0,(this.isPage()||this.isCard()&&o)&&this.isEmpty()?this.renderEmptyProperty():this.renderButtonType())}renderReadOnlyType(){const e=c.createRef(),t=l().compact([this.shouldShowCopyButton()&&this.renderCopyButton]);return c.createElement("div",{ref:e,style:{...this.getCellStyle(),position:t.length?"relative":void 0},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu,onClick:L.Wi},this.renderValue(),this.renderQuickActionButtons(t,e))}renderValue(){const e=this.propertySchemaStore.state;if(e){if("title"===e.type)return this.renderTitle();if("text"===e.type)return this.renderText(e);if("relation"===e.type)return this.renderRelation(e);if("checkbox"===e.type)return this.renderCheckbox(u.Ml(this.getPropertyValue()),e);if("select"===e.type)return this.renderSelect(e);if("multi_select"===e.type)return this.renderMultiSelect(e);if("status"===e.type)return this.renderStatus(e);if("person"===e.type)return this.renderPerson();if("number"===e.type)return this.renderNumber(e);if("date"===e.type){const t=this.getPropertyValue(),o=u.Gl(t);return this.renderDate(o,e)}if("file"===e.type)return this.renderFile(e);if("url"===e.type||"email"===e.type||"phone_number"===e.type)return this.renderLinkText(e);if("created_by"===e.type)return this.renderCreatedBy(e);if("created_time"===e.type){const t=this.props.store.getCreatedTime(),o=t?f.CQ(t,(0,h.r)()):void 0;return this.renderDate(o,e)}if("last_edited_by"===e.type)return this.renderLastEditedBy(e);if("last_edited_time"===e.type){const t=this.props.store.getLastEditedTime(),o=t?f.CQ(t,(0,h.r)()):void 0;return this.renderDate(o,e)}return"formula"===e.type?this.renderFormula(e):"rollup"===e.type?this.renderRollup(e):"button"===e.type?this.renderButtonProperty():"auto_increment_id"===e.type?this.renderAutoIncrementId(e):"location"===e.type?this.renderLocationProperty():"verification"===e.type?this.renderVerification():void(0,b.t1)(e)}}renderTitle(){return a()(Gt,{store:this.props.store,property:this.props.property,format:this.props.format,shouldWrap:this.shouldWrap(),collectionContextStore:this.context.collectionContextStore})}renderText(e){const t=this.getPropertyValue(),o=a()("span",{style:R.DG({device:this.environment.device,format:this.props.format,shouldWrap:this.shouldWrap()})},void 0,D.IY({environment:this.environment,textValue:t&&{value:t,spaceId:(0,v.CG)(this.props.store.pointer.spaceId)},parentStore:this.props.store,disableHover:!1,disableStyleAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:this.theme,emojiType:(0,F.e_)(this.environment),katex:this.environment.KatexStore.getKatex(),formulaValueTypes:[]})),i=(e,t)=>c.createElement("div",n()({style:{...oo.listViewTextWrapStyle,...t&&{pointerEvents:"auto"},...this.isCard()&&{marginRight:4,maxWidth:void 0}}},e),o);return this.isListView()?i():this.shouldRenderTooltip()?a()($.Z,{renderTooltip:()=>`${e.name}`,render:e=>i(e,!0),placement:this.isCard()?$.Z.Placement.Left:void 0}):o}renderLinkText(e){const t=this.getPropertyValue(),o=R.TF({device:this.environment.device,format:this.props.format,shouldWrap:this.shouldWrap(),theme:this.theme});if(this.isCard()){const e=R.p7({store:this.props.store,property:this.props.property,propertySchema:this.propertySchemaStore.state});return a()(X.Z,{href:this.getLinkHref(),style:{display:"inline-flex"},innerStyle:{flexShrink:1,width:"none",padding:this.isBoard()?"4px 4px":"2px 4px",marginLeft:-4,borderRadius:3},external:!0},void 0,a()("span",{style:o},void 0,e||""))}if(this.shouldRenderTooltip()){const i=this.isCard()||this.isRelationSection()?R.p7({store:this.props.store,property:this.props.property,propertySchema:this.propertySchemaStore.state}):u.zB(t);return a()($.Z,{renderTooltip:()=>`${e.name}`,render:e=>c.createElement("span",n()({},e,{style:{...o,pointerEvents:"all"}}),i||""),placement:this.isCard()?$.Z.Placement.Left:void 0})}{const e=u.zB(t);return a()("span",{style:o},void 0,e||"")}}renderNumber(e){const t=this.getPropertyValue(),o=u.VY(t);if(!l().isNaN(o)&&!w.z4(o))return a()(Pt,{numberValue:o,propertySchema:e,format:this.props.format,shouldWrap:this.shouldWrap()})}renderCheckbox(e,t){const{disabled:o,format:i}=this.props;return a()(Re,{disabled:o,format:i,checked:e,propertySchema:t,enablePointerEventsForInteractiveTypes:this.props.enablePointerEventsForInteractiveTypes,onClick:this.handleEditButtonClick})}renderSelect(e){const t=this.getPropertyValue(),o=e.options||[],i=u.Sj(t,o);if(i)return a()(Wt,{propertyValue:i,format:this.props.format,propertySchema:e,shouldWrap:this.shouldWrap()})}renderMultiSelect(e){const t=this.getPropertyValue(),o=e.options||[],i=u.uP(t,o);if(i.length>0)return a()(It,{propertyValue:i,format:this.props.format,propertySchema:e,shouldWrap:this.shouldWrap()})}renderStatus(e){const t=this.getPropertyValue(),o=this.propertyFormatStore.state,i=(null==o?void 0:o.statusShowAs)??"select";if("checkbox"===i){const o=u.rO(t,e);return this.renderCheckbox(o,e)}if("select"===i){const o=u.ZG(t,e);if(!o)return;return a()(jt,{propertyValue:o,format:this.props.format,propertySchema:e,shouldWrap:this.shouldWrap()})}(0,b.t1)(i)}renderPerson(){const{format:e,store:t}=this.props,o=this.propertySchemaStore.state;if(!o||"person"!==o.type)return;const i=this.getPropertyValue(),n=u.DW({textValue:i,propertySchema:o,blockCreatorPointer:u.I1(t.getCreatedById(),t.getCreatedByTable())});return 0!==n.length?a()(Rt,{actorPointers:n,propertySchema:o,format:e,shouldWrap:this.shouldWrap(),getRecordValue:this.getRecordValue}):void 0}renderCustomRelation(){const{store:e,format:t,property:o,collectionStore:i,blockPropertyValueOverlayStore:n}=this.props;return a()(to,{store:e,collectionStore:i,disabled:this.isPropertyDisabled(),format:t,property:o,schema:this.collectionSchemaStore.state,handleMouseMove:this.handleMouseMove,handleMouseLeave:this.handleMouseLeave,handleContextMenu:this.handleContextMenu,blockPropertyValueOverlayStore:n})}renderRelation(e){const t=this.getPropertyValue(),o=u.j$({relationValue:u.rq(t),propertySchema:e,getRecordValue:this.getRecordValue}),i=o.slice(0,R.h6),r=[];for(const n of i){var s;const t=W.G.createChildStore(this.props.store,n);(null===(s=t.getAssociatedCollectionStore())||void 0===s?void 0:s.id)===(0,p.F0)(e)&&(P({environment:this.environment,syncedPageStore:t,collectionStore:this.props.collectionStore,collectionViewStore:this.props.collectionViewStore}),r.push(a()(me.Z,{format:R.qP(this.environment.device,this.props.format),blockId:n.id,shouldWrap:this.isTable()&&this.shouldWrap(),isSingle:!1,shouldShrink:this.isCard()||this.isListView()||this.isTimeline(),parentStore:this.props.store,showRelationTooltip:this.props.showRelationTooltip,containingParentDivNode:this.buttonRef.current||void 0},n.id)))}return this.renderBlockPropertyNameTooltip(e,(e=>c.createElement("div",n()({style:{display:"flex",...this.isPage()&&{flex:1,minWidth:0},...this.getTokenWrapStyle()},onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onContextMenu:this.handleContextMenu},e),r,o.length>R.h6&&a()(Et.Z,{count:o.length-R.h6,format:R.qP(this.environment.device,this.props.format),fixedHeight:!this.isPage(),isCompact:!0}))))}renderRollup(e){const{store:t}=this.props,o=t.getValue();return a()(zt,{block:o,store:this.props.store,property:this.props.property,schema:this.collectionSchemaStore.state,propertySchema:e,format:this.props.format,collectionStore:this.props.collectionStore,shouldWrap:this.shouldWrap()})}renderDate(e,t){if(e)return a()(Ae,{propertyValue:e,format:this.props.format,propertySchema:t,shouldWrap:this.shouldWrap()})}renderFile(e){const t=this.getPropertyValue(),o=u.g(t);if(o.length>0)return a()(Ye,{links:o,store:this.props.store,format:this.props.format,propertySchema:e,shouldWrap:this.shouldWrap()})}renderFormula(e){const{property:t,format:o,store:i}=this.props;return a()(ue,{property:t,store:i,schema:this.collectionSchemaStore.state,checkboxProps:(0,R.oF)(this.environment.device,o)?{size:12,checkSize:8}:{size:16,checkSize:12},numberValueProps:{shouldRenderTooltip:!R.km(o),style:{justifyContent:o===Se.C.Table?"flex-end":"flex-start"},barStyle:R.M7(o)},style:{...R.DG({device:this.environment.device,format:o,shouldWrap:this.shouldWrap()}),...this.isCard()&&{paddingRight:4}},urlAsLink:o===Se.C.Table,tooltipHeader:this.shouldRenderTooltip()?e.name:void 0,tooltipPlacement:this.isCard()?$.Z.Placement.Left:void 0})}renderCreatedBy(e){const{format:t,store:o}=this.props,i=o.getCreatedById(),n=o.getCreatedByTable();if(n&&i)return a()(Rt,{actorPointers:[{table:n,id:i}],propertySchema:e,format:t,shouldWrap:this.shouldWrap(),getRecordValue:this.getRecordValue})}renderLastEditedBy(e){const{format:t,store:o}=this.props,i=o.getLastEditedById(),n=o.getLastEditedByTable();if(n&&i)return a()(Rt,{actorPointers:[{table:n,id:i}],propertySchema:e,format:t,shouldWrap:this.shouldWrap(),getRecordValue:this.getRecordValue})}renderActionButtonProps(){return R.WA({environment:this.environment,store:this.props.store,property:this.props.property,propertySchema:this.propertySchemaStore.state,format:this.props.format,collectionContextStore:this.context.collectionContextStore,getRecordValue:this.getRecordValue,hideCaption:!l().isUndefined(this.props.width)&&this.props.width<101,theme:this.theme})}renderAutoIncrementId(e){const{collectionStore:t}=this.props,o=this.getPropertyValue(),i=u.ah(o);return a()(Be,{collectionStore:t,numberValue:i,propertySchema:e,format:this.props.format,shouldWrap:this.shouldWrap()})}renderLocationProperty(){const{collectionContextStore:e}=this.context;if(e)return a()(Ct,{store:this.props.store,collectionContextStore:e,format:this.props.format})}renderVerification(){const{format:e}=this.props,t=c.createRef();return g.log({level:"error",from:"BlockPropertyValue",type:"blockPropertyValue.invalidPropertyRender",data:{message:`Tried to render verification property on format: ${e}`}}),c.createElement(fe.SJ,n()({},(0,fe.Db)(this.props,t),{fontSize:"regular"}))}isNumberType(){const e=this.propertySchemaStore.state;if(e&&"formula"===e.type){const{formula:t}=e;return Boolean(t&&"number"===t.result_type)}return e&&"number"===e.type}isReadOnlyType(){const e=this.getType();return e&&p.ZY(e)}isDroppableType(){return"file"===this.getType()}getLinkHref(){return R.Hw({store:this.props.store,property:this.props.property,propertySchema:this.propertySchemaStore.state})}isPropertyDisabled(){const e=this.props.property,t=this.collectionSchemaStore.state[e];return!!u.wl(e)||(!(!(0,u.Kp)(t)||!this.props.store.isTemplate())||(this.props.disabled||!this.props.store.canEdit()))}isEmpty(){return this.isEmptyStore.state}isTable(){const{format:e}=this.props;return e===Se.C.Table}isBoard(){const{format:e}=this.props;return e===Se.C.Board}isCard(){return this.isBoard()||this.isGallery()}isPage(){const{format:e}=this.props;return e===Se.C.Page}isListView(){const{format:e}=this.props;return e===Se.C.ListView}isTimeline(){const{format:e}=this.props;return e===Se.C.Timeline}isGallery(){const{format:e}=this.props;return e===Se.C.GalleryView}isRelation(){return"relation"===this.getType()}isRelationSection(){const{format:e}=this.props;return e===Se.C.RelationSection}getType(){const e=this.propertySchemaStore.state;if(e)return e.type}getMouseEntered(){const{forceMouseEntered:e}=this.props;return(0,w.z4)(e)?this.stores.mouseStore.state.mouseEntered:e}shouldWrap(){const{tableWrap:e}=this.props,t=this.isPage();return e||t}shouldRenderTooltip(){return(0,R.km)(this.props.format)}isCheckBoxType(){const e=this.propertySchemaStore.state;var t;return"status"===(null==e?void 0:e.type)?"checkbox"===(null===(t=this.propertyFormatStore.state)||void 0===t?void 0:t.statusShowAs):!!e&&u.eb(e)}isFileType(){const e=this.propertySchemaStore.state;return"file"===(null==e?void 0:e.type)}isRollup(){return"rollup"===this.getType()}isButtonProperty(){return"button"===this.getType()}isFormulaProperty(){return"formula"===this.getType()}isVerificationProperty(){return"verification"===this.getType()}isUserType(){const e=this.getType();return"person"===e||"created_by"===e||"last_edited_by"===e}get getRecordValue(){return this.props.store.getRecordValue}renderBlockPropertyNameTooltip(e,t,o){return a()(ke,{propertySchema:e,format:this.props.format,render:t,additionalTooltipText:o})}shouldHideEditableEmptyPropertyInQuickEdit(){const{showIfEmpty:e}=this.props;return!(!e||!this.isEmpty())&&(this.isFormulaProperty()||this.isRollup())}shouldShowProjManagementTooltipTour(e){const t={assign_to_someone:m.Fr,change_task_status:m.fp},o=this.props.collectionStore.getFormat();return!(!(O.default.state.currentUserSettingsStore&&O.default.state.currentSpaceStore?(0,E.jH)(O.default.state.currentUserSettingsStore,O.default.state.currentSpaceStore):void 0)||"notion://tasks_collection"!==o.app_config_uri)&&Boolean(t[e]===this.props.property)}getCellStyle(){return Ot.pB({width:this.props.width,shouldSetCellHeight:this.props.shouldSetCellHeight,propertySchema:this.propertySchemaStore.state,type:this.getType(),isTable:this.isTable(),shouldWrap:this.shouldWrap(),isCheckboxType:this.isCheckBoxType(),isPerson:this.isUserType(),isVerification:this.isVerificationProperty(),isDroppableType:this.isDroppableType(),isPage:this.isPage(),isEmpty:this.isEmpty(),disableTableBorderRight:this.props.disableTableBorderRight,isLast:this.props.isLast,isEditable:this.isEditableTypeStore.state,disabled:this.props.disabled,locked:this.props.locked,theme:this.theme,isCard:this.isCard(),isBoard:this.isBoard(),isRelationSection:this.isRelationSection(),isListView:this.isListView()})}getListPropertyStyle(){const{device:e}=this.environment,t=e.isMobile,o=R.sH(this.props.format);return{display:"flex",alignItems:"center",fontSize:14,marginLeft:t?0:o?8:14,marginRight:t?8:0,minWidth:20,height:t?30:this.isListView()?"100%":0,minHeight:o?22:0}}getTimelinePropertyStyle(){const{isLast:e}=this.props;return{display:"flex",alignItems:"center",fontSize:14,marginRight:e?0:10}}getGalleryPropertyStyle(e){const{device:t}=this.environment,o=this.getType(),i="text"===o||"url"===o;return{display:"flex",alignItems:"stretch",fontSize:t.isMobile?14:12,height:24,whiteSpace:"nowrap",...i&&{paddingRight:8},...this.isEmpty()&&e&&{width:"100%"}}}getTokenWrapStyle(){const e=this.propertySchemaStore.state;if(e)return R.Vs({device:this.environment.device,propertySchema:e,format:this.props.format,shouldWrap:this.shouldWrap()})}}oo.displayName="BlockPropertyValue",oo.Format=Se.C,oo.contextTypes={...Z.I3,...d.w,...B.xm},oo.calendarPropertyStyle={display:"flex",alignItems:"center",fontSize:12,height:20,whiteSpace:"nowrap"},oo.listViewTextWrapStyle={maxWidth:180,...S.Z.textOverflowStyle},oo.buttonLabelStyle={pointerEvents:"none"};const io=oo},23049:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(84619),s=o(5366);const l={[a.l.ExtraSmall]:{height:14,fontSize:12,margin:"0 4px 0 0"},[a.l.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0"},[a.l.Medium]:{height:21,fontSize:14,margin:"0 12px 6px 0"},[a.l.Inline]:{height:21,fontSize:14,margin:"0 12px 0 0"},[a.l.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0"}};const c=function(e){window.__c={n:"BlockPropertyValueTokenMore"};const{count:t,format:o,fixedHeight:i,style:a,isCompact:c}=e,{margin:d,height:p,fontSize:u}=l[o],m=(0,r.yK)((e=>({wrapper:{display:"flex",alignItems:"center",lineHeight:1.2,borderRadius:3,fontSize:u,margin:d,color:e.mediumTextColor,...i&&{height:p},...a},compact:{whiteSpace:"nowrap"}})),[u,p,i,d,a]);return n()("div",{style:m.wrapper},void 0,c?n()("span",{style:m.compact},void 0,n()(s.FormattedMessage,{defaultMessage:"+{thinSpace}{moreItemsCount}",id:"database.tokens.moreItems.message",description:"Count of property tokens/values not visible to the user. For example '+ 3'",values:{moreItemsCount:t,thinSpace:n()("span",{},void 0," ")}})):n()("span",{},void 0,n()(s.FormattedMessage,{defaultMessage:"{relationMoreItemsCount} more…",id:"database.relationPropertyValue.moreItems.message",values:{relationMoreItemsCount:t}})))}},96310:(e,t,o)=>{o.d(t,{Zv:()=>n,pB:()=>c});var i=o(49616);const n=32,r={paddingLeft:i.AK.paddingLeft},a={justifyContent:"center",userSelect:"none",...i.by},s={...r,justifyContent:"flex-start",...i.Rb};function l(e){return e?a:s}function c(e){const{width:t,shouldSetCellHeight:o,propertySchema:a,type:s,isTable:c,shouldWrap:d,isCheckboxType:p,isPerson:u,isVerification:m,isDroppableType:g,isPage:h,isEmpty:f,disableTableBorderRight:v,isLast:y,isEditable:b,disabled:S,locked:w,theme:k,isCard:C,isBoard:_,isRelationSection:M,isListView:T}=e,I="select"===s||"multi_select"===s||"status"===s,P="file"===s,x="relation"===s,B="rollup"===s,Z=B&&"rollup"===(null==a?void 0:a.type)&&(null==a?void 0:a.aggregation)&&"show_unique"!==(null==a?void 0:a.aggregation),E="url"===s||"email"===s||"phone_number"===s,R={fontSize:i.Kt,overflow:"hidden",...!(h&&f)&&(I||u||P||x||B&&!Z)&&{paddingTop:0,paddingBottom:0},...p?l(c):r,...m&&!c&&{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}};return c?{display:"block",width:t,borderRight:v||y&&(S||w)?"none":`1px solid ${k.tableLightDividerColor}`,whiteSpace:d?"normal":"nowrap",height:o?n:void 0,minHeight:n,cursor:!b||S||m||w?"default":"pointer",...i.ou,...g&&{height:"100%"},...R}:C?{display:"inline-flex",alignItems:"center",borderRadius:5,paddingTop:_&&!E?4:0,paddingLeft:_&&(x||B)?2:4}:M?{display:"inline-block",alignItems:"center",marginLeft:0,minHeight:n+2,...R,...i.ac,borderRadius:5}:T?{...R,...i.AK,paddingTop:6,paddingBottom:6,borderRadius:5,alignItems:"center"}:{display:"inline-block",alignItems:"center",borderRadius:3,width:"100%",minHeight:n+2,...i.ac,...R}}},93616:(e,t,o)=>{o.d(t,{FL:()=>zt,ZP:()=>jt,mZ:()=>Kt});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(83355),c=o(1302),d=o(41432),p=o(99036),u=o(80951),m=o(3779),g=o(21202),h=o(6287),f=o(70203),v=o(95371),y=o(97880),b=o(82990),S=o(63143),w=o(5366),k=o(50906),C=o(51365),_=o(26797),M=o(77162),T=o(98834),I=o(64434),P=o(19785),x=o(68882),B=o(9953),Z=o(30149),E=o(66890),R=o(28020),A=o(49616),D=o(75079),F=o(78316),L=o(99417),V=o(88804),N=o(33929),O=o(60709),U=o(77907),H=o(69454),z=o(3815),W=o(24405),j=o(33846),K=o(74194),Y=o(3386);class G extends l.Z{constructor(){super(...arguments),this.storeTypes={inputStore:j.Z},this.handleInputChange=e=>{const{onChange:t}=this.props,o=e.target.value;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:o}),t(o)}}willMount(e){super.willMount(e);const{value:t}=e;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:t||""})}renderComponent(){const{disabled:e}=this.props;return n()(Y.Z,{capture:!e,onDelete:a().identity,onSpace:a().identity,onBackspace:a().identity,onLeft:a().identity,onRight:a().identity,onUp:a().identity,onDown:a().identity,onSelectAll:a().identity,onRedo:a().identity,onUndo:a().identity,onCut:a().identity,onCopy:a().identity,onPaste:a().identity,onKeypress:a().identity},void 0,n()(K.Z,{type:this.props.inputType,style:{...zt,display:"block"},value:this.stores.inputStore.state.inputValue,format:K.Z.Format.Transparent,onChange:this.handleInputChange,focus:!e,disabled:e}))}}G.displayName="URLPropertyValue";const X=G;var q=o(97464),$=o.n(q),J=o(73063),Q=o(16354),ee=o(58032);function te(e){window.__c={n:"TooltipLinkIconButton"};const{href:t,icon:o,tooltip:i,externalLink:r}=e;return n()(ee.Z,{renderTooltip:()=>i,render:e=>s.createElement(Q.Z,$()({href:t,external:r},e),n()(J.Z,{ariaLabel:i,icon:o,hasBackground:!0,showShadow:!0}))})}function oe(e){const{value:t,inputType:o,disabled:i,onChange:r,onDismiss:a,icon:l,tooltip:c,externalLink:d,href:p}=e,u=(0,W.yK)((()=>({textWrapper:{display:"inline-block"},buttonFloatRight:{display:"inline-block",float:"right",paddingLeft:9,paddingRight:9,paddingTop:6,paddingBottom:6}})),[]);return s.createElement(s.Fragment,null,n()("div",{style:u.textWrapper},void 0,n()(X,{value:t,inputType:o,disabled:i,onChange:r,onDismiss:a})),n()("div",{style:u.buttonFloatRight},void 0,n()(te,{href:p,icon:l,tooltip:c,externalLink:d})))}var ie=o(68709),ne=o(73420),re=o(56940),ae=o(68785),se=o(78140),le=o(40721),ce=o(89728),de=o(44532),pe=o(62518),ue=o(47307),me=o(27153),ge=o(53471),he=o(83279),fe=o(13401),ve=o(79131),ye=o(1743),be=o(72495),Se=o(95538),we=o(43593),ke=o(54604),Ce=o(5978),_e=o(95477),Me=o(49085);class Te extends Me.Z{getInitialState(){return{open:!1}}}const Ie=Te;var Pe=o(24736),xe=o(52275),Be=o(31945),Ze=o(9342),Ee=o(81865);class Re extends l.Z{constructor(){super(...arguments),this.storeTypes={filePropertyMenuItemStore:Ie},this.imageNode=void 0,this.renderRenameMenu=()=>{const{device:e}=this.environment,t=this.stores.filePropertyMenuItemStore.state;if(!t.open)return;let o;return o=e.isMobile?{menuType:O.og.ActionSheet}:{menuType:O.og.Popup,width:380},s.createElement(se.Z,o,n()("div",{style:this.getInputWrapStyle()},void 0,n()(K.Z,{style:this.getInputStyle(),value:t.inputValue,placeholder:we.w2(this.props.url),onChange:this.handleRenameInputChange,onSubmit:this.handleCloseRename,focusInitial:!0,selectAll:!0})))},this.handleFullScreen=()=>{ke.ui({environment:this.environment,renderFullScreenNode:()=>n()(Ee.Z,{url:this.props.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:300,render:(e,t)=>n()("img",{src:t,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",margin:0,alignSelf:"center",width:"100%"}})}),fullScreenNodeRect:this.imageNode.getBoundingClientRect(),block:this.props.store,imageUrl:this.props.url})},this.handleRename=()=>{this.stores.filePropertyMenuItemStore.setState({open:!0,inputValue:this.props.name})},this.handleCloseRename=()=>{this.stores.filePropertyMenuItemStore.setState({open:!1})},this.handleRenameInputChange=e=>{const t=this.stores.filePropertyMenuItemStore.state;if(!t.open)return;const o=e.target.value;this.stores.filePropertyMenuItemStore.setState({...t,inputValue:o});const i=we.rF({title:o,source:this.props.url});this.props.onChange({url:this.props.url,name:i})},this.handleViewOriginal=()=>{const{url:e,name:t}=this.props;Ce.openFileUrl(this.environment,{url:e,type:"file",from:"view_original",downloadName:t,permissionRecord:this.props.store.pointer})},this.handleDownload=()=>{const{url:e,name:t}=this.props;k.trackDownloadFile(this.environment,{url:e,fileName:t,from:"FilePropertyMenuItem"}),Ce.downloadFileUrl(this.environment,{url:e,download:!0,downloadName:t,permissionRecord:this.props.store.pointer})},this.handleDelete=()=>{this.props.onDelete(this.props.url)}}renderComponent(){const{url:e}=this.props;return Se.SR({url:e})?this.renderImage(e):this.renderFile()}renderImage(e){const{device:t}=this.environment,{disabled:o}=this.props;return n()(xe.Z,{focused:!1,showDragHandle:!o&&!t.isMobile,style:{paddingTop:t.isMobile?12:8,paddingBottom:t.isMobile?12:8,alignItems:"flex-start"},title:n()(Ee.Z,{url:e,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:300,render:(e,t)=>n()("div",{style:Re.innerStyle},void 0,s.createElement("img",{src:t,style:Re.imageStyle,onClick:this.handleFullScreen,ref:e=>this.imageNode=e}))}),right:this.renderActionMenu(!0),dontShrinkRight:!0})}renderFile(){const{device:e}=this.environment,{disabled:t}=this.props,{name:o}=this.props;return n()(de.GI,{open:this.stores.filePropertyMenuItemStore.state.open,popupType:e.isMobile?Be.Z.PopupType.SlideUp:Be.Z.PopupType.Popup,origin:n()(xe.Z,{focused:!1,showDragHandle:!t&&!e.isMobile,onClick:this.handleViewOriginal,title:o,icon:n()("div",{style:{width:e.isMobile?16:14}},void 0,m.Z.file()),right:this.renderActionMenu(!1),dontShrinkRight:!0}),render:this.renderRenameMenu,onDismiss:this.handleCloseRename})}getActionMenuItems(e){const{device:t}=this.environment,{url:o,disabled:i}=this.props,r=[];return e&&r.push({key:"fullscreen",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"Full screen",id:"database.actionMenu.fileProperty.fullscreen.title"})})),action:this.handleFullScreen}),(we.E$(o,_e.Z.secureFileS3.url)||t.isNative)&&r.push({key:"download",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"Download",id:"database.actionMenu.fileProperty.download.title"})})),action:this.handleDownload}),r.push({key:"original",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"View original",id:"database.actionMenu.fileProperty.viewOriginal.title"})})),action:this.handleViewOriginal}),i||e||r.push({key:"rename",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"Rename",id:"database.actionMenu.fileProperty.rename.title"})})),action:this.handleRename}),i||r.push({key:"delete",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"Delete",id:"database.actionMenu.fileProperty.delete.title"})})),action:this.handleDelete}),r}renderActionMenu(e){const{device:t}=this.environment;return n()(Be.Z,{popupType:t.isMobile?Be.Z.PopupType.SlideUp:Be.Z.PopupType.Popup,renderOrigin:e=>s.createElement(Pe.Z,$()({isMobile:t.isMobile},e)),render:o=>{let i;return i=t.isMobile?{menuType:O.og.ActionSheet}:{menuType:O.og.Popup,width:200},s.createElement(se.Z,i,n()(Ze.Z,{type:Ze.i.Vertical,initialFocus:0,onAccept:o.close,sections:[{key:"section",render:e=>s.createElement(be.Z,e),items:this.getActionMenuItems(e)}]}))}})}getInputWrapStyle(){return{display:"flex",alignItems:"center",color:this.theme.regularTextColor,fontSize:"13px",padding:"4px 8px"}}getInputStyle(){return{display:"flex",alignItems:"center",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,width:"100%",borderRadius:3,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text",position:"relative"}}}Re.displayName="FilePropertyMenuItem",Re.imageStyle={display:"block",maxWidth:"100%",maxHeight:180,cursor:"zoom-in"},Re.innerStyle={flex:"auto",overflow:"hidden"};const Ae=Re;var De=o(28992),Fe=o(32854);class Le extends l.Z{renderComponent(){return n()(De.Z,{title:n()("div",{style:{display:"flex"}},void 0,n()(ae.Z,{style:{marginTop:1,marginRight:6}}),n()(Fe.Z,{percentage:this.props.progressPercent}))})}}Le.displayName="ProgressMenuItem";const Ve=Le;class Ne extends l.Z{constructor(){super(...arguments),this.uploadingFiles=void 0,this.storeTypes={fileUploadStore:he.Z},this.renderFile=e=>{const{device:t}=this.environment,{value:o,disabled:i}=this.props,r=o.find((t=>t.url===e));if(r){const e=r.url,o=r.name;return t.isMobile?n()(be.Z,{},e,n()(Ae,{store:this.props.store,name:o,url:e,onDelete:this.handleFileDelete,onChange:this.handleFileChange,disabled:i})):n()(Ae,{store:this.props.store,name:o,url:e,onDelete:this.handleFileDelete,onChange:this.handleFileChange,disabled:i},e)}},this.handleAddFileMount=e=>{e&&(this.addFileButton=e)},this.handleAddFileClick=e=>{this.showMediaPicker()},this.handleDraggableDrop=e=>{const{onChange:t,value:o}=this.props;t({value:a().sortBy(o,(t=>{const o=t.url;return o?e.indexOf(o):1/0}))})},this.handleMediaPickerUploadStart=e=>{me.Z(),this.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),this.uploadingFiles=[e]},this.handleMediaPickerUploadComplete=e=>{const{value:t,onChange:o}=this.props;if(!this.uploadingFiles)return;const i=this.uploadingFiles[0];if(!i)return;o({value:[...t,{name:i.name||e,url:e}]}),this.stores.fileUploadStore.reset(),me.Z()},this.handleMediaPickerEmbedComplete=e=>{const{value:t,onChange:o}=this.props;o({value:[...t,{name:e,url:e}]}),this.stores.fileUploadStore.reset(),me.Z()},this.handleUploadFilesStart=e=>{this.stores.fileUploadStore.setState({isLoading:!0,progressPercent:0}),this.uploadingFiles=e},this.handleUploadFilesComplete=e=>{const{value:t,onChange:o}=this.props;if(!this.uploadingFiles)return;o({value:[...this.uploadingFiles.map(((t,o)=>{const i=e[o];return{name:t.name||i,url:i}})),...t]}),this.stores.fileUploadStore.reset()},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,progressPercent:t})},this.handleUploadError=()=>{this.stores.fileUploadStore.reset(),ue.showErrorMessage(n()(w.FormattedMessage,{id:"filePropertyMenu.uploadFileFailedError.message",defaultMessage:"Upload failed."}))},this.handleFileChange=e=>{const{value:t,onChange:o}=this.props;o({value:t.map((t=>t.url===e.url?{name:e.name,url:e.url}:t))})},this.handleFileDelete=e=>{const{value:t,onChange:o}=this.props;o({value:t.filter((t=>t.url!==e))})}}didMount(){const{device:e}=this.environment,{uploadFiles:t,store:o}=this.props;t?ge.IL({environment:this.environment,files:t,bucket:"secure",record:o.pointer,onBatchStart:this.handleUploadFilesStart,onBatchProgress:this.handleUploadProgress,onBatchComplete:this.handleUploadFilesComplete,onBatchError:this.handleUploadError}):this.isEmpty()&&!e.isMobile&&this.showMediaPicker()}willUnmount(){me.Z()}renderComponent(){const{device:e}=this.environment,{disabled:t}=this.props,o=this.isEmpty(),{isLoading:i,progressPercent:r}=this.stores.fileUploadStore.state;let a;return a=e.isMobile?{menuType:O.og.Modal,title:n()(w.FormattedMessage,{defaultMessage:"File property",id:"database.fileProperty.mobileMenu.title"}),right:n()(le.DoneMenuText,{}),onClickRight:this.props.onDismiss}:{menuType:O.og.Popup},n()(ye.Z,{capture:!0,allowUndo:!0,allowEsc:!0,allowTabUntab:!0},void 0,s.createElement(se.Z,a,this.renderFiles(),n()(be.Z,{topBorder:!o&&!t,desktopStyle:{...o&&{paddingTop:3,paddingBottom:3}}},void 0,i&&n()(Ve,{progressPercent:r}),!i&&!t&&s.createElement(fe.Z,{focused:!1,onClick:this.handleAddFileClick,title:n()(w.FormattedMessage,{id:"database.fileProperty.focusedLabel",defaultMessage:"Add a file or image"}),ref:this.handleAddFileMount}))))}renderFiles(){const{device:e}=this.environment,{value:t,disabled:o}=this.props,i=a().compact(t.map((e=>e.url)));return 0===i.length?void 0:e.isMobile||o?n()(s.Fragment,{},void 0,i.map(this.renderFile)):n()(be.Z,{},void 0,n()(ve.ZP,{direction:"vertical",keys:i,renderKey:this.renderFile,onDrop:this.handleDraggableDrop}))}isEmpty(){const{value:e}=this.props;return 0===e.length}showMediaPicker(){const{store:e}=this.props,t=pe.findDOMNode(this.addFileButton);if(!t)return;if(!(t instanceof Element))return;const o=N.default.getIntl();me.$(this.environment,{originRect:t.getBoundingClientRect(),originGap:3,isSmallWidth:!0,showArrow:!0,title:o.formatMessage({id:"filePropertyMenu.header",defaultMessage:"File"}),currentTab:"file",tabs:[{type:"file",fileUpload:!0,imageUpload:!1,videoUpload:!1,onUpload:t=>{ge.cT({environment:this.environment,file:t,bucket:"secure",record:e.pointer,onStart:this.handleMediaPickerUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleMediaPickerUploadComplete,onError:this.handleUploadError})}},{type:"embed",onChange:this.handleMediaPickerEmbedComplete}]})}}Ne.displayName="FilePropertyMenu";const Oe=Ne;var Ue=o(37770),He=o(66897),ze=o(19889),We=o(31299),je=o(12318),Ke=o(28463),Ye=o(43765),Ge=o(77137),Xe=o(92864),qe=o(47082),$e=o(97680);const Je=(0,w.defineMessages)({searchForPerson:{defaultMessage:"Search for a person…",id:"database.personPropertyValue.searchPlaceholder"}});class Qe extends l.Z{constructor(){super(...arguments),this.inputValue=new je.default(""),this.handlePersonPropertyMenuChange=e=>{const{schema:t,property:o}=this.props,i=t[o];if(!i||"person"!==i.type)return;let n;n=1===i.limit?e.length>0?[e[e.length-1]]:[]:e,this.props.onChange({value:n}),this.inputValue.set("")}}willMount(e){super.willMount(e),e.insertChar&&this.inputValue.set(e.insertChar)}renderComponent(){const{device:e}=this.environment,{disabled:t,intl:o,schema:i,property:r}=this.props,l=i[r];if(!l||"person"!==l.type)return;const c=this.props.value.map((o=>{const i=(0,He.Hl)({pointer:o,getRecordValue:this.props.parentStore.getRecordValue});return n()(Xe.ZP,{actor:i,format:e.isMobile?Xe.ZP.Format.Large:Xe.ZP.Format.Medium,showRemoveButton:!t,onClickRemove:()=>{const e=this.props.value.filter((e=>e.id!==o.id));this.props.onChange({value:e})},shouldShrink:!0,isSingle:!1},o.id)})),d={request:{query:this.inputValue.get(),actors:this.props.value},performRequest:async e=>{let{query:t,actors:o}=e;const{users:i}=await We.CO({environment:this.environment,query:t,membersOnly:!1});return{users:i.filter((e=>!o.some((t=>t.id===e.id)))).slice(0,20)}},render:(e,t,o)=>{if(e)return n()(be.Z,{title:(0,Ke.$)(l.limit),loading:!o},void 0,n()(Ye.Z,{title:n()(w.FormattedMessage,{defaultMessage:"Something went wrong.",id:"database.personPropertyMenu.searchErrorMessage"})}));if(t&&0===t.users.length)return n()(be.Z,{title:(0,Ke.$)(l.limit),loading:!o},void 0,n()(Ye.Z,{title:n()(w.FormattedMessage,{defaultMessage:"No results",id:"database.personPropertyMenu.noSearchResults.message"})}));const i=a().compact((t&&t.users||[]).map((e=>({key:e.id,render:t=>s.createElement($e.Z,$()({},t,{actor:(0,He.dp)(e)})),action:()=>{this.handlePersonPropertyMenuChange([...this.props.value,{table:ze.KJ,id:e.id}])}})))),r=[];return i.length>0&&r.push({key:"person section",render:e=>s.createElement(be.Z,$()({},e,{title:(0,Ke.$)(l.limit),loading:!o})),items:i}),n()(Ze.Z,{type:Ze.i.Vertical,initialFocus:this.inputValue.get().length>0?0:void 0,sections:r})}},p=n()(qe.Z,{focus:!e.isMobile||void 0,focusAfterAnimation:!0,format:qe.Z.Format.Person,tokens:c,placeholder:o.formatMessage(Je.searchForPerson),hideInput:t,onRemoveLastToken:()=>{this.props.onChange({value:this.props.value.slice(0,this.props.value.length-1)})},value:this.inputValue.get(),onChange:e=>this.inputValue.set(e.target.value),dontShowBorderBottom:e.isAndroid});let u;return u=e.isMobile?{menuType:O.og.Modal,title:l.name,right:n()(le.DoneMenuText,{}),onClickRight:this.props.onDismiss,header:p}:{menuType:O.og.Popup,header:p,tokenInputHeader:!0,maxHeight:333},t?s.createElement(se.Z,u):s.createElement(se.Z,u,s.createElement(Ge.Z,d))}}Qe.displayName="PersonPropertyMenu";const et=(0,w.injectIntl)(Qe);var tt=o(58613),ot=o(18145),it=o(43261),nt=o.n(it),rt=o(84619),at=o(4615),st=o(71644),lt=o(29798);class ct extends Me.Z{getInitialState(){return{inputValue:"",openPropertyActionMenu:void 0}}}const dt=ct;var pt=o(12534),ut=o(73456),mt=o(22084);class gt extends l.Z{constructor(){super(...arguments),this.storeTypes={renameInputStore:j.Z},this.renderActionMenuPopup=()=>{const{id:e,value:t,property:o,collectionId:i,schema:r,analyticsFrom:a,onChange:s,onCloseActionMenu:l,actionMenuOpen:c,focused:d}=this.props,{device:p}=this.environment;return n()(ut.Z,{open:c,origin:n()(Pe.Z,{onClick:this.handleActionButtonClick,isMobile:p.isMobile,style:{opacity:d||p.isMobile?1:0}}),id:e,value:t,property:o,collectionId:i,schema:r,analyticsFrom:a,onChange:s,onClose:l})},this.handleActionButtonClick=e=>{(0,pt.ZP)({event:e,context:pt.Af.MenuListClick,callback:()=>this.props.onOpenActionMenu(this.props.value)})}}willMountOrUpdate(e){e.actionMenuOpen&&!this.props.actionMenuOpen&&this.stores.renameInputStore.setState({...this.stores.renameInputStore.state,inputValue:this.props.value})}renderComponent(){const{value:e,locked:t,schema:o,property:i}=this.props,r=o[i];if(!r)return;if(!p.cu(r))return;const l=r.options||[];return n()(Y.Z,{capture:this.props.actionMenuOpen,onEnter:a().identity},void 0,s.createElement(xe.Z,$()({},this.props,{title:n()(mt.Z,{format:this.environment.device.isMobile?rt.l.Large:rt.l.Medium,value:e,options:l,showRemoveButton:!1,isSingle:!0,showEllipsis:!0}),desktopTitleStyle:{marginRight:6},isTokenTitle:!0,right:!t&&this.renderActionMenuPopup()})))}}gt.displayName="SelectPropertyMenuItem",gt.contextTypes={...O.mw,...l.w};const ht=gt;class ft extends l.Z{constructor(){super(...arguments),this.storeTypes={store:dt,menuListStore:lt.Z},this.handleSelectPropertyMenuItemChange=e=>{const{property:t,schema:o}=this.props,i=o[t];if(!i)return;if(!p.cu(i))return;const n=i.options||[],r=[...n],s={},l=this.props.value.filter((e=>{const t=n.find((t=>t.value===e));return!t||r.some((e=>e.id===t.id))}));s.operations=e,a().isEqual(l,this.props.value)||(s.value=l),this.props.onChange(s)},this.handleCloseActionMenu=()=>{this.stores.store.setState({...this.stores.store.state,openPropertyActionMenu:void 0})},this.handleOpenActionMenu=e=>{this.stores.store.setState({...this.stores.store.state,openPropertyActionMenu:e})},this.handleTokenInputChange=e=>{this.stores.store.setState({...this.stores.store.state,inputValue:""});const{collectionId:t,allowMultiple:o,property:i,schema:n,onChange:r,analyticsFrom:s}=this.props,l=n[i];if(!l)return;if(!p.cu(l))return;const c=l.options||[];let d;d=o?e:e.length>0?[e[e.length-1]]:[];const u=a().uniq(a().compact(d.map((e=>{const t=c.find((t=>t.value===e));if(t)return t.value})))),m=d.find((e=>!c.find((t=>t.value===e)))),g={value:u.concat(a().compact([m]))};if(m){const e={id:(0,at.ZP)(),value:m,color:this.createSelectColor},o={pointer:{table:h.v,id:t},command:"keyedObjectListAfter",path:["schema",i,"options"],args:{value:e}};g.operations=[o],this.setRandomCreateSelectColor(),k.trackConfigureProperty(this.environment,{...(0,D.Pn)(this.context.collectionContextStore),property_type:l.type,action:"select_add_option",from:s})}r(g)},this.handleDraggableListDrop=e=>{const{collectionId:t,property:o,schema:i,onChange:n}=this.props,r=(0,F.YL)({newOptions:e,collectionId:t,property:o,schema:i});r&&n({operations:r}),this.stores.menuListStore.reset()}}willMount(e){if(this.setRandomCreateSelectColor(),e.insertChar){const t=e.insertChar;this.stores.store.setState({...this.stores.store.state,inputValue:t})}}renderNoOptionsFound(){return n()(w.FormattedMessage,{id:"database.selectPropertyEditMenu.noResults",defaultMessage:"No options found"})}renderSelectOnlyPrompt(){return n()(w.FormattedMessage,{id:"database.selectPropertyEditMenu.selectOnlyPrompt",defaultMessage:"Select an option"})}renderSelectOrCreatePrompt(){return n()(w.FormattedMessage,{id:"database.selectPropertyEditMenu.selectOrCreatePrompt",defaultMessage:"Select an option or create one"})}renderComponent(){const{device:e}=this.environment,{disabled:t,canConfigureCollection:o}=this.props,i=this.props.schema[this.props.property];if(!i)return;if(!p.cu(i))return;const r=i.options||[],a=this.renderCurrentTokens(r),l=this.getTokenResults(this.stores.store.state.inputValue,r),c=0===l.length,d=n()(qe.Z,{focus:e.isMobile?void 0:!this.stores.store.state.openPropertyActionMenu,focusAfterAnimation:!0,format:qe.Z.Format.Select,tokens:a,placeholder:this.props.intl.formatMessage({id:"database.selectPropertyEditMenu.searchPlaceholder",defaultMessage:"Search for an option..."}),onRemoveLastToken:()=>{this.handleTokenInputChange(this.props.value.slice(0,this.props.value.length-1))},value:this.stores.store.state.inputValue,disabled:t,hideInput:t,onChange:e=>this.stores.store.setState({...this.stores.store.state,inputValue:e.target.value}),dontShowBorderBottom:e.isAndroid});let u;return u=e.isMobile?{menuType:O.og.Modal,title:i.name,right:n()(le.DoneMenuText,{}),onClickRight:this.props.onDismiss,header:d}:{menuType:O.og.Popup,header:d,tokenInputHeader:!0},t?s.createElement(se.Z,u):s.createElement(se.Z,u,c?n()(be.Z,{title:o?this.renderSelectOrCreatePrompt():this.renderNoOptionsFound()},void 0,e.isMobileNative&&n()(Ye.Z,{title:this.renderNoOptionsFound()})):n()(Ze.Z,{type:Ze.i.Vertical,initialFocus:this.stores.store.state.inputValue.length>0?0:void 0,sections:[{key:0,render:e=>this.renderMenuListSection(e,l),items:this.getSelectMenuListItems(l,r)}],onAccept:(e,t,o)=>{this.props.onAccept(o)},store:this.stores.menuListStore}))}renderMenuListSection(e,t){const{canConfigureCollection:o}=this.props;return o?s.createElement(be.Z,$()({},e,{title:this.renderSelectOrCreatePrompt(),children:n()(ve.ZP,{direction:"vertical",keys:t,renderKey:o=>e.children[t.indexOf(o)],onDrop:this.handleDraggableListDrop})})):s.createElement(be.Z,$()({},e,{title:this.renderSelectOnlyPrompt(),children:e.children}))}renderFoundSelectPropertyMenuItem(e,t){return s.createElement(ht,$()({},e,{id:t.id,value:t.value,showDragHandle:this.props.canConfigureCollection,locked:!this.props.canConfigureCollection,property:this.props.property,schema:this.props.schema,analyticsFrom:this.props.analyticsFrom,collectionId:this.props.collectionId,onChange:this.handleSelectPropertyMenuItemChange,actionMenuOpen:this.stores.store.state.openPropertyActionMenu===t.value,onCloseActionMenu:this.handleCloseActionMenu,onOpenActionMenu:this.handleOpenActionMenu}))}renderCreateSelectPropertyMenuItem(e,t,o){const{device:i}=this.environment;return s.createElement(xe.Z,$()({},e,{title:n()("div",{style:{display:"flex",minWidth:0}},void 0,n()("div",{style:{marginRight:6,lineHeight:1.3}},void 0,n()(w.FormattedMessage,{id:"database.selectPropertyEditMenu.createLabel",defaultMessage:"Create",description:"Label that appears beside the button to create a new option for select property in a database"})),n()(mt.Z,{value:o,options:[t],showRemoveButton:!1,isSingle:!0,format:i.isMobile?rt.l.Large:rt.l.Medium,showEllipsis:!0})),isTokenTitle:!0}))}getSelectMenuListItems(e,t){return e.map((e=>{const o=t.find((t=>t.value===e));return{key:e,render:t=>{if(o)return this.renderFoundSelectPropertyMenuItem(t,o);{const o={id:(0,st.ZP)(),value:e,color:this.createSelectColor};return this.renderCreateSelectPropertyMenuItem(t,o,e)}},action:()=>{this.handleTokenInputChange([...this.props.value,e])}}}))}renderCurrentToken(e,t,o){const{device:i}=this.environment,{disabled:r}=this.props;return n()(mt.Z,{value:t,options:o,showRemoveButton:!r,isSingle:!1,format:i.isMobile?rt.l.Large:rt.l.Medium,shouldShrink:!0,onClickRemove:()=>{this.handleTokenInputChange(this.props.value.filter((e=>e!==t)))},showEllipsis:!0},e.id)}renderCurrentTokens(e){return a().compact(this.props.value.map((t=>{const o=e.find((e=>e.value===t));if(o)return this.renderCurrentToken(o,t,e)})))}getTokenResults(e,t){const o=t.map((e=>e.value));let i;if(e){i=nt().filter(e,o).map((e=>e.original));!t.find((t=>t.value===e))&&e.trim().length>0&&this.props.canConfigureCollection&&i.push(e.trim().replace(/,/g,""))}else i=o;return i}setRandomCreateSelectColor(){const{schema:e,property:t}=this.props,o=e[t];if(!o)return;if(!p.cu(o))return;const i=o.options||[],n=(0,p.TL)(i);this.createSelectColor=n}}ft.displayName="SelectPropertyMenu",ft.contextTypes={...l.w,...E.xm};const vt=(0,w.injectIntl)(ft);var yt=o(480),bt=o(81954),St=o(5149),wt=o(97180);function kt(e){window.__c={n:"StatusPropertyMenu"};const{device:t}=(0,yt.O7)(),[o,i]=s.useState(e.initialValue??""),[r,l]=s.useState(""),c=(0,w.useIntl)(),d=(0,bt.VK)((()=>{const t=e.blockPropertyValueOverlayStore.state;if(t.isOpen)return t.collectionContextStore}),[e.blockPropertyValueOverlayStore]),p=(0,bt.VK)((()=>(null==d?void 0:d.permissionScopes.state.canConfigureCollection)&&"collectionPage"!==(null==d?void 0:d.contextType)),[d]),g=e.propertySchema.options??[],h=g.find((e=>e.value===o)),f=e.propertySchema.groups??[],v=h&&f.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(h.id)})),b=h&&n()(mt.Z,{value:h.value,options:g,showRemoveButton:!0,isSingle:!1,format:t.isMobile?rt.l.Large:rt.l.Medium,shouldShrink:!0,onClickRemove:()=>{i(""),e.onChange("")},showColoredDot:(0,u.JR)(h,v),isRound:!0},h.id),S=n()(qe.Z,{focus:!t.isMobile||void 0,focusAfterAnimation:!0,format:qe.Z.Format.Select,tokens:[b],placeholder:c.formatMessage({id:"database.selectPropertyEditMenu.searchStatusPlaceholder",defaultMessage:"Search for an option",description:"When searching for an option in a status property"}),onRemoveLastToken:()=>{},value:r,disabled:e.disabled,hideInput:e.disabled,onChange:e=>{l(e.target.value)},dontShowBorderBottom:t.isAndroid});let k;if(k=t.isMobile?{menuType:O.og.Modal,title:e.propertySchema.name,right:n()(le.DoneMenuText,{}),onClickRight:e.onDismiss,header:S}:{menuType:O.og.Popup,header:S,tokenInputHeader:!0},e.disabled)return s.createElement(se.Z,k);const{propertySchema:C}=e,_=C.options??[];let M=_;if(""!==r){const e=nt().filter(r,_.map((e=>e.value))).map((e=>e.original));M=_.filter((t=>e.includes(t.value)))}const T=(C.groups??[]).map((e=>{const t=M.filter((t=>{var o;return null===(o=e.optionIds)||void 0===o?void 0:o.includes(t.id)}));if(0!==t.length)return{group:e,groupOptions:t}})).filter(y.$K),P=T.length>1,x=T.map(((o,i)=>{let{group:r,groupOptions:a}=o;return{items:a.map((o=>({key:o.value,render:e=>{const i=e.key;return s.createElement(xe.Z,$()({},e,{focused:e.focused,title:n()(mt.Z,{value:i,options:a,showRemoveButton:!1,isSingle:!0,showColoredDot:(0,u.JR)(o,r),isRound:!0,format:t.isMobile?rt.l.Large:rt.l.Medium}),isTokenTitle:!0}))},action:()=>{e.onChange(o.value)}}))),key:`group-${i}`,render:e=>s.createElement(s.Fragment,null,s.createElement(be.Z,$()({},e,{topBorder:e.index>0,title:P&&n()(wt.r,{group:r,showColor:!1,style:{fontSize:12}})})))}})),B=d&&p?{items:[{key:"edit property",render:e=>s.createElement(xe.Z,$()({},e,{title:n()(w.FormattedMessage,{defaultMessage:"Edit property",id:"database.tableHeaderCell.editProperty"}),icon:m.Z.options({width:14})})),action:()=>{const t=d.settingsStore,o=d.collectionStore();o&&(e.onDismiss(),I.n1({collectionContextStore:d}),St.r$({collectionContextStore:d,collectionSettingsStore:t}),St.H4({collectionSettingsStore:t,item:{type:"property",formatKey:d.getPropertyFormatKey(),property:e.property,collectionPointer:o.pointer}}))}}],key:"edit-property",render:e=>s.createElement(be.Z,$()({},e,{topBorder:e.index>0}))}:void 0;return s.createElement(se.Z,k,n()(Ze.Z,{type:Ze.i.Vertical,initialFocus:r.length>0?0:void 0,sections:a().compact([...x,B]),onAccept:(t,o,i)=>{e.onAccept(i)}}))}var Ct=o(65187),_t=o(42875),Mt=o(89837),Tt=o(4308);function It(e){window.__c={n:"RemoveVerificationButton"};const{onClick:t}=e;return n()(be.Z,{topBorder:!0},void 0,n()(xe.Z,{focused:!1,icon:m.Z.close({width:14,marginLeft:0}),title:n()(w.FormattedMessage,{defaultMessage:"Remove verification",id:"VerificationPropertyOverlayMenu.removeVerificationButton",description:"Label for button to remove verification dates for a page in a wiki."}),onClick:t,style:{fontSize:14}}))}var Pt=o(17126),xt=o(66653),Bt=o(93289);const Zt=(0,w.defineMessages)({placeholder:{id:"VerificationExpiryMenu.pickSpecificDate.placeholder",defaultMessage:"Pick a date",description:"Placeholder for input to pick a specific (non-preset) verification date for a page in a wiki."}});function Et(e){window.__c={n:"VerificationCustomDatePicker"};const{onChange:t,clearCustomDatePicker:o}=e,i=(0,s.useRef)(e.today),r=(0,s.useRef)(e.today.plus({days:1})),[a,l]=(0,s.useState)(!1),c=(0,bt.VK)((()=>R.AK.state),[]);return n()(be.Z,{mobileStyle:{paddingBottom:10},style:{padding:"12px 0"}},void 0,n()(xt.Z,{placeholder:N.default.formatMessage(Zt.placeholder),focused:a,value:"verified"!==e.verificationState.type||e.verificationState.isIndefinite?void 0:Mt.ME(e.verificationState.dateTimeRange.end),onUpdate:e=>{if(e.error)return;const n=e.value&&Mt.XI(e.value);n?t({start:i.current,end:n.start}):o()},onFocus:()=>l(!0),onBlur:()=>l(!1),onClearButtonClick:o,hideClearButton:!0}),n()(Bt.Z,{firstDayOfWeek:c,value:r.current.toMillis(),selectValue:!1,onChange:e=>{t({start:i.current,end:Pt.ou.fromMillis(e)})},disabledDays:{before:new Date(r.current.toMillis())}}))}var Rt=o(70693);function At(e){window.__c={n:"VerificationExpiryPickerMenu"};const{verificationState:t,onChange:o,onCustomDateClick:i}=e,r=(0,w.useIntl)(),a=(0,s.useRef)(e.today),l=(0,W.yK)((e=>({title:{fontSize:14,color:e.regularTextColor},optionsContainer:{width:"100%"},clockIconStyle:{width:14,marginLeft:0,marginTop:2}})),[]),c="expired"===t.type||"none"===t.type?n()(w.FormattedMessage,{defaultMessage:"Verify page",id:"VerificationExpiryPicker.verify.header",description:"Title for the section showing the verification options to verify a page's content"}):n()(w.FormattedMessage,{defaultMessage:"Reverify page",id:"VerificationExpiryPicker.reverify.header",description:"Title for the section showing the verification options to reverify a page"}),d="verified"===t.type&&t.isIndefinite,p="verified"===t.type&&!t.isIndefinite&&t.dateTimeRange.end;return n()(be.Z,{title:c},void 0,Tt.Xs.map((e=>{const t=p&&Tt.fm({start:a.current,end:p})===e;return n()(xe.Z,{focused:!1,icon:m.Z.alarmClock(l.clockIconStyle),inline:!1,title:n()("span",{style:l.title},void 0,n()(w.FormattedMessage,{defaultMessage:"For {numDays} days",id:"VerificationExpiryMenu.preset.title",description:"Option to verify a page for the specified number of days.",values:{numDays:e}})),caption:r.formatMessage({defaultMessage:"Until {date}",id:"VerificationExpiryMenu.preset.subtitle",description:"Option to verify a page until the specified date."},{date:Rt.mb({dateTime:Tt.z5(e,a.current).end,intl:r,shortenDateAndRange:!0})}),checkState:!!t,onClick:()=>{return t=e,void o({start:a.current,end:a.current.plus({days:t})});var t}},e)})),n()(xe.Z,{focused:!1,icon:m.Z.infinity({width:14,marginLeft:0,marginTop:1}),inline:!1,title:n()("span",{style:l.title},void 0,n()(w.FormattedMessage,{defaultMessage:"Indefinitely",id:"VerificationExpiryPicker.option.indefinitely",description:"Title for option to verify a page indefinitely"})),onClick:()=>o(),checkState:d},"indefinite"),n()(xe.Z,{focused:!1,icon:m.Z.calendar({width:14,marginLeft:0}),title:n()("span",{style:l.title},void 0,n()(w.FormattedMessage,{defaultMessage:"Pick a date",id:"VerificationExpiryPicker.option.customDate",description:"Title for option to pick a custom date from a calendar date picker"})),onClick:i},"custom"))}var Dt=o(64369);function Ft(e){window.__c={n:"VerificationMetadata"};const{getRecordValue:t,actorPointer:o,lastVerifiedDate:i}=e,r=(0,yt.Fy)(),a=(0,w.useIntl)(),s=(0,bt.VK)((()=>(0,He.$4)(a,(0,He.Hl)({pointer:o,getRecordValue:t}))),[t,a,o]);return n()("div",{style:{padding:"8px 14px"}},void 0,n()(Dt.Z,{isSmall:!0,isSecondaryColor:!0,isMobile:r.isMobile,isMultiline:!0,style:{marginBottom:4}},void 0,n()(w.FormattedMessage,{defaultMessage:"Last verified by {user}",id:"VerificationMetadata.lastVerified",description:"Label for when a page was last verified. This will be followed by the last verified date.",values:{user:s}})),n()(Dt.Z,{isSmall:!0,isSecondaryColor:!0,isMobile:r.isMobile},void 0,(0,Rt.mb)({dateTime:i,intl:a})))}var Lt=o(11028);function Vt(e){window.__c={n:"VerificationPropertyOverlayMenu"};const{verificationValue:t,getRecordValue:o,onChange:i,blockId:r,propertyName:a,onClose:l}=e,c=(0,yt.O7)(),d=(0,yt.Fy)(),p=(0,W.Fg)(),[u,m]=(0,s.useState)(!1),g=(0,s.useMemo)((()=>Tt.WN(t)),[t]),h="verified"===g.type,f=(0,s.useRef)(Mt.Uu((0,_t.r)())),v=(0,s.useRef)(Mt.Uu((0,_t.r)()).plus({days:1})),y=e=>{var t;const o=null===(t=c.currentUser)||void 0===t?void 0:t.id;if(!o)return;if(null!=e&&e.end&&e.end.toMillis()<v.current.toMillis())return;const n={table:ze.KJ,id:o},a=e?Mt.OQ.toPersistedDateTimeRange(e):Mt.OQ.toPersistedDateTime(f.current.toMillis()),s="none"===g.type?"add":"update";k.trackVerificationUpdate(c,{action:s,verification_page_id:r,verification_expiry:e?e.end.toMillis():void 0}),i({value:[n,a]})};let b={menuType:O.og.Popup,footer:"none"!==g.type&&n()("div",{style:{borderTop:`1px solid ${p.regularDividerColor}`}},void 0,n()(Ft,{lastVerifiedDate:h&&g.isIndefinite?g.startDateTime:g.dateTimeRange.start,getRecordValue:o,actorPointer:g.actorPointer}))};return d.isMobile&&(b={...b,title:a,menuType:O.og.Modal,right:n()(le.DoneMenuText,{}),onClickRight:l}),s.createElement(se.Z,$()({},b,{header:!u&&"none"!==g.type&&s.createElement(s.Fragment,null,n()("div",{style:{padding:d.isMobile?10:7,paddingLeft:d.isMobile?20:7,background:d.isMobile?p.popoverBackground:p.tokenInputMenuItemBackground,display:"flex",alignItems:"center",borderBottom:`1px solid ${p.regularDividerColor}`}},void 0,n()(Lt.z,{verificationValue:t,fontSize:"large",showLabelIfEmpty:!1})))}),u?n()(Et,{today:f.current,verificationState:g,onChange:e=>y(e),clearCustomDatePicker:()=>m(!1)}):s.createElement(s.Fragment,null,n()(At,{today:f.current,verificationState:g,onChange:e=>y(e),onCustomDateClick:()=>m(!0)}),(h||"expired"===g.type)&&n()(It,{onClick:()=>{k.trackVerificationUpdate(c,{action:"remove",verification_page_id:r}),i({value:void 0})}})))}var Nt=o(32056);class Ot extends l.Z{constructor(){super(...arguments),this.storeTypes={inputStore:j.Z},this.handleInputChange=e=>{const t=e.target.value;this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:t});let o=Nt.p3(t);"percent"===this.props.format&&void 0!==o&&(o/=100),this.props.onChange(o)}}willMount(e){super.willMount(e);const{value:t,format:o,insertChar:i,intl:n}=e;i?this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:i}):this.stores.inputStore.setState({...this.stores.inputStore.state,inputValue:Nt.uf(t,o,n)||""})}renderComponent(){const{disabled:e}=this.props;return n()(Y.Z,{capture:!e,onDelete:a().identity,onSpace:a().identity,onBackspace:a().identity,onLeft:a().identity,onRight:a().identity,onUp:a().identity,onDown:a().identity,onSelectAll:a().identity,onRedo:a().identity,onUndo:a().identity,onCut:a().identity,onCopy:a().identity,onPaste:a().identity,onKeypress:a().identity},void 0,n()(K.Z,{style:{...zt,display:"block"},value:this.stores.inputStore.state.inputValue,format:K.Z.Format.Transparent,onChange:this.handleInputChange,inputStyle:this.getInputStyle(),focus:!e,disabled:e}))}getInputStyle(){const{isTable:e}=this.props;return{textAlign:e?"right":"left"}}}Ot.displayName="NumberPropertyValue";const Ut=(0,w.injectIntl)(Ot);var Ht=o(78030);const zt=Object.freeze({paddingLeft:9,paddingRight:9,paddingTop:6,paddingBottom:6,fontSize:14,minHeight:34});class Wt extends l.Z{constructor(){super(...arguments),this.previousPopupProps=void 0,this.renderOverlay=()=>{const e=this.props.store.state;if(e.isOpen)return n()(Y.Z,{capture:!0,onTab:this.handleTab,onUntab:this.handleUntab,onEnter:this.handleEnter,onDelete:a().identity,onBackspace:a().identity},`${e.store.id}${e.property}`,n()(E.L1,{value:e.collectionContextStore},void 0,this.renderAutofillUpdateButton(e),n()("div",{style:{overflowY:"auto",flexGrow:1}},void 0,this.renderOverlayContent(e))))},this.renderTitle=(e,t)=>{const{clonedStore:o}=e;return n()(re.Z,{capture:!0,ignoreBlockSelection:!0,restoreSelection:!0,focusOffscreenInput:!1,render:()=>n()("div",{style:Wt.titleStyle},void 0,n()(Ct.Z,{store:o.getTitleStore()||o.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:this.handleEnter,onEsc:this.handleEsc,onTab:this.handleTab,onUntab:this.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableShiftEnter:!0,onChange:()=>this.handleTextChange(e,t),disabled:this.isDisabled(e),pasteBehavior:"inline"}))})},this.bulkAutofillButton=e=>{var t;const{store:o,collectionsBulkActionsToolbarStore:i}=e,r=this.getNormalizedPropertySchema(e),a=r&&p.qQ(r)&&(0,L.Q$)(r);if((0,L.RT)(this.environment,null===(t=this.pageContext)||void 0===t?void 0:t.publicEditModeStore.state,o)&&i)return n()(ce.Z,{style:{width:"100%",height:"auto",borderTop:`1px solid ${this.theme.regularDividerColor}`},onClick:()=>{const t=i.state.textStoresBeingEdited;if(!(0,y.Of)(t))return;const o=this.getNormalizedPropertySchema(e);o&&x.C({environment:this.environment,stores:t,property:e.property,propertySchema:o,userEventForAnalytics:"generate_from_overlay_button"})}},void 0,n()(ne.X2,{gap:8,padding:8,alignItems:"start"},void 0,m.Z.magicWand({width:18,fill:this.theme.accentColors.purple[400]}),n()(ne.sg,{gap:4},void 0,n()("div",{style:{fontSize:14}},void 0,n()(w.FormattedMessage,a?{defaultMessage:'Fill with "{inferenceName}"',id:"BlockPropertyValueOverlay.bulkAiAutofillButton.titleWithInferenceName",description:"Button to fill a property with a specific Notion AI action for multiple pages in a database",values:{inferenceName:N.default.formatMessage(a)}}:{defaultMessage:"Fill with AI",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.title",description:"Button to fill a property with Notion AI for multiple pages in a database"})),n()("div",{style:{fontSize:12,color:this.theme.mediumTextColor,whiteSpace:"normal",lineHeight:"1.4em"}},void 0,n()(w.FormattedMessage,{defaultMessage:"Update {numPages} pages. {numNonEmpty} are already filled.",id:"BlockPropertyValueOverlay.bulkAiAutofillButton.countAndDescription",description:"Button description to fill a property with Notion AI for multiple pages in a database",values:{numPages:i.getNumberOfTextStoresBeingEdited(),numNonEmpty:i.getNumberOfTextStoresBeingEdited()-i.textStoresWithEmptyProperty(e.property).length}})))))},this.renderText=(e,t)=>{const{clonedStore:o}=e;return n()(re.Z,{capture:!0,ignoreBlockSelection:!0,restoreSelection:!0,focusOffscreenInput:!1,render:()=>s.createElement(s.Fragment,null,n()("div",{style:zt},void 0,n()(Ct.Z,{store:o.getPropertyStore(e.property),disableSlashCommands:!0,onEnter:this.handleEnter,onEsc:this.handleEsc,onTab:this.handleTab,onUntab:this.handleUntab,disableSelectAllBlocks:!0,disableSelectionDrag:!0,onChange:()=>this.handleTextChange(e,t),disabled:this.isDisabled(e),pasteBehavior:"inline"})),this.bulkAutofillButton(e))})},this.renderURLWithAction=(e,t)=>{const o=this.getPropertyValue(e),i=u.zB(o),r=u.Hw(t,o),a=A.eL(t);return a&&n()(oe,{value:i,inputType:a.inputType,disabled:this.isDisabled(e),onChange:this.handleURLValueChange,onDismiss:this.close,href:r,icon:a.icon,tooltip:a.tooltip,externalLink:!0})},this.renderURL=(e,t)=>{const o=u.zB(this.getPropertyValue(e));let i="url";return"phone_number"===t?i="tel":"email"===t&&(i="email"),n()(X,{value:o,inputType:i,disabled:this.isDisabled(e),onChange:this.handleURLValueChange,onDismiss:this.close})},this.renderNumber=e=>{const t=e.format===Ht.C.Table,o=u.VY(this.getPropertyValue(e)),i=this.getNormalizedPropertySchema(e);if(i&&"number"===i.type)return n()(Ut,{value:o,isTable:t,format:i.number_format||"number",disabled:this.isDisabled(e),insertChar:e.insertChar,onChange:this.handleNumberValueChange})},this.renderSelect=e=>{const t=this.getSchema(e),o=this.getCollectionStore(e),i=this.getNormalizedPropertySchema(e);if(!o||!i||"select"!==i.type)return;const r=i.options||[],a=u.Sj(this.getPropertyValue(e),r);return n()(vt,{allowMultiple:!1,value:a?[a]:[],property:e.property,collectionId:o.id,schema:t,disabled:this.isDisabled(e),canConfigureCollection:this.canConfigureCollection(e),onChange:this.handleSelectPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:this.handleSelectPropertyMenuAccept,onDismiss:this.close})},this.renderMultiSelect=e=>{const t=this.getSchema(e),o=this.getCollectionStore(e),i=this.getNormalizedPropertySchema(e);if(!o||!i||"multi_select"!==i.type)return;const r=i.options||[],a=u.uP(this.getPropertyValue(e),r);return n()(vt,{allowMultiple:!0,value:a,property:e.property,collectionId:o.id,schema:t,disabled:this.isDisabled(e),canConfigureCollection:this.canConfigureCollection(e),onChange:this.handleSelectPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onAccept:this.handleSelectPropertyMenuAccept,onDismiss:this.close})},this.renderStatus=e=>{const t=this.getCollectionStore(e),o=this.getNormalizedPropertySchema(e);if(!t||!o||"status"!==o.type)return;const i=u.ZG(this.getPropertyValue(e),o);return n()(kt,{initialValue:i,property:e.property,propertySchema:o,disabled:this.isDisabled(e),onDismiss:this.close,onChange:e=>this.handleSelectPropertyMenuUpdate({value:e?[e]:[]}),onAccept:this.handleSelectPropertyMenuAccept,blockPropertyValueOverlayStore:this.props.store})},this.renderPerson=e=>{const t=this.getSchema(e),o=this.getNormalizedPropertySchema(e);if(!o||"person"!==o.type)return;const i=u.DW({textValue:this.getPropertyValue(e),propertySchema:o});return n()(et,{value:i,property:e.property,schema:t,disabled:this.isDisabled(e),onChange:this.handlePersonPropertyMenuUpdate,insertChar:e.insertChar,onDismiss:this.close,parentStore:e.store})},this.renderRelation=e=>{const t=this.getSchema(e),o=u.rq(this.getPropertyValue(e)),i=this.getCollectionStore(e);if(i)return n()(tt.Z,{value:o,property:e.property,collectionStore:i,schema:t,disabled:this.isDisabled(e),canConfigureCollection:this.canConfigureCollection(e),onChange:this.handleRelationPropertyMenuUpdate,analyticsFrom:this.getAnalyticsFrom(e),insertChar:e.insertChar,onDismiss:this.close,blockStore:e.store,blockPropertyValueOverlayStore:this.props.store,overlayMode:e.mode})},this.renderRollup=e=>{const t=this.getSchema(e);return n()(ot.Z,{context:ot.t.BlockPropertyOverlay,property:e.property,schema:t,disabled:this.isDisabled(e)||!this.canConfigureCollection(e)||this.isTypedPropertyStore.state,onChange:this.handleRollupPropertyMenuUpdate,parentStore:e.store,analyticsFrom:this.getAnalyticsFrom(e),onDismiss:this.close})},this.renderDate=e=>{const t=this.getNormalizedPropertySchema(e);if(!t||"date"!==t.type)return;const o=u.Gl(this.getPropertyValue(e));return n()(U.DependencyConsumer,{dependency:U.deps.menus},void 0,(i=>{let{DatePropertyMenu:r}=i;return n()(r,{firstDayOfWeek:R.AK.state,value:o,onChangeValue:this.handleDatePropertyValueChange,dateFormat:t.date_format,onChangeDateFormat:this.handleDatePropertyDateFormatChange,timeFormat:t.time_format,disabled:this.isDisabled(e),canConfigureCollection:this.canConfigureCollection(e),onChangeTimeFormat:this.handleDatePropertyTimeFormatChange,onDismiss:this.close,shouldShowReminder:!0,allowTabUntab:!0})}))},this.renderFile=e=>{const t=this.getSchema(e),o=u.g(this.getPropertyValue(e));return n()(Oe,{store:e.store,value:o,property:e.property,schema:t,onDismiss:this.close,uploadFiles:e.uploadFiles,disabled:this.isDisabled(e),onChange:t=>{Z.createAndCommit({userAction:"BlockPropertyValueOverlay.renderFile",environment:this.environment,perform:o=>{if(S.z4(t.schema)||this.setSchema(t.schema,o),!S.z4(t.value)){const i=u.CC(t.value);for(const t of this.getPropertyStores(e))B.sO({store:t,value:i,transaction:o});this.trackEditPropertyValue(e)}}})}})},this.renderFormula=e=>{const{device:t}=this.environment,i=this.getSchema(e),{store:r}=e,a=r.getValue();if(a)return n()(Ue.Z,{fetch:()=>Promise.resolve().then(o.bind(o,73240)),loading:e=>t.isMobile?n()(se.Z,{menuType:O.og.Modal,title:n()(w.FormattedMessage,{defaultMessage:"Formula",id:"database.propertyValues.mobileFormulaMenu.title"}),left:n()(le.CancelMenuText,{}),onClickLeft:this.handleFormulaPropertyMenuCancelClick},void 0,n()("div",{style:{width:"100%",paddingTop:"2em",display:"flex",alignItems:"center",justifyContent:"center"}},void 0,e&&n()(ae.Z,{}))):n()("div",{style:{height:358,width:580,display:"flex",alignItems:"center",justifyContent:"center"}},void 0,e&&n()(ae.Z,{})),render:t=>{let{default:o}=t;return n()(o,{property:e.property,exampleBlock:a,disabled:this.isDisabled(e)||!this.canConfigureCollection(e)||this.isTypedPropertyStore.state,schema:i,onChange:this.handleFormulaPropertyMenuUpdate,onClickCancel:this.handleFormulaPropertyMenuCancelClick,analyticsFrom:this.getAnalyticsFrom(e)})}})},this.renderVerificationOverlay=e=>{const t=this.getNormalizedPropertySchema(e);if("verification"!==(null==t?void 0:t.type))return;const o=u._w(this.getPropertyValue(e));return n()(Vt,{propertyName:t.name,onChange:t=>{Z.createAndCommit({userAction:"BlockPropertyValueOverlay.verification",environment:this.environment,perform:o=>{const i=u.Tp(t.value);for(const t of this.getPropertyStores(e))B.sO({store:t,value:i,transaction:o});this.trackEditPropertyValue(e)}}),this.close()},verificationValue:o,getRecordValue:e.store.getRecordValue,blockId:e.store.id,onClose:()=>this.close()})},this.isTypedPropertyStore=this.createComputedStore((()=>{var e;const t=this.props.store.state;if(!t.isOpen)return!1;const o=null===(e=t.collectionContextStore)||void 0===e?void 0:e.collectionStore();if(!o)return!1;const i=t.property;return Boolean(o.getDatabaseType()&&o.isTypedProperty(i))})),this.renderFunctions={title:this.renderTitle,text:this.renderText,relation:this.renderRelation,rollup:this.renderRollup,select:this.renderSelect,multi_select:this.renderMultiSelect,status:this.renderStatus,person:this.renderPerson,number:this.renderNumber,date:this.renderDate,file:this.renderFile,url:this.renderURL,phone_number:this.renderURL,email:this.renderURL,formula:this.renderFormula,checkbox:void 0,created_by:void 0,created_time:void 0,last_edited_by:void 0,last_edited_time:void 0,button:void 0,auto_increment_id:void 0,location:void 0,verification:this.renderVerificationOverlay},this.renderListFunctions={title:this.renderTitle,text:this.renderText,relation:this.renderRelation,rollup:this.renderRollup,select:this.renderSelect,multi_select:this.renderMultiSelect,status:this.renderStatus,person:this.renderPerson,number:this.renderNumber,date:this.renderDate,file:this.renderFile,url:this.renderURLWithAction,phone_number:this.renderURLWithAction,email:this.renderURLWithAction,formula:this.renderFormula,checkbox:void 0,created_by:void 0,created_time:void 0,last_edited_by:void 0,last_edited_time:void 0,button:void 0,auto_increment_id:void 0,location:void 0,verification:this.renderVerificationOverlay},this.handleBgClick=()=>{C.fG({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleEsc=()=>{C.i2({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleTab=()=>{C.$o({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleUntab=()=>{C.RX({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleEnter=()=>{C.gT({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})},this.handleSelectPropertyMenuAccept=e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=this.getNormalizedPropertySchema(t);!o||"select"!==o.type&&"status"!==o.type||c.default.afterNextFlush((()=>{e?C.gT({environment:this.environment,blockPropertyValueOverlayStore:this.props.store}):C.i2({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})}))},this.handleSelectPropertyMenuUpdate=e=>{const t=this.props.store.state;t.isOpen&&Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleSelectPropertyMenuUpdate",environment:this.environment,perform:o=>{if(S.z4(e.operations)||this.applyOperationsToSchema(e.operations,o),!S.z4(e.value)){const i=u.zq(e.value);for(const e of this.getPropertyStores(t))B.sO({store:e,value:i,transaction:o});this.trackEditPropertyValue(t)}}})},this.handlePersonPropertyMenuUpdate=e=>{const t=this.props.store.state;t.isOpen&&Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handlePersonPropertyMenuUpdate",environment:this.environment,perform:o=>{if(S.z4(e.schema)||this.setSchema(e.schema,o),!S.z4(e.value)){const i=u.C1(e.value);for(const e of this.getPropertyStores(t))B.sO({store:e,value:i,transaction:o});this.trackEditPropertyValue(t)}}})},this.handleRelationPropertyMenuUpdate=async e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=this.getNormalizedPropertySchema(t);if(!o||"relation"!==o.type)return;const i="relation"===o.type&&p.F0(o),n=i&&new z.NW(this.environment,{table:h.v,id:i});n&&await n.load();const r=this.getSchema(t);Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleRelationPropertyMenuUpdate",environment:this.environment,perform:o=>{if(e.newPage&&i&&n){const i=f.TP(e.newPage.name),r=n.getRootPagePointer(),a=r??n.pointer,s={id:e.newPage.id,version:0,type:d.Ti.page,parent_id:a.id,parent_table:a.table,properties:{title:i},alive:!0,collection_id:void 0,space_id:e.newPage.spaceId},l=B.ae({environment:this.environment,table:g.iU,value:s,inMemoryRecordCache:t.store.inMemoryRecordCache,transaction:o});if(r){const e=new z.G(this.environment,{table:r.table,id:r.id}),t=new z.G(this.environment,{table:g.iU,id:s.id});P.jG({parentStore:e,childStore:t,transaction:o})}const c=n.getDefaultTemplatePageStore();c&&T.ob({title:{text:i},environment:this.environment,store:z.G.createChildStore(n,l.pointer),templateStore:c,isKeyboard:!1,isCreateIn:!1,transaction:o,from:"relation_property_menu_update"})}if(e.value){const i=u.ow(e.value);for(const e of this.getPropertyStores(t))B.sO({store:e,value:i,transaction:o});this.trackEditPropertyValue(t)}if(e.rollupPropertyId&&e.rollupPropertySchema){const t={...r,[e.rollupPropertyId]:e.rollupPropertySchema};this.setSchema(t,o)}}}),e.rollupPropertyId&&(await c.default.afterNextFlush(),C.mm({environment:this.environment,blockPropertyValueOverlayStore:this.props.store,openProperty:e.rollupPropertyId}))},this.handleDatePropertyValueChange=e=>{const t=this.props.store.state;t.isOpen&&Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyValueChange",environment:this.environment,perform:o=>{for(const i of this.getAllEditStores(t))_.xD({environment:this.environment,store:i,type:"dateValue",dateValue:e,propertyId:t.property,transaction:o});e||C.i2({environment:this.environment,blockPropertyValueOverlayStore:this.props.store}),this.trackEditPropertyValue(t)}})},this.handleDatePropertyDateFormatChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=this.getNormalizedPropertySchema(t);if(!o||"date"!==o.type)return;const i=this.getSchema(t),n={...o,date_format:e},r={...i,[t.property]:n};var a;(Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyDateFormatChange",environment:this.environment,perform:e=>{this.setSchema(r,e)}}),n)&&(this.getAnalyticsFrom(t),k.trackConfigureProperty(this.environment,{property_type:n.type,action:"date_change_format",from:this.getAnalyticsFrom(t),collection_id:null===(a=this.getCollectionStore(t))||void 0===a?void 0:a.id}))},this.handleDatePropertyTimeFormatChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=this.getNormalizedPropertySchema(t);if(!o||"date"!==o.type)return;const i=this.getSchema(t),n={...o,time_format:e},r={...i,[t.property]:n};var a;(Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleDatePropertyTimeFormatChange",environment:this.environment,perform:e=>{this.setSchema(r,e)}}),n)&&(this.getAnalyticsFrom(t),k.trackConfigureProperty(this.environment,{property_type:n.type,action:"date_change_format",from:this.getAnalyticsFrom(t),collection_id:null===(a=this.getCollectionStore(t))||void 0===a?void 0:a.id}))},this.handleFormulaPropertyMenuUpdate=e=>{let{propertySchema:t,close:o}=e;const i=this.props.store.state;i.isOpen&&(Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleFormulaPropertyMenuUpdate",environment:this.environment,perform:e=>{this.updateSchema({[i.property]:t},e)}}),o&&this.close())},this.handleNumberValueChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=u.eP(e);Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleNumberValueChange",environment:this.environment,perform:e=>{for(const i of this.getPropertyStores(t))B.sO({store:i,value:o,transaction:e})}}),this.trackEditPropertyValue(t)},this.handleURLValueChange=e=>{const t=this.props.store.state;if(!t.isOpen)return;const o=u.iD(e);Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleURLValueChange",environment:this.environment,perform:e=>{for(const i of this.getPropertyStores(t))B.sO({store:i,value:o,transaction:e})}}),this.trackEditPropertyValue(t),k.trackUrlPaste(this.environment,{pastedText:e,source:"url_property"})},this.handleTextChange=(e,t)=>{this.measurePropertyOverlayTypingLagUntilNextRender(e,t);const{store:o,property:i,additionalStores:n}=e,r=o.getPropertyStore(i).getValue();Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleTextChange",environment:this.environment,perform:e=>{for(const t of n)B.sO({store:t.getPropertyStore(i),value:r,transaction:e})}}),this.trackEditPropertyValue(e)},this.handleRollupPropertyMenuUpdate=e=>{const t=this.props.store.state;t.isOpen&&Z.createAndCommit({userAction:"BlockPropertyValueOverlay.handleRollupPropertyMenuUpdate",environment:this.environment,perform:o=>{this.updateSchema({[t.property]:e.propertySchema},o)}})},this.handleFormulaPropertyMenuCancelClick=()=>{this.props.store.setState({...this.props.store.state,isOpen:!1})},this.close=()=>{C.xv({environment:this.environment,blockPropertyValueOverlayStore:this.props.store})}}willMount(e){super.willMount(e),this.trackRenderTime({isFirstRender:!0})}willUpdate(e){super.willUpdate(e),this.trackRenderTime({isFirstRender:!1})}renderComponent(){const{device:e}=this.environment,t=this.props.store.state;let o,i,n;if(t.isOpen){const s=t.format===Ht.C.Page,u=this.getNormalizedPropertySchema(t),m=u&&u.type,g=t.store.canEdit();let h=t.rect.top,f=t.rect.left,y=t.rect.width,b=t.rect.height;if(s?(f-=1,y+=1):(h-=1,f-=1,y+=1,b+=2),"number"===m)i={width:y};else if("date"===m)h+=b-1,i={};else if("relation"===m){const e=tt.Z.width;i={width:Math.max(e,y),minHeight:g?65:void 0,overflow:"hidden"}}else if("person"===m)i={width:Math.max(240,y),minHeight:g?100:void 0};else if("formula"===m)h+=b-1,i={};else if("select"===m||"multi_select"===m)i={width:Math.max(300,y)};else if("rollup"===m)h+=b-1,i={};else if("text"===m&&e.isMobile){const e=H.Z.estimatedNativeWebBottomOverlap()+24;n={overflowY:"auto",WebkitOverflowScrolling:"touch",width:Math.max(240,y),maxHeight:`calc(100vh - ${e}px)`}}else if("file"===m)i={minWidth:Math.max(240,y)};else if("verification"===m)i={width:a().clamp(y,265,365)};else{const e=24+(this.shouldShowAutofillUpdateButton(t)?28:0);i={width:Math.max(240,y),minHeight:Math.min(b,window.innerHeight-e),maxHeight:window.innerHeight-e,overflow:"visible",display:"flex",flexDirection:"column"}}const S=t.collectionContextStore;if(S){var r,l,c,d;const e=S.subitemTreeStore.state,o=(0,v.DY)(e.children,(e=>e.value.store===t.store)),n=null==o?void 0:o.length,a=null===(r=S.formatStore())||void 0===r||null===(l=r.getFormat())||void 0===l||null===(c=l.table_properties)||void 0===c?void 0:c.filter((e=>e.visible)),s=a&&(null===(d=a[0])||void 0===d?void 0:d.property)===t.property;n&&s&&(i={...i,...m&&p.Yl(m)&&{width:Math.max(90,y)}})}o=new DOMRect(f,h,y,0)}if(t.isOpen||!this.previousPopupProps){const r=this.getPopupType(),a=!e.isMobile||r===de.ZP.PopupType.Popup,l={key:this.getPopupKey(),popupType:r,open:t.isOpen,originRect:o,style:e.isMobile?{width:i?i.width:void 0,...n}:i,alignmentToOrigin:de.ZP.Alignment.Start,placementToOrigin:de.ZP.Placement.Bottom,preventScaleTransition:a,preventOpacityTransition:a,render:this.renderOverlay,onDismiss:this.handleBgClick};return this.previousPopupProps=l,s.createElement(de.ZP,l)}{const e={...this.previousPopupProps,open:!1};return s.createElement(de.ZP,e)}}trackRenderTime(e){let{isFirstRender:t}=e;const o=this.props.store.state;o.isOpen&&o.collectionContextStore&&D.tN("collections.block_property_value_overlay_render")&&c.default.measureFlush((e=>{var i;o.collectionContextStore&&M.Lt({environment:this.environment,collectionContextStore:o.collectionContextStore,time:e,is_first_render:t,property_type:null===(i=this.getNormalizedPropertySchema(o))||void 0===i?void 0:i.type,from:A.Sy(o.format)})}))}shouldShowAutofillUpdateButton(e){var t;const{store:o}=e,i=this.getNormalizedPropertySchema(e);return i&&(0,L.RT)(this.environment,null===(t=this.pageContext)||void 0===t?void 0:t.publicEditModeStore.state,o)&&p.q3(i)&&!e.collectionsBulkActionsToolbarStore}renderAutofillUpdateButton(e){if(this.shouldShowAutofillUpdateButton(e))return n()(ie.p,{allowSelectionWithin:!1},void 0,n()("div",{style:{position:"absolute",top:-34,right:0,borderRadius:3,fontSize:14,lineHeight:1.2,display:"flex",whiteSpace:"nowrap",background:this.theme.popoverBackground,boxShadow:this.theme.mediumBoxShadow,zIndex:-1}},void 0,n()(ce.Z,{style:{display:"flex",height:28},onClick:()=>{const t=this.getNormalizedPropertySchema(e);t&&x.C({environment:this.environment,stores:[e.store],property:e.property,propertySchema:t,userEventForAnalytics:"generate_from_overlay_button"})}},void 0,n()(ne.X2,{gap:4},void 0,m.Z.sparkles({height:16,width:16,fill:this.theme.accentColors.purple[400]}),n()("span",{style:{fontWeight:500,color:this.theme.accentColors.purple[500]}},void 0,n()(w.FormattedMessage,{defaultMessage:"Update",id:"database.propertyValues.reGenerateAiAutofill",description:"Button to update the value of this property using the configured AI action"}))))))}renderOverlayContent(e){const t=this.getNormalizedPropertySchema(e);if(!t)return;let o;return o=e.format===Ht.C.ListView?this.renderListFunctions[t.type]:this.renderFunctions[t.type],o?o(e,t.type):void 0}getPopupType(){const{device:e}=this.environment;if(e.isMobile){const e=this.props.store.state;if(!e.isOpen)return de.kQ.SlideUp;const t=this.getNormalizedPropertySchema(e);return t?Kt[t.type]:de.kQ.SlideUp}return de.kQ.Popup}getPopupKey(){const e=this.props.store.state;if(!e.isOpen)return"ignore";const t=this.getNormalizedPropertySchema(e);return t?t.type:"ignore"}measurePropertyOverlayTypingLagUntilNextRender(e,t){D.tN("collections.property_overlay_typing_lag")&&c.default.measureFlush((o=>{e.collectionContextStore&&M.bu({environment:this.environment,time:o,property_type:t,from:A.Sy(e.format),collectionContextStore:e.collectionContextStore})}))}getSchema(e){return e.store.getSchema()||{}}getNormalizedPropertySchema(e){return this.getSchema(e)[e.property]}getCollectionStore(e){return e.store.getAssociatedCollectionStore()}getPropertyStores(e){return this.getAllEditStores(e).map((t=>t.getPropertyStore(e.property)))}getPropertyValue(e){return e.store.getPropertyValue(e.property)}updateSchema(e,t){const o=this.props.store.state;if(o.isOpen&&o.isOpen){const i=this.getCollectionStore(o);i&&I.xO({environment:this.environment,collectionStore:i,update:e,transaction:t})}}setSchema(e,t){const o=this.props.store.state;if(o.isOpen&&o.isOpen){const i=this.getCollectionStore(o);i&&I.Rm({environment:this.environment,collectionStore:i,update:{schema:e},transaction:t})}}applyOperationsToSchema(e,t){const o=this.props.store.state;if(o.isOpen&&o.isOpen){const i=this.getCollectionStore(o);if(i){const o=i.getSchema();for(const r of e)Z.applyOperation({store:(0,z.Kv)(i,r.pointer),operation:r,transaction:t});const n=i.getSchema();I.C_({environment:this.environment,collectionStore:i,oldSchema:o,newSchema:n,transaction:t})}}}trackEditPropertyValue(e){const t=e.store.getType(),o=this.getNormalizedPropertySchema(e),{collectionContextStore:i}=e;t&&o&&i&&M.rv({environment:this.environment,collectionContextStore:i,block_id:e.store.id,property:e.property,property_type:o.type,from:this.getAnalyticsFrom(e),isFromBulkActionsToolbar:A.VM(this.props.store)})}getAnalyticsFrom(e){return A.Sy(e.format)}getAllEditStores(e){return[e.store,...e.additionalStores]}canConfigureCollection(e){const t=this.getCollectionStore(e),o=null==t?void 0:t.getParentBlockStore();return F.eD({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!1})}isDisabled(e){return(0,V.N)(this.environment,e.store)||u.wl(e.property)}}Wt.displayName="BlockPropertyValueOverlay",Wt.titleStyle={...zt,fontWeight:b.Z.fontWeight.medium};const jt=Wt,Kt={title:de.kQ.Popup,text:de.kQ.Popup,number:de.kQ.Popup,url:de.kQ.Popup,phone_number:de.kQ.Popup,email:de.kQ.Popup,relation:de.kQ.SlideUp,rollup:de.kQ.SlideUp,select:de.kQ.SlideUp,multi_select:de.kQ.SlideUp,status:de.kQ.SlideUp,person:de.kQ.SlideUp,date:de.kQ.SlideUp,file:de.kQ.SlideUp,formula:de.kQ.SlideUp,checkbox:de.kQ.SlideUp,created_by:de.kQ.SlideUp,created_time:de.kQ.SlideUp,last_edited_by:de.kQ.SlideUp,last_edited_time:de.kQ.SlideUp,button:de.kQ.SlideUp,auto_increment_id:de.kQ.Popup,location:de.kQ.Popup,verification:de.kQ.SlideUp}},52576:(e,t,o)=>{o.d(t,{Aj:()=>F,qO:()=>L,yG:()=>A,Rb:()=>V,Cl:()=>D,l5:()=>R,AB:()=>U,aJ:()=>O,aq:()=>E,pc:()=>N,SJ:()=>B,Db:()=>H});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(80951),p=o(82990),u=o(4308),m=o(5366),g=o(52821),h=o(11028),f=o(480),v=o(66897),y=o(59753),b=o(19889),S=o(97880),w=o(70693),k=o(39111),C=o(29302);function _(e){window.__c={n:"VerificationSummary"};const{isMobile:t}=(0,f.Fy)();return a()("div",{style:t?{padding:"12px 20px",fontSize:14}:{fontSize:12,display:"flex",alignItems:"center"}},void 0,s.createElement(M,e))}function M(e){const{verificationState:t,getRecordValue:o}=e,i=(0,m.useIntl)();switch(t.type){case"none":return null;case"verified":return t.isIndefinite?a()(m.FormattedMessage,{defaultMessage:"Verified by {user} on {date}",id:"VerificationSummary.verifiedIndefinitely",description:"Label for verification modal indicating page is verified by specific user for specified date range.",values:{user:a()(T,{actorPointer:t.actorPointer,getRecordValue:o}),date:(0,w.mb)({dateTime:t.startDateTime,intl:i})}}):a()(m.FormattedMessage,{defaultMessage:"Verified by {user} from {dateTimeRange}",id:"VerificationSummary.verified",description:"Label for verification modal indicating page is verified by specific user for specified date range.",values:{user:a()(T,{actorPointer:t.actorPointer,getRecordValue:o}),dateTimeRange:(0,w.pe)({luxonRange:t.dateTimeRange,intl:i})}});case"expired":return a()(m.FormattedMessage,{defaultMessage:"Last verified by {user} from {dateTimeRange}",id:"VerificationSummary.verificationExpired",description:"Label for verification modal indicating page was last verified by specific user for specified date range.",values:{user:a()(T,{actorPointer:t.actorPointer,getRecordValue:o}),dateTimeRange:(0,w.pe)({luxonRange:t.dateTimeRange,intl:i})}});default:(0,S.t1)(t)}}function T(e){const{actorPointer:t,getRecordValue:o}=e,i=(0,l.VK)((()=>(0,v.Hl)({pointer:t,getRecordValue:o})),[t,o]),n={display:"flex",marginLeft:4,marginRight:4};return i.table===b.KJ?a()(C.Z,{userValue:i.value,inline:!0,style:n,avatarSize:16,avatarMarginRight:4}):a()(k.Z,{botModel:i.value&&y.kk.fromValue(i.table,i.value),style:n,avatarSize:16})}var I=o(21366),P=o(7907),x=o(24118);const B=s.forwardRef(((e,t)=>{const{property:o,collectionStore:i,store:n,disabled:r,buttonStyle:p,editButtonClickProps:m,fontSize:f,shouldAlwaysRender:v=!1,showLabelIfEmpty:y=!1}=e,{isDisabled:b,propertySchema:S,baseStyles:w,shouldRenderTooltip:k}=(0,s.useContext)(P.O),C=S,M=(0,l.VK)((()=>i.getSchema()),[i]),T=(0,l.VK)((()=>g._W(C,n,M)),[C,M,n]),x=r||b||!T,B=(0,c.yK)((e=>({buttonStyle:{...w.buttonStyle,...p,cursor:x?"text":"pointer"},buttonPressedStyle:w.buttonPressedStyle??{},buttonHoveredStyle:w.buttonHoveredStyle??{},secondaryTooltipText:{color:e.mediumInvertedTextColor}})),[w.buttonHoveredStyle,w.buttonPressedStyle,w.buttonStyle,p,x]),E=(0,l.VK)((()=>{const e=n.getPropertyValue(o);return(0,d._w)(e)}),[o,n]),R=(0,s.useMemo)((()=>(0,u.WN)(E)),[E]),A=(0,s.useMemo)((()=>{var e;const t=k,o="none"!==R.type,i=!T;if(!t&&!i&&!o)return;const r=C.name,l=C.verifier_property,c=l?null===(e=M[l])||void 0===e?void 0:e.name:void 0;return s.createElement(s.Fragment,null,t&&r,o&&a()("div",{style:t?B.secondaryTooltipText:{}},void 0,a()(_,{verificationState:R,getRecordValue:n.getRecordValue})),i&&a()("div",{style:o?B.secondaryTooltipText:{}},void 0,a()(Z,{verifierPropertyName:c})))}),[T,M,C.name,C.verifier_property,k,n.getRecordValue,B.secondaryTooltipText,R]);return"none"===R.type&&!v?null:s.createElement(I.Z,{ref:t,disabled:x,readOnly:x,editButtonClickProps:m,style:B.buttonStyle,hoveredStyle:B.buttonHoveredStyle,pressedStyle:B.buttonPressedStyle,tooltipContent:A},a()(h.z,{verificationValue:E,fontSize:f,showLabelIfEmpty:y}))}));function Z(e){window.__c={n:"RestrictedEditMessage"};const{verifierPropertyName:t}=e;return a()(m.FormattedMessage,t?{defaultMessage:"Only people listed in {verifierPropertyName} can verify this page",id:"VerificationPropertyButton.tooltip.editRestrictedToVerifier",description:"Tooltip message to indicate that only people listed in the specified property can modify verification for the page.",values:{verifierPropertyName:a()("span",{style:{fontWeight:p.Z.fontWeight.bold}},void 0,t)}}:{defaultMessage:"Only page owners can verify this page",id:"VerificationPropertyButton.tooltip.editRestrictedToOwner",description:"Tooltip message to indicate that only page owners can modify verification for the page."})}const E=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"large",shouldAlwaysRender:!0})))),R=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"large",shouldAlwaysRender:!0,showLabelIfEmpty:!0})))),A=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"large",shouldAlwaysRender:!0,showLabelIfEmpty:!0})))),D=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"})))),F=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"})))),L=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{disabled:!0,fontSize:"regular"})))),V=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"})))),N=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"})))),O=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"})))),U=s.forwardRef(((e,t)=>s.createElement(B,n()({},H(e,t),{fontSize:"regular"}))));function H(e,t,o){const{store:i,collectionStore:n,property:r,disabled:a,onClick:s,onContextMenu:l}=e;return{ref:t,store:i,collectionStore:n,property:r,disabled:a,editButtonClickProps:(0,x.Qg)(e),onClick:s,onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle}}},21366:(e,t,o)=>{o.d(t,{Z:()=>w});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(43664),u=o(12534),m=o(25464),g=o(31792),h=o(64921),f=o(58032),v=o(24844),y=o(7907);const b=(0,s.forwardRef)(((e,t)=>{const o=o=>s.createElement(S,a()({ref:t},e,{tooltipEvents:o}));return e.tooltipContent?n()(f.Z,{renderTooltip:()=>e.tooltipContent,render:o,placement:m.u.Bottom}):o()})),S=(0,s.forwardRef)(((e,t)=>{const o=(0,l.O7)(),{device:i}=o,r=(0,c.qz)(void 0,g.Z),{style:m,quickActionButtonsTrigger:f="default",quickActionButtons:b,quickActionButtonsAlign:S,quickActionButtonsStyle:w,editButtonClickProps:k}=e,{collectionContextStore:C,format:_}=(0,s.useContext)(y.O),M=(0,d.yK)((()=>({buttonStyle:{position:"relative",...m}})),[m]),T=(0,c.VK)((()=>r.state.mouseEntered),[r]),I=(0,s.useCallback)((()=>{r.setState({...r.state,mouseEntered:!0})}),[r]),P=(0,s.useCallback)((()=>{r.setState({...r.state,mouseEntered:!1})}),[r]),x=(0,s.useRef)(null),B=e=>{x.current=e,"function"==typeof t?t(e):t&&(t.current=e)},Z=(0,s.useMemo)((()=>{if("force_visible"===f||"default"===f&&(T||i.isMobile))return n()(v.t,{align:S,style:w,format:_,containerRef:x},void 0,b)}),[i.isMobile,_,T,b,S,w,f]);return e.readOnly||void 0===k?s.createElement("div",a()({ref:B,style:M.buttonStyle,onMouseMove:I,onMouseLeave:P},e.tooltipEvents),e.children,Z):s.createElement(h.Z,a()({ref:B,hoveredStyle:e.hoveredStyle,pressedStyle:e.pressedStyle,style:M.buttonStyle,onMouseMove:I,onMouseLeave:P,onContextMenu:t=>{const{onContextMenu:o}=e;i.isAndroid&&i.isPhone?t.preventDefault():o&&(0,u.ZP)({event:t,context:u.Af.EditorContextMenu,callback:()=>{o(t)}})},onClick:async()=>{if(void 0===k)return;const{onClick:e,store:t,property:i,format:n,collectionStore:a,blockPropertyValueOverlayStore:s,disableHorizontalEdgeScroll:l}=k;await p.zt({element:x.current??void 0,environment:o,onClick:e,store:t,property:a.getMappedProperty(i),format:n,collectionStore:a,blockPropertyValueOverlayStore:s,disableHorizontalEdgeScroll:l,collectionContextStore:C,mouseStore:r,statusShowAsCheckbox:!1})},disabled:e.disabled},e.tooltipEvents),e.children,Z)})),w=b},7907:(e,t,o)=>{o.d(t,{O:()=>b,Z:()=>S});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(80951),c=o(77162),d=o(66890),p=o(49616),u=o(96620),m=o(78030),g=o(24118),h=o(24405),f=o(97880);const v=1.2,y=1.5;const b=(0,r.createContext)({collectionContextStore:void 0,propertySchema:void 0,isEmpty:!1,isDisabled:!0,isReadOnly:!0,shouldRenderTooltip:!1,shouldWrap:!1,baseStyles:{},trackEditBlockProperty:()=>{},format:0});function S(e){window.__c={n:"BlockPropertyValueContextProvider"};const{format:t,children:o,disabled:i,store:S,tableWrap:w,collectionStore:k,property:C,width:_,shouldSetCellHeight:M,isLast:T,disableTableBorderRight:I,locked:P}=e,x=(0,a.O7)(),B=(0,d.Y$)(),Z=(0,s.VK)((()=>k.getSchema()),[k]),E=(0,s.VK)((()=>S.getPropertyStore(C)),[S,C]),R=(0,g.PJ)(k,C),A=(0,s.qz)(void 0,u.Z),D=function(e,t,o){return(0,s.VK)((()=>(0,g.bb)({store:e,schema:t,property:o})),[o,t,e])}(S,Z,C),[F,L]=function(e,t,o,i){const n=(0,l.wl)(t),[r,a]=(0,s.VK)((()=>{const t=!e.canEdit()||n||(0,g.Sm)(i);return[o||t,t]}),[o,n,i,e]);return[r,a]}(S,C,i,R),V=function(e){return[m.C.Board,m.C.GalleryView,m.C.ListView,m.C.Relation,m.C.RelationSection].includes(e)}(t),N=function(e,t){return e===m.C.Page||e===m.C.CompactPage||e===m.C.Table&&t}(t,w),O=function(e){let{width:t,shouldSetCellHeight:o,format:i,shouldWrap:n,isLast:s,disableTableBorderRight:l,disabled:c,locked:d}=e;const u=(0,h.Fg)(),{isPhone:g}=(0,a.Fy)();return(0,r.useMemo)((()=>{const e={color:u.lightTextColor};switch(i){case m.C.Table:return{buttonStyle:{display:"block",fontSize:p.Kt,overflow:"hidden",width:t,borderRight:l||s&&(c||d)?"none":`1px solid ${u.tableLightDividerColor}`,whiteSpace:n?"normal":"nowrap",height:o?32:void 0,minHeight:32,cursor:c||d?"default":"pointer",padding:"5px 6px 8px 8px"},buttonHoveredStyle:{background:"unset"},buttonPressedStyle:{background:"unset"},textStyle:{lineHeight:y,whiteSpace:n?"pre-wrap":"nowrap",wordBreak:n?"break-word":"normal",pointerEvents:"none"},tokenWrapStyle:{display:"flex",flexWrap:n?"wrap":"nowrap"},emptyStyle:e};case m.C.GalleryView:return{buttonStyle:{display:"flex",overflow:"hidden",alignItems:"center",borderRadius:5,marginBottom:2,marginRight:6,paddingTop:0,paddingLeft:4,fontSize:g?p.Kt:p.pe,height:24,whiteSpace:"nowrap"},textStyle:{lineHeight:v,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tokenWrapStyle:{display:"flex",minWidth:0},emptyStyle:e};case m.C.Board:return{buttonStyle:{display:"flex",overflow:"hidden",alignItems:"center",borderRadius:5,padding:4,fontSize:p.pe,marginBottom:2,marginLeft:6,marginRight:6,minHeight:28},textStyle:{lineHeight:y,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"},tokenWrapStyle:{display:"flex",flexWrap:"wrap"},emptyStyle:e};case m.C.RelationSection:return{buttonStyle:{display:"inline-block",fontSize:p.Kt,overflow:"hidden",alignItems:"center",marginLeft:0,minHeight:34,padding:"6px 8px 7px 8px",borderRadius:5},tokenWrapStyle:{display:"flex",minWidth:0},emptyStyle:e};case m.C.Relation:return{buttonStyle:{fontSize:p.Kt,overflow:"hidden",alignItems:"center",padding:"6px 6px 8px 8px",borderRadius:5,display:"flex",marginLeft:g?0:8,marginRight:g?8:0,height:g?30:0,minHeight:22,minWidth:20},textStyle:{lineHeight:v,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tokenWrapStyle:{display:"flex",minWidth:0},emptyStyle:e};case m.C.ListView:return{buttonStyle:{fontSize:p.Kt,overflow:"hidden",alignItems:"center",padding:"5px 6px 5px 8px",borderRadius:5,display:"flex",marginLeft:g?0:2,marginRight:g?8:0,height:g?30:"100%",minHeight:0,minWidth:20},textStyle:{lineHeight:v,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tokenWrapStyle:{display:"flex",minWidth:0},emptyStyle:e};case m.C.Page:return{buttonStyle:{fontSize:p.Kt,overflow:"hidden",display:"inline-block",alignItems:"center",borderRadius:3,width:"100%",minHeight:34,padding:"6px 7px 8px 8px"},textStyle:{lineHeight:y,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"},tokenWrapStyle:{display:"flex",flexWrap:"wrap"},emptyStyle:e};case m.C.Timeline:return{buttonStyle:{display:"flex",alignItems:"center",fontSize:p.Kt,marginRight:s?0:10},buttonHoveredStyle:{background:"unset"},buttonPressedStyle:{background:"unset"},textStyle:{lineHeight:v,wordBreak:"break-word",whiteSpace:"nowrap"},tokenWrapStyle:{display:"flex",minWidth:0},emptyStyle:e};case m.C.Calendar:return{buttonStyle:{fontSize:p.pe,display:"flex",alignItems:"center",height:20,whiteSpace:"nowrap"},textStyle:g?{lineHeight:y,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}:{lineHeight:v,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tokenWrapStyle:g?{display:"flex",flexWrap:"wrap"}:{display:"flex",minWidth:0},emptyStyle:e};case m.C.CompactPage:return{buttonStyle:{fontSize:p.Kt,overflow:"hidden",alignItems:"center",borderRadius:3,display:"flex",width:"100%",height:30,padding:"5px 8px"},textStyle:{lineHeight:v,wordBreak:"break-word",whiteSpace:"nowrap",textOverflow:"ellipsis",pointerEvents:"none"},tokenWrapStyle:{display:"flex",flexWrap:"nowrap",overflow:"hidden",alignItems:"center"},emptyStyle:e};default:(0,f.t1)(i)}}),[l,c,i,s,g,d,o,n,u.lightTextColor,u.tableLightDividerColor,t])}({width:_,shouldSetCellHeight:M,format:t,shouldWrap:N,isLast:T,disableTableBorderRight:I,locked:P,disabled:i,isEmpty:D}),U=(0,r.useCallback)((()=>{B&&(null==R?void 0:R.type)&&c.rv({environment:x,collectionContextStore:B,block_id:E.id,property:C,property_type:null==R?void 0:R.type,from:p.Sy(t),isFromBulkActionsToolbar:Boolean(A)})}),[B,A,x,t,C,null==R?void 0:R.type,E.id]),H=(0,r.useMemo)((()=>({collectionContextStore:B,propertySchema:R,isEmpty:D,isDisabled:F,isReadOnly:L,shouldRenderTooltip:V,shouldWrap:N,baseStyles:O,trackEditBlockProperty:U,format:t})),[B,R,D,F,L,V,N,O,U,t]);return n()(b.Provider,{value:H},void 0,o)}},78030:(e,t,o)=>{let i;o.d(t,{C:()=>i}),function(e){e[e.Table=0]="Table",e[e.Board=1]="Board",e[e.Calendar=2]="Calendar",e[e.Page=3]="Page",e[e.ListView=4]="ListView",e[e.GalleryView=5]="GalleryView",e[e.Timeline=6]="Timeline",e[e.CompactPage=7]="CompactPage",e[e.Relation=8]="Relation",e[e.RelationSection=9]="RelationSection"}(i||(i={}))},39694:(e,t,o)=>{o.d(t,{Z:()=>b});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(3779),d=o(43664),p=o(50125),u=o(66890),m=o(49616),g=o(33929),h=o(29370),f=o(73063),v=o(58032),y=o(78030);function b(e){window.__c={n:"CopyButton"};const{store:t,schema:o,property:i,pageValue:r,style:b,format:S}=e,w=(0,l.O7)(),k=(0,u.DK)(),C=g.default.formatMessage(m.dH.copyTooltip),_=S===y.C.Table;return a()(v.Z,{renderTooltip:()=>C,render:e=>s.createElement("div",n()({onClick:()=>{let e;_&&(e=h.Z.getState(),p.MO()),d.r0({environment:w,store:t,schema:o,property:i,pageValue:r,collectionContextStore:k}),_&&e&&h.Z.setState(e)},style:b},e),a()(f.Z,{ariaLabel:C,hasBackground:!0,icon:c.Z.copy,showShadow:!0}))})}},24844:(e,t,o)=>{o.d(t,{t:()=>f});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(51454),u=o(66890),m=o(45094),g=o(78030);function h(e){window.__c={n:"QuickActionButtonsBase"};const{style:t,children:o,align:i}=e,n=(0,d.yK)((()=>({buttonWrapperStyle:{display:"flex",position:"absolute",top:4,gap:"6px",zIndex:p.XP,..."right"===i&&{right:6},..."left"===i&&{left:6},...t}})),[i,t]);return o?a()("div",{style:n.buttonWrapperStyle},void 0,o):s.createElement(s.Fragment,null)}function f(e){const{format:t,align:o}=e;switch(t){case g.C.Table:return s.createElement(S,n()({},e,{align:o??"right"}));case g.C.Board:return s.createElement(v,n()({},e,{align:o??"right"}));case g.C.GalleryView:return s.createElement(y,n()({},e,{align:o??"right"}));case g.C.ListView:return s.createElement(b,n()({},e,{align:o??"right"}));default:return s.createElement(h,n()({},e,{align:o??"right"}))}}function v(e){window.__c={n:"BoardQuickActionButtons"};const t=(0,d.yK)((()=>({buttonWrapperStyle:{top:0,...e.style}})),[e.style]);return s.createElement(h,n()({},e,{style:t.buttonWrapperStyle}))}function y(e){window.__c={n:"GalleryQuickActionButtons"};const t=(0,d.yK)((()=>({buttonWrapperStyle:{top:-1,...e.style}})),[e.style]);return s.createElement(h,n()({},e,{style:t.buttonWrapperStyle}))}function b(e){window.__c={n:"ListQuickActionButtons"};const t=(0,d.yK)((()=>({buttonWrapperStyle:{position:void 0,...e.style}})),[e.style]);return s.createElement(h,n()({},e,{style:t.buttonWrapperStyle}))}function S(e){window.__c={n:"TableQuickActionButtons"};const{containerRef:t,align:o}=e,i=function(e){const{containerEl:t,collectionContextStore:o,align:i}=e,n=(0,l.O7)(),r=(0,c.VK)((()=>n.WindowSizeStore.state.width),[n.WindowSizeStore]),a=null==t?void 0:t.getBoundingClientRect(),s=(0,c.VK)((()=>(null==o?void 0:o.isInPeekRenderer.get())??!1),[o]);return(0,c.VK)((()=>{if(!a||"right"!==i)return 0;const e=(0,m.vJ)(n);if(0===e)return 0;if(s)return 0;const t=r-e;return Math.min(a.width-60,Math.max(0,a.right-t))}),[i,a,n,s,r])}({containerEl:null==t?void 0:t.current,collectionContextStore:(0,u.DK)(),align:o}),r=(0,d.yK)((()=>({buttonWrapperStyle:{..."right"===o?{right:6+i}:void 0,...e.style}})),[o,i,e.style]);return s.createElement(h,n()({},e,{style:r.buttonWrapperStyle}))}},24118:(e,t,o)=>{o.d(t,{Sm:()=>c,bb:()=>d,Qg:()=>p,PJ:()=>u,Ri:()=>m});var i=o(81954),n=o(80951),r=o(42875),a=o(66890),s=o(33929);const l=["last_edited_by","created_by","last_edited_time","created_time","auto_increment_id"],c=e=>!!n.Kp(e)||!(null==e||!e.type)&&l.includes(null==e?void 0:e.type);function d(e){var t;const{store:o,schema:i,property:a}=e,l=i[a],c=null==l?void 0:l.type;return"checkbox"!==c&&"button"!==c&&("formula"!==c||"checkbox"!==(null==l||null===(t=l.formula)||void 0===t?void 0:t.result_type))&&(!o.isDefined()||n.wV({block:o.getModel(),property:a,schema:i,getRecordModel:o.getRecordModel,userTimeZone:(0,r.r)(),intl:s.default.getIntl()}))}function p(e){const{store:t,property:o,format:i,onClick:n,collectionStore:r,blockPropertyValueOverlayStore:a,disableHorizontalEdgeScroll:s}=e;return{store:t,property:o,format:i,onClick:n,collectionStore:r,blockPropertyValueOverlayStore:a,disableHorizontalEdgeScroll:s}}function u(e,t){const o=(0,a.Y$)(),n=(0,i.VK)((()=>e.getSchema()),[e]);return(0,i.VK)((()=>{const e=o.normalizedSchemaStore.state;return n[t]??e[t]}),[o,n,t])}function m(e,t){return(0,i.VK)((()=>e.getMappedProperty(t)),[e,t])}},91007:(e,t,o)=>{o.d(t,{Z:()=>k});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(24405),c=o(8848),d=o(3779),p=o(5366),u=o(50906),m=o(51127),g=o(66890),h=o(93959),f=o(33929),v=o(79315),y=o(3418),b=o(30016),S=o(73063);const w=(0,p.defineMessages)({dismissTooltip:{defaultMessage:"Dismiss tooltip",id:"components.collections.projManagementIntroTooltip.dismissTooltip",description:"Aria label for the close button on the tooltip"}});function k(e){window.__c={n:"ProjManagementIntroTooltip"};const t=(0,a.O7)(),o=(0,g.DK)(),i=(0,a.Fy)(),{origin:k,isFirstTooltip:C,phase:_,alignment:M}=e,[T,I]=(0,r.useState)(void 0),[P,x]=(0,r.useState)(!1),B=(0,s.VK)((()=>v.default.state.currentUserSettingsStore),[]),Z=(0,s.VK)((()=>v.default.state.currentSpaceStore),[]),E=(0,s.VK)((()=>B&&Z?(0,h.jH)(B,Z):void 0),[B,Z]),R=(0,s.VK)((()=>{var e;return null==o||null===(e=o.settingsStore.state)||void 0===e?void 0:e.open}),[o]),A=(0,s.VK)((()=>!(y.Z.state.openPopups.size>0||R)&&(E===_||!(E||!C))),[R,C,_,E]),D=(0,r.useCallback)((()=>{C&&B&&Z&&!E&&m.uR({environment:t,requiredCurrPhase:void 0,nextPhase:"create_a_task",currentUserSettingsStore:B,currentSpaceStore:Z})}),[E,B,Z,t,C]);(0,r.useEffect)((()=>{A?(clearTimeout(T),I(setTimeout((()=>{x(!0),u.trackProjManagementOnboardingTooltipShow(t,{phase:_,space_id:null==Z?void 0:Z.id})}),500)),D()):(clearTimeout(T),x(!1))}),[A]);const F=(0,r.useCallback)((()=>{B&&Z&&(m.uR({environment:t,requiredCurrPhase:void 0,nextPhase:"complete",currentUserSettingsStore:B,currentSpaceStore:Z}),u.trackProjManagementOnboardingTooltipDismiss(t,{phase:_,space_id:null==Z?void 0:Z.id}))}),[Z,B,t,_]),L=(0,l.yK)((e=>({popupContainer:{fontSize:12,color:c.ZP.white,position:"absolute",..."bottom"===M?{top:"calc(100% + 12px)",left:"calc(50% - 110px)"}:{},..."right"===M?{top:"calc(-50%)",left:"calc(100% + 12px)"}:{},background:c.ZP.UIDocNotificationsDarkGrayColor,borderRadius:6,padding:"8px 12px 12px 12px",width:220,boxShadow:e.largeLightBoxShadow,zIndex:99},circle:{position:"absolute",..."bottom"===M?{top:-12,left:"calc(50% - 2.5px)"}:{},..."right"===M?{top:"calc(50% - 2.5px)",left:-12}:{},background:c.ZP.UIDocNotificationsDarkGrayColor,width:5,height:5,borderRadius:5,boxShadow:`0 0 0 1.5px ${e.contentBackground}`},verticalLine:{position:"absolute",..."bottom"===M?{top:-12,left:"calc(50% - 1px)",width:2,height:12}:{},..."right"===M?{top:"calc(50% - 1px)",left:-12,width:12,height:2}:{},background:c.ZP.UIDocNotificationsDarkGrayColor},popupTitle:{width:"90%",fontWeight:500,marginBottom:2},popupDescription:{opacity:.8,lineHeight:1.35},iconButtonStyle:{position:"absolute",top:4,right:4,opacity:.8},iconStyle:{width:12,fill:c.ZP.white}})),[M]),V=(0,r.useCallback)((()=>n()("div",{style:L.popupContainer},void 0,n()("div",{style:L.circle}),n()("div",{style:L.verticalLine}),n()("div",{style:L.popupTitle},void 0,"create_a_task"===_&&n()(p.FormattedMessage,{defaultMessage:"Create a new task",id:"peekModeIntroTooltip.title.createATask",description:"Title of intro tooltip prompting user to create a new task"}),"assign_to_someone"===_&&n()(p.FormattedMessage,{defaultMessage:"Assign it to someone",id:"peekModeIntroTooltip.title.assignToSomeone",description:"Title of intro tooltip  prompting user to assign the task to someone"}),"change_task_status"===_&&n()(p.FormattedMessage,{defaultMessage:"Update status",id:"peekModeIntroTooltip.title.changeTaskStatus",description:"Title of intro tooltip  prompting user to change the task status"}),"click_view_settings"===_&&n()(p.FormattedMessage,{defaultMessage:"Configure your tasks",id:"peekModeIntroTooltip.title.clickViewSettings",description:"Title of intro tooltip  prompting user to change the view settings"})),n()("div",{style:L.popupDescription},void 0,"create_a_task"===_&&n()(p.FormattedMessage,{defaultMessage:"Start from scratch or use the dropdown to select a template",id:"peekModeIntroTooltip.subtitle.createATask",description:"Subtitle of intro tooltip prompting user to create a new task"}),"assign_to_someone"===_&&n()(p.FormattedMessage,{defaultMessage:"Click to select one or multiple people",id:"peekModeIntroTooltip.subtitle.assignToSomeone",description:"Subtitle of intro tooltip prompting user to assign the task to someone"}),"change_task_status"===_&&n()(p.FormattedMessage,{defaultMessage:"Click to change the status to ‘In Progress’ or something else",id:"peekModeIntroTooltip.subtitle.changeTaskStatus",description:"Subtitle of intro tooltip  prompting user to change the task status"}),"click_view_settings"===_&&n()(p.FormattedMessage,{defaultMessage:"Further configure your tasks layout, grouping, properties and more",id:"peekModeIntroTooltip.subtitle.clickViewSettings",description:"Subtitle of intro tooltip  prompting user to change the view settings"})),n()(S.Z,{icon:d.Z.close,style:L.iconButtonStyle,iconStyle:L.iconStyle,onClick:F,ariaLabel:f.default.formatMessage(w.dismissTooltip)}))),[F,_,L.circle,L.iconButtonStyle,L.iconStyle,L.popupContainer,L.popupDescription,L.popupTitle,L.verticalLine]);return i.isMobile?r.createElement(r.Fragment,null,k):n()("div",{style:{position:"relative"}},void 0,k,n()(b.Z,{isVisible:P,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:V}))}},52557:(e,t,o)=>{o.d(t,{Z:()=>Z});var i=o(77094),n=o.n(i),r=o(67294),a=o(96486),s=o.n(a);var l=o(480),c=o(81954),d=o(24405),p=o(47315),u=o(8848),m=o(59054),g=o(3779),h=o(5366),f=o(6287),v=o(82990),y=o(54642),b=o(77162),S=o(16956),w=o(47307),k=o(30149),C=o(33929),_=o(42922),M=o(68894),T=o(68785),I=o(76798),P=o(32662),x=o(64369);const B=(0,h.defineMessages)({autoIncrementIdPrefixPlaceholder:{defaultMessage:"Prefix",id:"database.viewSettings.propertyTab.autoIncrementIdPrefixPlaceholder",description:"Placeholder for text field label for unique id prefix."},duplicatePrefixNameError:{defaultMessage:"{prefixName} isn't available for use.",id:"database.viewSettings.propertyTab.duplicatePrefixNameError",description:"Error shown when unique id prefix is already in use on a collection elsewhere in the workspace."}});function Z(e){const{uniqueIdProperty:t,prefixValue:o,collectionContextStore:i}=e,a=(0,l.O7)(),u=(0,c.VK)((()=>i.collectionStore()),[i]),[T,Z]=(0,r.useState)(o??""),[R,A]=(0,r.useState)(!0),[D,F]=(0,r.useState)(),L=(0,r.useCallback)((()=>{A(!0),F(void 0)}),[A,F]),V=(0,r.useCallback)((e=>{A(!0),F(C.default.formatMessage(B.duplicatePrefixNameError,{prefixName:`"${e}"`}))}),[]),N=(0,r.useCallback)(((e,t,o)=>{const i=o.collectionStore();i&&(A(!1),y.setRecordKey(a,{spaceId:i.getSpaceId(),table:i.table,key:e,id:i.id}).then((i=>{A(!0),200!==i.status?V(e):b.$q({environment:a,collectionContextStore:o,property:t,from:"view_settings",action:"unique_id_change_collection_key"})})).catch((()=>V(e))))}),[a,V]),O=(0,r.useCallback)((async e=>{if(!u)return!1;const t=await y.isRecordKeyAvailable(a,{spaceId:u.getSpaceId(),table:u.table,key:e.trim()});return"success"===t.type&&t.data.isAvailable}),[u,a]),U=(H=e=>{O(e).then((t=>{t||V(e),A(!0)})).catch((()=>V(e)))},z=500,(0,r.useRef)(s().debounce(H,z)).current);var H,z;const[W]=(0,m.r5)((async()=>{if(u)return y.suggestRecordKey(a,{spaceId:u.getSpaceId(),table:f.v,id:u.id})}),[u,a]);(0,r.useEffect)((()=>{var e;if(!o&&"resolved"===W.status)return"success"===(null===(e=W.value)||void 0===e?void 0:e.type)&&W.value.data?(F(void 0),void Z(W.value.data.key)):void 0}),[o,W]),(0,r.useEffect)((()=>()=>{U.cancel()}),[U]);const j=(0,r.useCallback)((e=>{const t=e.target.value.toUpperCase();Z(t),L(),t&&t!==o&&((0,p.k5)(t)||F(C.default.formatMessage(p.sY.prefixInvalidError)),A(!1),U(t))}),[L,o,U]),K=(0,r.useCallback)((()=>{U.flush()}),[U]),Y=(0,r.useCallback)((e=>{const n=null==u?void 0:u.getRecordKeyStore();e!==o&&!D&&n&&u&&null!=t&&t.propertySchema?N(e,null==t?void 0:t.propertyId,i):A(!0)}),[u,o,D,t,N,i]),G=(0,r.useCallback)((()=>{const e=i.collectionStore();e&&k.createAndCommit({userAction:"CollectionSettingsAutoIncrementIdPropertyCreateNewIdProperty",environment:a,perform:t=>{const o=S.G3({environment:a,collectionStore:e,collectionViewArgs:void 0,propertyType:"auto_increment_id",transaction:t});N(T,o,i)}})}),[i,a,T,N]),X=(0,r.useCallback)((e=>{if(!u)return;const t=[{label:n()(h.FormattedMessage,{id:"database.viewSettings.propertyTab.autoIncrementIdPrefixSubmit",defaultMessage:"Update ID Prefix",description:"Text on the Blue submit button to update a unique ID's prefix."}),color:"red",onAccept:()=>Y(e)}];w.showDialog({message:n()("span",{},void 0,n()(h.FormattedMessage,{id:"database.viewSettings.propertyTab.changePrefixConfirmationMessage",defaultMessage:"Updating the prefix will stop 3rd party automations that rely on this ID (e.g., GitHub PR status automation).",description:"Warning message in confirmation to change a unique id property prefix. More details https://dev.notion.so/notion/Task-ID-Github-Sync-46f2c2c71648418998e4bb60f18bbff7?pvs=4#c1a08606a9824dcd8c1385f576dafe86",values:{databaseName:n()(I.Z,{style:{display:"inline",fontWeight:v.Z.fontWeight.medium},shouldWrap:!0,store:u})}})),showCancel:!0,keepFocus:!0,items:t})}),[u,Y]),q=(0,r.useCallback)((e=>{o?X(e):Y(e)}),[o,Y,X]),$=(0,r.useCallback)((()=>t?t&&!o?r.createElement(r.Fragment,null,g.Z.plus({width:14,height:14}),n()(P.Z,{size:4}),n()(h.FormattedMessage,{defaultMessage:"Add ID prefix",id:"database.viewSettings.propertyTab.autoIncrementIdCreatePrefix",description:"Button for adding an id prefix"})):n()(h.FormattedMessage,{defaultMessage:"Update ID Prefix",id:"database.viewSettings.propertyTab.autoIncrementIdPrefixSubmit",description:"Text on the Blue submit button to update a unique ID's prefix."}):r.createElement(r.Fragment,null,g.Z.plus({width:14,height:14}),n()(P.Z,{size:4}),n()(h.FormattedMessage,{defaultMessage:"Add ID property",id:"database.viewSettings.propertyTab.autoIncrementIdCreateProperty",description:"Button for adding a id property"}))),[o,t]),J=(0,d.yK)((e=>({prefixInputOuterStyle:{color:void 0===o?e.lightTextColor:e.regularTextColor}})),[o]);return r.createElement(r.Fragment,null,n()(M.ZP,{left:n()(x.Z,{style:{marginLeft:4}},void 0,n()(h.FormattedMessage,{defaultMessage:"Prefix",id:"database.viewSettings.propertyTab.autoIncrementIdPrefix",description:"Text field label for unique id prefix."})),dontShrinkTitle:!0,value:T,inputOuterStyle:J.prefixInputOuterStyle,onChange:j,onBlur:K,placeholder:B.autoIncrementIdPrefixPlaceholder.defaultMessage,onSubmit:()=>q(T.trim()),focusInitial:!1,selectAll:!1,disabled:!1}),D||!R?n()(E,{prefixName:T,hasRequestCompleted:R,errorMessage:D}):r.createElement(r.Fragment,null,n()(x.Z,{isSmall:!0,isSecondaryColor:!0,style:{marginTop:16,marginLeft:16}},void 0,n()(h.FormattedMessage,{defaultMessage:"{prefixWithHyphen}1, {prefixWithHyphen}2, {prefixWithHyphen}3, ...",id:"database.viewSettings.propertyTab.autoIncrementIdPrefixPreview",description:"Preview for unique id prefix.",values:{prefixWithHyphen:T?`${T}-`:""}}))),n()(_.Z,{isLarge:!0,style:{margin:"8px 16px",width:"90%"},onClick:()=>{t?q(T.trim()):G()},disabled:T===o||Boolean(D)||!R},void 0,$()))}function E(e){window.__c={n:"DuplicatePrefixError"};const{errorMessage:t,hasRequestCompleted:o}=e;return n()(x.Z,{isMultiline:!0,style:{paddingTop:12,marginLeft:16,marginRight:16,...o?{color:u.ZP.red}:{},...e.styles},isSecondaryColor:!o},void 0,o&&t?t:n()("div",{style:{paddingTop:3,paddingBottom:3}},void 0,n()(T.Z,{style:{width:14,height:14}})))}},27788:(e,t,o)=>{o.d(t,{Z:()=>se});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(67219),u=o(5366),m=o(5500),g=o(97880),h=o(47307),f=o(77719),v=o(29637),y=o(12205),b=o(30874),S=o(89728),w=o(72495),k=o(32662),C=o(52557),_=o(99036),M=o(80951),T=o(39068),I=o(84619),P=o(74487);const x={pull_request_review_edited:!0,pull_request_review_submitted:!0,pull_request_review_requested:!0,pull_request_review_request_removed:!0,pull_request_closed:!0,pull_request_opened:!0,pull_request_reopened:!0,installation_deleted:!0,installation_suspend:!0,installation_unsuspend:!0,pull_request_converted_to_draft:!0,pull_request_edited:!0,pull_request_assigned:!0},B={pull_request_opened:!0,pull_request_review_requested:!0,pull_request_review_submitted:!0,pull_request_closed:!0};(0,g.AO)((e=>{const t=(0,g.Yd)(x);return(0,g.DE)(t,e)?{true:e}:{false:e}}));P.literals(...(0,g.Yd)({pull_request:!0,pull_request_review:!0,installation:!0})),P.literals(...(0,g.Yd)(x));var Z=o(3779),E=o(77162),R=o(16956),A=o(64434),D=o(30149),F=o(66890),L=o(33929),V=o(60709),N=o(29376),O=o(42917),U=o(42922),H=o(52275),z=o(31945),W=o(96525),j=o(61519),K=o(78140),Y=o(9342),G=o(40721),X=o(22084);const q=(0,u.defineMessages)({autoUpdate:{defaultMessage:"Auto-update",id:"collectionSettingsGithubAutomationConfig.statusPicker.autoUpdate",description:"First half of the status picker title. For Korean & Japanese, this translation has been replaced with the translation for 'when' to make the section header comprehensible without having to conditionally render the title components in a special order"},when:{defaultMessage:"when PR is",id:"collectionSettingsGithubAutomationConfig.statusPicker.when",description:"Second half of the status picker title. For Korean & Japanese, this translation has been replaced with the translation for 'Auto-update' to make the section header comprehensible without having to conditionally render the title components in a special order"},addStatusDescription:{defaultMessage:"Add a status property to set up automations.",id:"collectionSettingsGithubAutomationConfig.addStatusDescription",description:"Description of the Add status property button if the collection has no status property"},addStatusButton:{defaultMessage:"Add status property",id:"collectionSettingsGithubAutomationConfig.statusPicker.addStatusButton",description:"Button for adding a status property"},newStatusPropertyButton:{defaultMessage:"New status",id:"collectionSettingsGithubAutomationConfig.statusPicker.newStatusPropertyButton",description:"Caption for new status property menu button"},pull_request_opened:{defaultMessage:"Opened",id:"collectionSettingsGithubAutomationConfig.pullRequestOpened",description:"Automation event when a pull request is opened."},pull_request_review_requested:{defaultMessage:"Review requested",id:"collectionSettingsGithubAutomationConfig.pullRequestReviewRequested",description:"Automation event when one or more reviewers are added to a pull request."},pull_request_review_submitted:{defaultMessage:"Approved",id:"collectionSettingsGithubAutomationConfig.pullRequestApproved",description:"Automation event when one or more reviewers approve a pull request."},pull_request_closed:{defaultMessage:"Merged",id:"collectionSettingsGithubAutomationConfig.pullRequestMerged",description:"Automation event when a pull request is closed or merged."},noAutomations:{defaultMessage:"None",id:"collectionSettingsGithubAutomationConfig.noAutomation",description:"Indiciator for no automation for the PR change."},removeStatusOption:{defaultMessage:"Clear",id:"collectionSettingsGithubAutomationConfig.removeStatusOption",description:"Caption for the remove selection button."}}),$={pull_request_opened:L.default.formatMessage(q.pull_request_opened),pull_request_review_requested:L.default.formatMessage(q.pull_request_review_requested),pull_request_review_submitted:L.default.formatMessage(q.pull_request_review_submitted),pull_request_closed:L.default.formatMessage(q.pull_request_closed)},J=L.default.formatMessage(q.noAutomations),Q={pull_request_opened:null,pull_request_review_requested:null,pull_request_review_submitted:null,pull_request_closed:null};function ee(e){window.__c={n:"CollectionSettingsGithubAutomationConfig"};const{gitHubProperty:t,selectedStatusProperty:o,setSelectedStatusProperty:i,intl:r}=e,d=(0,l.O7)(),p=(0,F.Y$)(),u=(0,l.Fy)(),m=ne(),h=(0,c.VK)((()=>{const e=(0,N.KV)(p,t);if(e&&(0,_.NK)(e))return e}),[p,t]),f=(0,c.VK)((()=>{const e=p.normalizedSchemaStore.state;return(0,g.qP)(e).flatMap((e=>{let[t,o]=e;return o&&(0,_.gB)(o)?[{id:t,schema:o}]:[]}))}),[p.normalizedSchemaStore]);(0,s.useEffect)((()=>{if(!o&&f.length>0){if(null!=h&&h.connectedRelation.automation)for(const t of f)if(h.connectedRelation.automation[t.id])return void i(t);const e=f[0];i(e)}}),[f,h,o,i]);const[v,y]=(0,s.useState)(Q);(0,s.useEffect)((()=>{var e,t;o&&h&&(0,_.NK)(h)&&null!==(e=h.connectedRelation.automation)&&void 0!==e&&e[o.id]?y(null===(t=h.connectedRelation.automation)||void 0===t?void 0:t[o.id]):y(Q)}),[h,o]);const b=(0,s.useCallback)((e=>{const i=p.collectionStore();if(!(i&&o&&h&&(0,_.p_)(h)))return;const n=h.connectedRelation;if(!n||!o.id)return;n.automation={...n.automation,...e};const r={...h,connectedRelation:{...n}};E.$q({environment:d,collectionContextStore:p,property:o.id,from:"github_pull_requests_property",action:"configure_github_pr_automation",githubAutomationConfigured:e}),D.createAndCommit({userAction:"CollectionSettingsConfigureGithubAutomation",environment:d,perform:e=>{A.xO({environment:d,collectionStore:i,update:{[t]:r},transaction:e})}})}),[p,o,h,d,t]),S=(0,c.VK)((()=>o&&o.schema.options?o.schema.options:[]),[o]),C=(0,c.VK)((()=>{const e={};return S.forEach((t=>{e[t.id]=t})),e}),[S]),T=(0,c.VK)((()=>{var e,t;const i=null==o||null===(e=o.schema)||void 0===e?void 0:e.groups,n=null==o||null===(t=o.schema)||void 0===t?void 0:t.options;return i&&n?i.map((e=>{const t=n.filter((t=>{var o;return null===(o=e.optionIds)||void 0===o?void 0:o.includes(t.id)}));if(0!==t.length)return{group:e,groupOptions:t}})).filter(g.$K):[]}),[o]);function P(e,t){const i=T.map((t=>{let{group:i,groupOptions:r}=t;const l=r.map((t=>({key:t.id,render:e=>s.createElement(H.Z,n()({},e,{focused:e.focused,isTokenTitle:!0,title:a()(X.Z,{format:I.l.Small,value:t.value,options:r,showRemoveButton:!1,showColoredDot:(0,M.JR)(t,i),isSingle:!0,isRound:!0})})),action:()=>{const i={...v,[e]:t.id};o&&(b({[o.id]:i}),y(i))}}))).filter(g.$K);return{key:i.name,render:e=>s.createElement(w.Z,n()({},e,{title:i.name,topBorder:e.index>0})),items:l}}));if(v[e]){function a(){const i={...v,[e]:null};o&&(b({[o.id]:i}),y(i)),t.close()}const l={key:"removeOptionSection",render:e=>s.createElement(w.Z,n()({},e,{topBorder:!0})),items:[{key:"removeOptionButton",render:e=>s.createElement(H.Z,n()({},e,{focused:!1,title:r.formatMessage(q.removeStatusOption),left:Z.Z.trash({width:12}),onClick:a})),action:e=>{a()}}]};i.push(l)}return i}return o?a()(w.Z,{topBorder:!1,disableDesktopPadding:!0,disableMobilePadding:!0,title:a()(oe,{selectedStatusProperty:o,setSelectedStatusProperty:i,existingStatusProperties:f,intl:r})},void 0,(0,g.Yd)(B).map((e=>a()(W.Z,{focused:!1,placementToOrigin:z.Z.Placement.Top,alignmentToOrigin:z.Z.Alignment.End,popupType:u.isMobile?z.Z.PopupType.SlideUp:z.Z.PopupType.Popup,render:t=>{const o=u.isMobile?{menuType:V.og.Modal,right:a()(G.DoneMenuText,{}),onClickRight:t.close}:{menuType:V.og.Popup,width:150};return s.createElement(K.Z,o,a()(Y.Z,{type:Y.i.Vertical,sections:P(e,t),initialFocus:void 0,onAccept:t.close}))},renderOrigin:t=>{const o=v[e];let i=a()("div",{style:m.noneText},void 0,J);if(o){const e=C[o];e&&(i=a()(X.Z,{format:I.l.Small,showRemoveButton:!1,isSingle:!0,isRound:!0,value:e.value,options:[e],showColoredDot:(0,M.JR)(e,void 0)}))}return s.createElement(O.Z,n()({},t,{focused:!1,icon:()=>a()("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"flex-start",whiteSpace:"nowrap"}},void 0,$[e],a()(k.Z,{size:8}),Z.Z.arrowRight(m.automationMenuItemArrow)),title:a()("div",{style:{width:"100%",display:"inline-flex",justifyContent:"flex-end"}},void 0,i),showChevron:!0,chevronStyle:{margin:0}}))}},e)))):a()(te,{setSelectedStatusProperty:i,intl:r})}function te(e){window.__c={n:"AddStatusProperty"};const{setSelectedStatusProperty:t,intl:o}=e,i=(0,l.O7)(),n=(0,F.Y$)(),r=ne();return a()("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},void 0,a()(j.Z,{size:"100%",innerStyle:r.addStatusDivider}),a()("div",{style:r.addStatusDescription},void 0,o.formatMessage(q.addStatusDescription)),a()(U.Z,{style:r.addStatusButton,onClick:e=>{e.stopPropagation(),ie(i,n,t)}},void 0,Z.Z.plus({width:14}),a()(k.Z,{size:4}),o.formatMessage(q.addStatusButton)),a()(k.Z,{size:4}))}function oe(e){window.__c={n:"GithubStatusPropertyPicker"};const{selectedStatusProperty:t,setSelectedStatusProperty:o,existingStatusProperties:i,intl:r}=e,c=(0,l.O7)(),p=(0,F.Y$)(),u=(0,l.Fy)(),m=ne(),h=(0,d.Fg)(),f=i.map((e=>{const{id:t,schema:i}=e;return{key:t,action:()=>{o(e)},render:t=>s.createElement(H.Z,n()({},t,{icon:a()(T.ZP,{size:14,theme:h,icon:e&&e.schema.icon,type:"status"}),title:i.name}))}})).filter(g.$K),v={key:"newStatusProperty",action:()=>{ie(c,p,o)},render:e=>s.createElement(H.Z,n()({},e,{icon:Z.Z.plus(m.statusPickerIcon),title:r.formatMessage(q.newStatusPropertyButton)}))};return a()("div",{style:m.statusPickerWrapper},void 0,a()("div",{style:{display:"inline-flex",alignItems:"center"}},void 0,r.formatMessage(q.autoUpdate),u.isMobile&&a()(k.Z,{size:4}),a()(z.Z,{placementToOrigin:z.Z.Placement.Bottom,alignmentToOrigin:z.Z.Alignment.Start,popupType:u.isMobile?z.Z.PopupType.SlideUp:z.Z.PopupType.Popup,renderOrigin:e=>s.createElement(H.Z,n()({},e,{title:t.schema.name,focused:!1,style:m.statusPickerButtonCore,textWrapperStyle:m.statusPickerButtonTextWrapper,left:a()(T.ZP,{size:14,theme:h,icon:t.schema.icon,type:"status"}),leftStyle:{marginLeft:2},showExtensionArrow:!0,extensionArrowStyle:m.statusPickerExtensionArrow})),render:e=>{const t=u.isMobile?{menuType:V.og.ActionSheet}:{menuType:V.og.Popup,width:150};return s.createElement(K.Z,t,a()(Y.Z,{type:Y.i.Vertical,sections:[{key:0,render:e=>s.createElement(w.Z,e),items:[...f,v]}],initialFocus:0,onAccept:e.close}))}})),u.isMobile&&a()(k.Z,{size:4}),r.formatMessage(q.when))}function ie(e,t,o){const i=t.collectionStore();i&&D.createAndCommit({userAction:"CollectionSettingsConfigureGithubAutomationCreateNewStatusProperty",environment:e,perform:n=>{const r=R.G3({environment:e,collectionStore:i,collectionViewArgs:void 0,propertyType:"status",transaction:n}),a=(0,N.KV)(t,r);a&&(0,_.gB)(a)&&o({id:r,schema:a})}})}function ne(){const e=(0,l.Fy)().isMobile;return(0,d.yK)((t=>({addStatusDivider:{borderColor:t.tableDividerColor},addStatusDescription:{width:"calc(100% - 24px)",padding:e?"16px 8px":"14px 0px",fontSize:e?16:12,color:t.lightTextColor},addStatusButton:{width:"calc(100% - 24px)",display:"inline-flex",alignItems:"center",justifyContent:"center"},noneText:{color:t.lightTextColor},automationMenuItemArrow:{width:12,fill:t.lightIconColor,stroke:t.lightIconColor,strokeOpacity:.5,strokeWidth:2},statusPickerWrapper:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",rowGap:2,marginBottom:e?10:void 0},statusPickerButtonTextWrapper:{margin:"0px 4px",fontSize:12},statusPickerButtonCore:{minHeight:e?28:20,borderRadius:5,maxWidth:e?150:100},statusPickerIcon:{width:14,height:14},statusPickerExtensionArrow:{transform:"rotate(180deg)",marginRight:2}})),[e])}var re=o(49122);const ae=(0,u.defineMessages)({tabTitle:{defaultMessage:"GitHub Pull Requests",id:"database.viewSettings.githubConfigTab.tabTitle",description:"Title of the GitHub configuration tab"},connect:{defaultMessage:"Connect to GitHub (Workspace)",id:"database.viewSettings.githubConfigTab.connect",description:"Button for users to authenticate with GitHub (Workspace)"},connectDescriptionAdmin:{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) connection.",id:"database.viewSettings.githubConfigTab.connectDescriptionAdmin",description:"Prompt for user to ask their admin to configure GitHub"},authError:{defaultMessage:"Auth failed. Please try again or contact Notion support.",id:"database.viewSettings.githubConfigTab.authError",description:"Error message for users when failing to auth with a third party."},tabDescriptionNoIdPrefix:{defaultMessage:"This feature requires a prefixed ID property to link GitHub PRs to Notion {pluralItemName}.",id:"database.viewSettings.githubConfigTab.tabDescriptionNoIdPrefix",description:"Description of the GitHub configuration tab if the collection has no unique ID prefix. pluralItemName describes the type of pages like [pages, tasks, projects]."},tabDescriptionNoStatus:{defaultMessage:"Link PRs by adding the {singleItemName} ID to the PR title.",id:"database.viewSettings.githubConfigTab.tabDescriptionNoStatus",description:"Description of the GitHub configuration tab if the collection has no status property. singleItemName describes the type of page like [page, task, project]."},tabDescription:{defaultMessage:"Link PRs by adding the {singleItemName} ID to the PR title. Set up automated status updates in Notion based on PR status changes.",id:"database.viewSettings.githubConfigTab.tabDescription",description:"Description of the GitHub configuration tab. singleItemName describes the type of page like [page, task, project]."}});const se=(0,u.injectIntl)((function(e){const{collectionContextStore:t,property:o,intl:i}=e,r=(0,l.O7)(),u=(0,l.Fy)().isMobile,_=(0,d.Fg)(),M=(0,y.J)(),T=(0,c.VK)((()=>{var e;return null===(e=t.collectionStore())||void 0===e?void 0:e.getSpaceId()}),[t]),I=(0,c.VK)((()=>t.databaseType),[t]),[P,x]=(0,s.useState)(void 0),B=(0,c.VK)((()=>{var e,o,i;const n=null===(e=t.collectionStore())||void 0===e||null===(o=e.getRecordKeyStore())||void 0===o?void 0:o.getRecordKey(),r=null===(i=t.collectionStore())||void 0===i?void 0:i.getSchema(),a=r&&(0,g.qP)(r).find((e=>{let[t,o]=e;return o&&"auto_increment_id"===o.type}));if(a){const[e,t]=a;if(t&&"auto_increment_id"===t.type)return{id:e,schema:t,prefix:n}}}),[t]),Z=(0,c.VK)((()=>b.Z.integrations.state.find((e=>e.id===m.U9))),[]),E=function(e,t,o){const{background:i}=(0,m.dg)(t,o);return(0,d.yK)((t=>({previewContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},connectButton:{fontSize:14,maxWidth:"calc(100% - 24px)",height:void 0,color:t.regularInvertedTextColor,background:i,whiteSpace:"normal",padding:8,textAlign:"center"},connectDescription:{maxWidth:"calc(100% - 24px)",color:t.lightTextColor,fontSize:14,textAlign:"center"},tabDescription:{padding:e?18:14,fontSize:e?16:12,color:t.lightTextColor}})),[i,e])}(u,Z,_.mode),{hoveredBackground:R,pressedBackground:A}=(0,c.VK)((()=>(0,m.dg)(Z,_.mode)),[Z,_.mode]);function D(){return a()(w.Z,{disableMobileBorders:!0,mobileStyle:E.previewContentContainer,style:E.previewContentContainer},void 0,a()("img",{src:"/images/external_integrations/github-icon.png",style:{width:36,height:36}}),a()("p",{style:E.connectDescription},void 0,M?(0,v.GT)().description:i.formatMessage(ae.connectDescriptionAdmin)),a()(S.Z,{style:E.connectButton,hoveredStyle:{background:R},pressedStyle:{background:A},disabled:!M,disabledFeedback:!M,onClick:async e=>{if(e.preventDefault(),T&&Z)try{await f.h({environment:r,spaceId:T,integration:Z,from:"connected_relation_property_menu"})}catch(t){const e=i.formatMessage(ae.authError);h.showErrorMessage(e)}}},void 0,i.formatMessage(ae.connect)),a()(k.Z,{size:4}))}function F(){return a()(w.Z,{disableDesktopPadding:!0,disableMobilePadding:!0,disableMobileBorders:!0,mobileStyle:E.previewContentContainer,style:E.previewContentContainer},void 0,a()(k.Z,{size:u?16:8}),a()(re.Z,{width:"calc(100% - 24px)",uniqueIdPrefix:null==B?void 0:B.prefix}))}function L(){const e=(0,p.hf)(I).defaultMessage,t=(0,p.u5)(I).defaultMessage;let o;return o=B&&B.prefix?P?i.formatMessage(ae.tabDescription,{singleItemName:e}):i.formatMessage(ae.tabDescriptionNoStatus,{singleItemName:e}):i.formatMessage(ae.tabDescriptionNoIdPrefix,{pluralItemName:t}),a()(w.Z,{disableMobileBorders:!0,disableMobilePadding:!0,mobileStyle:E.tabDescription,style:E.tabDescription},void 0,o)}function V(){return B&&B.prefix?null:a()(C.Z,{collectionContextStore:t,uniqueIdProperty:B&&{propertyId:B.id,propertySchema:B.schema},prefixValue:null==B?void 0:B.prefix})}function N(){return B&&B.prefix?s.createElement(ee,n()({},e,{selectedStatusProperty:P,setSelectedStatusProperty:x,gitHubProperty:o})):null}return(0,c.VK)((()=>{const e=b.Z.bots.state.find((e=>e.integration_id===m.U9));return Boolean(e)}),[])?s.createElement(s.Fragment,null,a()(F,{}),a()(L,{}),a()(V,{}),a()(N,{})):a()(D,{})}))},49122:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(77094),n=o.n(i),r=(o(67294),o(480)),a=o(24405),s=o(41892),l=o(82990),c=o(5366),d=o(32662);function p(e){window.__c={n:"CollectionSettingsGithubPrTaskPreview"};const t=(0,c.useIntl)(),o=function(e){const{isMobile:t}=(0,r.Fy)(),o=t?18:14,i=1,n=6,s=20;return(0,a.yK)((t=>({githubContainer:{display:"flex",alignSelf:"center",flexDirection:"column",width:e||"90%",padding:s,border:`${i}px solid ${t.tableDividerColor}`,borderRadius:n,borderBottomRightRadius:4,cursor:"default"},githubPrTitleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:`calc(100% + ${s}px)`,overflow:"hidden"},githubPrTitle:{display:"inline-flex",fontSize:o,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",background:t.whiteButtonBackground,padding:"2px 4px",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeft:`2px solid ${t.blueColor}`,borderTop:`2px solid ${t.blueColor}`,borderBottom:`2px solid ${t.blueColor}`,width:"100%"},githubTask:{background:"light"===t.mode?t.accentColors.blue[50]:t.accentColors.blue[400]},githubPrInfoRow:{display:"inline-flex"},githubPrInfoPill:{display:"flex",flexDirection:"row",alignItems:"center",width:"fit-content",padding:"4px 10px",borderRadius:"2em",background:"#238636",flexShrink:0,...l.Z.textOverflowStyle},githubPrInfoOpenText:{color:"white",fontSize:o-2,fontWeight:500},githubPrInfoMergeInto:{display:"inline-flex",alignItems:"center",fontSize:o-2,color:t.lightTextColor,...l.Z.textOverflowStyle},githubPrInfoMain:{padding:"0px 4px",fontFamily:l.Z.baseFontFamily.githubMono,background:t.cardPressedBackground,borderRadius:n,color:t.regularTextColor,verticalAlign:"text-bottom",...l.Z.textOverflowStyle}})),[o,e])}(e.width),i=n()("div",{id:"github-preview-github-pr-title-row",style:o.githubPrTitleRow},void 0,n()("div",{id:"github-preview-github-pr-title-wrapper",style:o.githubPrTitle},void 0,n()(d.Z,{size:2}),"[",n()("div",{id:"github-preview-github-pr-task",style:o.githubTask},void 0,e.uniqueIdPrefix||t.formatMessage(u.idPrefix),e.uniqueIdValue?`-${e.uniqueIdValue}`:"-1"),"]",n()(d.Z,{size:2}),t.formatMessage(u.prTitle))),p=n()("div",{id:"github-preview-github-pr-info-row",style:o.githubPrInfoRow},void 0,n()("div",{id:"github-preview-github-open-pr-pill",style:o.githubPrInfoPill},void 0,n()("img",{src:s.Z.images.externalIntegrations.githubPullOpenIconWhitePng,style:{width:16,height:16}}),n()(d.Z,{size:2}),n()("div",{style:o.githubPrInfoOpenText},void 0,t.formatMessage(u.open))),n()(d.Z,{size:8}),n()("div",{id:"github-preview-github-merge-into-main",style:o.githubPrInfoMergeInto},void 0,n()("span",{style:o.githubPrInfoMergeInto},void 0,t.formatMessage(u.mergeInto),n()(d.Z,{size:4}),n()("span",{style:o.githubPrInfoMain},void 0,t.formatMessage(u.main)))));return n()("div",{id:"github-preview-github-container",style:o.githubContainer},void 0,i,n()(d.Z,{size:12}),p)}const u=(0,c.defineMessages)({dismissButtonAriaLabel:{defaultMessage:"A button to dismiss the user education preview.",id:"database.viewSettings.githubConfigTab.preview.dismissButtonAriaLabel",description:"Aria label for a dismiss button"},idPrefix:{defaultMessage:"TASK",id:"database.viewSettings.githubConfigTab.preview.idPrefix",description:"Prefix of the task id value"},prTitle:{defaultMessage:"GitHub PR Title",id:"database.viewSettings.githubConfigTab.preview.prTitle",description:"A placeholder value for a pull request title"},open:{defaultMessage:"Open",id:"database.viewSettings.githubConfigTab.preview.open",description:"Status of the GitHub pull request"},mergeInto:{defaultMessage:"Merge into",id:"database.viewSettings.githubConfigTab.preview.mergeInto",description:"The act of combining two code branches. Portion of the text under the GitHub PR title"},main:{defaultMessage:"main",id:"database.viewSettings.githubConfigTab.preview.main",description:"Name of the main branch. Portion of the text under the GitHub PR title"}})},85590:(e,t,o)=>{o.d(t,{$:()=>Te,Z:()=>Pe});var i=o(77094),n=o.n(i),r=o(67294),a=o(1302),s=o(480),l=o(6740),c=o(82540);function d(){return(0,r.useContext)(c.QG)}var p=o(33125),u=o(81954),m=o(24405),g=o(15070),h=o(3779),f=o(27006),v=o(21202),y=o(19889),b=o(82990),S=o(7928),w=o(5366),k=o(54564),C=o(47307),_=o(96514),M=o(9953),T=o(4083),I=o(98104),P=o(30149),x=o(78089),B=o(65598),Z=o(16402),E=o(89574),R=o(61766),A=o(87404),D=o(96049),F=o(3815),L=o(74136),V=o(64369),N=o(42402),O=o(67706),U=o(65085),H=o(65187),z=o(97464),W=o.n(z),j=o(96486),K=o.n(j),Y=o(97880),G=o(43132),X=o(95477),q=o(43250),$=o(60709),J=o(33665),Q=o(79315),ee=o(52275),te=o(31945),oe=o(73063),ie=o(78140),ne=o(9342),re=o(72495),ae=o(58032),se=o(83182),le=o(15884);function ce(e){window.__c={n:"CommentActionGroup"};const{discussionLocation:t}=e,o=(0,w.useIntl)(),i=(0,s.O7)(),a=i.device,l=(0,r.useRef)(null),c=d(),p=(0,u.VK)((()=>Boolean(e.discussionStore.getResolved())),[e.discussionStore]),m=(0,u.VK)((()=>e.store.isDefined()),[e.store]),g=(0,u.VK)((()=>{var e;return null===(e=Q.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),v=(0,u.VK)((()=>{const t=e.store.getCreatedById();return e.store.getCreatedByTable()===y.KJ&&g===t}),[g,e.store]),b=(0,u.VK)((()=>{var e;const t=null===(e=Q.default.state.currentSpaceStore)||void 0===e?void 0:e.getRole();return t&&f.zz(t)}),[]),S=(0,u.VK)((()=>e.blockStore.getRole()),[e.blockStore]),C=(0,u.VK)((()=>{var e;return null==c||null===(e=c.publicEditModeStore.state)||void 0===e?void 0:e.permission}),[null==c?void 0:c.publicEditModeStore]),M="comment_only"===S||"comment"===C;if(!m||!g)return null;const T=()=>{P.createAndCommit({userAction:"Comment.handleReopen",environment:i,perform:t=>{_.bh({environment:i,discussionStore:e.discussionStore,transaction:t,discussionLocation:e.discussionLocation})}})},I=t=>{P.createAndCommit({userAction:"Comment.handleResolve",environment:i,perform:t=>{_.DX({environment:i,discussionStore:e.discussionStore,transaction:t,discussionLocation:e.discussionLocation})}}),k.Xv(),null==t||t.stopPropagation()},x=()=>{const t=e.store.getParentStore();if(!t||null==t||!t.isDefined())return null;const o=t.getParentStore();if(null==o||!o.isDefined())return null;const n=o.getModel().getRenderUrl({baseUrl:X.Z.domainBaseUrl,getRecordModel:e.store.getRecordModel,discussionId:t.id});G.RD({environment:i,stringValue:n,copiedMessage:G.tq.copiedLinkToClipboard})};if(!i.currentUser.isLoggedIn())return null;const B=S&&f.rz(S);if(B)return null;const Z=e.isFirstComment&&"comment_unfurl"!==t&&!a.isMobile&&!M&&!B,E=[];!a.isMobile||M||B||(p?E.push("reopen"):E.push("resolve")),v&&E.push("edit"),e.isFirstComment&&E.push("copyLink"),(v||b)&&E.push("delete");const R=E.length>0;return R||Z||e.canShowReactions?r.createElement(te.Z,{ref:l,popupType:a.isMobile?te.Z.PopupType.SlideUp:te.Z.PopupType.Popup,buttonPopupStore:e.buttonPopupStore,placementToOrigin:te.Z.Placement.Right,stopClickPropagation:!0,renderOrigin:r=>n()(de,{buttonConfig:{resolve:{visible:Z,resolved:p,onResolve:I,onReopen:T},react:{visible:e.canShowReactions,onReact:()=>{(0,le.X)(i,o,e.store,l.current,t)}},moreActions:{visible:R}},visible:e.visible,buttonPopupEvents:r,discussionLocation:e.discussionLocation,store:e.store}),render:t=>{let o;o=a.isMobile?{menuType:$.og.ActionSheet}:{menuType:$.og.Popup};const i=E.map((t=>"reopen"===t?{key:"reopen",render:e=>r.createElement(ee.Z,W()({},e,{icon:h.Z.arrowLeft({height:16,width:16}),title:n()(w.FormattedMessage,{id:"comment.reopenDiscussion.button",defaultMessage:"Re-open discussion"})})),action:T}:"resolve"===t?{key:"resolve",render:e=>r.createElement(ee.Z,W()({},e,{icon:h.Z.thinCheck({height:16,width:16}),title:n()(w.FormattedMessage,{id:"comment.resolveDiscussion.button",defaultMessage:"Resolve comments"})})),action:()=>I()}:"edit"===t?{key:"edit",render:e=>r.createElement(ee.Z,W()({},e,{icon:h.Z.pencil({height:16,width:16}),title:n()(w.FormattedMessage,{id:"comment.editComment.button",defaultMessage:"Edit comment"})})),action:e.handleEditComment}:"delete"===t?{key:"delete",render:e=>r.createElement(ee.Z,W()({},e,{icon:h.Z.trash({height:16,width:16}),title:n()(w.FormattedMessage,{id:"comment.deleteComment.button",defaultMessage:"Delete comment"})})),action:e.handleDeleteComment}:"copyLink"===t?{key:"copyLink",render:e=>r.createElement(ee.Z,W()({},e,{icon:h.Z.link({height:16,width:16}),title:n()(w.FormattedMessage,{id:"comment.copyLinkToDiscussion.button",defaultMessage:"Copy link to discussion",description:"Button to copy link to the discussion thread."})})),action:x}:void(0,Y.t1)(t)));return n()("div",{className:q.G6g},void 0,r.createElement(ie.Z,o,n()(ne.Z,{type:ne.i.Vertical,initialFocus:void 0,onAccept:t.close,sections:K().compact([i.length&&{key:0,render:e=>r.createElement(re.Z,e),items:i}])}),!a.isMobile&&n()(re.Z,{topBorder:!0,disableDesktopPadding:!1},void 0,n()(se.Z,{title:n()(w.FormattedMessage,{defaultMessage:"Learn about comments",id:"comments.learn"}),href:(0,J.UY)("guides.comments"),analyticsFrom:"comments"}))))}}):null}function de(e){window.__c={n:"ActionGroupOrigin"};const{buttonPopupEvents:t,discussionLocation:o}=e,{resolved:i,onResolve:a,onReopen:l}=e.buttonConfig.resolve,c=(0,s.O7)().device,d=(0,m.yK)((t=>({addIcon:{width:15,fill:t.mediumIconColor},container:{display:"flex",boxShadow:t.lightBoxShadow,position:"absolute",flexShrink:0,padding:"2px",backgroundColor:t.buttonGroupBackground,...c.isMobile?{borderRadius:3,marginTop:4,right:16}:{marginRight:"margin_comments"===o?0:8,marginTop:"updates_sidebar"===e.discussionLocation?6:0,right:"margin_comments"===o?12:16,top:"margin_comments"===o?6:0,opacity:e.visible?1:0,gap:1,borderRadius:4,transition:"opacity 100ms ease-out",zIndex:1}}})),[c.isMobile,o,e.discussionLocation,e.visible]);return n()("div",{style:d.container},void 0,e.buttonConfig.react.visible&&n()(ae.Z,{renderTooltip:()=>n()(w.FormattedMessage,{defaultMessage:"Add reaction",id:"comment.actions.addReaction.label",description:"Button to add a reaction to a comment"}),render:t=>r.createElement(oe.Z,W()({hasBackground:!1,showShadow:!1,icon:()=>h.Z.reactionAdd(d.addIcon),onClick:e.buttonConfig.react.onReact,style:{height:22,width:22,flex:"0 0 auto"}},t))}),e.buttonConfig.resolve.visible&&n()(ae.Z,{renderTooltip:()=>n()(w.FormattedMessage,i?{defaultMessage:"Re-open",id:"comment.actions.reopenButton.label"}:{defaultMessage:"Resolve",id:"comment.actions.resolveButton.label"}),render:e=>r.createElement(oe.Z,W()({hasBackground:!1,showShadow:!1,icon:i?h.Z.reopen:h.Z.resolve,onClick:i?l:a,style:{height:22,width:22,flex:"0 0 auto"}},e))}),e.buttonConfig.moreActions.visible&&n()(ae.Z,{renderTooltip:()=>n()(w.FormattedMessage,{defaultMessage:"More actions",description:"An overflow button that offers more secondary actions",id:"comment.actions.moreActions.label"}),render:e=>r.createElement(oe.Z,W()({},t,e,{hasBackground:!1,showShadow:!1,icon:h.Z.dots,style:{height:22,width:22,flex:"0 0 auto"}}))}))}var pe=o(72893),ue=o(95538),me=o(70203),ge=o(95182),he=o(72747),fe=o(53471),ve=o(68785),ye=o(49914),be=o(69721),Se=o(66094),we=o(30398);function ke(e){if("image"!==e.getType())return!1;const t=me.Q(e.getPropertyValue("source"));return void 0!==t&&!(0,ue.y_)(t,".jfif")&&!(0,ue.y_)(t,".webp")}function Ce(e){const t=e.discussionFormat===x.O2.Sidebar?he.vW.SidebarComment:he.vW.PageComment,{filmStripFiles:o,embedBlockStores:i}=(0,u.VK)((()=>{if(e.collapsed)return{filmStripFiles:fe.nQ(e.contentStores),embedBlockStores:[]};if(e.discussionFormat===x.O2.Page&&e.contentStores.filter((e=>ke(e))).length>1){const[t,o]=K().partition(e.contentStores,(e=>ke(e)));return{filmStripFiles:fe.nQ(t),embedBlockStores:o}}return{filmStripFiles:[],embedBlockStores:e.contentStores}}),[e.contentStores,e.collapsed,e.discussionFormat]),a=i.length>0&&i.map((o=>n()(Se.Z,{store:o,analyticsName:"comment_media",blockMenuActions:ge.qq,canTriggerContextMenu:!0,style:{marginTop:8}},o.id,ye.Z.hasRendererForStore(o)?n()(ye.Z,{disabled:!1,disableDrag:!0,store:o,disableResizers:!0,preserveScale:!0,inlineContentStyle:{height:"auto",width:"auto",maxHeight:240,maxWidth:"100%",cursor:"zoom-in"},blockLocation:t,iconSvg:()=>n()(ve.Z,{style:{marginRight:10}}),onRemoveBlockFromComment:e.onRemoveContent},void 0,n()(w.FormattedMessage,{defaultMessage:"Uploading file...",id:"comment.embeddedFile.uploadInProgressMessage"})):n()(be.Z,{disabled:!1,store:o})))),s=o.length>0&&n()(we.Z,{files:o,disableRemove:!0});return r.createElement(r.Fragment,null,s,a)}function _e(){window.__c={n:"CommentNewBar"};const e=(0,m.yK)((e=>({newBarLine:{height:"0px",borderBottom:`1px solid ${e.darkDividerColor}`,width:"100%",marginLeft:0},newBarWrapper:{color:e.mediumTextColor,textTransform:"uppercase",fontSize:10.5,letterSpacing:.5,fontWeight:b.Z.fontWeight.semibold,display:"flex",alignItems:"center",marginRight:16,marginLeft:16,marginTop:10,marginBottom:10},newBarText:{padding:"0 10px"}})),[]);return n()("div",{style:e.newBarWrapper},void 0,n()("div",{style:e.newBarLine}),n()("div",{style:e.newBarText},void 0,n()(w.FormattedMessage,{id:"comment.newIndicator.label",defaultMessage:"New comments"})),n()("div",{style:e.newBarLine}))}var Me=o(19195);const Te=14;function Ie(e){switch(e){case"margin_comments":return 0;case"updates_sidebar":return 35;case"comment_unfurl":return 29;default:return 32}}const Pe=function(e){window.__c={n:"Comment"};const{store:t,discussionContext:o,maxLines:i,discussionLocation:c}=e,z=(0,s.O7)(),W=(0,w.useIntl)(),[j,K]=(0,r.useState)(!1),[Y,G]=(0,r.useState)(!1),[X,q]=(0,r.useState)(!1),$=Ie(c),J=(0,u.VK)((()=>e.store.isDefined()?new A.Z(z,e.store.getSpaceId()):void 0),[z,e.store]),Q=(0,u.VK)((()=>B.le(e.store).filter((e=>(0,F.Vh)(e,{table:v.iU,id:e.id},"alive").getValue()))),[e.store]),ee=(0,u.VK)((()=>e.discussionStore.getResolved()),[e.discussionStore]),te=(0,u.VK)((()=>null==J?void 0:J.state.files),[J]),oe=(0,u.VK)((()=>null==J?void 0:J.state.textStore),[J]),ie=(0,r.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,l.E)(t)&&G(!0)}),[]),ne=(0,r.useCallback)((()=>{G(!1)}),[]),re=(0,r.useCallback)((()=>{D.Z.state||q(!0)}),[]),ae=(0,r.useCallback)((()=>{q(!1)}),[]),se=d(),de=(0,u.qz)(void 0,R.Z),ue=(0,u.VK)((()=>de.state.open),[de]),me=(0,u.VK)((()=>{const t=e.discussionStore.getComments();return Boolean(t&&t[0]===e.store.id)}),[e.discussionStore,e.store.id]),ge=(0,u.VK)((()=>{var t;const o=e.blockStore.getRole(),i=me&&"comment_unfurl"!==c,n=o&&f.rz(o),{device:r}=z,a="comment_only"===o||se&&"comment"===(null===(t=se.publicEditModeStore.state)||void 0===t?void 0:t.permission),s=i&&!r.isMobile&&!a&&!n;return X||Y||e.hoveringDiscussion&&i||ue||r.isMobile||e.showResolveButtonByDefaultIfPossible&&s}),[e.blockStore,e.hoveringDiscussion,e.showResolveButtonByDefaultIfPossible,me,c,z,se,X,Y,ue]),he=(0,u.VK)((()=>{const e=t.getCreatedByTable(),o=t.getCreatedById();return e&&o?{createdByTable:e,createdById:o,lastEditedTime:t.getLastEditedTime(),createdTime:t.getCreatedTime(),text:t.getText(),reactions:t.getReactions()}:null}),[t]),fe=(0,u.VK)((()=>{if(!he)return null;const e=F.t1.createChildStore(t,{table:he.createdByTable,id:he.createdById});return{displayName:e.isDefined()?e.table===y.KJ?(0,S.Nz)(W,e.getModel()):(0,g.Mh)(e.getModel()):null,store:e}}),[he,W,t]),ve=(0,r.useCallback)((()=>{P.createAndCommit({userAction:"Comment.deleteComment",environment:z,perform:t=>{_.YF({environment:z,commentStore:e.store,transaction:t,discussionLocation:c})}})}),[z,e.store,c]),ye=(0,r.useCallback)((async()=>{await C.confirmUserAction({message:n()(w.FormattedMessage,{defaultMessage:"Would you like to delete this comment?",id:"comment.confirmDialog.deleteComment.prompt"}),acceptLabel:n()(w.FormattedMessage,{defaultMessage:"Delete",id:"comment.confirmDialog.deleteComment.deleteButton.label"})})&&(ve(),k.Xv(),T.Cd(z))}),[ve,z]),be=(0,r.useCallback)((async t=>{const o=B.zP(e.store).getValue(),i=B.le(e.store).filter((e=>e.id!==t.id)),n=o&&o.length>0,r=0===i.length;!n&&r?(await ye(),K(!1)):P.createAndCommit({userAction:"Comment.handleRemoveFileFromActions",environment:z,perform:o=>{_.Zo({commentStore:e.store,fileBlocks:[t],transaction:o})}})}),[z,ye,e.store]),Se=async()=>{if(!J)return;const t=B.zP(e.store).getValue()||[],o=J.state.textStore;P.createAndCommit({userAction:"Comment.handleEditComment",environment:z,perform:e=>{M.sO({store:o,value:t,transaction:e})}}),K(!0),await a.default.afterNextFlush(),await a.default.afterNextFlush(),I.NX({store:o})},we=async()=>{if(!J)return!1;if(!(0,x.hu)(J,e.store))return K(!1),!0;if(await C.confirmUserAction({message:n()(w.FormattedMessage,{defaultMessage:"Do you want to discard this edit?",id:"comment.confirmDialog.discardEdit.prompt"}),acceptLabel:n()(w.FormattedMessage,{defaultMessage:"Discard",id:"comment.confirmDialog.discardEdit.discardButton.label"})}))return K(!1),!0;return!1},ke=(0,r.useCallback)((async()=>{const t=null==oe?void 0:oe.getValue();t&&t.length>0||te&&te.length>0?P.createAndCommit({userAction:"Comment.handleSubmitEdit",environment:z,perform:o=>{_.DF({environment:z,store:e.store,text:t||[],transaction:o,discussionLocation:c,files:te||[]})}}):await ye(),K(!1)}),[te,oe,c,z,ye,e.store]),Pe=(0,r.useRef)(null);(0,p.c)(E.Z,(()=>({edit:Se,handleCancelEdit:we,getNode:()=>Pe.current,isEditing:()=>j,discussionLocation:c,commentId:e.store.id})),[Se,we,j,c,e.store.id]);const xe=x.Je[c],Be=null==he?void 0:he.text,Ze=void 0!==Be&&Be.length>0,Ee=Ze&&(0,x.p9)(Be),Re=function(e){let{discussionLocation:t,isAllEmojis:o,avatarSize:i}=e;const n=Ie(t);return(0,m.yK)((e=>({container:{flexGrow:"comment_unfurl"===t?1:void 0},comment:{display:"flex",alignItems:"flex-start",position:"relative",fontSize:Te},avatar:{marginRight:10,marginTop:"comment_unfurl"===t?16:2,userSelect:"none",WebkitUserSelect:"none"},userRow:{alignItems:"center",position:"relative",display:"flex",flexDirection:"row",padding:"margin_comments"===t?"8px 14px 0px 13px":"comment_unfurl"===t?"6px 16px 0px 10px":"6px 16px 0px 18px",marginTop:"comment_unfurl"===t?-11:void 0,userSelect:"none",WebkitUserSelect:"none"},placeholder:{height:8,width:81,borderRadius:3,background:e.lightDividerColor},unfurlLessWrapper:{color:e.regularTextColor,fontWeight:b.Z.fontWeight.medium,paddingLeft:n,marginLeft:7},unfurlMoreWrapper:{color:"comment_unfurl"===t?e.regularTextColor:e.mediumTextColor,fontWeight:"comment_unfurl"===t?b.Z.fontWeight.medium:void 0},attachIcon:{width:18,height:18,fill:e.mediumIconColor},text:{cursor:"comment_unfurl"!==t?"text":void 0,paddingLeft:n,marginLeft:"comment_unfurl"===t?8:void 0,...o?{fontSize:32}:{}},textWrapper:{padding:"margin_comments"===t?"4px 14px":"0px 16px 3px 16px",marginTop:"comment_unfurl"===t?"-14px":void 0},reactionContainer:{marginLeft:"margin_comments"===t?14:50,marginRight:14,marginTop:4,marginBottom:4},attachmentContainer:{padding:"0px 16px 6px 54px",marginTop:-12,display:"flex",alignItems:"center"},timestamp:{margin:"0 6px",flexBasis:"comment_unfurl"!==t?140:void 0,whiteSpace:"normal",flexGrow:"updates_sidebar"===t||"comment_unfurl"===t?void 0:1,display:"inline"},commentAttachment:{margin:"0px 14px 0px "+("margin_comments"===t?"14px":"50px")},commentAuthorPlaceholder:{marginRight:8,marginTop:"comment_unfurl"===t?14:2,height:i,width:i,borderRadius:20,flexShrink:0}})),[t,n,o,i])}({discussionLocation:c,isAllEmojis:Ee,avatarSize:xe});if(!J)return null;if(!he||!fe)return null;const Ae="comment_unfurl"!==c;let De,Fe;he.lastEditedTime&&he.lastEditedTime>he.createdTime+100?(De=n()(w.FormattedMessage,{defaultMessage:"{lastEditedTime} (edited)",id:"comment.editedAtTime.label",values:{lastEditedTime:(0,Z.IS)(he.lastEditedTime)}}),Fe=(0,Z.uy)(he.lastEditedTime)):(De=(0,Z.IS)(he.createdTime),Fe=(0,Z.uy)(he.createdTime));const Le=n()("div",{style:Re.commentAttachment},void 0,n()(Ce,{contentStores:Q,onRemoveContent:be,discussionFormat:(0,x.ad)(c),collapsed:e.collapsed}));return r.createElement("div",{ref:Pe,onClick:e=>j&&e.stopPropagation(),style:Re.container},e.showNewBar&&n()(_e,{}),n()("div",{style:Re.comment,onFocus:ie,onBlur:ne,onMouseMove:re,onMouseLeave:ae},void 0,n()("div",{style:{flexGrow:1,minWidth:0}},void 0,n()("div",{style:Re.userRow},void 0,n()(pe.S,{authorStore:null==fe?void 0:fe.store,avatarSize:xe,avatarStyle:Re.avatar,placeholderStyle:Re.commentAuthorPlaceholder}),n()("div",{style:{overflow:"hidden"}},void 0,n()("span",{style:{fontWeight:b.Z.fontWeight.semibold,whiteSpace:"normal"}},void 0,fe.displayName||n()("span",{style:Re.placeholder})),n()(V.Z,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:Re.timestamp},void 0,n()(O.Z,{text:De,tooltipText:Fe,icon:h.Z.calendar})),"comment_unfurl"===c&&ee&&n()("div",{style:{display:"inline-flex"}},void 0,n()(L.Z,{},void 0,n()(w.FormattedMessage,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved",description:"Text that displays on a comment preview when it has been resolved"}))))),n()("div",{style:{paddingLeft:$+15,paddingRight:16}},void 0,o),j?n()("div",{style:(0,x.ad)(c)===x.O2.Margin?{marginTop:8}:void 0},void 0,n()(Me.Z,{containerStyle:{padding:"margin_comments"===c?"0px 14px 4px 14px":"0px 10px 0px 45px"},showAvatar:!1,parentStore:e.store,blockStore:e.blockStore,onCancel:we,onSubmit:ke,discussionInputStore:J,isEditingExistingComment:!0,isMobileSlideUpMenu:!0,shouldSaveUnsentComments:!1,commentStore:e.store,discussionFormat:(0,x.ad)(c),canDrop:!0})):r.createElement(r.Fragment,null,Ze&&!j&&n()("div",{style:Re.textWrapper},void 0,n()(U.Z,{onMore:"comment_unfurl"===c?void 0:()=>{},lessElement:"comment_unfurl"===c?n()("span",{className:"notion-link",style:Re.unfurlLessWrapper},void 0,n()(w.FormattedMessage,{id:"comments.showLessLabel",defaultMessage:"show less",description:"Label shown when comment is expanded"})):void 0,moreElement:n()(N.Z,{disableUnderline:!0,style:Re.unfurlMoreWrapper},void 0,"…"," ",n()("span",{},void 0,n()(w.FormattedMessage,{id:"text.truncated.showMoreLabel",defaultMessage:"more"}))),maxLines:e.collapsed?i:void 0},void 0,n()(H.Z,{style:Re.text,store:B.zP(e.store),disabled:!0,disableDateMentions:!0,disableEquationInteraction:!0}))),"comment_unfurl"!==c?Le:!Ze&&n()("div",{style:Re.attachmentContainer},void 0,n()("div",{style:{marginRight:5}},void 0,h.Z.attachFile(Re.attachIcon)),n()(w.FormattedMessage,{defaultMessage:"{numberOfAttachments, plural, one {{numberOfAttachments} attachment} other {{numberOfAttachments} attachments}}",values:{numberOfAttachments:Q.length},id:"comment.unfurl.attachments.title",description:"The text displayed to denote the number of files attached to a comment."}))),Ae&&he.reactions&&n()("div",{style:Re.reactionContainer},void 0,n()(le.Z,{parentStore:e.store,discussionLocation:c,keepVisible:!1}))),"comment_unfurl"!==c&&!j&&n()(ce,{store:e.store,discussionStore:e.discussionStore,blockStore:e.blockStore,discussionLocation:c,visible:ge,isFirstComment:me,buttonPopupStore:de,canShowReactions:Ae,handleEditComment:Se,handleDeleteComment:ye})))}},72893:(e,t,o)=>{o.d(t,{S:()=>m});var i=o(77094),n=o.n(i),r=(o(67294),o(81954)),a=o(24405),s=o(66897),l=o(77420),c=o(19889),d=o(97880),p=o(70301),u=o(45653);function m(e){let{authorStore:t,avatarSize:o,avatarStyle:i,placeholderStyle:m}=e;const g=(0,a.Fg)(),h=(0,r.VK)((()=>t.table===c.KJ?{table:c.KJ,value:t.getValue()}:t.table===l.cZ?(0,s.ON)(t.getValue()):void(0,d.t1)(t)),[t]);return h.value?h.table===c.KJ?n()(u.Z,{hasTooltip:!0,userValue:h.value,style:i,size:o,avatarShouldShowShadow:!0}):h.table===l.cZ?n()(p.Z,{botValue:h.value,size:o,style:i}):void(0,d.t1)(h):n()("div",{style:{...m,background:g.lightDividerColor}})}},97543:(e,t,o)=>{o.d(t,{Z:()=>te});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(1302),c=o(480),d=o(33125),p=o(81954),u=o(24405),m=o(70203),g=o(97880),h=o(5366),f=o(47307),v=o(96514),y=o(17503),b=o(61045),S=o(98104),w=o(30149),k=o(78089),C=o(65598),_=o(89574),M=o(46351),T=o(95802),I=o(34859),P=o(87404),x=o(96049),B=o(45589),Z=o(83575),E=o(18647),R=o(66094),A=o(93963),D=o(85590),F=o(13991),L=o(41432),V=o(99036),N=o(8848),O=o(83212),U=o(59753),H=o(82990),z=o(33929),W=o(2456);const j=new Set([L.Ti.toggle,L.Ti.bulletedList,L.Ti.numberedList,L.Ti.quote,L.Ti.toDo,L.Ti.code,L.Ti.callout,L.Ti.header,L.Ti.subHeader,L.Ti.subSubHeader,L.Ti.tableRow]);function K(e){window.__c={n:"DiscussionContext"};const t=(0,u.Fg)(),o=(0,p.VK)((()=>{var t;return e.store.isDefined()?null===(t=e.store.getParentStore())||void 0===t?void 0:t.getValue():null}),[e.store]),i=(0,p.VK)((()=>e.blockStore.getSpaceId()),[e.blockStore]),r=(0,p.VK)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext();if(!t)return;return m.VP(t,(t=>!m.xw(t)||m.h1(t)===e.store.id))}),[e.store]);function a(o){if(!r)return null;const a={display:"flex",alignItems:"flex-start",fontSize:14,marginTop:8,marginBottom:8,color:t.mediumTextColor,width:"100%"},s=V.Kc(z.default.getIntl()).title;return s?n()("div",{style:a},void 0,n()("div",{style:{display:"flex",width:"100%"}},void 0,n()(Y,{}),(o=>{let{textValue:r,propertySchema:a,discussionParentValue:s}=o;const l=n()("div",{style:{maxHeight:72,overflow:"hidden",lineHeight:"24px"}},void 0,n()(W.KX,{value:{value:r,spaceId:i},propertySchema:a,labeled:!1,rootStore:e.blockStore,disableStyleAnnotations:!0,disableDateStyleAnnotations:!0}));if(!s)return l;const c=s.type;return c===L.Ti.code?n()(O.Z,{title:(0,W.SP)(s),theme:t,style:{marginTop:0,marginBottom:0}},void 0,n()("span",{style:{fontFamily:H.Z.getCompositeFontFamily(F.SP).mono,fontSize:12,tabSize:2}},void 0,l)):(0,W.pH)(c)?n()(O.Z,{title:(0,W.pH)(c),theme:t,style:{marginTop:0,marginBottom:0}},void 0,l):l})({textValue:r,discussionParentValue:o,propertySchema:s}))):null}if("updates_sidebar"===e.discussionLocation){if(!o)return null;if("text"!==o.type)return n()("div",{onClick:e.onClick,style:{display:"flex",cursor:U.kk.fromBlock(o).isType(L.Zi)?"text":void 0}},void 0,r&&j.has(o.type)?a(o):n()("div",{style:{display:"flex",marginTop:8,marginBottom:8,width:"100%"}},void 0,n()(Y,{}),n()(W.ZP,{blockValue:o,rootStore:e.blockStore,blockPreviewLocation:"comments_sidebar"})))}return n()("div",{onClick:e.onClick,style:{cursor:"text"}},void 0,a())}function Y(){return window.__c={n:"ContextVerticalBar"},n()("div",{style:{width:3,borderRadius:3,marginLeft:2,marginRight:8,background:N.DB,flexShrink:0,paddingBottom:2}})}var G=o(3779),X=o(27006),q=o(58032),$=o(19195);const J=s.forwardRef(((e,t)=>{const o=(0,c.O7)(),{format:i,role:r,showMoreCommentsButton:a,onMoreCommentsClick:l,inputVisible:d}=e,m=r&&X.rz(r),g=o.currentUser.isLoggedIn(),{device:f,WindowSizeStore:v}=o,y=(0,u.Fg)(),b=(0,p.VK)((()=>({paddingLeft:f.isMobile&&v.getSafePaddingLeftCSS(18)||i===k.O2.Margin&&9||13,paddingRight:f.isMobile&&v.getSafePaddingLeftCSS(14)||i===k.O2.Margin&&12||16})),[v,f.isMobile,i]),S=(0,u.yK)((t=>({container:{paddingTop:e.collapsed?1:4,paddingLeft:b.paddingLeft,paddingRight:b.paddingRight,paddingBottom:(f.isMobile&&i!==k.O2.Page?8:i===k.O2.Sidebar&&14)||0,position:"relative"},moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,marginTop:-32,height:30,background:`linear-gradient(to bottom, ${t.contentBackgroundTransparent} 0px, ${t.selectedMarginDiscussionBackground} 30px`},tooltip:{...(0,q.J)(t,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"}})),[b,f.isMobile,i,e.collapsed]);return s.createElement(s.Fragment,null,g&&!m&&n()("div",{style:S.container},void 0,a&&n()("div",{style:S.moreCommentsWrapper},void 0,n()("div",{style:S.tooltip,onClick:l},void 0,n()("div",{style:{marginRight:5}},void 0,G.Z.arrowDownSmall({fill:y.regularInvertedTextColor,height:12,width:12})),n()(h.FormattedMessage,{defaultMessage:"More comments",id:"discussion.moreMessageTooltip"}))),d&&s.createElement($.Z,{showAvatar:"margin_comments"!==e.discussionLocation,containerStyle:f.isMobile?void 0:{paddingLeft:5,paddingRight:2},parentStore:e.store,onCancel:e.onCancel,onSubmit:e.onSubmit,discussionInputStore:e.discussionInputStore,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,onEditPreviousComment:e.onEditPreviousComment,inReplyToDiscussionId:e.store.id,discussionFormat:e.format,showCtaButtons:e.showCtaButtons,ref:t,onFileUploaded:e.onFileUploaded})))}));var Q=o(62385);function ee(e){window.__c={n:"DiscussionShowAllButton"};const t=(0,u.yK)((t=>({newBarLine:{height:"0px",borderBottom:`1px solid ${t.darkDividerColor}`,marginLeft:0,flex:1},moreCommentsWrapper:{color:t.lightTextColor,fontSize:14,paddingLeft:e.insetButton?38:2,flexGrow:1,display:"flex",alignItems:"center"},button:{padding:"14px 12px",margin:"1px 0",borderRadius:0,fontSize:14,color:t.mediumTextColor,width:"100%",justifyContent:"space-between"},buttonHovered:{background:t.focusDiscussionInputBackground}})),[e.insetButton]);return e.count<=0?null:n()(Q.Z,{style:t.button,onClick:e.onClick,hoveredStyle:t.buttonHovered},"show",n()("div",{style:t.moreCommentsWrapper},void 0,n()(h.FormattedMessage,{defaultMessage:"{moreCommentsNumber, plural, one {{moreCommentsNumber} more comment} other {{moreCommentsNumber} more comments}}",id:"discussion.showMoreCommentsSidebarButton.label",values:{moreCommentsNumber:e.count}})))}function te(e){window.__c={n:"Discussion"};const t=(0,s.useRef)(null),o=(0,c.O7)(),i=(0,p.VK)((()=>C.D4(e.store)),[e.store]),r=(0,p.VK)((()=>i.filter((e=>e.isDefined()))),[i]),F=(0,s.useRef)(e.discussionInputStore||new P.Z(o,e.store.pointer.spaceId)).current,L=(0,p.VK)((()=>(0,k.n9)(F)),[F]),V=(0,p.VK)((()=>e.store.isDefined()),[e.store]),N=(0,p.VK)((()=>e.store.getResolved()),[e.store]),[O,U]=(0,s.useState)(!1),[H,z]=(0,s.useState)(!1),[W,j]=(0,s.useState)(!0),Y=(0,p.qz)(void 0,B.Z),G=(0,p.VK)((()=>Y.state.clientRect),[Y]),X=e.format===k.O2.Sidebar,q=e.format===k.O2.Margin,$=(0,s.useRef)(null);(0,d.c)(M.Z,(()=>({isSidebarFormat:()=>X,isMarginFormat:()=>q,getStore:()=>e.store,getInputStore:()=>F,getNode:()=>$.current})),[X,q,e.store,F]);const Q=(0,p.VK)((()=>{if(!X)return;return(0,k.NI)(e.store).find((t=>y.t({discussionStore:e.store,commentStore:t})))}),[X,e.store]),te=(0,s.useRef)(Q),ie=(0,p.VK)((()=>{const{showAllRepliesAfterTimestamp:t}=e,o=(()=>{var o;if(H||r.length<=5||"block_menu"===e.discussionLocation||"page_discussion"===e.discussionLocation)return r;const i=[t,null===(o=te.current)||void 0===o?void 0:o.getCreatedTime(),null==Q?void 0:Q.getCreatedTime()].filter(g.$K),n=i.length>0?Math.min(...i):void 0;if(n){const e=r.filter((e=>(e.getCreatedTime()||0)>n)),t=r.filter((e=>(e.getCreatedTime()||0)<=n));return t.length<=5?r:[...a().takeRight(t,2),...e]}return a().takeRight(r,2)})(),i=new Set(o.map((e=>e.id))),n=r.filter((e=>!i.has(e.id))),s=n.length;return{commentStores:r,commentsToShow:o,commentsToCollapse:n,remainingCommentCount:s,shouldRenderFirstComment:s>0}}),[r,Q,e,H],{useDeepEqual:!0}),ne=(0,s.useCallback)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext();if(!t)return;return m.VP(t,(t=>!m.xw(t)||m.h1(t)===e.store.id))}),[e.store]),re=(0,p.VK)((()=>{if(!X)return;return(0,k.NI)(e.store).find((t=>y.t({discussionStore:e.store,commentStore:t})))}),[X,e.store]),ae=s.createRef(),se=(0,s.useRef)(e.blockStore.clone()).current,le=(0,u.yK)((t=>({discussionWrapper:{...e.format===k.O2.Page&&{margin:"14px -14px 14px"},...e.format===k.O2.Menu&&{paddingTop:10,paddingBottom:12,marginLeft:-2,boxShadow:e.isFirst?"none":`0 -1px 0 ${t.regularDividerColor}`,marginTop:e.isFirst?0:1},...e.format===k.O2.Margin&&{paddingBottom:e.collapsed?7:14,borderRadius:3}}})),[e.collapsed,e.format,e.isFirst]);(0,s.useEffect)((()=>{o.KatexStore.loadIfNeeded(ne)}),[o.KatexStore,ne]);const ce=t=>{const{device:i}=o;if(!i.isMobile)return;if(!e.store.isDefined())return;t.stopPropagation(),t.preventDefault(),Z.Z.setState({open:!1});const n=a().compact(T.C.findSelectablesFromIds([e.store.getParentId()])),r=null==n?void 0:n[0];r&&b.NQ({component:r,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})},de=()=>{const o=(0,k.QT)(i.length);if(!e.collapsed)return s.createElement(E.Z,{style:{display:"flex",flexDirection:"column",maxHeight:500,overflowY:"scroll"},ref:t,type:I.Z.Y,store:Y},i.map((t=>n()(D.Z,{store:t,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:O,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o},t.id))));const r=i[0]&&n()(D.Z,{store:i[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:O,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o,collapsed:e.collapsed},i[0].id),a=i.length>1&&i[i.length-1]&&n()(D.Z,{store:i[i.length-1],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:O,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,maxLines:o,collapsed:e.collapsed},i[i.length-1].id),l=i.length-2;return s.createElement(s.Fragment,null,r,n()(ee,{insetButton:!q,count:l,onClick:ve}),a)};const pe=(0,p.VK)((()=>e.blockStore.getRole()),[e.blockStore]),ue=t.current,me=(0,p.VK)((()=>(null==ue?void 0:ue.atScrollEnd())??!0),[ue]),ge=W&&!e.collapsed&&q&&G&&t.current&&!me,he=()=>{l.default.afterNextFlush((()=>{t.current&&t.current.scrollToBottom({animate:!0})}))},fe=a().debounce((()=>{setTimeout((()=>j(!0)),50)}),50),ve=e=>{q||(e.stopPropagation(),z(!0))},ye=()=>{F.reset()};return n()(R.Z,{store:se,analyticsName:"discussion",canNativeDropOnto:!0,onNativeDrop:async e=>{let{files:t}=e;ae.current&&await ae.current.uploadFiles(t)},keepTextSelectionOnDrop:!0,shouldShowDropZone:!0},void 0,s.createElement("div",{ref:$,style:le.discussionWrapper,onMouseMove:()=>{x.Z.state||U(!0)},onMouseLeave:()=>{U(!1)}},function(){if(q)return de();const{commentStores:t,shouldRenderFirstComment:o,commentsToShow:i,commentsToCollapse:r}=ie,a=i.map(((t,i)=>{var r;return n()(D.Z,{store:t,discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:O,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:!o&&e.format!==k.O2.Margin&&0===i&&n()(K,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:ce}),showNewBar:t.id===(null===(r=te.current)||void 0===r?void 0:r.id)&&0!==i},t.id)})),s=o&&n()(D.Z,{store:t[0],discussionStore:e.store,blockStore:e.blockStore,hoveringDiscussion:O,discussionLocation:e.discussionLocation,showResolveButtonByDefaultIfPossible:e.showResolveButtonByDefaultIfPossible,discussionContext:e.format!==k.O2.Margin&&V&&n()(K,{format:e.format,discussionLocation:e.discussionLocation,store:e.store,blockStore:e.blockStore,onClick:ce})},t[0].id);return n()("div",{style:{position:"relative"}},void 0,s,X&&re&&n()(A.z,{style:oe}),n()(ee,{insetButton:!q,count:r.length-1,onClick:ve}),a)}(),N?n()("div",{style:{height:8}}):s.createElement(J,{ref:ae,showMoreCommentsButton:!!ge,onMoreCommentsClick:he,inputVisible:!e.collapsed||!L,store:e.store,format:e.format,discussionInputStore:F,discussionLocation:e.discussionLocation,onCancel:async()=>{if((0,k.hu)(F)){await f.confirmUserAction({message:n()(h.FormattedMessage,{defaultMessage:"Do you want to discard this reply?",id:"discussion.confirmDialog.discardReply.prompt"}),acceptLabel:n()(h.FormattedMessage,{defaultMessage:"Discard",id:"discussion.confirmDialog.discardReplyButton.label"})})?(ye(),e.onDismiss&&e.onDismiss()):(await l.default.afterNextFlush(),S.NX({store:F.state.textStore}))}else ye(),e.onDismiss&&e.onDismiss()},onSubmit:async()=>{j(!1);const{device:t}=o,{store:i,discussionLocation:n}=e;w.createAndCommit({userAction:"Discussion.handleSubmitReply",environment:o,perform:e=>{v.Xi({environment:o,discussionStore:i,textValue:F.state.textStore.getValue()||[],transaction:e,discussionLocation:n,files:F.state.files})}}),ye(),S.ZH(o),he(),fe(),t.isMobile||(await l.default.afterNextFlush(),S.N_({store:F.state.textStore}))},onEditPreviousComment:()=>{const t=o.currentUser.id;if(!t)return;const i=C.D4(e.store).filter((e=>e.getCreatedById()===t)),n=a().last(i);if(!n)return;const r=_.Z.find((t=>t.commentId===n.id&&t.discussionLocation===e.discussionLocation));r&&(S.ZH(o),r.edit())},showCtaButtons:!!q||void 0,onFileUploaded:()=>{const e=T.C.findSelectableFromStore(se);e&&b.NQ({component:e,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})},role:pe})))}const oe={marginRight:4,position:"absolute",right:16,top:14}},19195:(e,t,o)=>{o.d(t,{Z:()=>ie});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(1302),c=o(480),d=o(6740),p=o(81954),u=o(24405),m=o(15157),g=o(5366),h=o(50906),f=o(47307),v=o(53471),y=o(65598);var b=o(47798),S=o(993),w=o(98104),k=o(30149),C=o(28020),_=o(43250),M=o(78089),T=o(33929),I=o(68056),P=o(77546),x=o(15517),B=o(72133),Z=o(24666);const E=(0,g.defineMessages)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"},pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},replyInputPlaceholder:{defaultMessage:"Reply...",id:"updateSidebar.placeholder.addComment"}}),R={height:{stiffness:80,damping:12,precision:.001}};var A=o(30016),D=o(37601),F=o(3386),L=o(45653),V=o(66094),N=o(65187),O=o(97464),U=o.n(O),H=o(3779),z=o(61519),W=o(73063),j=o(1892),K=o(58032);const Y=function(e){window.__c={n:"CommentActionButton"};const t=(0,c.O7)(),{icon:o,onClick:i,tooltip:r}=e;return n()(j.Z,{capture:!0,render:e=>n()(K.Z,{renderTooltip:()=>r,render:n=>s.createElement(W.Z,U()({ariaLabel:r,icon:o,iconStyle:{width:t.device.isMobile?20:16,height:t.device.isMobile?20:16},style:{marginLeft:t.device.isMobile?16:10},onClick:i},n,e))})})};const G=function(e){window.__c={n:"CommentInputActionBar"};const t=(0,g.useIntl)(),o=(0,c.O7)(),{device:i}=o,r=(0,u.yK)((e=>({icon:{background:e.mediumIconColor,borderRadius:"50%",marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20},iconHovered:{background:e.lightIconColor}})),[o.device.isMobile]),{canSend:a,visible:l,onSend:d,onCancel:p,isEditing:m,animated:h,onMention:f,onAttach:v,inline:y}=e,b={opacity:l?1:0};return n()(A.Z,{springConfig:R,isVisible:!0,animationStyle:b,render:()=>n()("div",{style:{display:"flex",...y?{flexDirection:"column-reverse",alignItems:"end",marginRight:8}:{flexDirection:"row",position:"absolute",bottom:7,right:12,alignItems:"center"},pointerEvents:l?void 0:"none",...h&&b}},void 0,n()("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},void 0,n()(Y,{icon:H.Z.attachFile,onClick:v,tooltip:t.formatMessage({id:"discussionInput.uploadFile.button.tooltip",defaultMessage:"Attach file"})}),!i.isMobileBrowser&&n()(Y,{icon:H.Z.mention,onClick:f,tooltip:t.formatMessage({id:"discussionInput.insertMention.button.tooltip",defaultMessage:"Mention a person, page, or date"})}),m&&s.createElement(s.Fragment,null,n()("div",{style:{height:14,marginLeft:o.device.isMobile?10:8}},void 0,n()(z.Z,{vertical:!0,size:1})),n()(j.Z,{capture:!0,render:e=>s.createElement(W.Z,U()({icon:H.Z.closeSmall,isDarkIconColor:!0,onClick:p,iconStyle:{fill:"white",height:o.device.isMobile?18:16,width:o.device.isMobile?18:16},hoveredStyle:r.iconHovered,style:r.icon},e))})),n()(j.Z,m?{capture:!0,render:e=>s.createElement(W.Z,U()({icon:H.Z.circleCheckFilled,onClick:d,isBlue:a,disabled:!a,iconStyle:{height:o.device.isMobile?23:21,width:o.device.isMobile?23:21},style:{marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20}},e))}:{capture:!0,render:e=>s.createElement(W.Z,U()({icon:H.Z.sendArrow,onClick:d,isBlue:a,disabled:!a,iconStyle:{height:o.device.isMobile?26:24,width:o.device.isMobile?26:24},style:{marginLeft:o.device.isMobile?16:12,pointerEvents:"auto",height:20,width:20}},e))})))})};var X=o(30398);const q=s.forwardRef(((e,t)=>{var o;const i=(0,c.O7)(),{device:r,currentUser:P}=i,[B,V,O]=(0,p.AF)(e.discussionInputStore),{textStore:U,files:H}=B,z=(0,p.VK)((()=>U.getValue()),[U]),[W,j]=(0,s.useState)(!1),[K,Y]=(0,s.useState)(!1),q=(0,s.useRef)(null),{commentStore:oe}=e,ie=e.discussionFormat!==M.O2.Page;(0,s.useImperativeHandle)(t,(()=>({uploadFiles:ue})));const ne=(0,p.VK)((()=>(0,C.B7)(i)),[i]),re=(0,s.useRef)(null===(o=e.blockStore)||void 0===o?void 0:o.clone()),ae=(0,p.VK)((()=>{const e=Z.default.state;return"editing"===e.mode&&(0,I.qS)(e.multiSelection)&&e.multiSelection.start.store===U}),[U]),se=(0,p.VK)((()=>({isEmpty:(0,M.n9)(O),hasChanged:(0,M.hu)(O,oe)})),[O,oe]),le=(0,p.VK)((()=>ae||!se.isEmpty),[se.isEmpty,ae]),ce=(0,s.useCallback)((async()=>{const e=Z.default.state;"editing"===e.mode&&(0,I.qS)(e.multiSelection)&&e.multiSelection.start.store===U||(w.NX({store:U}),await l.default.afterNextFlush())}),[U]),de=e=>{const t=O.state;O.setState({...t,files:t.files.filter((t=>t.id!==e.id))})},pe=async e=>{await ue(e.files),h.trackUploadAttachmentToComment(i,{type:"paste"})},ue=(0,s.useCallback)((async t=>{var o;if(await ce(),H.length+t.length>10)return void f.showErrorMessage(n()(g.FormattedMessage,{id:"discussionInput.uploadFile.tooManyFilesErrorMessage",defaultMessage:"You cannot upload more than {maxFiles} files per comment.",values:{maxFiles:10}}));const i=t.map(v.Xo);V({...B,files:[...H,...i]}),null===(o=e.onFileUploaded)||void 0===o||o.call(e)}),[ce,H,V,B,e]),me=e.discussionFormat===M.O2.Margin,ge=e.discussionFormat===M.O2.Sidebar;(0,s.useEffect)((()=>{e.commentStore&&function(e,t){const o=y.le(t),i=v.nQ(o);e.setState({...e.state,files:i})}(O,e.commentStore)}),[O,e.commentStore]);const he=(0,s.useRef)(!1),fe=(0,s.useCallback)((t=>{t?m.Z.set({userId:P.id,key:(0,x.Y$)(e.parentStore.id,e.inReplyToDiscussionId),value:t??null}):m.Z.remove({userId:P.id,key:(0,x.Y$)(e.parentStore.id,e.inReplyToDiscussionId)})}),[P.id,e.inReplyToDiscussionId,e.parentStore.id]);(0,s.useEffect)((()=>{e.shouldSaveUnsentComments&&he.current&&fe(z),he.current=!0}),[e.shouldSaveUnsentComments,fe,z]);const ve=(0,s.useRef)(U);(0,s.useEffect)((()=>{if(e.shouldSaveUnsentComments){const t=m.Z.get({userId:P.id,key:(0,x.Y$)(e.parentStore.id,e.inReplyToDiscussionId)});t&&k.createAndCommit({userAction:"DiscussionInput.willMount",environment:i,perform:e=>{S.sO({environment:i,store:ve.current,value:t,transaction:e})}})}}),[i,P.id,e.inReplyToDiscussionId,e.parentStore.id,e.shouldSaveUnsentComments]);const ye=(0,s.useRef)(H);(0,s.useEffect)((()=>{ye.current=H}),[H]),(0,s.useEffect)((()=>()=>{ye.current&&ye.current.forEach((e=>{"local"===e.type&&e.dataURL&&URL.revokeObjectURL(e.dataURL)}))}),[]);const be=!(!e.isEditingExistingComment&&(e.discussionFormat===M.O2.Page||e.discussionFormat===M.O2.Menu)),Se=()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.focus()},we=H&&H.length>0,ke=!(e.discussionFormat===M.O2.Menu&&e.inReplyToDiscussionId)&&(ge||me&&!e.isNewComment),Ce=void 0!==e.showCtaButtons?e.showCtaButtons:e.isEditingExistingComment||le||W,_e={paddingBottom:be&&Ce?34:4},Me=!e.isMobileSlideUpMenu,Te=(me||ge)&&!e.isNewComment,Ie=(0,u.yK)((t=>({inputWrapper:{display:"flex",flexDirection:"column",alignItems:"bottom",minHeight:me?void 0:32,width:"100%",fontSize:14,paddingTop:me?1:4,paddingBottom:me?1:4,borderRadius:4,boxShadow:!e.isNewComment&&me?`0px 0px 0px 1px ${t.darkDividerColor}`:void 0,transition:"background 300ms ease",background:K&&!Ce&&t.focusDiscussionInputBackground||Ce&&!e.isEditingExistingComment&&(e.isNewComment&&me?t.selectedMarginDiscussionBackground:t.discussionInputActivatedBackground)||"inherit",cursor:Ce?"text":"pointer",alignSelf:"center",position:"relative"}})),[K,me,e.isEditingExistingComment,e.isNewComment,Ce]),Pe=ge?23:20,xe={fontSize:14,marginTop:ge?2:3,marginBottom:2,paddingLeft:6,paddingRight:10,maxHeight:r.isMobileNative?"50vh":"70vh",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",userSelect:"auto",WebkitUserSelect:"auto"},Be=()=>{if(!ae)return;0===(U.getValue()||[]).length&&e.onEditPreviousComment?e.onEditPreviousComment():ie&&te(q.current,"start")},Ze=()=>{ae&&ie&&te(q.current,"start")},Ee=()=>{ae&&ie&&te(q.current,"end")},Re=()=>{fe(void 0),e.onSubmit()},Ae=()=>{if(!r.isMobile)return void Re();const e="editing"===Z.default.state.mode&&Z.default.state.multiSelection;e&&k.createAndCommit({userAction:"DiscussionInput.handleEnter",environment:i,perform:t=>{S.hJ({environment:i,string:"\n",multiSelection:e,disableMentions:!0,disableDateMentions:!0,disableDateReminderMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})},De=n()(G,{visible:Ce,onAttach:async()=>{const e=await v.y({multiple:!0});await ue(e),h.trackUploadAttachmentToComment(i,{type:"file_picker"})},onMention:async()=>{await ce(),b.lZ(i,{page:!0,createPage:!1,user:!0,bot:!0,date:!0,reminder:!1,templateVariable:!1,group:!0})},canSend:!se.isEmpty,onSend:Re,onCancel:e.onCancel,isEditing:e.isEditingExistingComment||!1,animated:me,inline:!be});return n()(F.Z,{capture:ae,onCommandEnter:a().identity},void 0,n()(ee,{enabled:!!re.current&&!!e.canDrop,store:re.current,onNativeDrop:async e=>{let{files:t}=e;await ue(t),h.trackUploadAttachmentToComment(i,{type:"drop"})}},void 0,n()("div",{className:e.isEditingExistingComment?_.hzx:_.wFE,style:{...$,...e.containerStyle||{}},onFocus:e=>{const t=e.target;t instanceof HTMLElement&&(0,d.E)(t)&&j(!0)},onBlur:()=>j(!1),onMouseOver:()=>Y(!0),onMouseOut:()=>Y(!1)},void 0,n()("div",{style:J},void 0,e.showAvatar&&n()(L.Z,{userStore:ne,size:Pe,avatarShouldShowShadow:!0,style:Q}),n()(A.Z,{springConfig:R,isVisible:!0,animationStyle:_e,render:()=>n()("div",{className:ke?_.Wh_:"",onClick:Se,style:{...Ie.inputWrapper,...me&&_e},tabIndex:-1},void 0,n()("div",{style:{flexGrow:1,display:"flex"}},void 0,s.createElement(N.Z,{style:xe,store:U,parentStore:e.parentStore,disabled:!1,onEnter:Ae,onPasteFiles:pe,onEsc:e.onCancel,onUp:Be,onLeft:Ze,onRight:Ee,onDown:Ee,placeholder:T.default.formatMessage(Te?E.replyInputPlaceholder:E.defaultPlaceholder),ref:q,isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disableDateReminderMentions:!0,disableMobileActionBar:!0,disableStyleAnnotations:r.isMobileBrowser,pasteBehavior:"inline"}),!be&&De),we&&n()("div",{style:{paddingBottom:be?8:0,paddingLeft:8,paddingRight:8}},void 0,n()(X.Z,{files:H,onRemoveFile:de})),be&&De)}),Me&&n()(D.Z,{show:ae,onDismiss:()=>w.ZH(i)})))))})),$={display:"flex",flexDirection:"column",width:"100%",cursor:"pointer"},J={display:"flex",alignItems:"center",flexGrow:1},Q={flexShrink:0,flexGrow:0,marginRight:6,alignSelf:"flex-start",marginTop:6};function ee(e){window.__c={n:"DropZoneWrapper"};const{enabled:t,children:o,store:i,onNativeDrop:r}=e;return t&&i?n()(V.Z,{store:i,analyticsName:"discussion_input",canNativeDropOnto:!0,onNativeDrop:r,keepTextSelectionOnDrop:!0,shouldShowDropZone:!0},void 0,o):s.createElement(s.Fragment,null,o)}function te(e,t){if(!e)return;const o=e.getNode();if(!(o&&o instanceof HTMLElement)||document.activeElement!==o)return;const i=o.parentNode;if(!i)return;const n=oe(i);if(!n)return;const r=n.scrollTop,a=B.toStaticRange(B.get());if(!a)return;const s=()=>{n.scrollTop=r,"start"===t?w.N_({store:e.props.store}):w.NX({store:e.props.store})};window.requestAnimationFrame((()=>{const e=Math.abs(n.scrollTop-r),i=B.toStaticRange(B.get()),l=document.activeElement!==o;if(!i)return;const c=!B.areRangesEqual(a,i),d=o.contains(i.startContainer)&&o.contains(i.endContainer);let p=!1;var u;0!==e&&(u=n,Math.abs(u.scrollHeight-u.clientHeight-u.scrollTop)<1)&&!l&&!c?p=!0:d||(p=!0),p&&(o.focus(),s(),window.requestAnimationFrame((()=>{s(),"end"===t&&window.requestAnimationFrame(s)})))}))}function oe(e){const t=(0,P.VW)(e);return t&&t.style.maxHeight&&t.parentNode?oe(t.parentNode):t}const ie=q},30398:(e,t,o)=>{o.d(t,{Z:()=>D});var i=o(77094),n=o.n(i),r=o(67294),a=o(81954),s=o(24405),l=o(3779),c=o(73744),d=o(34859),p=o(45589),u=o(73063),m=o(18647),g=o(480),h=o(95538),f=o(95477),v=o(1533),y=o(64921),b=o(54604),S=o(71669),w=o(81865);function k(e){window.__c={n:"FullScreenImage"};const{url:t,imageNaturalHeight:o,imageNaturalWidth:i}=e,a=(0,r.useMemo)((()=>({display:"block",width:`min(${i}px, 100%)`,height:`min(${o}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[i,o]);return n()("div",{style:C},void 0,n()(S.Z,{src:t,style:a,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}}))}const C={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"};const _=function(e){const t=(0,r.useRef)(null),{file:o}=e,i=(0,g.O7)(),a=(0,s.yK)((e=>({imageThumbnail:{borderRadius:3,border:`1px solid ${e.lightDividerColor}`,objectFit:"cover",height:48,width:48,cursor:"zoom-in"}})),[]),l=(0,r.useCallback)((()=>{var e;const i=null===(e=t.current)||void 0===e?void 0:e.getImageDimensions();if(!i)return;const{naturalHeight:r,naturalWidth:a}=i;return"local"===o.type?n()(k,{url:o.dataURL,imageNaturalHeight:r,imageNaturalWidth:a}):n()(w.Z,{url:o.source,render:(e,t)=>n()(k,{url:t,error:e,imageNaturalHeight:r,imageNaturalWidth:a}),isAuthenticated:!0,permissionRecord:o.store.pointer})}),[o]),c=(0,r.useCallback)((e=>{var o;e.stopPropagation();const n=null===(o=t.current)||void 0===o?void 0:o.getImageDimensions();n&&b.ui({environment:i,renderFullScreenNode:l,fullScreenNodeRect:n.clientRect,contentAspectRatio:n.naturalHeight/n.naturalWidth})}),[l,i]);return"local"===o.type?r.createElement(S.Z,{src:o.dataURL,style:a.imageThumbnail,placeholderStyle:a.imageThumbnail,onClick:c,ref:t}):n()(w.Z,{url:o.source,isAuthenticated:!0,permissionRecord:o.store.pointer,render:(e,o)=>r.createElement(S.Z,{src:o,style:a.imageThumbnail,placeholderStyle:a.imageThumbnail,onClick:c,ref:t})})};var M=o(82990);function T(e){window.__c={n:"DiscussionInputFileRenderer"};const{file:t,type:o}=e,i=(0,s.Fg)(),a=(0,r.useMemo)((()=>({doc:{title:"DOC",color:i.msDocDiscussionInputPreview},docx:{title:"DOCX",color:i.msDocDiscussionInputPreview},xls:{title:"XLS",color:i.msExcelDiscussionInputPreview},xlsx:{title:"XLSX",color:i.msExcelDiscussionInputPreview},pdf:{title:"PDF",color:i.pdfDiscussionInputPreview},video:{icon:l.Z.videoAttachment}})),[i]),c=(0,s.yK)((e=>{const t=a[o];return{wrapper:{height:48,width:220,display:"flex",background:"transparent",borderRadius:5,overflow:"hidden",border:`1px solid ${e.regularDividerColor}`},fileTypeArea:{background:null!=t&&t.color?t.color:e.sidebarSecondaryBackground,height:48,width:48,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0},icon:{height:26,width:26,fill:e.regularIconColor},fileType:{fontSize:11,lineHeight:"16.8px",fontWeight:M.Z.fontWeight.semibold,color:e.regularInvertedTextColor},fileDescription:{padding:"6px 12px 6px 12px",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},fileTitle:{color:e.regularTextColor,textOverflow:"ellipsis",fontSize:14,lineHeight:"19.6px",whiteSpace:"nowrap",overflow:"hidden",width:"100%",paddingBottom:20},fileSize:{color:e.lightTextColor,fontSize:12,lineHeight:"16.8px",width:"100%"}}}),[o,a]),d=a[o];return n()("div",{style:c.wrapper},void 0,n()("div",{style:c.fileTypeArea},void 0,null!=d&&d.title?n()("div",{style:c.fileType},void 0,d.title):null!=d&&d.icon?d.icon(c.icon):l.Z.fileAttachment(c.icon)),n()("div",{style:c.fileDescription},void 0,n()("div",{style:c.fileTitle},void 0,t.name),n()("div",{style:c.fileSize},void 0,t.size)))}const I={image:_,pdf:T,doc:T,xls:T,embed:T},P={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/msword":"doc","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx",image:"image"};function x(e){return"local"===e.type?function(e){const[t]=e.split("/");return P[e]||P[t]}(e.file.type)||(0,h.Dz)({url:e.file.name,baseUrl:f.Z.domainBaseUrl,publicDomainName:f.Z.publicDomainName}):(0,h.y_)(e.source,".doc")?"doc":(0,h.y_)(e.source,".docx")?"docx":(0,h.y_)(e.source,".xls")?"xls":(0,h.y_)(e.source,".xlsx")?"xlsx":(0,h.Dz)({url:e.source,baseUrl:f.Z.domainBaseUrl,publicDomainName:f.Z.publicDomainName})}function B(e){let{file:t,onRemoveFile:o,disableRemove:i}=e;window.__c={n:"DiscussionInputFilePreview"};const[{hovered:s},,c]=(0,a.AF)(void 0,v.Z),d=(0,r.useCallback)((()=>null==o?void 0:o(t)),[t,o]),p=(0,g.O7)(),m=!i&&(s||p.device.isMobile);(0,r.useEffect)((()=>()=>{"local"===t.type&&t.dataURL&&URL.revokeObjectURL(t.dataURL)}),[t]);const h=x(t),f=I[h]||T;return n()(y.Z,{store:c,style:R,hoveredStyle:Z,pressedStyle:E},void 0,n()(f,{file:t,type:h}),m&&n()(u.Z,{icon:l.Z.closeSmall,style:A,hasBackground:!0,isDarkIconColor:!0,hovered:!1,showShadow:!0,onClick:d}))}const Z={background:"none"},E={background:"none"},R={display:"flex",alignItems:"center",justifyContent:"center",position:"relative",paddingRight:"10px",cursor:"pointer"},A={position:"absolute",top:"-5px",right:"6px",height:18,width:18,borderRadius:18,padding:4};function D(e){window.__c={n:"DiscussionInputFilmStrip"};const t=(0,r.useRef)(null),o=(0,s.yK)((e=>({leftArrowStyle:{left:10,top:26,background:e.mediumIconColor,...V},rightArrowStyle:{right:10,top:26,background:e.mediumIconColor,...V},iconStyle:{height:6,fill:e.contentBackground},hoveredStyle:{background:e.regularIconColor}})),[]),[{scrollLeft:i,scrollWidth:g,clientWidth:h},,f]=(0,a.AF)(void 0,p.Z),v=(0,r.useCallback)((e=>{var o;e.stopPropagation(),null===(o=t.current)||void 0===o||o.scrollByOffset(0,-.8*h,{animate:!0})}),[h]),y=(0,r.useCallback)((e=>{var o;e.stopPropagation(),null===(o=t.current)||void 0===o||o.scrollByOffset(0,.8*h,{animate:!0})}),[h]),b=(0,r.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.getClientRect()}),[]);(0,r.useEffect)((()=>(c.lj(window,"resize",b),()=>{c.ZV(window,"resize",b)})),[b]);const S=(0,r.useMemo)((()=>Math.floor(i)>0),[i]),w=(0,r.useMemo)((()=>Math.ceil(i+h)<g),[i,g,h]);return(0,r.useEffect)((()=>{b()}),[e.files,b]),0===e.files.length?null:n()("div",{style:L},void 0,r.createElement(m.Z,{style:F,ref:t,type:d.Z.X,onScroll:b,zIndex:0,store:f},e.files.filter((e=>"local"===e.type||Boolean(e.source))).map((t=>n()(B,{file:t,onRemoveFile:e.onRemoveFile,disableRemove:e.disableRemove},t.id)))),S&&n()(u.Z,{icon:l.Z.collectionTimelineArrowLeft,hovered:!1,showShadow:!0,onClick:v,style:o.leftArrowStyle,iconStyle:o.iconStyle,hoveredStyle:o.hoveredStyle}),w&&n()(u.Z,{icon:l.Z.collectionTimelineArrowRight,hovered:!1,showShadow:!0,onClick:y,style:o.rightArrowStyle,iconStyle:o.iconStyle,hoveredStyle:o.hoveredStyle}))}const F={overflow:"scroll",display:"flex",alignItems:"flex-start",flexDirection:"row",paddingTop:10},L={display:"flex",paddingRight:0,position:"relative"},V={position:"absolute",borderRadius:3,width:16,height:16,opacity:1,flexShrink:0,boxShadow:"none"}},15884:(e,t,o)=>{o.d(t,{Z:()=>V,X:()=>L});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(62518),c=o(480),d=o(81954),p=o(24405),u=o(8848),m=o(3779),g=o(97880),h=o(82990),f=o(5366),v=o(27153),y=o(4615),b=o(98459),S=o(70279),w=o(80396),k=o(19889),C=o(94419),_=o(3815),M=o(50906),T=o(9953),I=o(30149);function P(e){const{discussionLocation:t,environment:o,transaction:i,commentStore:n,icon:r}=e,a=function(e){let{commentStore:t,icon:o}=e;const i=(0,_.Vh)(t,t.pointer,"reactions").getValue();if(void 0===i)return;return i.map((e=>{const o=_.t1.createChildStore(t,{table:w.yo,id:e,spaceId:(0,b.CG)(t.pointer.spaceId)});if(o.isDefined())return o})).filter(g.$K).find((e=>e.getIcon()===o))}({commentStore:n,icon:r});if(void 0===o.currentUser.id)return;const s={table:k.KJ,id:o.currentUser.id};null!=a&&a.isDefined()?function(e){var t;let{store:o,actorPointer:i,transaction:n,environment:r,discussionLocation:a}=e;const s={store:o,actorPointer:i,transaction:n,environment:r,discussionLocation:a};(null===(t=o.getActors())||void 0===t?void 0:t.some((e=>e.id===i.id)))?function(e){const{store:t,actorPointer:o,discussionLocation:i,transaction:n,environment:r}=e;if(!t.isDefined())return;M.trackRemoveReaction({environment:r,reaction_value:t.getIcon(),comment_id:t.getParentId(),reaction_count:t.getActors().length??0,from:i}),I.applyOperation({transaction:n,store:t,operation:{pointer:t.pointer,path:["actors"],command:"keyedObjectListRemove",args:{remove:o}}})}(s):function(e){const{store:t,actorPointer:o,discussionLocation:i,transaction:n,environment:r}=e;if(!t.isDefined())return;M.trackAddReaction({environment:r,reaction_value:t.getIcon(),comment_id:t.getParentId(),reaction_count:t.getActors().length??0,from:i}),I.applyOperation({transaction:n,store:t,operation:{pointer:t.pointer,path:["actors"],command:"keyedObjectListAfter",args:{value:o,after:void 0}}})}(s)}({environment:o,store:a,actorPointer:s,transaction:i,discussionLocation:t}):function(e){let{environment:t,transaction:o,commentStore:i,icon:n,currentActorPointer:r,discussionLocation:a}=e;const s=(0,y.ZP)();M.trackAddReaction({environment:t,reaction_value:n,comment_id:i.id,reaction_count:0,from:a});const l=T.ae({environment:t,table:w.yo,value:{id:s,space_id:(0,b.CG)(i.pointer.spaceId),parent_id:i.id,parent_table:S.x_,icon:n,created_time:Date.now(),actors:[r]},inMemoryRecordCache:i.inMemoryRecordCache,transaction:o}),c=(0,_.Vh)(i,i.pointer,"reactions");C.R3({parent:c,append:l,transaction:o})}({environment:o,transaction:i,commentStore:n,icon:r,currentActorPointer:s,discussionLocation:t})}var x=o(64921),B=o(92059),Z=o(58032),E=o(38797);function R(){const{isMobile:e}=(0,c.Fy)();return(0,p.yK)((t=>({reaction:{display:"flex",margin:"1px",padding:"1px 6px 1px 6px",justifyContent:"center",gap:"4px",border:`1px solid ${t.regularDividerColor}`,borderRadius:"100px",fontSize:14,lineHeight:"20px",fontVariantNumeric:"tabular-nums",background:t.whiteButtonBackground},count:{color:t.mediumTextColor,fontSize:e?h.Z.fontSize.UISmall.mobile:h.Z.fontSize.UISmall.desktop,lineHeight:"20px"},countReacted:{color:t.blueColor},reacted:{background:u.ZP.blueWithAlpha(.08),border:`1px solid ${t.filterPillBorder}`,fontWeight:500},reactedHover:{background:u.ZP.blueWithAlpha(.18)},emojiStyle:{color:"black",display:"inline-block"}})),[e])}function A(e){let{store:t,disabled:o,onClick:i}=e;window.__c={n:"Reaction"};const r=(0,d.VK)((()=>t.getActors()),[t]),l=(0,d.VK)((()=>t.getIcon()),[t]),p=R(),{currentUser:u}=(0,c.O7)();if(!r||!l)return null;if(0===r.length)return null;const m=r.some((e=>e.id===u.id)),g={...p.reaction,...m&&p.reacted},h={...p.count,...m&&p.countReacted};return a()(Z.Z,{placement:Z.Z.Placement.Bottom,delayThreshold:300,renderTooltip:()=>a()(D,{store:t,icon:l}),render:e=>s.createElement(x.Z,n()({disabled:o,style:g,hoveredStyle:m?p.reactedHover:void 0,onClick:i},e),a()("span",{style:p.emojiStyle},void 0,a()(B.Z,{size:14,char:l})),a()("span",{style:h},void 0,r.length))})}function D(e){let{store:t,icon:o}=e;window.__c={n:"ReactionTooltip"};const i=(0,p.Fg)(),n=(0,f.useIntl)(),r=(0,d.VK)((()=>t.getActorStores()),[t]),s=(0,d.VK)((()=>r.map((e=>e.getDisplayName(n))).filter(g.$K)),[r,n]);return a()(f.FormattedMessage,{defaultMessage:"{numberOfNames, plural, one {{nameOrNames} <medium>reacted with</medium> {icon}} other {{nameOrNames} <medium>reacted with</medium> {icon}}}",id:"ReactionBar.hoverTooltip.text",description:"Message displayed when hovering over an emoji reaction on a comment. `nameOrNames` is a comma separated list of user+bot names that have reacted with this emoji. `icon` is an emoji.",values:{numberOfNames:s.length,nameOrNames:s.join(", "),medium:e=>a()("span",{style:{color:i.mediumInvertedTextColor}},void 0,e),icon:a()(B.Z,{size:14,char:o})}})}function F(e){let{commentStore:t,discussionLocation:o,onEmojiSelection:i}=e;window.__c={n:"NewReaction"};const n=(0,p.Fg)(),r=(0,c.O7)(),a=(0,s.useRef)(null),l=R(),d=(0,f.useIntl)(),u=m.Z.reactionAdd({width:15,height:20,marginTop:.5,marginLeft:.5,fill:n.mediumIconColor});return s.createElement(x.Z,{style:{...l.reaction,minWidth:"2em"},ref:a,onClick:()=>L(r,d,t,null==a?void 0:a.current,o,i)},u)}function L(e,t,o,i,n,r){const s=l.findDOMNode(i);if(!s)return;if(!(s instanceof Element))return;const c=s.getBoundingClientRect();v.$(e,{originGap:4,originRect:c,popupWidth:E.ZP.desktopPopupWidth,popupHeight:E.ZP.desktopPopupHeight,isSmallWidth:!1,title:t.formatMessage({defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title",description:"Title for mobile emoji picker modal on mobile when picking emoji for comment reactions"}),currentTab:"emoji",tabs:[{type:"emoji",title:a()(f.FormattedMessage,{defaultMessage:"Emojis",id:"recordIcon.emojiTab.title"}),hideRandomButton:!0,onChange:(t,i)=>{r&&r(),I.createAndCommit({environment:e,userAction:"Comment.toggleReactionFromMenu",perform:r=>{P({environment:e,transaction:r,commentStore:o,icon:t,discussionLocation:n}),i&&i.keepVisible||v.Z()}})}}]})}const V=function(e){let{parentStore:t,discussionLocation:o,keepVisible:i,onClick:n}=e;window.__c={n:"ReactionBar"};const r=(0,d.VK)((()=>t.canComment()),[t]),s=(0,d.VK)((()=>t.getUserVisibleReactions()),[t]),l=(0,c.O7)();return i||s.length?a()("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"4px",marginBottom:"4px"}},void 0,s.map((e=>a()(A,{disabled:!r,store:e,onClick:()=>{e.isDefined()&&(n&&n(),I.createAndCommit({environment:l,userAction:"Comment.toggleReaction",perform:i=>{P({environment:l,transaction:i,commentStore:t,icon:e.getIcon(),discussionLocation:o})}}))}},e.id))),r&&a()(F,{commentStore:t,discussionLocation:o,onEmojiSelection:n})):null}},93405:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(24405),d=o(52275),p=o(58261);function u(e,t){window.__c={n:"ActionMenuItem"};const o=(0,l.Fy)(),i=(0,c.yK)((e=>({shortcut:{color:e.lightTextColor,fontSize:12,whiteSpace:"nowrap"},svg:{width:o.isMobile?18:16,height:o.isMobile?18:16,fill:e.regularIconColor}})),[o.isMobile]),r=!o.isMobile&&e.shortcuts&&e.shortcuts[0];return s.createElement(d.Z,n()({},e,{style:e.style,icon:e.svg?a()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},void 0,e.svg(i.svg)):null,right:e.right||r&&a()(p.Z,{name:r,style:i.shortcut}),ref:t}))}const m=s.forwardRef(u)},48019:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(77094),n=o.n(i),r=o(67294),a=o(83355),s=o(5366),l=o(68204),c=o(29798),d=o(12318),p=o(9342),u=o(43765),m=o(43145),g=o(72495);class h extends a.Z{constructor(){super(...arguments),this.lastActionCount=0,this.actionSections=[],this.storeTypes={menuListStore:c.Z,limitStore:d.default.of(h.limitCountOffset)},this.handleScrollOffsetListenerChange=e=>{e<h.limitScrollOffset&&this.stores.limitStore.state<this.lastActionCount&&this.stores.limitStore.setState(this.stores.limitStore.state+h.limitCountOffset)}}willMount(e){this.buildActionSections(e)}willUpdate(e){e.filter!==this.props.filter&&0===e.initialFocus&&this.stores.menuListStore.setState({...this.stores.menuListStore.state,focus:{section:0,indexLocal:0,indexGlobal:0}}),this.buildActionSections(e)}buildActionSections(e){const t=e.filter;let o=(0,l.sG)({sections:e.sections,context:e.context,query:t||""});this.lastActionCount=0;for(const i of o)this.lastActionCount+=i.actions.length;e.useLimit&&(o=(0,l.E$)(o,this.stores.limitStore.state)),e.onFilteredSectionsChange&&e.onFilteredSectionsChange(o),this.actionSections=o}renderComponent(){const e=new Map,t=new Map,o=this.actionSections.map((o=>{const i=o.key.toString();return{key:o.key,render:e=>o.render({...e,topBorder:0!==e.index||Boolean(this.props.topBorder),title:o.title}),items:o.actions.map((o=>{const n={key:o.key,render:(e,t)=>o.render(e,this.props.context,{onAccept:(e,t,o)=>{var n,r;null===(n=(r=this.props).onAccept)||void 0===n||n.call(r,e,t,o,i)},onFocus:t.onFocus}),action:e=>{let{event:t}=e;o.action(this.props.context,t)}};return e.set(n,o),t.set(n,i),n}))}}));return n()(r.Fragment,{},void 0,0===this.actionSections.length&&n()(g.Z,{},void 0,n()(u.Z,{title:this.props.empty||n()(s.FormattedMessage,{id:"action.search.noResults",defaultMessage:"No results",description:"Default message to display when no results are found via fuzzy text search."})})),n()(p.Z,{type:p.i.Vertical,store:this.stores.menuListStore,disableKeyboard:this.props.disableKeyboard,sections:o,initialFocus:this.props.initialFocus,disableMouseLeaveBlur:this.props.disableMouseLeaveBlur,onEmptyEnter:this.props.onEmptyEnter,onAccept:(o,i)=>{if(this.props.onAccept){const n=e.get(o),r=t.get(o);n&&this.props.onAccept(n,this.props.context,i.event,r)}}}),this.props.useLimit&&n()(m.Z,{onChange:this.handleScrollOffsetListenerChange}))}}h.displayName="ActionMenuList",h.limitScrollOffset=200,h.limitCountOffset=20;const f=h},79676:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(5366),s=o(90403);function l(e){window.__c={n:"AiBetaBadge"};const t=(0,r.Fg)();return n()(s.Z,{style:{background:t.accentColors.purple[100],color:t.accentColors.purple[500],...e.style},content:n()(a.FormattedMessage,{defaultMessage:"Beta",id:"aiBetaBadgeComponent.label",description:"Short badge text to signify that a feature is in beta"})})}},30016:(e,t,o)=>{o.d(t,{Z:()=>b});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(54087),l=o.n(s),c=(o(67294),o(62518)),d=o(83355),p=o(18466),u=o(1302),m=o(49085),g=o(12137);class h{constructor(){this.stiffness=50,this.damping=10,this.precision=.001,this.currentValue=0,this.endValue=0,this.velocity=0}isAtRest(){return Math.abs(this.endValue-this.currentValue)<=this.precision}setEndValue(e){this.endValue=e;const t=this.isAtRest();return t&&this.setAtRest(),t}jumpToEnd(){this.currentValue=this.endValue}step(e){let t=e;do{let e;t>h.timestep?(t-=h.timestep,e=h.timestep):(e=t,t=0);const[o,i]=this.rk4(this.currentValue,this.velocity,e);this.velocity=i,this.currentValue=o}while(t>0);const o=this.isAtRest();return o&&this.setAtRest(),o}setAtRest(){this.currentValue=this.endValue,this.velocity=0}rk4(e,t,o){var i=e,n=t,r=this.computeAccel(i,n,0),a=e+.5*n*o,s=t+.5*r*o,l=this.computeAccel(a,s,o/2),c=e+.5*s*o,d=t+.5*l*o,p=this.computeAccel(c,d,o/2),u=e+d*o,m=t+p*o;return[e+o/6*(n+2*s+2*d+m),t+o/6*(r+2*l+2*p+this.computeAccel(u,m,o))]}computeAccel(e,t,o){return this.stiffness*h.stiffnessMultiplier*(this.endValue-e)-this.damping*h.dampingMultiplier*t}}h.stiffnessMultiplier=1e-5,h.dampingMultiplier=.005,h.timestep=1e3/60;const f=h;var v=o(98084);class y extends d.Z{constructor(){super(...arguments),this.node=void 0,this.lastStepTime=0,this.paused=!1,this.isVisible=!1,this.didBecomeVisible=!1,this.lastAppliedAnimationStyle={},this.springs={},this.wasAtRest=!0,this.lastSavedChild=void 0,this.step=()=>{if(!this.node)return;const e=Date.now(),t=e-this.lastStepTime,o=this.getApplyStyle(),i={};let n=!0;Object.keys(o).forEach((e=>{const r=this.springs[e];r&&!r.step(t)?(i[e]=r.currentValue,n=!1):i[e]=o[e]})),this.mutateDOM((()=>{this.renderAnimationStyle(i)})),this.lastStepTime=e,n?this.wasAtRest||this.handleAnimationEnd():(this.wasAtRest&&this.handleAnimationStart(),this.enqueueStep()),this.wasAtRest=n},this.handleAnimationStyleStoreChange=()=>{const e=this.getApplyStyle();this.updateSprings(e,!1,!0)}}willMountOrUpdate(e){!this.isVisible&&e.isVisible&&(this.isVisible=!0,this.didBecomeVisible=!0)}didMount(){const e=this.getAnimationStyleStore(this.props);e&&e.addListener(this.handleAnimationStyleStoreChange)}didUpdate(e){const t=this.getAnimationStyleStore(e),o=this.getAnimationStyleStore(this.props);t!==o&&(t&&t.removeListener(this.handleAnimationStyleStoreChange),o&&o.addListener(this.handleAnimationStyleStoreChange))}didMountOrUpdate(){this.node=c.findDOMNode(this),this.didBecomeVisible&&this.updateSprings(this.props.enterAnimationStyle||{},!0,!1),this.updateSprings(this.getApplyStyle(),!1,!0),this.didBecomeVisible&&(this.didBecomeVisible=!1)}willUnmount(){const e=this.getAnimationStyleStore(this.props);e&&e.removeListener(this.handleAnimationStyleStoreChange),this.paused&&(this.paused=!1,u.default.unpause())}renderComponent(){if(this.isVisible){let e,t=!1;return this.isVisible&&!this.props.isVisible?(t=!0,e=this.lastSavedChild):(e=this.props.render(),this.lastSavedChild=e),n()(v.P.Provider,{value:t},void 0,e)}}updateSprings(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(e).forEach((o=>{const i=e[o];let n;if(!a().isUndefined(i)&&!a().isNull(i))if(a().isNumber(i))n=i;else if(a().isString(i)&&this.lastAppliedAnimationStyle[o]&&this.lastAppliedAnimationStyle[o]!==i){const e=this.node.style[o];this.node.style[o]=i,n=this.node.getBoundingClientRect()[o],this.node.style[o]=e}if(!a().isUndefined(n)){let e=this.springs[o];e||(e=new f,e.currentValue=n,this.springs[o]=e);const r=this.getSpringConfig(o);if(e.stiffness=r.stiffness,e.damping=r.damping,e.precision=r.precision,a().isString(this.lastAppliedAnimationStyle[o])&&this.lastAppliedAnimationStyle[o]!==i){const t=this.node.getBoundingClientRect()[o];e.currentValue=t}t&&(e.currentValue=n),e.setEndValue(n),this.props.skipAnimation&&e.jumpToEnd()}this.lastAppliedAnimationStyle[o]=i})),o&&(this.lastStepTime=Date.now(),this.step())}enqueueStep(){l()(this.step)}renderAnimationStyle(e){if(!this.node)return;let t=!1,o="";Object.keys(e).forEach((i=>{const n=e[i];"opacity"===i?this.node.style.opacity=(0,g.Z)(n,0,1):a().isString(n)?this.node.style[i]=n:y.pxProperties[i]?this.node.style[i]=`${n}px`:y.numericalProperties[i]?y.omittedNumericalProperties[i]!==n&&(this.node.style[i]=n):"translateX"===i?(t=!0,0!==n&&(o+=`translateX(${n}px) `)):"translateXPercent"===i?(t=!0,0!==n&&(o+=`translateX(${n}%) `)):"translateXViewWidth"===i?(t=!0,0!==n&&(o+=`translateX(${n}vw) `)):"translateXCalc"===i?(t=!0,0!==n&&(o+=`translateX(calc(${n})) `)):"translateY"===i?(t=!0,0!==n&&(o+=`translateY(${n}px) `)):"translateYPercent"===i?(t=!0,0!==n&&(o+=`translateY(${n}%) `)):"translateYViewHeight"===i?(t=!0,0!==n&&(o+=`translateY(${n}vh) `)):"translateYCalc"===i?(t=!0,0!==n&&(o+=`translateY(calc(${n})) `)):"scale"===i?(t=!0,1!==n&&(o+=`scale(${Math.max(n,0)}) `)):"scaleX"===i?(t=!0,1!==n&&(o+=`scaleX(${Math.max(n,0)}) `)):"scaleY"===i?(t=!0,1!==n&&(o+=`scaleY(${Math.max(n,0)}) `)):"rotate"===i&&(t=!0,0!==n&&(o+=`rotate(${n}deg) `))}));const i=e.opacity,n=a().isNumber(i)&&0!==i&&1!==i;this.props.useCompositeLayer&&(""!==o||n)&&(o+="translateZ(0)"),""!==o?this.node.style.mozTransform=this.node.style.msTransform=this.node.style.webkitTransform=this.node.style.transform=o:t&&(this.node.style.transform=null)}getSpringConfig(e){const{springConfig:t}=this.props,o=t?function(e){const t=Object.keys(e)[0];return void 0!==t&&"object"==typeof e[t]}(t)?t[e]:t:void 0;return{...y.defaultSpringConfig,...o}}getAnimationStyleStore(e){const t=e.animationStyle;if(t instanceof m.Z)return t}getApplyStyle(){const{animationStyle:e,exitAnimationStyle:t}=this.props;return this.props.isVisible?e instanceof m.Z?p.Z.withListenerIgnored((()=>e.state)):e||{}:t||{}}handleAnimationStart(){this.didBecomeVisible&&this.props.blockRenderQueueOnEnter&&!1===this.paused&&(this.paused=!0,u.default.pause()),this.props.onAnimationStart&&this.props.onAnimationStart(this.isVisible)}handleAnimationEnd(){this.paused&&(this.paused=!1,u.default.unpause()),this.isVisible&&!this.props.isVisible&&(this.isVisible=!1,this.enqueueForceUpdate()),this.props.onAnimationEnd&&this.props.onAnimationEnd(this.isVisible)}}y.displayName="Animated",y.defaultSpringConfig={stiffness:50,damping:10,precision:.001},y.pxProperties={width:!0,height:!0,maxWidth:!0,maxHeight:!0,paddingTop:!0,paddingRight:!0,paddingLeft:!0,paddingBottom:!0,marginTop:!0,marginRight:!0,marginLeft:!0,marginBottom:!0},y.numericalProperties={opacity:!0},y.omittedNumericalProperties={opacity:1};const b=y},10339:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(83355);const c=function(e,t){if(e.ref&&t.ref){const o=t.ref;t.ref=t=>{e.ref(t),o(t)}}return s.cloneElement(e,t)};class d extends l.Z{constructor(){super(...arguments),this.renderedItems=[],this.removedItems=[],this.wasShowing=!1}willMountOrUpdate(e){const t=e.render();this.removedItems=a().reject(this.removedItems,(e=>t.findIndex((t=>e.key===t.key))>=0));for(const i of this.renderedItems){if(!(t.findIndex((e=>i.key===e.key))>=0)){const e=c(i,{isVisible:!1,onAnimationEnd:()=>{this.cleanupItemFromRemovedItems(e)}});this.removedItems.push(e)}}const o=this.removedItems.length+t.length;!this.wasShowing&&o>0&&e.onShow?e.onShow():this.wasShowing&&0===o&&e.onHide&&e.onHide(),this.renderedItems=t,this.wasShowing=o>0}renderComponent(){return n()("div",{},void 0,this.removedItems.concat(this.renderedItems))}cleanupItemFromRemovedItems(e){this.removedItems=this.removedItems.filter((t=>t.key!==e.key)),this.enqueueForceUpdate()}}d.displayName="AnimatedList";const p=d},98084:(e,t,o)=>{o.d(t,{P:()=>i});const i=o(67294).createContext(!1);i.displayName="AnimatingOutContext"},24039:(e,t,o)=>{o.d(t,{Z:()=>S});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(66897),p=o(5366),u=o(26825),m=o(82990),g=o(33929),h=o(38755),f=o(16402),v=o(79315),y=o(70301),b=o(45653);function S(e){const{store:t}=e,o=(0,c.Fg)(),i=(0,l.VK)((()=>t.getCreatedTime()),[t]),n=(0,l.VK)((()=>t.getLastEditedTime()),[t]),r=(0,l.VK)((()=>{const e=t.getCreatedByTable(),o=t.getCreatedById();if(e&&o)return(0,d.Hl)({pointer:{table:e,id:o},getRecordValue:t.getRecordValue})}),[t]),y=(0,l.VK)((()=>{const e=t.getLastEditedByTable(),o=t.getLastEditedById();if(e&&o)return(0,d.Hl)({pointer:{table:e,id:o},getRecordValue:t.getRecordValue})}),[t]),b=(0,l.VK)((()=>v.default.state.currentSpaceStore?(0,h.jv)(v.default.state.currentSpaceStore):[]),[]),S=i?(0,f.IS)(i,{useCompactFormat:!0,useLowercase:!0}):"",k=n?(0,f.IS)(n,{useLowercase:!0,useCompactFormat:!0}):"";if(!(n?(0,f.IS)(n,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):""))return null;const C={display:"flex",gap:4,color:o.mediumInvertedTextColor,height:16,fontSize:12},_=g.default.getIntl();return s.createElement(s.Fragment,null,(e=>{let t;if(null!=y&&y.value)t=a()(p.FormattedMessage,{defaultMessage:"Edited by {editor} {timestamp}",id:"pagePropertiesHeader.editedBy.label",description:"Text that shows last edited information about the page",values:{editor:a()("span",{style:{fontWeight:m.Z.fontWeight.medium,color:o.regularInvertedTextColor}},void 0,a()("span",{style:{display:"flex"}},void 0,!e&&w(y),(0,d.$4)(_,y))),timestamp:k}});else{if(!k)return;i=k,t=a()(p.FormattedMessage,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:i},description:"Text to display when a page was last edited, next to the edited timestamp"})}var i;return a()("div",{style:{...C,marginTop:3,marginBottom:3}},void 0,t)})(e.compactFormat),(e=>{let t;if(null!=r&&r.value&&(0,u.GU)({spacePermissions:b,userId:r.value.id}))t=a()(p.FormattedMessage,{id:"pagePropertiesHeader.createdBy.label",description:"Text that shows created information about the page",defaultMessage:"Created by {creator} {timestamp}",values:{creator:a()("span",{style:{fontWeight:m.Z.fontWeight.medium,color:o.regularInvertedTextColor}},void 0,a()("span",{style:{display:"flex"}},void 0,!e&&w(r),(0,d.$4)(_,r))),timestamp:S}});else{if(!S)return;t=a()(p.FormattedMessage,{id:"pagePropertiesHeader.created.label",description:"Text that shows when the page was created",defaultMessage:"Created {timestamp}",values:{timestamp:S}})}return a()("div",{style:{...C,marginBottom:4}},void 0,t)})(e.compactFormat))}function w(e){window.__c={n:"renderAvatar"};const t={size:14,style:{marginRight:2}};return(0,d.YU)(e)?s.createElement(y.Z,n()({botValue:e.value},t)):s.createElement(b.Z,n()({userValue:e.value},t))}},90403:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(77094),n=o.n(i),r=(o(67294),o(24405));function a(e){window.__c={n:"Badge"};const t=(0,r.yK)((t=>({badge:{alignSelf:"center",marginLeft:6,padding:"1px 4px",background:t.darkDividerColor,color:t.regularTextColor,borderRadius:3,fontSize:9,lineHeight:1.3,textTransform:"capitalize",letterSpacing:.5,...e.style}})),[e.style]);return n()("div",{style:t.badge},void 0,e.content)}},91754:(e,t,o)=>{o.d(t,{$:()=>l,Z:()=>d});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(8848),s=o(82990);let l;!function(e){e.Red="red",e.Blue="blue",e.Beige="beige",e.White="white",e.Purple="purple",e.LightRed="light-red",e.Yellow="yellow"}(l||(l={}));class c extends r.Z{renderComponent(){return n()("div",{style:this.getBannerStyle(this.props.type,this.props.shouldUseDivider)},void 0,this.props.children)}getBannerColorStyle(e){const{isMobile:t}=this.props,{WindowSizeStore:o}=this.environment;switch(e){case l.Red:return{color:a.ZP.white,background:a.ZP.red,...t&&{justifyContent:"flex-start"}};case l.Blue:return{color:a.ZP.white,fill:a.ZP.white,background:a.ZP.blue,...t&&{paddingLeft:o.getSafePaddingLeftCSS(10),paddingRight:14}};case l.Beige:return{background:this.theme.beigeBannerBackground,paddingLeft:t?12:18,paddingRight:t?14:16};case l.White:return{background:this.theme.contentBackground,color:this.theme.lightTextColor,fill:this.theme.lightIconColor,height:45,padding:0,borderTop:`1px solid ${this.theme.regularDividerColor}`,boxShadow:`0 1px 0 ${this.theme.regularDividerColor}`};case l.Purple:return{background:"#CA59FF",color:a.ZP.white,fill:a.ZP.white};case l.LightRed:return{background:this.theme.accentColors.red[100],color:this.theme.accentColors.red[500]};case l.Yellow:return{background:this.theme.accentColors.yellow[100],color:this.theme.accentColors.yellow[600]};default:return{color:this.theme.regularInvertedTextColor,background:this.theme.tooltipBackground}}}getBannerStyle(e,t){const{isMobile:o}=this.props,i=this.getBannerColorStyle(e),{WindowSizeStore:n}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!o&&{padding:"0px 12px"},...o&&{paddingLeft:n.getSafePaddingLeftCSS(14),paddingRight:n.getSafePaddingRightCSS(14)},fontSize:this.props.isMobile?s.Z.fontSize.UIRegular.mobile:s.Z.fontSize.UIRegular.desktop,lineHeight:1.2,cursor:"default",...t?{minHeight:45,borderBottom:`1px solid ${a.ZP.halfWhite}`}:{minHeight:44},...i,...this.props.style}}}c.displayName="Banner";const d=c},65162:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(8848),s=o(64921);class l extends r.Z{renderComponent(){return n()(s.Z,{onClick:this.props.onClick,style:{...l.buttonStyle,...this.props.style}},void 0,this.props.children)}}l.displayName="BannerButton",l.buttonStyle={display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",borderRadius:3,height:28,padding:"0 8px",lineHeight:1.2,fontSize:14,color:a.ZP.white,border:`1px solid ${a.ZP.white}`};const c=l},97122:(e,t,o)=>{o.d(t,{h:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(8848)),a=o(82990),s=o(64921);function l(e){window.__c={n:"BlackButton"};const{onClick:t,children:o,disabled:i}=e;return n()(s.Z,{onClick:t,style:{...c.button,...e.styles||{}},hoveredStyle:c.hovered,pressedStyle:c.pressed,disabled:i},void 0,o)}const c={button:{background:r.ZP.frontBlackButtonBackground,color:r.ZP.white,fill:r.ZP.white,display:"inline-flex",alignItems:"center",borderRadius:3,padding:"6px 18px",fontSize:15,height:36,fontWeight:a.Z.fontWeight.medium},hovered:{background:r.ZP.frontBlackButtonBackgroundHovered},pressed:{background:r.ZP.frontBlackButtonBackgroundPressed}}},42922:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(67294),n=o(24405),r=o(8848),a=o(82990),s=o(64921);function l(e,t){let{hovered:o,onClick:l,disabled:c,isLarge:d,style:p,onFocus:u,onBlur:m,onMouseDown:g,onMouseEnter:h,onMouseLeave:f,className:v,children:y,isRed:b}=e;window.__c={n:"BlueButton"};const S=(0,n.yK)((e=>({button:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:4,boxShadow:e.buttonBoxShadow,background:b?e.redButtonBackground:r.ZP.blue,color:r.ZP.white,fill:r.ZP.white,lineHeight:1.2,paddingLeft:12,paddingRight:12,fontSize:14,fontWeight:a.Z.fontWeight.medium,...d&&{height:32},...p},pressed:{background:b?e.redButtonPressedBackground:e.blueButtonPressedBackground},hovered:{background:b?e.redButtonHoveredBackground:e.blueButtonHoveredBackground}})),[d,b,p]);return i.createElement(s.Z,{hovered:o,onClick:l,disabled:c,disabledFeedback:!0,style:S.button,hoveredStyle:S.hovered,pressedStyle:S.pressed,onFocus:u,onBlur:m,onMouseDown:g,onMouseEnter:h,onMouseLeave:f,className:v,ref:t},y)}const c=i.forwardRef(l)},11066:(e,t,o)=>{o.d(t,{Z:()=>y});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(6740),d=o(88464),p=o(81954),u=o(24405),m=o(89733),g=o(1533),h=o(20362),f=o(68785);function v(e,t){let{id:o,role:i,allowTextSelection:r,ariaLabel:v,ariaPressed:y,children:b,className:S,disabled:w,disabledFeedback:k,disableTransition:C,disallowTabbing:_,focused:M,hovered:T,hoveredStyle:I,isLoading:P,ignoreLocalHoverState:x,mobileFeedback:B,onClick:Z,onDoubleClick:E,onFocus:R,onBlur:A,onMouseEnter:D,onMouseMove:F,onMouseLeave:L,onMouseDown:V,onMouseUp:N,onTouchStart:O,onTouchEnd:U,onTouchCancel:H,onContextMenu:z,pressed:W,pressedStyle:j,store:K,style:Y,...G}=e;window.__c={n:"Button"};const X=(0,l.O7)(),q=w||P,$=(0,p.qz)(K,g.Z),J=(0,p.VK)((()=>$.getState()),[$]),Q=(0,s.useRef)(null),[ee,te]=(0,c.Z)(),oe=(0,d.Z)(Q,ee,t),ie=X.device.isDesktop,ne=(0,u.yK)((e=>{const t=!x&&J.hovered||T||M||te,o=J.pressed||W,i={...(!B||M)&&{background:e.buttonHoveredBackground,...I}},n=B?{opacity:.4}:{background:e.buttonPressedBackground,...j};return{button:{userSelect:r?"auto":"none",WebkitUserSelect:r?"auto":"none",transition:C?"none":"background 20ms ease-in",cursor:q?"default":"pointer",opacity:q&&k?.4:void 0,...Y,...t&&i,...o&&n,...ie&&te&&{boxShadow:e.outlineBlueInputBoxShadow}}}}),[r,q,C,k,M,T,I,x,B,W,j,J.hovered,J.pressed,Y,ie,te]);(0,s.useEffect)((()=>(m.iz($),()=>{m.ZU($)})),[$]),(0,s.useEffect)((()=>{w&&$.resetIfInteracted()}),[w,$]);const re={className:S,id:o,onFocus:R,onBlur:A,onClick:e=>{m.qk({store:$,event:e,disabled:w||!1,onClick:Z})},onMouseEnter:e=>{m.Bd({store:$,event:e,disabled:w||!1,onMouseEnter:D})},onMouseMove:e=>{m.Js({store:$,event:e,disabled:w||!1,onMouseMove:F,isMobile:X.device.isMobile})},onMouseLeave:e=>{m.iV({store:$,event:e,disabled:w||!1,onMouseLeave:L})},onMouseDown:e=>{m.HY({store:$,event:e,disabled:w||!1,onMouseDown:V})},onMouseUp:e=>{m._J({store:$,event:e,disabled:w||!1,onMouseUp:N})},onTouchStart:e=>{m.Ui({store:$,event:e,disabled:w||!1,onTouchStart:O})},onTouchEnd:e=>{m.Ow({store:$,event:e,disabled:w||!1,onTouchEnd:U})},onTouchCancel:e=>{m.e2({store:$,event:e,disabled:w||!1,onTouchCancel:H})},onContextMenu:e=>{m.ke({store:$,event:e,disabled:Boolean(w),onContextMenu:z})},onKeyDown:e=>{w||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||"Enter"!==e.key&&" "!==e.key||Q.current!==document.activeElement||e.target instanceof HTMLElement&&(e.target.click(),e.preventDefault())},onDoubleClick:E,style:ne.button},ae=P?a()(f.Z,{style:{marginRight:4}}):null;return void 0!==G.href?s.createElement(h.Z,n()({ariaLabel:v,disabled:q,ref:oe,role:i,tabIndex:_||q?-1:void 0},G,re),ae,b):s.createElement("div",n()({"aria-disabled":q,"aria-label":v,"aria-pressed":y,ref:oe,role:i??"button",tabIndex:_||q?-1:0},re),ae,b)}const y=s.forwardRef(v)},64921:(e,t,o)=>{o.d(t,{Z:()=>i.Z});var i=o(11066)},52275:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(97464),n=o.n(i),r=o(67294),a=o(480),s=o(64921),l=o(28992);function c(e,t){let{id:o,role:i,focused:c,disabled:d,onClick:p,allowTextSelection:u,disableTransition:m,disallowTabbing:g,className:h,ignoreLocalHoverState:f,interactionStore:v,pressed:y,hoveredStyle:b,pressedStyle:S,buttonStyle:w,...k}=e;window.__c={n:"ButtonMenuItem"};const C=(0,a.Fy)();return r.createElement(s.Z,{id:o,role:i,className:h,onClick:p,focused:!d&&c,disabled:d,disabledFeedback:k.disabledFeedback,disallowTabbing:g,disableTransition:m,mobileFeedback:C.isMobile,allowTextSelection:u,ignoreLocalHoverState:f,pressed:y,ref:t,store:v,style:{width:"100%",...!C.isMobile&&{width:"calc(100% - 8px)",marginLeft:4,marginRight:4,borderRadius:3},...w},hoveredStyle:b,pressedStyle:S},r.createElement(l.Z,n()({allowTextSelection:u},k)))}const d=r.forwardRef(c)},31945:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(97464),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(83355),c=o(39500),d=o(25464),p=o(61766),u=o(44532);class m extends l.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:p.Z},this.renderPopup=()=>this.props.render({close:this.handleClose}),this.handleButtonClick=e=>{const{buttonPopupStore:t}=this.stores;this.props.stopClickPropagation&&(null==e||e.stopPropagation()),e&&c.uG(e)||(this.props.onClick&&this.props.onClick(e),this.props.disablePopup||t.setState({...t.state,open:!0}))},this.handleClose=()=>{this.props.onClose&&this.props.onClose(),this.props.persistOnClose||this.stores.buttonPopupStore.reset()}}willUnmount(){this.stores.buttonPopupStore.setState({open:!1})}renderComponent(){const{buttonPopupStore:e}=this.stores;return s.createElement(u.ZP,n()({},this.props,{forceInitialInbound:Boolean(this.props.forceInitialInbound),render:this.renderPopup,open:e.state.open,onDismiss:this.handleClose,origin:this.props.renderOrigin({onClick:this.props.disabled?a().identity:this.handleButtonClick}),originGap:this.props.originGap,borderRadius:this.props.borderRadius,popupWrapStyle:this.props.popupWrapStyle,trapFocus:this.props.trapFocus}))}}m.displayName="ButtonPopup",m.Alignment=d.v,m.Placement=d.u,m.PopupType=u.kQ;const g=m},96525:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(97464),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(83355),c=o(39500),d=o(25464),p=o(61766),u=o(44532);class m extends l.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:p.Z},this.renderPopup=()=>this.props.render({close:this.handleClose}),this.handleButtonClick=e=>{const{buttonPopupStore:t}=this.stores;this.props.stopClickPropagation&&(null==e||e.stopPropagation()),e&&c.uG(e)||(this.props.onClick&&this.props.onClick(e),this.props.disablePopup||t.setState({...t.state,open:!0}))},this.handleClose=()=>{this.props.onClose&&this.props.onClose(),this.props.persistOnClose||this.stores.buttonPopupStore.reset()}}willUnmount(){this.stores.buttonPopupStore.setState({open:!1})}renderComponent(){const{buttonPopupStore:e}=this.stores,t={...this.props,onClick:this.props.disabled?a().identity:this.handleButtonClick};return s.createElement(u.ZP,n()({},this.props,{forceInitialInbound:Boolean(this.props.forceInitialInbound),render:this.renderPopup,open:e.state.open,onDismiss:this.handleClose,origin:this.props.renderOrigin(t),originGap:this.props.originGap,borderRadius:this.props.borderRadius,popupWrapStyle:this.props.popupWrapStyle}))}}m.displayName="ButtonPopupMenuItem",m.Alignment=d.v,m.Placement=d.u,m.PopupType=u.kQ;const g=m},12508:(e,t,o)=>{o.d(t,{Z:()=>b});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(8848),d=o(3779),p=o(6740),u=o(88464),m=o(80357),g=o(12534);const h=()=>{};function f(e,t){let{checked:o,disabled:i,onClick:n,onMouseDown:r,onMouseEnter:a,onMouseLeave:c,inputStyle:d,style:f,children:v}=e;window.__c={n:"BaseCheckbox"};const y=(0,s.useRef)(null),[b,S]=(0,p.Z)(),w=(0,u.Z)(y,b,t),k=(0,l.yK)((e=>({root:{position:"relative",flexShrink:0,flexGrow:0,...S&&{boxShadow:e.outlineBlueInputBoxShadow}},input:{...d,position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,...i?{pointerEvents:"none"}:{cursor:"pointer"}}})),[i,S,d]);(0,s.useEffect)((()=>{null!==y.current&&(y.current.indeterminate="partial"===o)}),[o]);const C=(0,s.useCallback)((e=>{(0,g.ZP)({event:e,context:g.Af.EditorClick,callback:()=>{void 0!==n&&n(e)}})}),[n]),_=(0,l.Fg)();return s.createElement("div",(0,m.iv)(k.root,f,i?{}:{pseudoHover:{background:_.buttonHoveredBackground},pseudoActive:{background:_.buttonPressedBackground}}),v,s.createElement("input",{disabled:i,checked:!0===o||"partial"===o,onClick:C,onChange:h,onMouseDown:r,onMouseEnter:a,onMouseLeave:c,type:"checkbox",ref:w,style:k.input}))}const v=s.forwardRef(f);var y=o(58032);function b(e){let{checked:t,disabled:o=!1,onClick:i,size:r,checkSize:p=12,fill:u,round:m=!1,style:g,tooltipHeader:h,tapArea:f}=e;const b=f?f.size:r,S=(0,l.yK)((()=>({root:{width:r,height:r,display:"flex",alignItems:"center",justifyContent:"center",transition:"background 200ms ease-out",...!1!==t&&{background:c.ZP.blue},...m&&{borderRadius:"50%"},...g},input:{width:b,height:b,top:-(b-r)/2,left:-(b-r)/2}})),[r,b,t,m,g]),w=(0,s.useMemo)((()=>!0===t||"partial"===t?("partial"===t?d.Z.checkPartial:d.Z.check)({fill:c.ZP.white,width:p,height:p}):m?d.Z.checkboxCircle({fill:u}):d.Z.checkboxSquare({fill:u})),[t,p,u,m]),k=e=>s.createElement(v,n()({checked:t,disabled:o,onClick:i,style:S.root,inputStyle:S.input},e),a()("div",{"aria-hidden":"true"},void 0,w));return h?a()(y.Z,{renderTooltip:()=>h,render:e=>k(e)}):k()}},37601:(e,t,o)=>{o.d(t,{O:()=>g,Z:()=>f});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(8848),s=o(82990),l=o(5366),c=o(59488),d=o(47372),p=o(69454),u=o(64921),m=o(41046);const g=44;class h extends r.Z{constructor(){super(...arguments),this.handleBlur=()=>{const e=document.activeElement;e instanceof HTMLInputElement&&e.blur(),this.props.onDismiss&&this.props.onDismiss()}}get registries(){return[d.Z]}renderComponent(){const{device:e}=this.environment;if(!e.isMobileNative)return;if(!e.isIOS)return;const t=(0,c.Y)("supportsFixedSizeWebView")?p.Z.estimatedNativeWebBottomOverlap():0,o=this.props.show?-(g+t):0;return n()(m.Z,{open:!0},void 0,n()("div",{style:{position:"fixed",top:"100vh",width:"100%",height:g,display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundColor:this.theme.keyboardDoneBarBackground,transform:`translateY(${o}px)`,transition:this.props.show?"ease-out":"ease-in",boxShadow:this.props.show?`\n\t\t\t\t\t\t\t\t0 -1px 0 ${this.theme.darkDividerColor}\n\t\t\t\t\t\t\t`:void 0}},void 0,n()(u.Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",marginRight:16,color:a.ZP.blue,fontWeight:s.Z.fontWeight.semibold},onClick:this.handleBlur},void 0,n()(l.FormattedMessage,{defaultMessage:"Done",id:"mobile.dismissKeyboardBar.button.label"}))))}}h.displayName="DismissKeyboardBar";const f=h},61519:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405);function s(e,t){let{className:o,onClick:i,size:s,style:l,vertical:c,innerStyle:d,isHidden:p}=e;window.__c={n:"Divider"};const u=(0,a.yK)((e=>({root:{display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",width:c?s:"100%",height:c?"100%":s,flexGrow:0,flexShrink:0,flexBasis:"auto",...l},divider:{width:c?1:"100%",height:c?"100%":1,visibility:p?"hidden":"visible",borderBottom:c?void 0:`1px solid ${e.darkDividerColor}`,borderRight:c?`1px solid ${e.darkDividerColor}`:void 0,...d}})),[d,p,s,l,c]);return r.createElement("div",{style:u.root,className:o,onClick:i,ref:t},n()("div",{style:u.divider,role:"separator"}))}const l=r.forwardRef(s)},5145:(e,t,o)=>{o.d(t,{$L:()=>s,K8:()=>l,ZP:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(3779);const s=18,l=24;const c=function(e){window.__c={n:"DragHandle"};const{iconSize:t,style:o}=e,i=(0,r.yK)((o=>({wrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:s,height:l,flexShrink:0,opacity:e.disabled?0:void 0,cursor:e.disabled?void 0:"-webkit-grab"},icon:{fill:o.mediumIconColor,width:t,height:t}})),[t,e.disabled]);return n()("div",{style:{...i.wrapper,...o}},void 0,a.Z.dragHandle(i.icon))}},50478:(e,t,o)=>{o.d(t,{C$:()=>g,GN:()=>h,ZP:()=>f});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(3779),d=o(5366),p=o(64921),u=o(5145),m=o(58032);const g=u.$L,h=u.K8;const f=function(e){window.__c={n:"DragHandleButton"};const t=(0,l.yK)((t=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",cursor:e.disableDrag?"pointer":"grab",width:u.$L,height:24,borderRadius:3,fill:t.lightIconColor},text:{color:t.mediumInvertedTextColor}})),[e.disableDrag]);return a()(m.Z,{placement:m.Z.Placement.Bottom,delayThreshold:300,renderTooltip:function(){return a()("div",{style:{textAlign:"center"}},void 0,!e.disableDrag&&a()(d.FormattedMessage,{defaultMessage:"Drag <medium>to move</medium>",id:"dragHandleButton.dragPrompt.text",values:{medium:e=>a()("span",{style:t.text},void 0,e)}}),!e.hideClickMessage&&a()("div",{},void 0,a()(d.FormattedMessage,{defaultMessage:"Click <medium>to open menu</medium>",id:"dragHandleButton.clickPrompt.text",values:{medium:e=>a()("span",{style:t.text},void 0,e)}})))},render:o=>s.createElement(p.Z,n()({style:t.buttonStyle,onClick:e.onClick,disallowTabbing:e.disallowTabbing},o),c.Z.dragHandle({width:14,height:14}))})}},6685:(e,t,o)=>{o.d(t,{Z:()=>y});var i=o(96486),n=o.n(i),r=o(83355),a=o(62134),s=o(12534),l=o(28314),c=o(39500),d=o(17504),p=o(77546),u=o(10084),m=o(80796),g=o(10161),h=o(29337),f=o(24666);class v extends r.Z{constructor(){super(...arguments),this.storeTypes={store:u.Z},this.dragDelayTimer=void 0,this.handledTouchStart=!1,this.handleMouseDown=e=>{if(!this.props.disabled)return this.handledTouchStart?(this.handledTouchStart=!1,void(0,s.ZP)({event:e,context:s.Af.EditorMouseDown,callback:n().identity})):void(1!==e.button&&(0,s.ZP)({event:e,context:s.Af.EditorMouseDown,callback:()=>this.setDragging(e,!1)}))},this.handleTouchStart=e=>{this.handledTouchStart=!0;const{disabled:t,allowDragWhileTextEditing:o,forceTouch:i}=this.props;!t&&(o||i&&!this.isTextEditing())&&(0,s.ZP)({event:e,context:s.Af.EditorMouseDown,callback:()=>this.setDragging(e,!0)})},this.handleMove=e=>{this.stores.store.state.waiting&&this.didScroll(e)?this.cancelDelayedDrag():this.stores.store.state.dragging&&(this.stores.store.setState({...this.stores.store.state,currentPoint:this.getPoint(e)}),this.props.onDraggableDragMove&&this.props.onDraggableDragMove(this.createDragEventFromEvent(e,this.stores.store.state,b(e))))},this.handleWindowMouseMove=e=>{this.handleMove(e)},this.handleWindowTouchMove=e=>{this.handleMove(e)},this.handleWindowMouseMoveCapture=e=>{this.props.preventSidebar&&this.stores.store.state.dragging&&(0,d.V)(e)},this.handleWindowMouseMoveThrottled=n().throttle(this.handleWindowMouseMove,v.moveThrottleRate,{trailing:!0}),this.handleWindowTouchMoveThrottled=n().throttle(this.handleWindowTouchMove,v.moveThrottleRate,{trailing:!0}),this.handleTouchForceChange=e=>{if(!this.props.forceTouch)return;const t=e.touches[0];t&&t.force>=.6&&this.stores.store.state.waiting&&(e.preventDefault(),clearTimeout(this.dragDelayTimer),this.beginDrag({target:e.target,preventDefault:()=>e.preventDefault(),device:b(e),initiator:"touch"}))},this.handleWindowMouseUp=e=>{this.stores.store.state.dragging?(this.props.onDraggableDragEnd&&this.props.onDraggableDragEnd(this.createDragEventFromEvent(e,this.stores.store.state,b(e))),this.clearDragging()):this.stores.store.state.waiting&&this.cancelDelayedDrag()},this.handleWindowTouchCancel=e=>{this.handleWindowTouchEnd(e)},this.handleWindowTouchEnd=e=>{this.stores.store.state.dragging?(this.props.onDraggableDragEnd&&this.props.onDraggableDragEnd(this.createDragEndEvent({point:this.stores.store.state.currentPoint,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:this.stores.store.state})),this.clearDragging()):this.stores.store.state.waiting&&this.cancelDelayedDrag()},this.handleContextMenu=e=>{const{device:t}=this.environment;if(t.isAndroid&&"editing"!==f.default.state.mode&&!this.props.enableAndroidContextMenu)return e.preventDefault(),e.stopPropagation(),!1;this.stores.store.state.dragging&&(this.props.onDraggableDragCancel&&this.props.onDraggableDragCancel(this.createDragEventFromEvent(e,this.stores.store.state,b(e))),this.clearDragging())},this.handleEsc=e=>{e.preventDefault(),this.stores.store.state.dragging&&(this.props.onDraggableDragCancel&&this.props.onDraggableDragCancel(this.createDragEndEventFromEvent(e,this.stores.store.state)),this.clearDragging())},this.beginDrag=e=>{if(h.Z.state.swiping)return;const{disableHorizontalEdgeScroll:t,disableVerticalEdgeScroll:o}=this.props;if(m.Z.setState({isDragging:!0,initiator:e.initiator,disableHorizontalEdgeScroll:t||!1,disableVerticalEdgeScroll:o||!1}),this.stores.store.state.waiting){const t=this.stores.store.state.waitingPoint,o={dragging:!0,waiting:!1,startingPoint:t,currentPoint:t,scrollerPositions:this.getScrollerPositions(e),initiator:e.initiator};this.stores.store.setState(o);const i=this.createDragEvent({point:t,target:e.target,preventDefault:e.preventDefault,draggableState:o,device:e.device});this.props.onDraggableDragStart&&this.props.onDraggableDragStart(i)}else if(this.stores.store.state.dragging){const t=this.createDragEvent({point:this.stores.store.state.currentPoint,target:e.target,preventDefault:e.preventDefault,draggableState:this.stores.store.state,device:e.device});this.props.onDraggableDragStart&&this.props.onDraggableDragStart(t)}}}renderComponent(){const e=this.props.touchDragOnly?{onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu}:{onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu};return this.props.render(e)}setDragging(e,t){t?(window.addEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.addEventListener("touchend",this.handleWindowTouchEnd),window.addEventListener("touchcancel",this.handleWindowTouchCancel),window.addEventListener("touchforcechange",this.handleTouchForceChange)):(window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.addEventListener("mousemove",this.handleWindowMouseMoveCapture,!0)),a.Fe({environment:this.environment,stackItem:{listener:this,enable:!0,shortcuts:{esc:this.handleEsc},priority:0}}),document.addEventListener("pause",this.handleEsc,!1);const o=e.target,i=b(e),r=t?"touch":"mouse",s=g.default.getGroup("mobile-drag-delay"),l="control"===s?500:parseInt(s,10);t&&this.props.forceTouch?(this.stores.store.setState({dragging:!1,waiting:!0,initiator:"none",scrollerPositions:this.getScrollerPositions(e),waitingPoint:this.getPoint(e)}),this.dragDelayTimer=setTimeout((()=>this.beginDrag({target:o,preventDefault:n().identity,device:i,initiator:r})),l)):(this.stores.store.setState({dragging:!0,waiting:!1,scrollerPositions:this.getScrollerPositions(e),startingPoint:this.getPoint(e),currentPoint:this.getPoint(e),initiator:r}),this.beginDrag({target:o,preventDefault:()=>e.preventDefault(),device:i,initiator:r}))}clearDragging(){clearTimeout(this.dragDelayTimer),this.stores.store.reset(),m.Z.reset(),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("mousemove",this.handleWindowMouseMoveCapture,!0),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),a.ys(this.environment,this),document.removeEventListener("pause",this.handleEsc,!1)}cancelDelayedDrag(){clearTimeout(this.dragDelayTimer),this.stores.store.setState({dragging:!1,waiting:!1,initiator:"none"}),window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleWindowMouseMoveThrottled),window.removeEventListener("mousemove",this.handleWindowMouseMoveCapture,!0),window.removeEventListener("touchmove",this.handleWindowTouchMoveThrottled),window.removeEventListener("touchend",this.handleWindowTouchEnd),window.removeEventListener("touchcancel",this.handleWindowTouchCancel),window.removeEventListener("touchforcechange",this.handleTouchForceChange),a.ys(this.environment,this),document.removeEventListener("pause",this.handleEsc,!1)}createDragEndEventFromEvent(e,t){const o=this.getPoint(e);return this.createDragEndEvent({point:o,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:t})}createDragEndEvent(e){const{point:t,draggableState:o}=e,i=l.yA();return{startX:o.startingPoint.x,startY:o.startingPoint.y,currentX:t.x,currentY:t.y,diffX:t.x-o.startingPoint.x,diffY:t.y-o.startingPoint.y,shiftKey:i.shift,optionKey:i.option,commandKey:i.command||i.control,target:e.target,preventDefault:e.preventDefault}}createDragEventFromEvent(e,t,o){const i=this.getPoint(e);return this.createDragEvent({point:i,target:e.target,preventDefault:()=>e.preventDefault(),draggableState:t,device:o})}createDragEvent(e){const{device:t,...o}=e;return{...this.createDragEndEvent(o),device:t}}getPoint(e){return e.touches?this.getTouchPoint(e):this.getMousePoint(e)}getMousePoint(e){return{x:e.clientX,y:e.clientY}}getTouchPoint(e){const t=e.touches[0];return{x:t.clientX,y:t.clientY}}isTextEditing(){return"editing"===f.default.state.mode}getScrollerPositions(e){return this.target!==e.target&&(this.target=e.target,this.scrollers=(0,p.hI)(e.target)),this.scrollers?this.scrollers.map((e=>({x:e.scrollTop,y:e.scrollLeft}))):[]}didScroll(e){return(this.stores.store.state.dragging||this.stores.store.state.waiting)&&!n().isEqual(this.stores.store.state.scrollerPositions,this.getScrollerPositions(e))}}v.displayName="Draggable",v.moveThrottleRate=15;const y=v;function b(e){if(function(e){return Boolean(e.touches)}(e)){const t=e.touches[0];return t?(0,c.Nf)(t):"finger"}return"mouse"}},79131:(e,t,o)=>{o.d(t,{yA:()=>k,l8:()=>C,ZP:()=>M});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(62518),p=o(81954),u=o(12137),m=o(15095),g=o(97880),h=o(25898),f=o(62619),v=o(39500),y=o(77546),b=o(45452),S=o(30016),w=o(6685);const k={margin:0},C={display:"inline-flex",margin:0},_={position:"absolute",display:"flex"},M=function(e){window.__c={n:"DraggableList"};const t=(0,c.useRef)(null),o=(0,c.useRef)(),i=(0,p.qz)(e.store,b.Z),r=(0,p.VK)((()=>i.state),[i]),{direction:s,keys:M,disableVerticalEdgeScroll:T,disableHorizontalEdgeScroll:I,disabled:P}=e,x={..."horizontal"===s?C:k,...r.isDragging&&{position:"relative",zIndex:1,width:r.savedContainerRect.width,height:r.savedContainerRect.height},...e.style};function B(e){return"string"==typeof e?e:e.key}const Z=(t,o)=>{const{renderKey:i,direction:n}=e,s=B(t),l=e.keys.map(B),c=i(s,o,l.map(B));if(r.isDragging&&r.draggingKey===s){const{savedKeyRects:e,savedContainerRect:t,currentXOffset:i,currentYOffset:l}=r,d=e[o];let p,m;"vertical"===n?(p=(0,u.Z)(d.top+l,t.top,t.top+t.height-d.height)-t.top,m=d.left-t.left):(p=d.top-t.top,m=(0,u.Z)(d.left+i,t.left,t.left+t.width-d.width)-t.left);const g={..._,left:m,top:p,width:d.width,height:d.height,zIndex:1};return a()("div",{style:g},s,c)}if(r.isDragging){const{savedKeyRects:e,savedContainerRect:t,startKeyPosition:i,currentKeyPosition:d,draggingKey:p}=r,u=e[l.indexOf(p)];let m=0,g=0;d!==i&&o>=d&&o<i?"vertical"===n?g=u.height:m=u.width:d!==i&&o<=d&&o>i&&("vertical"===n?g=-u.height:m=-u.width);const h=e[o];return h?a()(S.Z,{isVisible:!0,animationStyle:{translateX:h.left-t.left+m,translateY:h.top-t.top+g,width:h.width,height:h.height},render:()=>a()("div",{style:_},void 0,c)},s):null}return a()("div",{style:{display:"flex",flexDirection:"vertical"===e.direction?"column":"horizontal"===e.direction?"row":(0,g.t1)(e.direction)}},s,c)};function E(){const{direction:i}=e;return o.current||(o.current="vertical"===i?(0,y.VW)(d.findDOMNode(t.current)):(0,y.xH)(d.findDOMNode(t.current))),o.current}const R=P?{}:{onDraggableDragCancel:()=>{r.isDragging&&i.reset()},onDraggableDragEnd:()=>{if(r.isDragging){const{keys:t,onDrop:o}=e,{startKeyPosition:n,currentKeyPosition:a}=r;if(n!==a){const e=l().clone(t);e.splice(a,0,e.splice(n,1)[0]);const i=B(t[n]);o(e.map(B),{key:i,startPosition:n,endPosition:a})}e.onDragEnd&&e.onDragEnd(),i.reset()}},onDraggableDragStart:o=>{o.preventDefault();const{keys:n}=e,r=d.findDOMNode(t.current);if(!r)return;if(!(r instanceof Element))return;const a=f.sh(o.target,(e=>e.parentNode===r));if(a){const t=m.p4(r.children).indexOf(a),o=n[t];if("object"==typeof o&&!o.draggable)return;const s=r.getBoundingClientRect(),c=l().map(n,((e,t)=>r.children[t].getBoundingClientRect())),d=E();if(d){const o=B(n[t]);e.onDraggingKeyChanged&&e.onDraggingKeyChanged(o),i.setState({isDragging:!1,willDrag:!0,currentXOffset:0,currentYOffset:0,draggingKey:o,startKeyPosition:t,startScrollX:d.scrollLeft,startScrollY:d.scrollTop,currentKeyPosition:t,savedContainerRect:s,savedKeyRects:c})}}},onDraggableDragMove:t=>{!r.isDragging&&r.willDrag&&r.draggingKey&&(0,h.Z)(t.startX,t.startY,t.currentX,t.currentY)>=v.Vc[t.device]&&(i.setState({currentXOffset:r.currentXOffset,currentYOffset:r.currentYOffset,startScrollX:r.startScrollX,startScrollY:r.startScrollY,startKeyPosition:r.startKeyPosition,currentKeyPosition:r.currentKeyPosition,savedKeyRects:r.savedKeyRects,savedContainerRect:r.savedContainerRect,draggingKey:r.draggingKey,isDragging:!0,willDrag:!1}),e.onDragStart&&e.onDragStart());const o=E();if(r.isDragging&&o){const{savedKeyRects:e,startScrollX:n,startScrollY:a}=r,s=o.scrollLeft-n,c=o.scrollTop-a,d=l().minBy(e,(e=>(0,h.Z)(t.currentX+s,t.currentY+c,e.left+e.width/2,e.top+e.height/2)));if(d){const o=e.indexOf(d);i.setState({...r,currentXOffset:t.diffX+s,currentYOffset:t.diffY+c,currentKeyPosition:o})}}}};return c.createElement(w.Z,n()({ref:t},R,{forceTouch:!0,allowDragWhileTextEditing:!0,disableVerticalEdgeScroll:T||"horizontal"===s,disableHorizontalEdgeScroll:I||"vertical"===s,render:e=>c.createElement("div",n()({style:x},e),M.map(Z))}))}},55118:(e,t,o)=>{o.d(t,{G:()=>v});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(33125),l=o(81954),c=o(24405),d=o(8848),p=o(51454),u=o(84064),m=o(43250),g=o(27406),h=o(55367),f=o(30016);function v(e){window.__c={n:"DropTarget"};const{children:t,dropTargetKey:o,shouldShowDropZone:i=!1,aboveDropZoneMargin:p=0,belowDropZoneMargin:f=0,dropzoneGap:v,dropzoneStyle:b}=e,M=(0,a.O7)(),{selectableContainer:T}=(0,r.useContext)(u.aT)??{},I=(0,r.useRef)(null);(0,s.c)(g.Z,(()=>({props:e,getContextSelectableContainer:()=>T,canAcceptDrop:e.canAcceptDrop,getNode:()=>I.current})),[e]);const[P]=(0,l.AF)(h.ZP),[x,B]=(0,r.useState)({parentHaloAnimating:!1,hintHaloAnimating:!1,currentHaloAnimating:!1}),Z=(e,t)=>()=>B((o=>({...o,[t]:e}))),E=(0,l.VK)((()=>{var e;const t=S(P,o);return{shouldShowParentHalo:k({dragState:P,dropTargetKey:o,shouldShowHalo:i}),hintDropzoneDirection:null==t?void 0:t.direction,hintDropzoneIndex:(null==t?void 0:t.index)??0,currentDropzoneDirection:null===(e=w(P,o))||void 0===e?void 0:e.direction}}),[P,o,i]),R=E.shouldShowParentHalo||x.parentHaloAnimating,A=Boolean(E.hintDropzoneDirection)||x.hintHaloAnimating,D=Boolean(E.currentDropzoneDirection)||x.currentHaloAnimating,F=R||A||D,L=(0,c.yK)((e=>({base:{...F&&{position:"relative"}},dropParentHalo:{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,background:d.ZP.blueWithAlpha(.07)},currentHalo:_({direction:E.currentDropzoneDirection,index:0,aboveDropZoneMargin:p,belowDropZoneMargin:f,dropzoneGap:v,dropzoneStyleOverride:b}),currentHaloGapBox:C({theme:e,isMobile:M.device.isMobile,direction:E.currentDropzoneDirection}),hintHalo:_({direction:E.hintDropzoneDirection,index:E.hintDropzoneIndex+1,aboveDropZoneMargin:p,belowDropZoneMargin:f,dropzoneGap:v,dropzoneStyleOverride:b}),hintHaloGapBox:C({theme:e,isMobile:M.device.isMobile,direction:E.hintDropzoneDirection})})),[p,f,E.currentDropzoneDirection,E.hintDropzoneDirection,E.hintDropzoneIndex,v,b,M.device.isMobile,F]);return r.createElement("div",{ref:I,style:L.base},t,R&&n()(y,{animationKey:"parent",isVisible:E.shouldShowParentHalo,onStart:Z(!0,"parentHaloAnimating"),onEnd:Z(!1,"parentHaloAnimating"),className:m.No6,style:L.dropParentHalo}),A&&n()(y,{animationKey:"hint",isVisible:void 0!==E.hintDropzoneDirection,onStart:Z(!0,"hintHaloAnimating"),onEnd:Z(!1,"hintHaloAnimating"),style:L.hintHalo,gapStyle:L.hintHaloGapBox}),D&&n()(y,{animationKey:"hint",isVisible:void 0!==E.currentDropzoneDirection,onStart:Z(!0,"currentHaloAnimating"),onEnd:Z(!1,"currentHaloAnimating"),style:L.currentHalo,shouldRenderGap:E.currentDropzoneDirection!==h.vh.Onto,gapStyle:L.currentHaloGapBox}))}const y=e=>{let{isVisible:t,animationKey:o,style:i,className:r,shouldRenderGap:a,gapStyle:s,onStart:l,onEnd:c}=e;window.__c={n:"AnimatedDropHalo"};return n()(f.Z,{isVisible:t,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},exitAnimationStyle:{opacity:0},springConfig:{opacity:{stiffness:70,damping:10,precision:.001}},onAnimationStart:l,onAnimationEnd:c,render:()=>n()("div",{className:r,style:i},void 0,a&&n()("div",{style:s}))},o)},b=(e,t)=>(null==t?void 0:t.type)===h.Dl.DropTarget&&t.key===e,S=(e,t)=>{if(!e.isDragging)return;const o=e.currentHintDropZones.findIndex((e=>b(t,e)));return void 0===e.currentHintDropZones[o]?void 0:{...e.currentHintDropZones[o],index:o}},w=(e,t)=>e.isDragging&&b(t,e.currentDropZone)?e.currentDropZone:void 0,k=e=>{const{dragState:t,shouldShowHalo:o,dropTargetKey:i}=e;return!(!o||!t.isDragging)&&(!!t.currentHintDropZones.some((e=>e.direction===h.vh.Left||e.direction===h.vh.Right))&&b(i,t.currentDropZone))},C=e=>{const{direction:t,isMobile:o,theme:i}=e;if(void 0===t)return{};const n=o?3:2;return t===h.vh.Above||t===h.vh.Below?{position:"relative",left:-n,width:n,height:4,background:i.contentBackground,transform:"translateZ(100px)"}:{position:"relative",top:-n,width:4,height:n,background:i.contentBackground,transform:"translateZ(100px)"}},_=e=>{const{direction:t,index:o,aboveDropZoneMargin:i,belowDropZoneMargin:n,dropzoneGap:r,dropzoneStyleOverride:a}=e,s={position:"absolute",pointerEvents:"none",background:d.ZP.blueWithAlpha(.43),zIndex:p.S1-o};if(t===h.vh.Onto)s.left=0,s.top=0,s.right=0,s.bottom=0,s.background=d.ZP.blueWithAlpha(.14);else if(t===h.vh.Above||t===h.vh.Below){const e=4;s.left=0,s.right=0,t===h.vh.Above?s.top=-(e+i):s.bottom=-(e+n),s.height=4}else{const e=8;s.top=0,s.bottom=0,t===h.vh.Left?s.left=r?-r:-e:s.right=r?-r:-e,s.width=4}return{...s,...a}}},8982:(e,t,o)=>{o.d(t,{D:()=>C,i:()=>M});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(62518),p=o(83355),u=o(55010),m=o(45060),g=o(77897),h=o(15723),f=o(12318),v=o(3386);const y=c.createContext(void 0);y.displayName="DynamicMenuContext";const b={x:0,y:-1},S={x:0,y:1},w={x:-1,y:0},k={x:1,y:0};class C extends p.Z{constructor(){super(...arguments),this.maxLeftRect=void 0,this.entries=new Set,this.focusedEntry=new f.default(void 0),this.handleArrowUp=e=>this.handleFocusVector(b,e),this.handleArrowRight=e=>this.handleFocusVector(k,e),this.handleArrowDown=e=>this.handleFocusVector(S,e),this.handleArrowLeft=e=>this.handleFocusVector(w,e),this.handleTab=e=>this.handleFocusIndexVector(1,e),this.handleUntab=e=>this.handleFocusIndexVector(-1,e),this.handleEnter=e=>{const t=this.focusedEntry.get();t&&t.onAction(e,this)},this.handleEscape=()=>{this.focusedEntry.state?this.focusEntry(void 0,void 0):this.close()},this.handleMouseLeave=()=>{this.focusEntry(void 0,void 0)}}willUnmount(){this.entries.clear(),this.focusedEntry.reset()}getEntries(){return Array.from(this.entries)}getMountedEntriesInDomOrder(){return this.getEntries().map((e=>({entry:e,element:e.getDomElement()}))).filter((e=>{let{element:t}=e;return void 0!==t})).sort(((e,t)=>(0,u.Z)(e.element,t.element))).map((e=>{let{entry:t}=e;return t}))}registerEntry(e){this.entries.add(e)}unregisterEntry(e){const t=this.focusedEntry.get();if(this.entries.delete(e),e===t){if(this.handleFocusVector({x:-1,y:-1},void 0))return;this.focusEntry(void 0,void 0)}}onFocusEvent(e,t){this.focusEntry(e,void 0)}close(){this.props.onClose&&this.props.onClose()}focusEntry(e,t){e&&!this.entries.has(e)||e!==this.focusedEntry.get()&&(e&&e.disabled||(this.focusedEntry.set(e),this.maxLeftRect=t))}renderComponent(){const{disableKeyboard:e,children:t}=this.props;return a()(v.Z,{capture:!e,onUp:this.handleArrowUp,onDown:this.handleArrowDown,onLeft:this.handleArrowLeft,onRight:this.handleArrowRight,onEnter:this.handleEnter,onCommandEnter:this.handleEnter,onEsc:this.handleEscape,onTab:this.handleTab,onUntab:this.handleUntab},void 0,a()("div",{onMouseLeave:this.handleMouseLeave},void 0,a()(y.Provider,{value:this},void 0,t)))}handleFocusVector(e,t){const o=this.focusedEntry.get(),i=this.getEntries().filter((e=>!e.disabled));if(0===i.length)return;t&&t.preventDefault&&t.preventDefault();const n=o&&o.getRect();if(!n){const t=e.x*e.y>0?1:-1;return this.handleFocusIndexVector(t,void 0)||this.handleFocusIndexVector(1,void 0)}const r=i.map((e=>({entry:e,rect:e.getRect()}))).filter((e=>void 0!==e.rect&&e.entry!==o));let a;if(0===e.x&&void 0!==this.maxLeftRect&&this.maxLeftRect.left>n.left){const t=n.top-this.maxLeftRect.top,o=new h.iL(this.maxLeftRect.left,this.maxLeftRect.top+t,this.maxLeftRect.width,n.height);o.height=n.height,this.drawDebugRect("maxLeftRect",o,"orange"),a=T(o,e,r,this.props.debug),a&&this.drawDebugRect("found from maxLeft",a.rect,"yellow")}a||(a=T(n,e,r,this.props.debug),a&&this.drawDebugRect("found from originRect",a.rect,"yellow"));const s=0!==e.x||void 0===this.maxLeftRect;if(a){const e=a.rect;return this.focusEntry(a.entry,s?e:this.maxLeftRect),a.entry}s&&(this.maxLeftRect=n)}handleFocusIndexVector(e,t){const o=this.findNextFocusableEntry(e);if(o)return t&&t.preventDefault(),this.focusEntry(o,void 0),o}findNextFocusableEntry(e){const t=this.focusedEntry.get(),o=this.getMountedEntriesInDomOrder(),i=t?o.indexOf(t):-1,n=e>0?o.length:-1;for(let r=i+e;e>0?r<n:r>n;r+=e){const e=o[r];if(e&&!e.disabled)return e}}drawDebugRect(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"magenta";this.props.debug&&I(e,t,o)}}C.displayName="DynamicMenuArea";class _ extends p.Z{constructor(){super(...arguments),this.domElement=null,this.elementIsFocusedStore=this.createComputedStore((()=>{const e=this.dynamicMenuContext;return!!e&&e.focusedEntry.get()===this})),this.onAction=e=>{this.props.action(e,this.dynamicMenuContext)},this.handleMouseEnter=e=>{this.dynamicMenuContext&&this.dynamicMenuContext.onFocusEvent(this,e)},this.handleClick=e=>{this.props.action(e,this.dynamicMenuContext)},this.handleRef=e=>{if(!e)return void(this.domElement=null);if(e instanceof Element)return void(this.domElement=e);const t=d.findDOMNode(e);t instanceof Element?this.domElement=t:this.domElement=null}}renderComponent(){return this.props.render({onMouseEnter:this.handleMouseEnter,onClick:this.handleClick,ref:this.handleRef,focused:this.elementIsFocusedStore.state,disabled:this.disabled},this.dynamicMenuContext)}getDomElement(){return this.domElement||void 0}getRect(){if(this.domElement)return this.domElement.getBoundingClientRect()}get disabled(){return!!this.props.disabled}didMount(){const e=this.dynamicMenuContext;e&&e.registerEntry(this)}willUnmount(){const e=this.dynamicMenuContext;e&&e.unregisterEntry(this)}get dynamicMenuContext(){return this.props.dynamicMenuContext}}_.displayName="DynamicMenuElementRenderer";class M extends c.Component{constructor(){super(...arguments),this.context=void 0}render(){return c.createElement(_,n()({},this.props,{dynamicMenuContext:this.context}))}}function T(e,t,o,i){const n=(0,h.MU)(e),r=[n.top,n.left];let a=(0,h.jn)(e,-5);t.x>0&&(a=new h.iL(n.left,a.top,1/0,a.height)),t.x<0&&(a=new h.iL(0,a.top,n.right,a.height)),t.y>0&&(a=new h.iL(a.left,n.top,a.width,1/0)),t.y<0&&(a=new h.iL(a.left,0,a.width,n.bottom)),i&&I("search space",a,"magenta");const s=o.filter((e=>(0,h.kK)(a,e.rect))),c=l().sortBy(s.map((e=>{const t=(0,h.MU)(e.rect);return{entry:e,distance:g.TE(r,[t.top,t.left])}})),(e=>e.distance))[0];if(c)return c.entry}async function I(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"magenta";await(0,m.yX)(t,e,o)}M.contextType=y},92059:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(22377),s=o(17731);class l extends r.Z{renderComponent(){return n()(a.Z,{char:this.props.char,size:this.props.size,type:this.props.sprite||(0,s.e_)(this.environment)})}}l.displayName="Emoji";const c=l},62896:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(2749),s=o(17731);class l extends r.Z{renderComponent(){return n()(a.V,{type:(0,s.e_)(this.environment),size:"1em"},void 0,this.props.children)}}l.displayName="EmojiText";const c=l},8958:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(62518)),a=o(83355);class s extends a.Z{didMount(){super.didMount();const e=r.findDOMNode(this);e&&e instanceof Element&&this.props.ghostElement.forEach(((t,o)=>{let{cloned:i}=t;e.children[o].appendChild(i)}))}renderComponent(){const{ghostElement:e,opacity:t}=this.props;return n()("div",{},void 0,e.map(((e,o)=>{let{rect:{left:i,top:r,width:a,height:s}}=e;return n()("div",{style:{position:"absolute",top:r,left:i,width:a,height:s,opacity:t||(this.environment.device.isMobile?.25:.4),pointerEvents:"none"}},o)})))}}s.displayName="Ghost";const l=s},73420:(e,t,o)=>{o.d(t,{X2:()=>d,sg:()=>p});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405);function c(e){window.__c={n:"Group"};const t=(0,l.yK)((t=>({root:{display:"flex",flexDirection:e.flexDirection,alignItems:e.alignItems,justifyContent:e.justifyContent,gap:e.gap,margin:e.margin,padding:e.padding,flexGrow:e.grow,flexWrap:e.wrap}})),[e.flexDirection,e.alignItems,e.justifyContent,e.gap,e.margin,e.padding,e.grow,e.wrap]);return a()("div",{style:t.root},void 0,e.children)}function d(e){return window.__c={n:"Row"},s.createElement(c,n()({flexDirection:"row"},e))}function p(e){return window.__c={n:"Column"},s.createElement(c,n()({flexDirection:"column"},e))}},12793:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(3779);function s(e){window.__c={n:"GroupIcon"};const t=function(e){const{size:t,style:o}=e;return(0,r.yK)((e=>({icon:{width:.6*t,height:.6*t,fill:e.mediumTextColor},iconContainer:{width:t,height:t,borderRadius:"100%",background:e.regularDividerColor,display:"flex",alignItems:"center",justifyContent:"center",...o}})),[t,o])}(e),o=a.Z.membersFilled(t.icon);return n()("div",{style:t.iconContainer},void 0,o)}},64133:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=o(67294),a=o(83355),s=o(69988),l=o(62896);class c extends a.Z{renderComponent(){const{text:e,highlighter:t}=this.props;if(!t)return n()(l.Z,{},void 0,e);const o=t.tokenize(e).map(((e,o)=>(0,s.il)(e)?n()("span",{style:t.style},o,n()(l.Z,{},void 0,(0,s.LX)(e))):n()(l.Z,{},o,(0,s.LX)(e))));return n()(r.Fragment,{},void 0,o)}}c.displayName="HighlightText";const d=c},57770:(e,t,o)=>{o.d(t,{Z:()=>v});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(17731),s=o(92059),l=o(49814),c=o(65217),d=o(15095),p=o(97880),u=o(95477),m=o(12318);class g extends r.Z{constructor(){super(...arguments),this.storeTypes={highResLoaded:m.default.of(!1),showLowResPlaceholder:m.default.of(!1)},this.timerId=void 0,this.handleLoad=()=>{this.stores.highResLoaded.set(!0)}}didMount(){this.showPlaceholderAfterTimeout()}showPlaceholderAfterTimeout(){window.clearTimeout(this.timerId),this.stores.showLowResPlaceholder.set(!1),this.timerId=window.setTimeout((()=>{this.stores.highResLoaded.state||this.stores.showLowResPlaceholder.set(!0)}),300)}willReceiveProps(e){this.stores.highResLoaded.set(!1),this.showPlaceholderAfterTimeout()}renderComponent(){const e=(0,a.e_)(this.environment);if("raw"===e)return n()(l.Z,{char:this.props.char});const t=(0,d.yz)(this.props.char);if(!t)return n()(l.Z,{char:this.props.char});const o="production"===u.Z.env||"staging"===u.Z.env?"prod/":"dev/",i="apple"===e?`img-apple-160/${t.codepoints}.png`:"google"===e?`img-google-136/${t.codepoints}.png`:"twitter"===e?`svg-twitter/${t.codepoints}.svg`:(0,p.t1)(e),r=n()("img",{alt:this.props.char,"aria-label":this.props.char,style:{position:"absolute",top:0,left:0,opacity:this.stores.highResLoaded.state?1:0,transition:this.stores.highResLoaded.state&&this.stores.showLowResPlaceholder.state?"opacity ease-in 100ms":void 0,width:this.props.size,height:this.props.size},onLoad:this.handleLoad,src:"https://notion-emojis.s3-us-west-2.amazonaws.com/"+o+i});return n()("div",{style:{position:"relative",width:this.props.size,height:this.props.size}},void 0,n()(c.Z,{char:this.props.char,type:e,size:this.props.size,style:{opacity:this.stores.showLowResPlaceholder.state&&!this.stores.highResLoaded.state?1:0,transition:"opacity ease-out 100ms"}}),r)}}g.displayName="LargeEmoji";const h=g;class f extends r.Z{renderComponent(){const{device:e}=this.environment,{emoji:t,size:o,disableShrinking:i,isRaw:r=!0}=this.props;let l=o,c=0,d=1;if(o<28&&!i){l=e.isRetina&&e.isChrome?.9*l:.7*l}const p=(0,a.e_)(this.environment);return r&&"raw"===p&&((e.isSafari||e.isIOS)&&(c=-5),e.isAndroid&&(c=o/-4,d=o>18?1:.8)),n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:o,width:o}},void 0,n()("div",{style:{height:l,width:l,fontSize:l,lineHeight:d,marginLeft:c,color:this.theme.regularEmojiColor}},void 0,t&&(o>32?n()(h,{char:t,size:o}):n()(s.Z,{char:t}))))}}f.displayName="IconBoxEmoji";const v=f},51077:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(43593),s=o(10161),l=o(71669),c=o(68785),d=o(32854),p=o(81865);class u extends r.Z{renderComponent(){const{props:e}=this,t="notion_icon"!==e.type&&"data_url"!==e.type&&"svg"===a.mD(e.imageURL),o=s.default.checkGate("icons_v2")?1:1.1;let i;i="notion_icon"===e.type?e.size*(e.largeIcon?o:.96):e.size*(e.isLarge?1:.888);const r={width:i,height:i,objectFit:t?"fill":"cover",borderRadius:3,transition:"opacity 100ms ease-out",...t&&{padding:.05*this.props.size},...e.imageStyle};let u;return(e.isLoading||"data_url"===e.type)&&(r.opacity=.3),u="data_url"===e.type?n()(l.Z,{src:e.dataURL,style:r}):"image_url"===e.type?n()(p.Z,{isAuthenticated:!1,url:e.imageURL,width:i,render:(e,t)=>n()(l.Z,{src:t,style:r})}):"notion_icon"===e.type?n()(l.Z,{src:`${e.icon}?mode=${this.theme.mode}`,style:{...r,background:void 0},onContextMenu:e=>e.preventDefault()}):n()(p.Z,{isAuthenticated:!0,url:e.imageURL,permissionRecord:e.permissionRecord,width:i,render:(e,t)=>n()(l.Z,{src:t,style:r})}),n()("div",{style:{position:e.isLoading?"relative":void 0,...this.props.style}},void 0,u,e.isLoading&&n()("div",{style:{...l.Z.loadingContainerStyle,...e.progressContainerStyle}},void 0,n()(c.Z,{style:{width:16,height:16,marginRight:4}}),n()("div",{style:{width:30,textAlign:"right"}},void 0,n()(d.Z,{percentage:e.progressPercent||0}))))}}u.displayName="IconBoxImage";const m=u},56496:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(77094),n=o.n(i),r=(o(67294),o(83355));class a extends r.Z{renderComponent(){const e=this.props.title?this.props.title[0]:"",t=this.props.size*(this.props.isLarge?1:.888),{background:o,color:i,boxShadow:r}=this.props.useInvertedColors?{background:this.theme.whiteButtonBackground,color:this.theme.mediumIconColor,boxShadow:`0 0 0 1px ${this.theme.darkDividerColor}`}:{background:this.theme.regularDividerColor,color:this.theme.mediumTextColor,boxShadow:void 0};return n()("div",{style:{borderRadius:"0.25em",width:Math.round(t),height:Math.round(t),background:o,color:i,textTransform:"uppercase",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r}},void 0,n()("div",{style:{lineHeight:1,fontSize:.6875*t,height:.6875*t}},void 0,e))}}a.displayName="IconBoxInitial";const s=a},48937:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(83355),n=o(3779);class r extends i.Z{renderComponent(){const e=this.props.size*(this.props.isLarge?1:.9),t={width:e,height:e,fill:this.theme.regularIconColor,...this.props.pageIconStyle};return"none"===this.props.role?n.Z.eyeHide(t):this.props.isEmptyPage?n.Z.pageEmpty(t):n.Z.page(t)}}r.displayName="IconBoxPageIcon";const a=r},73063:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(82990),p=o(64921);function u(e,t){let{icon:o,isDarkIconColor:i,caption:r,hasBackground:u,showShadow:m,disableBackground:g,style:h,iconStyle:f,hoveredStyle:v,pressedStyle:y,captionStyle:b,disabledFeedback:S,isBlue:w,isPurple:k,...C}=e;window.__c={n:"IconButton"};const _=(0,c.yK)((e=>({button:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:3,height:24,width:r?"none":24,padding:r?"0 6px":0,...u&&{background:e.whiteButtonBackground},...m&&{boxShadow:e.lightBoxShadow},...h},icon:{width:14,height:14,fill:k?"dark"===e.mode?e.accentColors.purple[800]:e.accentColors.purple[400]:w?e.blueColor:i?e.regularIconColor:e.mediumIconColor,...f},caption:{fontSize:12,fontWeight:d.Z.fontWeight.medium,textTransform:"uppercase",letterSpacing:.5,color:e.mediumTextColor,marginLeft:4,...b||{}},hovered:{...u&&{background:e.whiteButtonHoveredBackground},...w&&{background:e.outlineBlueButtonHoveredBackground},...g&&{background:"none"},...v},pressed:{...u&&{background:e.whiteButtonPressedBackground},...w&&{background:e.outlineBlueButtonPressedBackground},...g&&{background:"none"},...y}})),[r,b,g,u,v,f,w,i,k,y,m,h]),M=(0,l.VK)((()=>o(_.icon)),[o,_.icon]);return s.createElement(p.Z,n()({style:_.button,disabledFeedback:S??!0,hoveredStyle:_.hovered,pressedStyle:_.pressed,ref:t},C),M,r&&a()("div",{style:_.caption},void 0,r))}const m=s.forwardRef(u)},36488:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(3994),s=o(21199),l=o(1743);class c extends r.Z{get registries(){return[a.Z]}renderComponent(){return n()(l.Z,{capture:this.props.capture,allowMenuList:this.props.allowMenuList,allowEsc:this.props.allowEsc,allowUndo:this.props.allowUndo,allowTabUntab:this.props.allowTabUntab,allowOpenLinkMenu:this.props.allowOpenLinkMenu},void 0,n()(s.Z,{capture:this.props.capture,render:this.props.render}))}}c.displayName="IgnoreArea";const d=c},21199:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(96486),n=o.n(i),r=o(83355),a=o(12534);class s extends r.Z{constructor(){super(...arguments),this.handleMouseDown=e=>{this.props.capture&&(0,a.ZP)({event:e,context:a.Af.EditorMouseDown,callback:n().identity})},this.handleClick=e=>{this.props.capture&&(0,a.ZP)({event:e,context:a.Af.EditorClick,callback:n().identity})},this.handleDoubleClick=e=>{this.props.capture&&(0,a.ZP)({event:e,context:a.Af.EditorDoubleClick,callback:n().identity})},this.handleContextMenu=e=>{this.props.capture&&(0,a.ZP)({event:e,context:a.Af.EditorContextMenu,callback:n().identity})}}renderComponent(){return this.props.render({onMouseDown:this.handleMouseDown,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu})}}s.displayName="IgnoreClickArea";const l=s},72897:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(67294),n=o(83355),r=o(1302),a=o(65686);class s extends n.Z{willMount(){this.props.capture&&this.increment()}willUpdate(e){this.props.capture&&!e.capture&&this.decrement(),!this.props.capture&&e.capture&&this.increment()}willUnmount(){this.props.capture&&this.decrement()}renderComponent(){if(this.props.children)return i.Children.only(this.props.children)}increment(){r.default.afterNextFlush((()=>{a.Z.state.capturingAreas.add(this),a.Z.emit()}))}decrement(){r.default.afterNextFlush((()=>{a.Z.state.capturingAreas.delete(this),a.Z.emit()}))}}s.displayName="IgnoreContentScrollArea";const l=s},1743:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(96486),n=o.n(i),r=o(67294),a=o(3386);function s(e){window.__c={n:"IgnoreKeyboardArea"};const t={children:e.children,capture:e.capture,onEnter:e.allowMenuList?void 0:n().identity,onShiftEnter:n().identity,onCommandEnter:n().identity,onCommandShiftEnter:n().identity,onCommandSlash:n().identity,onCommandJ:n().identity,onEsc:e.allowMenuList||e.allowEsc?void 0:n().identity,onUp:e.allowMenuList?void 0:n().identity,onDown:e.allowMenuList?void 0:n().identity,onDelete:n().identity,onDeleteToEndOfLine:n().identity,onSpace:n().identity,onBackspace:n().identity,onLeft:n().identity,onRight:n().identity,onUntab:e.allowTabUntab?void 0:n().identity,onTab:e.allowTabUntab?void 0:n().identity,onGroup:n().identity,onUngroup:n().identity,onSelectAll:n().identity,onRedo:e.allowUndo?void 0:n().identity,onUndo:e.allowUndo?void 0:n().identity,onToggleUnderline:n().identity,onToggleHighlight:n().identity,onToggleBold:n().identity,onToggleItalics:n().identity,onToggleStrike:n().identity,onToggleCode:n().identity,onCut:n().identity,onCopy:n().identity,onPaste:n().identity,onKeypress:n().identity,onHome:n().identity,onEnd:n().identity,onDuplicate:n().identity,onOpenLinkMenu:e.allowOpenLinkMenu?void 0:n().identity,onOpenEquationMenu:n().identity,onSearch:n().identity,onGoToBeginningOfLine:n().identity,onGoToEndOfLine:n().identity,onGoForwardOneChar:n().identity,onGoBackwardOneChar:n().identity,onMoveUp:n().identity,onMoveDown:n().identity,onPeekUp:n().identity,onPeekDown:n().identity,onComment:n().identity,onCaption:n().identity,onRename:n().identity,onTurnIntoType:n().identity,onOpenFile:n().identity,onMoveTo:n().identity,onToggleAllToggles:n().identity,onTogglePropertyVisibility:n().identity,onCommandLeft:n().identity,onCommandRight:n().identity,onToggleRecordingInputLatency:n().identity,onGoBack:void 0,onGoForward:void 0,onNewTab:void 0,onGoUp:void 0,onSwitchSpaces:void 0,onQuickFind:void 0,onToggleSidebar:void 0,onToggleUpdateSidebar:void 0,onToggleBothSidebars:void 0,onOpenCommentsTabInUpdateSidebar:void 0,onOpenUpdatesTabInUpdateSidebar:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0,onNewPage:void 0,onBackButton:void 0,onSettings:void 0,onCopyLinkToCurrentPage:void 0,onCopyLinkToBlock:void 0,copyCurrentPageLinkifiedBlockTitle:void 0,onToggleDarkMode:void 0,onToggleFavorite:void 0,onToggleAllUpdates:void 0,onToggleAllTeams:void 0,onOpenShareMenu:void 0,priority:0};return r.createElement(a.Z,t)}},56940:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(83355),n=o(1302),r=o(24677),a=o(98104),s=o(72133),l=o(63334),c=o(27724),d=o(24666);class p extends i.Z{constructor(){super(...arguments),this.storeTypes={store:l.Z},this.restoreSelection=()=>{const{savedHref:e,savedSelectionStoreState:t,savedTextSelectionStoreState:o}=this.stores.store.state;ncd.href()===e&&(this.props.ignoreBlockSelection&&t&&c.default.setState({...c.default.state,...t}),o&&"editing"===o.mode&&d.default.setState({...d.default.state,...o})),this.clearSelection()}}willMount(){this.props.focusOffscreenInput&&(this.input=document.createElement("input"),this.input.style.position="fixed",this.input.style.top="-9999px",this.input.style.left="-9999px",document.body.appendChild(this.input)),this.props.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&n.default.afterNextFlush((()=>{this.input.focus()})))}willUpdate(e){this.props.capture?e.capture||(e.restoreSelection?this.restoreSelection():this.clearSelection()):e.capture&&(this.saveSelection(),this.props.focusOffscreenInput&&n.default.afterNextFlush((()=>{this.input.focus()})))}willUnmount(){this.props.capture&&(this.props.restoreSelection?this.restoreSelection():this.clearSelection()),this.props.focusOffscreenInput&&document.body.removeChild(this.input)}renderComponent(){return this.props.render(this.restoreSelection)}saveSelection(){this.stores.store.setState({...this.stores.store.state,savedHref:ncd.href(),savedSelectionStoreState:c.default.cloneState(),savedTextSelectionStoreState:d.default.cloneState(),savedTextSelectionRect:s.getSelectionRect()}),this.props.ignoreBlockSelection?r.ZH(this.environment):a.ZH(this.environment)}clearSelection(){this.stores.store.setState({...this.stores.store.state,savedHref:void 0,savedSelectionStoreState:void 0,savedTextSelectionStoreState:void 0,savedTextSelectionRect:void 0});const e=this.input;n.default.afterNextFlush((()=>{e&&document.activeElement===e&&e.blur()}))}}p.displayName="IgnoreSelectionArea";const u=p},71669:(e,t,o)=>{o.d(t,{Z:()=>y});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(83355),c=o(13991),d=o(8848),p=o(25666),u=o(82990),m=o(47853),g=o(49085);class h extends g.Z{getInitialState(){return{loaded:!1,error:!1}}}const f=h;class v extends l.Z{constructor(){super(...arguments),this.imageElementRef=s.createRef(),this.storeTypes={imageStore:f},this.onError=e=>{this.stores.imageStore.setState({...this.stores.imageStore.state,error:!0}),this.props.onError&&this.props.onError(e,this.props.src)}}getImageDimensions(){if(this.imageElementRef.current)return{clientRect:this.imageElementRef.current.getBoundingClientRect(),naturalHeight:this.imageElementRef.current.naturalHeight,naturalWidth:this.imageElementRef.current.naturalWidth}}willUpdate(e){super.willUpdate(e),e.src!==this.props.src&&this.stores.imageStore.setState({...this.stores.imageStore.state,error:!1,loaded:!1,src:e.src})}willMount(e){const{src:t}=e;this.stores.imageStore.setState({...this.stores.imageStore.state,src:t})}renderComponent(){const{device:e}=this.environment,{placeholderStyle:t,onClick:o,placeholderLoadedStyle:i,isFullScreen:r}=this.props,{error:a,src:l,loaded:c}=this.stores.imageStore.state,d=l?(0,m.D)(l):p.T,u=a?p.T:d,g={width:"100%",height:"100%",...i};return e.isMobile&&(g.WebkitUserSelect="none",g.WebkitTouchCallout=!0===r?"default":"none"),n()("div",{style:!c&&t?t:g},void 0,s.createElement("img",{ref:this.imageElementRef,className:this.props.className,onDoubleClick:this.props.onDoubleClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onClick:o,src:u,style:this.getImageStyle(),onError:this.onError,onLoad:e=>{var t,o;null===(t=(o=this.props).onLoad)||void 0===t||t.call(o,e),this.stores.imageStore.setState({...this.stores.imageStore.state,loaded:!0})},crossOrigin:this.props.crossOrigin,referrerPolicy:"same-origin"}))}getImageStyle(){const{error:e,loaded:t}=this.stores.imageStore.state,o={display:"block",objectFit:"cover",borderRadius:1};return this.props.height?o.height=this.props.height:this.props.capMaxHeight&&(o.maxHeight="60vh"),!e&&t||(o.background=this.theme.contentBackground),this.props.style&&a().assign(o,this.props.style),o}}v.displayName="ImageBox",v.loadingContainerStyle={position:"absolute",bottom:4,right:4,borderRadius:3,padding:4,color:d.ZP.whiteWithAlpha(.8),background:d.ZP.blackWithAlpha(.6),fontFamily:u.Z.getCompositeFontFamily(c.SP).sans,fontSize:13,lineHeight:1,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"};const y=v},84787:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(43145);class s extends r.Z{constructor(){super(...arguments),this.handleScroll=e=>{if(this.props.loading)return;if(e>(this.props.loadMoreOffsetThreshold||200))return;(void 0===this.props.resultSize||void 0===this.props.fetchSize||this.props.resultSize>=this.props.fetchSize)&&this.props.onLoadMore()}}renderComponent(){return n()(a.Z,{onChange:this.handleScroll})}}s.displayName="InfiniteScrollListener";const l=s},74194:(e,t,o)=>{o.d(t,{B:()=>w,Z:()=>C});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(62518),c=o(83355),d=o(1302),p=o(8848),u=o(3779),m=o(97880),g=o(82990),h=o(43250),f=o(45023),v=o(77546),y=o(22294),b=o(69454),S=o(64921);let w;!function(e){e[e.Default=0]="Default",e[e.Transparent=1]="Transparent",e[e.Small=2]="Small",e[e.Large=3]="Large",e[e.ExtraLarge=4]="ExtraLarge"}(w||(w={}));class k extends c.Z{constructor(){super(...arguments),this.textInput=void 0,this.initialUpdate=void 0,this.handleKeyUp=e=>{this.props.onKeyUp&&this.props.onKeyUp(e),this.props.textarea&&this.props.autosize&&this.textInput&&(this.textInput.style.height="auto",this.textInput.style.height=`${this.textInput.scrollHeight}px`)},this.handleKeyDown=e=>{y.Z.setKeyboardMode(!0),this.props.onKeyDown&&this.props.onKeyDown(e),this.props.textarea&&this.props.textareaSubmitOnEnter&&(0,f.Z)(this.environment,e,"enter")&&e.preventDefault();(this.props.textarea&&!this.props.textareaSubmitOnEnter?(0,f.Z)(this.environment,e,["command+enter","ctrl+enter"]):(0,f.Z)(this.environment,e,"enter"))&&this.props.onSubmit&&this.props.onSubmit(e),(0,f.Z)(this.environment,e,"esc")&&this.props.onCancel&&this.props.onCancel(e)},this.handleClearButtonClick=e=>{this.props.onClearButtonClick?this.props.onClearButtonClick():(e.target.value="",this.props.onChange&&this.props.onChange(e),this.focusInput())},this.scrollInputIntoViewIfNecessary=()=>{const{device:e}=this.environment;if(!e.isIOS||!e.isMobileNative)return;if(!this.textInput)return;if(!document.hasFocus())return;const t=document.activeElement;if(!t)return;const o=l.findDOMNode(this.textInput);t===o&&(0,v.Oc)({el:o,windowHeight:this.environment.WindowSizeStore.state.height,minEdgeDist:64})},this.transparentStyle={display:"flex",alignItems:"center",border:"none",padding:0,width:"100%",background:p.ZP.transparent,fontSize:"inherit",lineHeight:"inherit"}}focusInput(){this.textInput&&this.textInput.focus()}getSelection(){if(this.textInput)return{selectionStart:this.textInput.selectionStart,selectionEnd:this.textInput.selectionEnd}}selectAllInput(){const{device:e}=this.environment;this.textInput&&(e.isAndroid&&this.textInput.focus(),this.textInput.select())}shouldComponentUpdate(){return!0}didMount(){this.textInput&&this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),!this.initialUpdate&&this.props.autosize&&(d.default.afterNextFlush((()=>{this.forceUpdate()})),this.initialUpdate=!1),(this.props.focusInitial||this.props.focus)&&this.handleFocus(),b.Z.addListener(this.scrollInputIntoViewIfNecessary),this.scrollInputIntoViewIfNecessary()}willUnmount(){b.Z.removeListener(this.scrollInputIntoViewIfNecessary)}didUpdate(){this.textInput&&this.props.value!==this.textInput.value&&(this.textInput.value=this.props.value||""),void 0!==this.props.focus&&(this.props.focus?this.handleFocus():this.handleBlur())}renderComponent(){const{isMobile:e}=this.environment.device,t=this.props.forceShowClearButton||this.props.showClearButton&&this.props.value&&this.props.value.length>0,{icon:o,onIconClick:i}=this.props;return a()("div",{className:this.props.format!==w.Transparent&&this.props.format!==w.ExtraLarge?h.Wh_:void 0,style:this.getStyle()},void 0,this.props.left&&a()("div",{style:{marginRight:6}},void 0,this.props.left),this.renderInput(),!this.props.isRightLastElementOfInput&&this.props.right&&a()("div",{style:{marginLeft:4}},void 0,this.props.right),o&&a()(S.Z,{onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:e?24:20}},"icon",o),t&&a()(S.Z,{onClick:this.handleClearButtonClick,style:{flexShrink:0,flexGrow:0,borderRadius:e?24:20,marginLeft:4,...this.props.textarea&&{alignSelf:"baseline",marginTop:4}}},"clear",u.Z.clearInput({width:e?16:14,height:e?16:14,fill:this.theme.lightIconColor})),this.props.isRightLastElementOfInput&&this.props.right&&a()("div",{style:{marginLeft:4}},void 0,this.props.right))}renderInput(){const e={ref:e=>{e&&(this.textInput=e)},style:this.getInputStyle(),onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,readOnly:this.props.readOnly,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.props.onPaste,type:this.props.type||"text",autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,autoCapitalize:this.props.autoCapitalize,spellCheck:this.props.spellCheck,autoFocus:this.props.autoFocus,disabled:this.props.disabled,maxLength:this.props.maxlength,size:this.props.size,className:this.props.inputClassName,id:this.props.id,min:this.props.min,name:this.props.name?this.props.name:this.props.preventSafariAutofill?"search":void 0};if(this.props.textarea){const t=this.props.autosize?{rows:1,style:{outliner:"none",overflow:"hidden",height:this.textInput?`${this.textInput.scrollHeight}px`:"20px",...e.style}}:{rows:3};return s.createElement("textarea",n()({key:"textarea"},e,this.props.textareaElementAttributes,t))}return void 0!==this.props.suggestedText?a()("div",{style:{position:"relative",width:"100%"}},void 0,s.createElement("input",n()({},e,this.props.inputElementAttributes,this.props.customElementAttributes)),a()("div",{style:{color:this.theme.lightTextColor,position:"absolute",top:0,pointerEvents:"none",width:"100%",...g.Z.textOverflowStyle}},void 0,this.props.suggestedText)):s.createElement("input",n()({},e,this.props.inputElementAttributes,this.props.customElementAttributes))}handleBlur(){document.activeElement===this.textInput&&this.textInput.blur()}handleFocus(){const{device:e}=this.environment;document.activeElement!==this.textInput&&(e.isMobile&&this.props.focusAfterAnimation?window.setTimeout((()=>{d.default.afterNextFlush((()=>{this.props.selectAll?this.selectAllInput():this.focusInput()}))}),10):this.props.selectAll?this.selectAllInput():this.focusInput())}getBaseStyle(){return{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:4,boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,cursor:"text"}}getExtraLargeStyle(){return{...this.getBaseStyle(),fontSize:17,lineHeight:"32px"}}getLargeStyle(){return{...this.getBaseStyle(),fontSize:15,lineHeight:"26px"}}getSmallStyle(){return{...this.getBaseStyle(),fontSize:12,lineHeight:"16px"}}getStyle(){let e;return this.props.format!==w.Default&&this.props.format?this.props.format===w.Small?e=this.getSmallStyle():this.props.format===w.Large?e=this.getLargeStyle():this.props.format===w.ExtraLarge?e=this.getExtraLargeStyle():this.props.format===w.Transparent?e=this.transparentStyle:(0,m.t1)(this.props.format):e=this.getBaseStyle(),{...e,...this.props.style}}getInputStyle(){const{inputStyle:e}=this.props,t={};return this.props.readOnly&&(t.opacity=.5),{...k.inputStyle,...t,...e}}}k.displayName="Input",k.Format=w,k.inputStyle={fontSize:"inherit",lineHeight:"inherit",border:"none",background:"none",width:"100%",display:"block",resize:"none",padding:0};const C=k},68894:(e,t,o)=>{o.d(t,{f_:()=>C,DO:()=>_,ZP:()=>M});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(480),u=o(81954),m=o(24405),g=o(60709),h=o(64113),f=o(64921),v=o(37601),y=o(74194),b=o(3386),S=o(28992),w=o(63296);class k extends d.Z{constructor(){super(...arguments),this.input=void 0,this.storeTypes={store:h.Z},this.handleFocused=e=>{this.stores.store.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.handleBlurred=e=>{this.stores.store.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.handleFocus=e=>{e.preventDefault(),this.selectAllInput()}}selectAllInput(){this.input&&this.input.selectAllInput()}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const e=this.props.preventCaptureArrowShortcuts?void 0:l().identity,t=!this.props.preventCaptureDeleteWhenEmpty||this.props.value.length>0?l().identity:void 0,o=this.props.preventCaptureClipboardShortcuts?void 0:l().identity;return a()(b.Z,{capture:!0,onUntab:l().identity,onTab:l().identity,onSelectAll:l().identity,onRedo:l().identity,onUndo:l().identity,onToggleBold:l().identity,onToggleItalics:l().identity,onToggleCode:l().identity,onCut:o,onCopy:o,onPaste:o,onKeypress:l().identity,onLeft:e,onRight:e,onDelete:t,onBackspace:t},void 0,this.renderButton())}renderButton(){if(this.environment.device.isPhone){var e;const{left:t,right:o,...i}=this.props;return a()(c.Fragment,{},void 0,c.createElement(S.Z,n()({},i,{title:this.renderPhoneInput()})),a()(v.Z,{show:this.stores.store.state.focused&&(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==g.og.ActionSheet}))}return c.createElement(S.Z,n()({},this.props,{isTokenTitle:!0,title:this.renderDesktopOrTabletInput()}))}renderPhoneInput(){const{left:e,right:t,inputLeft:o,inputRight:i,disabled:r,disableInput:a,min:s,inputOuterStyle:l,...d}=this.props,p=this.renderRightMobileEditLabelOnUnfocused();return c.createElement(y.Z,n()({},d,{ref:e=>e&&(this.input=e),format:y.B.Transparent,style:{fontSize:16,...l},onFocus:this.handleFocused,onBlur:this.handleBlurred,showClearButton:this.stores.store.state.focused,disabled:r||a,left:o||e,right:p||i||t,min:s}))}renderDesktopOrTabletInput(){const{left:e,right:t,disabled:o,disableInput:i,inputOuterStyle:r,inputRight:a,inputLeft:s,min:l,...d}=this.props;return c.createElement(y.Z,n()({},d,{ref:e=>e&&(this.input=e),disabled:o||i,style:{height:this.props.textarea?void 0:28,padding:"3px 6px",...r},left:s,right:a,min:l}))}renderRightMobileEditLabelOnUnfocused(){if(this.props.rightMobileEditLabel)return this.stores.store.state.focused?void 0:a()(f.Z,{mobileFeedback:!0,onClick:this.handleFocus,style:{color:this.theme.mediumTextColor}},void 0,this.props.rightMobileEditLabel)}}k.displayName="InputMenuItem",k.contextTypes={...g.mw,...d.w};function C(e){const{icon:t}=e;return t({fill:(0,m.Fg)().mediumIconColor,width:14,height:14,flexGrow:0,flexShrink:0})}function _(e){window.__c={n:"InputMenuItemIconButton"};const t=(0,p.O7)(),o=(0,u.VK)((()=>t.device.isPhone),[t]);return c.createElement(w.Z,n()({},e,{style:{...e.style,height:o?30:28,width:o?30:28}}))}const M=k},1892:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(83355);class n extends i.Z{constructor(){super(...arguments),this.handleMouseDown=e=>{if(this.props.capture){if(this.isFocusable(e.target))return;this.isFocusable(document.activeElement)&&e.preventDefault()}}}renderComponent(){return this.props.render({onMouseDown:this.handleMouseDown})}isFocusable(e){return"true"===e.contentEditable||"input"===e.tagName.toLowerCase()}}n.displayName="KeepFocusArea";const r=n},3386:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=o(67294),a=o(98084),s=o(38870);function l(e){window.__c={n:"KeyboardArea"};const t=(0,r.useMemo)((()=>({enter:e.onEnter,shiftEnter:e.onShiftEnter,commandEnter:e.onCommandEnter,commandShiftEnter:e.onCommandShiftEnter,commandSlash:e.onCommandSlash,commandJ:e.onCommandJ,space:e.onSpace,delete:e.onDelete,deleteToEndOfLine:e.onDeleteToEndOfLine,backspace:e.onBackspace,esc:e.onEsc,left:e.onLeft,right:e.onRight,up:e.onUp,down:e.onDown,untab:e.onUntab,tab:e.onTab,ungroup:e.onUngroup,group:e.onGroup,home:e.onHome,end:e.onEnd,selectAll:e.onSelectAll,redo:e.onRedo,undo:e.onUndo,toggleUnderline:e.onToggleUnderline,toggleHighlight:e.onToggleHighlight,toggleBold:e.onToggleBold,toggleItalics:e.onToggleItalics,toggleStrike:e.onToggleStrike,toggleCode:e.onToggleCode,duplicate:e.onDuplicate,cut:e.onCut,copy:e.onCopy,paste:e.onPaste,openLinkMenu:e.onOpenLinkMenu,openEquationMenu:e.onOpenEquationMenu,goBack:e.onGoBack,goForward:e.onGoForward,newTab:e.onNewTab,commandLeft:e.onCommandLeft||e.onLeft,commandRight:e.onCommandRight||e.onRight,goUp:e.onGoUp,search:e.onSearch,goToBeginningOfLine:e.onGoToBeginningOfLine,goToEndOfLine:e.onGoToEndOfLine,switchSpacesPreTabs:e.onSwitchSpaces,switchSpacesPostTabs:e.onSwitchSpaces,keypress:e.onKeypress,quickFind:e.onQuickFind,goForwardOneChar:e.onGoForwardOneChar,goBackwardOneChar:e.onGoBackwardOneChar,moveUp:e.onMoveUp,moveDown:e.onMoveDown,peekUp:e.onPeekUp,peekDown:e.onPeekDown,comment:e.onComment,caption:e.onCaption,rename:e.onRename,copyLinkToCurrentPage:e.onCopyLinkToCurrentPage,copyLinkToBlock:e.onCopyLinkToBlock,copyCurrentPageLinkifiedBlockTitle:e.copyCurrentPageLinkifiedBlockTitle,toggleSidebar:e.onToggleSidebar,toggleUpdateSidebar:e.onToggleUpdateSidebar,toggleBothSidebars:e.onToggleBothSidebars,openCommentsTabInUpdateSidebar:e.onOpenCommentsTabInUpdateSidebar,openUpdatesTabInUpdateSidebar:e.onOpenUpdatesTabInUpdateSidebar,turnIntoType:e.onTurnIntoType,zoomIn:e.onZoomIn,zoomOut:e.onZoomOut,zoomReset:e.onZoomReset,newPage:e.onNewPage,settings:e.onSettings,backbutton:e.onBackButton,toggleDarkMode:e.onToggleDarkMode,openFile:e.onOpenFile,moveTo:e.onMoveTo,toggleAllToggles:e.onToggleAllToggles,togglePropertyVisibility:e.onTogglePropertyVisibility,toggleRecordingInputLatency:e.onToggleRecordingInputLatency,toggleFavorite:e.onToggleFavorite,toggleAllUpdates:e.onToggleAllUpdates,toggleAllTeams:e.onToggleAllTeams,openShareMenu:e.onOpenShareMenu,openInSidePeek:void 0})),[e]),o=(0,r.useCallback)((o=>n()(s.Z,{enable:e.capture&&!o,priority:e.priority,shortcuts:t},void 0,e.children)),[e.capture,e.priority,t,e.children]);return n()(a.P.Consumer,{},void 0,o)}},58261:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(6906),u=o(62134),m=o(58032);class g extends d.Z{renderComponent(){return n()(m.Z,{renderTooltip:()=>this.renderTooltipText(),delayThreshold:0,render:e=>c.createElement("span",a()({style:this.props.style},e),this.renderText())})}renderText(){const e=u.fg(this.environment);return this.getShortcutArrays().map((t=>t.map((t=>(0,p.Z)(e[t]||t))).join("+"))).slice(0,this.props.onlyShowFirst?1:void 0).join(" or ")}renderTooltipText(){const e=u.B4(this.environment);return this.getShortcutArrays().map((t=>t.map((t=>(0,p.Z)(e[t]||t))).join("+"))).join(" or ")}getShortcutArrays(){const{KeyboardShortcutStackStore:e}=this.environment;let t=e.shortcutMap[this.props.name];return l().isArray(t)||(t=[t]),l().map(t,(e=>e.split("+")))}}g.displayName="KeyboardShortcut";const h=g},38870:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(83355),n=o(18466),r=o(62134);class a extends i.Z{constructor(){super(...arguments),this.shouldReserveStackPosition=!1}willMount(){this.upsertKeyboardShortcutStackEntry(this.props)}willUpdate(e){super.willUpdate(e),e.priority!==this.props.priority&&this.removeKeyboardShortcutStackEntry(),this.upsertKeyboardShortcutStackEntry(e)}willUnmount(){this.removeKeyboardShortcutStackEntry()}renderComponent(){return this.props.children}removeKeyboardShortcutStackEntry(){n.Z.withListenerIgnored((()=>{r.ys(this.environment,this),this.shouldReserveStackPosition=!1}))}upsertKeyboardShortcutStackEntry(e){n.Z.withListenerIgnored((()=>{this.shouldReserveStackPosition=this.shouldReserveStackPosition||e.enable,this.shouldReserveStackPosition&&r.Fe({environment:this.environment,stackItem:this.getStackItem(e)})}))}getStackItem(e){return{listener:this,shortcuts:e.shortcuts,enable:e.enable,priority:e.priority||0}}}a.displayName="KeyboardStackEntry";const s=a},16354:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(97464),n=o.n(i),r=o(67294),a=o(24405),s=o(8848),l=o(20362);function c(e,t){let{style:o,href:i,...c}=e;window.__c={n:"Link"};const d=(0,a.yK)((()=>({root:{display:"block",textDecoration:"none",userSelect:"none",WebkitUserSelect:"none",cursor:"pointer",color:s.ZP.inherit}})),[]);return r.createElement(l.Z,n()({href:i??"",ref:t,style:{...d.root,...o}},c))}const d=r.forwardRef(c)},84076:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(97464),n=o.n(i),r=o(67294),a=o(480),s=o(24405),l=o(8848),c=o(64921);function d(e,t){let{inline:o,underline:i,style:d,innerStyle:p,interactionStore:u,...m}=e;window.__c={n:"LinkBox"};const g=(0,a.Fy)(),h=(0,s.yK)((()=>({root:{display:o?"inline":"block",color:l.ZP.inherit,textDecoration:"none",...i&&{textDecoration:"underline"},...d,...p}})),[o,p,d,i]);return r.createElement(c.Z,n()({style:h.root,mobileFeedback:g.isMobile,store:u,ref:t},m))}const p=r.forwardRef(d)},91839:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(77094),n=o.n(i);o(67294);const r=function(e){let{style:t}=e;return window.__c={n:"LoadingDots"},n()("div",{className:"loading-dots"},void 0,n()("div",{className:"loading-dot",style:{...t}}),n()("div",{className:"loading-dot",style:{...t}}),n()("div",{className:"loading-dot",style:{...t}}))}},43568:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(36596);function l(e){let{paragraphs:t}=e;const o=(0,a.yK)((e=>({skeletonRect:{borderRadius:3,backgroundColor:e.lightDividerColor}})),[]),i=null==t?void 0:t.map(((e,t)=>{const i={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},a={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},l=[...Array(e.repeat||1)].map(((t,r)=>n()("div",{style:a},r,e.sectionWidths.map(((e,t)=>n()(s.Z,{style:{...o.skeletonRect,...i,width:`${e}%`}},t))))));return n()(r.Fragment,{},t," ",l," ")}));return r.createElement(r.Fragment,null," ",i," ")}},36596:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(43250);function s(e){let{emphasized:t=!1,style:o}=e;window.__c={n:"LoadingShimmerBox"};const i=(0,r.yK)((e=>({root:{background:t?"dark"===e.mode?e.accentColors.gray[300]:e.accentColors.gray[100]:"dark"===e.mode?e.accentColors.translucentGray[200]:e.accentColors.gray[75],...o}})),[t,o]);return n()("div",{"aria-valuetext":"Loading...",role:"progressbar",className:a.f8P,style:i.root})}},68785:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(5366));const a=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="100%" height="100%" viewBox="0 0 24 24" version="1.1" data-ember-extension="1"><defs><linearGradient x1="28.1542969%" y1="63.7402344%" x2="74.6289062%" y2="17.7832031%" id="linearGradient-1"><stop stop-color="rgba(164, 164, 164, 1)" offset="0%"/><stop stop-color="rgba(164, 164, 164, 0)" stop-opacity="0" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" ><g transform="translate(-236.000000, -286.000000)"><g transform="translate(238.000000, 286.000000)"><circle id="Oval-2" stroke="url(#linearGradient-1)" stroke-width="4" cx="10" cy="12" r="10"/><path d="M10,2 C4.4771525,2 0,6.4771525 0,12" id="Oval-2" stroke="rgba(164, 164, 164, 1)" stroke-width="4"/><rect id="Rectangle-1" fill="rgba(164, 164, 164, 1)" x="8" y="0" width="4" height="4" rx="8"/></g></g></g></svg>'),s=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="100%" height="100%" viewBox="0 0 24 24" version="1.1" data-ember-extension="1"><defs><linearGradient x1="28.1542969%" y1="63.7402344%" x2="74.6289062%" y2="17.7832031%" id="linearGradient-1"><stop stop-color="rgba(255, 255, 255, 1)" offset="0%"/><stop stop-color="rgba(255, 255, 255, 0)" stop-opacity="0" offset="100%"/></linearGradient></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" ><g transform="translate(-236.000000, -286.000000)"><g transform="translate(238.000000, 286.000000)"><circle id="Oval-2" stroke="url(#linearGradient-1)" stroke-width="4" cx="10" cy="12" r="10"/><path d="M10,2 C4.4771525,2 0,6.4771525 0,12" id="Oval-2" stroke="rgba(255, 255, 255, 1)" stroke-width="4"/><rect id="Rectangle-1" fill="rgba(255, 255, 255, 1)" x="8" y="0" width="4" height="4" rx="8"/></g></g></g></svg>');const l=function(e){let{style:t,isWhite:o}=e;window.__c={n:"LoadingSpinner"};const i=(0,r.useIntl)();return n()("img",{className:"loading-spinner",style:t,alt:i.formatMessage({id:"loadingSpinner.label",defaultMessage:"Loading..."}),"aria-busy":"true","aria-live":"polite",src:`data:image/svg+xml;utf8,${o?s:a}`})}},59649:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=(o(67294),o(83355)),l=o(49085);class c extends l.Z{getInitialState(){return{spinnerVisible:!1,showSpinnerTime:0,containerVisible:!1}}}const d=c;var p=o(68785);class u extends s.Z{constructor(){super(...arguments),this.storeTypes={store:d},this.showSpinner=()=>{this.props.loaded||this.stores.store.setState({...this.stores.store.state,containerVisible:!1,spinnerVisible:!0,showSpinnerTime:Date.now()})},this.showContent=()=>{this.props.loaded&&this.stores.store.setState({...this.stores.store.state,spinnerVisible:!1,containerVisible:!0})}}didMount(){super.didMount(),setTimeout(this.showSpinner,this.props.showSpinnerTimeout)}didMountOrUpdate(){super.didMountOrUpdate();const{containerVisible:e,spinnerVisible:t,showSpinnerTime:o}=this.stores.store.state;if(this.props.loaded&&!e){const e=Date.now()-o;t&&e<u.minShowSpinnerTime?setTimeout(this.showContent,u.minShowSpinnerTime-e):this.showContent()}}renderComponent(){return n()("div",{style:this.getStyle(),className:this.props.className},void 0,n()("div",{style:this.getInnerStyle()},void 0,this.props.children),this.stores.store.state.spinnerVisible&&n()(p.Z,{style:this.getSpinnerStyle()}))}getStyle(){const e={};return this.stores.store.state.spinnerVisible&&a().assign(e,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),a().assign(e,this.props.style)}getInnerStyle(){return this.stores.store.state.containerVisible?this.props.innerStyle||{}:{opacity:0,pointerEvents:"none",position:"absolute",...this.props.innerStyle}}getSpinnerStyle(){return{zIndex:1,opacity:.5,width:this.props.spinnerSize,height:this.props.spinnerSize,margin:8}}}u.displayName="LoadingSpinnerContainer",u.minShowSpinnerTime=1e3;const m=u},78140:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(77094),n=o.n(i),r=o(67294),a=o(62518),s=o(83355),l=o(60709),c=o(59488),d=o(13273),p=o(45010),u=o(77907),m=o(34859),g=o(69454),h=o(18647);class f extends s.Z{constructor(){super(...arguments),this.menuContext={menuType:void 0},this.handleWindowClick=e=>{if(this.props.menuType!==l.og.Popup)return;if(!this.props.onClickOutside)return;const t=a.findDOMNode(this);if(!t)return;if(!e.target)return;const o=e.target;(0,d.Xt)({clickedElement:o,menuElement:t})&&this.props.onClickOutside(e)}}getChildContext(){return this.context}willMountOrUpdate(e){this.menuContext.menuType!==e.menuType&&(this.menuContext={menuType:e.menuType})}willMount(){this.props.menuType===l.og.Popup&&this.props.onClickOutside&&window.addEventListener("click",this.handleWindowClick)}willUnmount(){this.props.menuType===l.og.Popup&&this.props.onClickOutside&&window.removeEventListener("click",this.handleWindowClick)}renderComponent(){return this.props.menuType===l.og.Modal?r.createElement(u.LazyMobileModal,this.props,this.renderMenu()):this.renderMenu()}renderMenu(){return n()(l.qW,{value:this.menuContext},void 0,r.createElement("div",{className:this.props.className,onMouseEnter:this.props.onMouseEnter,onMouseDown:this.props.onMouseDown,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel,style:this.getWrapStyle(),ref:this.props.innerRef},this.renderHeader(),this.renderContent(),n()("footer",{style:{flexShrink:0}},void 0,this.props.footer)))}renderHeader(){if(this.props.header)return this.props.tokenInputHeader?n()(h.Z,{type:m.Z.Y,style:{flexShrink:0,maxHeight:240,boxShadow:this.props.disableHeaderBorder?void 0:`inset 0 -1px ${this.theme.darkDividerColor}`}},void 0,this.props.header):n()("div",{style:{flexShrink:0}},void 0,this.props.header)}renderContent(){if(this.props.children)return this.props.disableScroller?n()("div",{style:this.getScrollerStyle()},void 0,this.props.children):r.createElement(h.Z,{type:m.Z.Y,style:this.getScrollerStyle(),onScroll:this.props.onScroll,className:this.props.bodyScrollerClassName,ref:e=>{this.props.renderAsPage?p.Z.MenuPageScroller=e:p.Z.MenuScroller=e}},this.props.children)}getWrapStyle(){const{WindowSizeStore:e}=this.environment;if(this.props.menuType===l.og.Popup){const e={minWidth:180,maxWidth:"calc(100vw - 24px)",height:"100%",maxHeight:"70vh"};return{display:"flex",flexDirection:"column",width:this.props.width,minWidth:this.props.minWidth||e.minWidth,maxWidth:this.props.maxWidth||e.maxWidth,height:this.props.height||e.height,maxHeight:this.props.maxHeight||e.maxHeight,minHeight:this.props.minHeight,paddingTop:this.props.paddingTop,paddingBottom:this.props.paddingBottom}}if(this.props.menuType===l.og.ActionSheet)return{display:"flex",flexDirection:"column",width:"100%",height:this.props.height||"100%",maxHeight:this.props.maxHeight||"70vh",background:this.theme.contentBackground,paddingBottom:this.props.footer&&!this.props.disableBottomPadding?e.state.paddingBottomCSS:0};{let t;return t=this.props.footer?(0,c.Y)("supportsNativeBottomBarOverlappingWebView")?e.getSafePaddingBottomCSS(g.Z.estimatedNativeWebBottomOverlap()):e.state.paddingBottomCSS:0,{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"100vh",minHeight:0,background:this.props.whiteBackground?this.theme.contentBackground:this.theme.sidebarBackground,paddingBottom:t}}}getScrollerStyle(){const{WindowSizeStore:e,device:t}=this.environment,{scrollerStyle:o}=this.props;if(this.props.menuType===l.og.Popup){return{flexGrow:1,minHeight:0,transform:"translateZ(0)",paddingBottom:(0,c.Y)("supportsFixedSizeWebView")&&t.isTablet?0:void 0,...o}}if(this.props.menuType===l.og.ActionSheet)return{flexGrow:1,minHeight:0,paddingBottom:this.props.footer||this.props.disableBottomPadding?0:e.state.paddingBottomCSS,...o};{const t=this.props.footer?0:e.getSafePaddingBottomCSS(72);return{flexGrow:1,minHeight:0,paddingBottom:(0,c.Y)("supportsFixedSizeWebView")?void 0:t,...o}}}}f.displayName="Menu",f.childContextTypes=s.w},28992:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(80357),d=o(3779),p=o(82990),u=o(60709),m=o(5145),g=o(68785);class h extends l.Z{static getMenuItemHorizontalMargin(e){const{defaultValue:t,isPhone:o,hasSideItem:i}=e;return void 0!==t?t:o?i?10:16:i?6:12}renderComponent(){const{inline:e}=this.props,t={marginLeft:h.getMenuItemHorizontalMargin({defaultValue:this.props.itemMarginLeft,isPhone:this.environment.device.isPhone,hasSideItem:!(!this.props.icon&&!this.props.left)}),marginRight:h.getMenuItemHorizontalMargin({defaultValue:this.props.itemMarginRight,isPhone:this.environment.device.isPhone,hasSideItem:!!this.props.right}),minWidth:0,flex:"auto",...this.props.dontShrinkTitle&&{flex:"none"},...this.props.disabled&&{opacity:.3},...!this.environment.device.isPhone&&this.props.desktopTitleStyle,...e&&{display:"inline-flex",alignItems:"center"},...this.props.textWrapperStyle};return a()("div",{style:this.getStyle(),onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.onContextMenu,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},void 0,this.renderDragHandle(),this.renderLeft(),this.renderIcon(),this.props.loading?a()(g.Z,{}):a()("div",{style:t},void 0,this.renderTitle(),this.renderCaption(),this.renderBody()),void 0!==this.props.checkState?this.renderCheck():this.renderRight(),this.renderExtensionArrow())}renderDragHandle(){if(this.props.showDragHandle)return a()(m.ZP,{iconSize:this.environment.device.isPhone?14:12,style:{marginLeft:this.environment.device.isPhone?12:8,marginRight:this.environment.device.isPhone?-10:-4},disabled:this.props.dragHandleDisabled})}renderIcon(){if(!this.props.icon)return;const e=this.props.caption||this.props.body||this.props.shouldWrapTitle,t=this.props.alignIconTop||e,o={...this.environment.device.isPhone?h.mobileIconStyle:h.desktopIconStyle,...t&&{marginTop:1,alignSelf:this.props.inline?"center":"flex-start"},...this.props.dontShrinkIcon&&{flex:"none"},...this.props.disabled&&{opacity:.3},...this.props.desktopIconStyle};return a()("div",{style:o},"icon",this.props.icon)}renderTitle(){if(this.props.title){const e=this.props.shouldWrapTitle?void 0:p.Z.textOverflowStyle,t=(0,c.iv)(this.props.isTokenTitle?{display:"flex"}:e,this.props.inline&&{flexShrink:0,maxWidth:"100%"});return s.createElement("div",n()({key:"title"},t),this.props.title)}}renderCaption(){const{caption:e,inline:t,shouldWrapCaption:o,spacerStyle:i}=this.props;if(!e)return;const n=this.environment.device.isPhone?this.getMobileCaptionStyle():this.getDesktopCaptionStyle(),r={...n,...i,marginTop:0,marginLeft:"0.5em",marginRight:"0.5em"};return a()("div",{style:{...n,whiteSpace:o?"normal":"nowrap",...t&&{display:"inline-flex",marginTop:0},...this.props.captionStyle}},"caption",t&&e&&a()("span",{style:r},void 0,"—"),e)}renderCheck(){if(this.props.checkState)return a()("div",{style:{...this.environment.device.isPhone?h.mobileRightStyle:h.desktopRightStyle,width:this.environment.device.isPhone?16:14,flexShrink:0,...this.props.caption&&{alignSelf:"flex-start",marginTop:3}}},void 0,d.Z.thinCheck())}renderLeft(){const{left:e}=this.props;if(e)return a()("div",{style:{...this.environment.device.isPhone?h.mobileLeftStyle:h.desktopLeftStyle,...this.props.leftStyle?this.props.leftStyle:{},...this.props.body&&{alignSelf:"flex-start",marginTop:3}}},"left",e)}renderRight(){const{right:e}=this.props;if(e)return a()("div",{style:{...this.environment.device.isPhone?h.mobileRightStyle:h.desktopRightStyle,...this.props.dontShrinkRight&&{flex:"none"},...this.props.rightStyle?this.props.rightStyle:{},...this.props.body&&{alignSelf:"flex-start",marginTop:3}}},"right",e)}renderExtensionArrow(){if(this.props.showExtensionArrow)return a()("div",{style:this.environment.device.isPhone?this.getMobileTriangleIconStyle(this.props.extensionArrowStyle):this.getDesktopTriangleIconStyle(this.props.extensionArrowStyle)},"extension",d.Z.chevronRight({fill:this.theme.mediumIconColor,transform:"rotate(-90deg)"}))}renderBody(){const{body:e}=this.props;if(e)return a()("div",{style:this.getBodyStyle()},"body",e)}getStyle(){var e,t,o,i;const{caption:n,title:r,inline:a,allowTextSelection:s,loading:l}=this.props,{WindowSizeStore:c}=this.environment,d=n&&!a,p=r&&d,m=this.environment.device.isPhone&&(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==u.og.Popup,g=(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)===u.og.ActionSheet,h=m?12:4,f=l?{justifyContent:"center",paddingTop:"11px",paddingBottom:"11px"}:void 0;return{display:"flex",alignItems:"center",lineHeight:"120%",width:"100%",userSelect:s?"auto":"none",minHeight:m?p?65:45:p?45:28,fontSize:m?16:14,...d&&{paddingTop:h,paddingBottom:h},...m&&{background:this.theme.popoverBackground,boxShadow:`0 1px 0 ${this.theme.regularDividerColor}`,marginBottom:1},...g&&{background:this.theme.popoverBackground,boxShadow:`inset 0 -1px 0 ${this.theme.regularDividerColor}`,marginBottom:0},paddingLeft:(null===(o=this.context.menu)||void 0===o?void 0:o.menuType)===u.og.Popup||this.props.disableIPhoneXSafeArea?void 0:c.state.paddingLeftCSS,paddingRight:(null===(i=this.context.menu)||void 0===i?void 0:i.menuType)===u.og.Popup||this.props.disableIPhoneXSafeArea?void 0:c.state.paddingRightCSS,...f,...this.props.style}}getDesktopCaptionStyle(){return{...p.Z.textOverflowStyle,color:this.theme.mediumTextColor,marginTop:2,fontSize:12}}getMobileCaptionStyle(){return{...p.Z.textOverflowStyle,color:this.theme.mediumTextColor,marginTop:2,fontSize:14}}getMobileTriangleIconStyle(e){return{height:16,width:14,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:16,flexShrink:0,...e}}getDesktopTriangleIconStyle(e){return{width:12,transform:"rotate(90deg)",fill:this.theme.lightIconColor,marginRight:10,flexShrink:0,...e}}getBodyStyle(){return{marginTop:4,fontSize:this.environment.device.isPhone?p.Z.fontSize.UISmall.mobile:p.Z.fontSize.UISmall.desktop,color:this.theme.mediumTextColor,overflowWrap:"break-word",...this.props.bodyStyle}}}h.displayName="MenuItem",h.contextTypes={...u.mw,...l.w},h.desktopIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:10,marginRight:4},h.mobileIconStyle={display:"flex",alignItems:"center",justifyContent:"center",marginLeft:20,marginRight:4},h.mobileLeftStyle={marginLeft:20,marginRight:"auto",minWidth:0,flexShrink:0},h.desktopLeftStyle={marginLeft:12,marginRight:"auto",minWidth:0,flexShrink:0},h.mobileRightStyle={marginLeft:"auto",marginRight:20,minWidth:0,flexShrink:0},h.desktopRightStyle={marginLeft:"auto",marginRight:12,minWidth:0,flexShrink:0};const f=h},9342:(e,t,o)=>{o.d(t,{i:()=>P,Z:()=>x});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(62518),p=o(480);let u=0;const m=function(){const e=(0,c.useRef)();return e.current||(e.current="id_"+ ++u),e.current};var g=o(81954),h=o(24405),f=o(66673),v=o(97880),y=o(5366),b=o(60971),S=o(85818),w=o(77546),k=o(55367),C=o(80796),_=o(22294),M=o(29798),T=o(3386);const I=(e,t,o)=>(0,g.VK)(e,t,{...o,debugName:(null==o?void 0:o.debugName)||"MenuList"});let P;function x(e){window.__c={n:"MenuList"};const t=(0,g.qz)(e.store,M.Z),[o,i]=function(e){return[I((()=>e.getState().focus),[e]),(0,c.useCallback)((t=>{b.kW({store:e,...t})}),[e])]}(t),n=(0,f.D9)(e.initialFocus);(0,c.useEffect)((()=>{"number"==typeof e.initialFocus&&n!==e.initialFocus&&i({indexGlobal:e.initialFocus,sections:e.sections})}),[i,e.initialFocus,n,e.sections]);const{itemRefs:r,itemInstanceRef:s}=function(){const e=(0,c.useRef)({});return{itemRefs:e,itemInstanceRef:(0,c.useCallback)(((t,o)=>{l().set(e.current,[t.section,t.indexLocal],o||void 0)}),[])}}(),[d,u]=(0,c.useState)(void 0);(0,c.useLayoutEffect)((()=>{if(void 0!==o.indexLocal&&r.current){var e;const t=null===(e=r.current[o.section])||void 0===e?void 0:e[o.indexLocal];t instanceof Element?u(t.getAttribute("id")??void 0):u(void 0)}}),[o,r,u]);const m=(0,c.useRef)(!1),h=(0,c.useCallback)((()=>{m.current=!0}),[]),y=(0,c.useCallback)((()=>{m.current=!1}),[]),{handleScroll:k,onForceScroll:C}=function(e,t){const o=(0,c.useRef)(!1);return{handleScroll:(0,c.useCallback)((()=>{o.current?o.current=!1:e.unfocusOnScroll&&t({sections:e.sections,indexGlobal:void 0})}),[e.unfocusOnScroll,e.sections,t]),onForceScroll:(0,c.useCallback)((()=>{o.current=!0}),[])}}(e,i),{WindowSizeStore:_}=(0,p.O7)(),x=I((()=>_.state.height),[_]);!function(e,t,o,i,n,r){const a=(0,f.D9)(t);(0,c.useEffect)((()=>{t!==a&&!o.current&&(!0===(null==a?void 0:a.isInitialized)||!0!==e.disableInitialScroll)&&B(t,i,e.scrollElIntoView,n,r)}),[t,a,o,e.disableInitialScroll,i,e.scrollElIntoView,r,n])}(e,o,m,r,x,C),function(e,t,o,i,n){const r=(0,f.D9)(e.initialFocus),a=(0,c.useRef)(!0);(0,c.useEffect)((()=>{e.initialFocus!==r&&!a.current&&B(t.getState().focus,o,e.scrollElIntoView,i,n),a.current&&(a.current=!1)}),[e.initialFocus,r,a,t,o,e.scrollElIntoView,n,i])}(e,t,r,x,C);const A=function(e,t,o,i){const{sections:n,disableKeyboardArrowWrap:r,onKeyboardArrow:a}=e,s=(0,c.useCallback)((e=>{if("altKey"in e&&e.altKey||"shiftKey"in e&&e.shiftKey)return;const s=S.tM(n);if(0===s)return;e.preventDefault&&e.preventDefault(),i();const l=o.getState().focus.indexGlobal;0===l||void 0===l?r||t({indexGlobal:s-1,sections:n}):t({indexGlobal:l-1,sections:n}),null==a||a(o.getState().focus)}),[o,t,n,i,r,a]),l=(0,c.useCallback)((e=>{if("altKey"in e&&e.altKey||"shiftKey"in e&&e.shiftKey)return;const s=S.tM(n);if(0===s)return;e.preventDefault&&e.preventDefault(),i();const l=o.getState().focus.indexGlobal;void 0===l?t({indexGlobal:0,sections:n}):(l+1<s||!r)&&t({indexGlobal:(l+1)%s,sections:n}),null==a||a(o.getState().focus)}),[r,n,o,t,i,a]),{type:d}=e,p=d===P.Grid?e.itemsPerRow:void 0,u=(0,c.useCallback)((e=>{d===P.Grid&&void 0!==p&&0!==S.tM(n)&&(e.preventDefault&&e.preventDefault(),i(),b.eV({store:o,itemsPerRow:p,sections:n,disableKeyboardArrowWrap:Boolean(r)}))}),[d,n,i,p,r,o]),m=(0,c.useCallback)((e=>{d===P.Grid&&void 0!==p&&0!==S.tM(n)&&(e.preventDefault&&e.preventDefault(),i(),b.aV({store:o,itemsPerRow:p,sections:n,disableKeyboardArrowWrap:Boolean(r)}))}),[d,n,i,o,p,r]);if(d===P.Vertical)return{onUp:s,onDown:l};if(d===P.Horizontal)return{onLeft:s,onRight:l};if(d===P.Grid)return{onLeft:s,onRight:l,onUp:u,onDown:m};(0,v.t1)(d)}(e,i,t,y),D=function(e,t){const o=(0,p.O7)(),{sections:i,onAccept:n,onEmptyEnter:r}=e;return(0,c.useCallback)((e=>{const{device:a}=o;if(a.isPhone)return;e.preventDefault&&e.preventDefault();const s=t.getState().focus.indexGlobal;if(void 0===s)r&&r();else{const t=S.Ds(s,i);t&&Z(n,t.item,{index:s,event:e,indexLocal:t.index},!0)}}),[o,t,i,n,r])}(e,t),F=function(e){const t=(0,c.useRef)(null),o=(0,c.useRef)(void 0);return(0,c.useEffect)((()=>(t.current&&(o.current=(0,w.VW)(t.current)),o.current&&o.current.addEventListener("scroll",e),()=>{o.current&&o.current.removeEventListener("scroll",e)})),[t,o,e]),t}(k);E({sections:e.sections});const{disableKeyboard:L,disableCommandEnter:V,sections:N,priority:O,style:U}=e;return c.createElement(T.Z,a()({capture:!L},A,{onEnter:D,onCommandEnter:V?void 0:D,onCommandShiftEnter:l().identity,onCommandSlash:l().identity,priority:O}),c.createElement("div",{style:U,ref:F,role:"menu","aria-activedescendant":d,tabIndex:0},N.map(((n,r)=>c.createElement(R,{key:n.key,section:n,sectionIndex:r,focus:o,setFocus:i,itemInstanceRef:s,onHover:h,store:t,menuListProps:e})))))}function B(e,t,o,i,n){var r;if(void 0===e.indexLocal)return;const a=d.findDOMNode(null===(r=t.current[e.section])||void 0===r?void 0:r[e.indexLocal]);a&&(n(),o?o(a):(0,w.Oc)({el:a,windowHeight:i}))}function Z(e,t,o,i){e&&e(t,o,i),t.action(o)}function E(e){let{sections:t,items:o}=e;const i=(0,c.useMemo)((()=>[]),[o,t]),n=(0,c.useMemo)((()=>l().uniq(l().compact(l().map(i,((e,t)=>{if([...i.slice(0,t),...i.slice(t+1)].includes(e))return e}))))),[i]);(0,c.useEffect)((()=>{0}),[i,n,o,t])}function R(e){let{section:t,sectionIndex:o,focus:i,setFocus:r,itemInstanceRef:a,onHover:s,store:d,menuListProps:p}=e;const u=t.items.length-1,m=i.section===o?i.indexLocal:void 0;E({items:t.items,sections:p.sections});const g=t.items.map(((e,t)=>c.createElement(A,{key:e.key,item:e,sectionIndex:o,indexLocal:t,focusedIndex:m,lastIndex:u,itemInstanceRef:a,onHover:s,store:d,menuListProps:p,setFocus:r})));let f;f=p.type===P.Grid?l().chunk(g,p.itemsPerRow).map(p.renderRow):g;const v=(0,h.yK)((e=>({noResult:{color:e.mediumTextColor,fontSize:14,paddingLeft:14,paddingRight:14,lineHeight:1.2,minHeight:28,alignItems:"center",display:"flex"}})),[]);0===g.length&&t.showNoResultMessage&&(f=[n()("div",{style:v.noResult},"no-result-message",n()(y.FormattedMessage,{id:"menuList.menuListSection.noResult",defaultMessage:"No results"}))]);const{render:b,key:S}=t;return c.createElement(c.Fragment,null,I((()=>b({key:S,index:o,children:f,focusedIndex:m})),[b,S,o,f,m]))}function A(e){let{item:t,sectionIndex:o,indexLocal:i,focusedIndex:n,lastIndex:r,itemInstanceRef:a,onHover:s,menuListProps:l,setFocus:d}=e;const{sections:p,onAccept:u}=l,g=i===n,h=i+1===n,f=i===r,v=(0,c.useMemo)((()=>({section:o,indexLocal:i})),[o,i]),y=(0,c.useCallback)((e=>{const t=S.$6(v,p),o=S._K(v,p);o&&Z(u,o,{event:e,index:t,indexLocal:v},!1)}),[v,p,u]),b=m(),w=(0,c.useCallback)((()=>{_.Z.state.isKeyboardMode||C.Z.state.isDragging||k.ZP.state.isDragging||(s(),d({indexLocal:v,sections:p}))}),[v,p,d,s]),M=(0,c.useCallback)((()=>{d({indexLocal:v,sections:p})}),[v,p,d]),{render:T,key:P}=t;return c.createElement(c.Fragment,null,I((()=>T({id:b,role:"menuitem",focused:g,isBeforeFocused:h,isLastInSection:f,key:P,ref:e=>{a(v,e)},onClick:y,onMouseEnter:w,ignoreLocalHoverState:!0,disallowTabbing:!0},{onAccept:u,onFocus:M})),[b,T,P,g,h,f,a,v,y,w,u,M]))}!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Grid=2]="Grid"}(P||(P={}))},43765:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(60709),d=o(28992);class p extends l.Z{renderComponent(){return s.createElement(d.Z,n()({},this.props,{title:a()("span",{style:{color:this.theme.mediumTextColor}},void 0,this.props.title),right:this.props.right}))}}p.displayName="MessageMenuItem",p.contextTypes={...c.mw,...l.w};const u=p},40721:(e,t,o)=>{o.r(t),o.d(t,{DoneMenuText:()=>p,CancelMenuText:()=>u,BackMenuText:()=>m,default:()=>h});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(8848),s=o(82990),l=o(5366),c=o(64921),d=o(38870);function p(){return window.__c={n:"DoneMenuText"},n()(l.FormattedMessage,{id:"mobile.modal.doneButton",defaultMessage:"Done",description:"Button that appears in the top-right of most mobile modal menus to confirm the user's selection"})}function u(){return window.__c={n:"CancelMenuText"},n()(l.FormattedMessage,{id:"mobile.modal.cancelButton",defaultMessage:"Cancel",description:"Button that appears in the top-right or top-left of some mobile modal menus to exit the modal without making any changes"})}function m(){return window.__c={n:"BackMenuText"},n()(l.FormattedMessage,{id:"mobile.modal.backButton",defaultMessage:"Back",description:"Button that appears in the top-left of some mobile modal menus to return to the previous modal menu"})}class g extends r.Z{constructor(){super(...arguments),this.renderLeftRightButton=e=>{const{item:t,onClick:o,disabled:i}=e,{leftRightButtonStyle:r}=this.props,a={...g.leftRightButtonStyle,...r};return n()(c.Z,{mobileFeedback:!0,style:a,onClick:o,disabledFeedback:!0,disabled:i},void 0,t)}}renderComponent(){const{WindowSizeStore:e}=this.environment;return n()(d.Z,{enable:void 0!==this.props.onCancel,shortcuts:{backbutton:this.props.onCancel}},void 0,n()("div",{className:this.props.className,style:this.getWrapStyle()},void 0,n()("div",{style:this.getTopbarWrapStyle()},void 0,n()("div",{style:{...this.getTopbarStyle(),paddingLeft:e.state.paddingLeftCSS,paddingRight:e.state.paddingRightCSS,...this.props.topbarStyle}},void 0,this.renderLeft(),this.renderTitle(),this.renderRight()),this.props.additionalTopbarContent),this.props.children))}renderTitle(){const{title:e}=this.props;return e&&n()("div",{style:g.titleStyle},void 0,e)}renderLeft(){const{left:e,onClickLeft:t,leftDisabled:o,shouldRenderLeftDirectly:i,leftOuterStyle:r}=this.props,a={...g.leftStyle,...r};return n()("div",{style:a},void 0,i?e:this.renderLeftRightButton({item:e,onClick:t,disabled:o}))}renderRight(){const{right:e,shouldRenderRightDirectly:t,onClickRight:o,rightDisabled:i,rightOuterStyle:r}=this.props,a={...g.rightStyle,...r};return n()("div",{style:a},void 0,t?e:this.renderLeftRightButton({item:e,onClick:o,disabled:i}))}getWrapStyle(){const{WindowSizeStore:e}=this.environment,{isTablet:t}=this.environment.device,{forceFullScreenSlideUp:o}=this.props;return{display:"flex",flexDirection:"column",height:t?"100%":"100vh",width:this.props.width,paddingTop:t&&!o?0:e.state.paddingTopCSS}}getTopbarStyle(){return{display:"flex",alignItems:"stretch",justifyContent:"center",flexGrow:0,flexShrink:0,height:44,fontSize:16,color:this.theme.regularTextColor}}getTopbarWrapStyle(){return{position:"relative",boxShadow:this.props.disableHeaderShadow?void 0:`0 1px 0 ${this.theme.regularDividerColor}`,zIndex:3,cursor:"pointer"}}}g.displayName="MobileModal",g.leftStyle={display:"flex",alignItems:"center",flex:1},g.rightStyle={display:"flex",alignItems:"center",justifyContent:"flex-end",flex:1},g.titleStyle={flex:1,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:s.Z.fontWeight.semibold,whiteSpace:"nowrap"},g.leftRightButtonStyle={display:"flex",alignItems:"center",height:"100%",paddingLeft:16,paddingRight:16,fontWeight:s.Z.fontWeight.medium,color:a.ZP.blue};const h=g},22346:(e,t,o)=>{o.d(t,{Z:()=>w});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(4615),d=o(45483);const p=function(e){d.Z.state.openModals.has(e)&&(d.Z.state.openModals.delete(e),d.Z.emit())};var u=o(69454),m=o(49085);class g extends m.Z{getInitialState(){return{open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0}}}const h=g;var f=o(30016),v=o(1892),y=o(3386),b=o(41046);class S extends l.Z{constructor(){super(...arguments),this.lastOpenState=!1,this.modalId=(0,c.ZP)(),this.storeTypes={store:h},this.renderOverlay=()=>{const{open:e,disableAnimation:t}=this.props,o=t?this.renderKeepFocusArea():a()(f.Z,{isVisible:e,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},useCompositeLayer:!0,onAnimationEnd:this.handleAnimationEnd,springConfig:{opacity:{stiffness:50,damping:5,precision:.005}},render:this.renderKeepFocusArea});return a()(y.Z,{capture:e,onEsc:e=>{this.props.onDismiss&&this.props.onDismiss(e)}},void 0,o)},this.renderKeepFocusArea=()=>{const{open:e,keepFocus:t,disableAnimation:o}=this.props,i=o?this.renderBody():a()(f.Z,{isVisible:e,animationStyle:{scale:1},enterAnimationStyle:{scale:.97},exitAnimationStyle:{scale:.97},useCompositeLayer:!0,springConfig:{scale:{stiffness:50,damping:3.8,precision:.001}},render:this.renderBody});return a()(v.Z,{capture:Boolean(t),render:e=>s.createElement("div",n()({style:this.getStyle()},e,{className:this.props.className}),a()("div",{style:this.getUnderlayStyle(),onClick:e=>{this.props.onDismiss&&this.props.onDismiss(e)}}),i)})},this.renderBody=()=>a()("div",{style:{position:"relative",zIndex:1,boxShadow:this.theme.largeBoxShadow,borderRadius:6,background:this.theme.modalBackground,marginBottom:u.Z.estimatedNativeWebBottomOverlap(),...this.props.innerStyle}},void 0,this.renderChildren()),this.handleAnimationEnd=()=>{this.props.open?this.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!0}):this.stores.store.setState({open:!1,openAnimationCompleted:!0,closeAnimationCompleted:!0})}}willMountOrUpdate(e){super.willMountOrUpdate(e);const{open:t}=e;var o;!this.lastOpenState&&t?(this.stores.store.setState({open:!0,openAnimationCompleted:!1,closeAnimationCompleted:!0}),o=this.modalId,d.Z.state.openModals.has(o)||(d.Z.state.openModals.add(o),d.Z.emit()),e.onOpen&&e.onOpen()):this.lastOpenState&&!t&&(this.stores.store.setState({open:!0,openAnimationCompleted:!0,closeAnimationCompleted:!1}),p(this.modalId)),this.lastOpenState=t}willUnmount(){super.willUnmount(),p(this.modalId)}renderComponent(){const e=this.props.disableAnimation?this.props.open:this.stores.store.state.open;return a()(b.Z,{open:e,zIndex:this.props.overlayZIndex,origin:this.props.origin,trapFocus:this.props.trapFocus&&(this.props.disableAnimation?e:this.stores.store.state.openAnimationCompleted)},void 0,this.renderOverlay())}renderChildren(){const{store:e}=this.stores,{render:t}=this.props;return this.props.disableAnimation||e.state.openAnimationCompleted||this.props.preventHideChildrenWhileOpening?t():void 0}getStyle(){return{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:this.props.open?"auto":"none",...this.props.style}}getUnderlayStyle(){return{position:"absolute",top:0,left:0,bottom:0,right:0,background:this.theme.modalUnderlayBackground,...this.props.backgroundStyle}}}S.displayName="Modal";const w=S},9019:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(80503),s=o(22346),l=o(44532);class c extends r.Z{renderComponent(){const{device:e}=this.environment;return e.isMobile?n()(l.ZP,{popupType:l.ZP.PopupType.SlideUp,open:this.props.open,render:this.props.renderContent,preventSlideUpTransition:this.props.disableAnimation,onDismiss:this.props.onDismiss,origin:this.props.origin}):n()(s.Z,{open:this.props.open,preventHideChildrenWhileOpening:!0,style:{alignItems:"flex-start"},innerStyle:this.getModalStyle(),onDismiss:this.props.onDismiss,render:this.props.renderContent,origin:this.props.origin,disableAnimation:this.props.disableAnimation})}getModalStyle(){const{modalStyle:e}=this.props;return{top:2*a.R6(this.environment.device.isElectronMac),borderRadius:6,overflow:"hidden",boxShadow:this.theme.largeBoxShadow,background:this.theme.contentBackground,...e}}}c.displayName="ModalPrompt";const d=c},74420:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(5366),s=o(90403);function l(e){window.__c={n:"NewBadge"};const t=(0,r.Fg)();return n()(s.Z,{style:{...e.style,color:t.blueColor,background:t.accentColors.blue[100]},content:n()(a.FormattedMessage,{id:"newBadgeComponent.label",defaultMessage:"New"})})}},17293:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(6740),l=o(24405),c=o(46978),d=o(28992);function p(e){let{name:t,title:o,caption:i,isSelected:p,onClick:u,disabled:m}=e;window.__c={n:"OptionButton"};const[g,h]=(0,s.Z)(),f=(0,a.Fy)(),v=(0,l.yK)((e=>({root:{position:"relative",display:"flex",alignItems:"center",flex:1,fontSize:14,marginBottom:8,cursor:"pointer",opacity:m?.4:1,...h&&{boxShadow:e.outlineBlueInputBoxShadow}},caption:{color:e.mediumTextColor,marginLeft:8},input:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}})),[m,h]),y=(0,r.useCallback)((()=>{m||u()}),[m,u]);return f.isMobile?n()(d.Z,{title:o,right:n()(c.Z,{isSelected:p}),onClick:y}):n()("label",{style:v.root},void 0,n()(c.Z,{isSelected:p}),n()("div",{},void 0,o),i&&n()("div",{style:v.caption},void 0,i),r.createElement("input",{type:"radio",checked:p,disabled:m,name:t,onClick:y,style:v.input,ref:g}))}},63296:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(88464),l=o(24405),c=o(8848),d=o(64921);function p(e,t){let{backgroundColor:o,disabled:i,focused:p,hovered:u,className:m,onClick:g,onFocus:h,onBlur:f,onMouseDown:v,onMouseEnter:y,onMouseLeave:b,disabledFeedback:S,icon:w,iconStyle:k,isLoading:C,isLarge:_,isRed:M,isBlue:T,isSmall:I,hoveredStyle:P,pressedStyle:x,children:B,style:Z}=e;window.__c={n:"OutlineButton"};const E=(0,a.O7)(),R=(0,l.yK)((e=>{const t=M?e.outlinefrontSecondaryButtonHoveredBackground:T?e.outlineBlueButtonHoveredBackground:o?(0,c.fn)([e.outlineButtonHoveredBackground,o]):e.outlineButtonHoveredBackground,i=M?e.outlinefrontSecondaryButtonPressedBackground:T?e.outlineBlueButtonPressedBackground:o?(0,c.fn)([e.outlineButtonPressedBackground,o]):e.buttonPressedBackground,n=I?24:_&&E.device.isMobile?44:32,r=M?{color:c.ZP.red,border:`1px solid ${e.outlineRedButtonBorder}`}:T?{color:c.ZP.blue,border:`1px solid ${e.blueColor}`}:o?{border:`1px solid ${e.outlineButtonBorder}`,background:o}:{border:`1px solid ${e.outlineButtonBorder}`};return{button:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:4,height:n,paddingLeft:w||I?6:12,paddingRight:B?I?6:12:0,fontSize:I?12:14,lineHeight:1.2,...r,...Z},hovered:{background:t,...P},icon:{width:14,height:14,fill:T?e.blueColor:e.regularIconColor,marginRight:6,...k},pressed:{background:i,...x}}}),[o,B,E,P,w,k,T,_,M,I,x,Z]),A=(0,r.useRef)(null),D=(0,s.Z)(A,t),F=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{if(!F.current){const e=A.current;e&&p&&e.focus(),F.current=!0}}),[p]),r.createElement(d.Z,{style:R.button,hoveredStyle:R.hovered,pressedStyle:R.pressed,disabled:i,focused:p,hovered:u,className:m,onClick:g,onFocus:h,onBlur:f,onMouseDown:v,onMouseEnter:y,onMouseLeave:b,disabledFeedback:S,isLoading:C,ref:D},w?n()(r.Fragment,{},void 0,w(R.icon),B):B)}const u=r.forwardRef(p)},41046:(e,t,o)=>{o.d(t,{Z:()=>M});var i=o(97464),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(62518),c=o(1302),d=o(44291);var p=o(81954),u=o(24405),m=o(66673),g=o(4615);var h=o(62619),f=o(82246),v=o(10161);const y="data-overlay",b={[y]:!0};function S(e){const{children:t,origin:o,open:i,useCompositeLayer:r}=e,h=e.overlayContainerStore||f.Z,y=(0,p.VK)((()=>h.containerDomNode.get()),[h]),[S]=(0,s.useState)((()=>(0,g.ZP)())),w=(0,s.useCallback)((()=>{!function(e){const{key:t,overlayContainerStore:o}=e;o.state.overlays.has(t)||(o.state.overlays.add(t),o.emit())}({key:S,overlayContainerStore:h})}),[S,h]),k=(0,s.useCallback)((()=>{!function(e){const{key:t,overlayContainerStore:o}=e;o.state.overlays.has(t)&&(o.state.overlays.delete(t),o.emit())}({key:S,overlayContainerStore:h})}),[S,h]),C=(0,p.VK)((()=>{i&&w();let t=e.zIndex;if(!a().isNumber(t)){t=Array.from(h.state.overlays).findIndex((e=>e===S))}return t}),[i,e.zIndex,h,S,w]);(0,s.useEffect)((()=>()=>{c.default.afterNextFlush(k)}),[k]);const M=(0,m.D9)(i);(0,s.useEffect)((()=>{M&&!i?k():!M&&i&&w()}),[i,M,w,k]);const T=function(e){let{disabled:t=!1}=e;const o=(0,s.useRef)(null),i=(0,s.useRef)(null),n=(0,s.useCallback)((()=>{null!==i.current&&(i.current.deactivate(),i.current=null)}),[]),r=(0,s.useCallback)((()=>{null!==o.current&&(n(),i.current=(0,d.v)(o.current,{allowOutsideClick:!0,escapeDeactivates:!1}).activate())}),[n]),a=(0,s.useRef)(!0);return(0,s.useEffect)((()=>{!t&&a.current?r():t&&!a.current&&n(),a.current=t}),[n,r,t]),(0,s.useEffect)((()=>()=>n()),[n]),(0,s.useCallback)((e=>{null===e&&n(),o.current=e}),[n])}({disabled:!((0,p.VK)((()=>e.trapFocus&&v.default.checkGate("overlay_trap_focus")),[e.trapFocus])&&i)});const I=(0,u.yK)((()=>({overlay:{pointerEvents:"auto",position:"relative",transform:r?"translate3d(0, 0, 0)":void 0,zIndex:C}})),[C,r]);return s.createElement(s.Fragment,null,o,i&&function(){if(y)return l.createPortal(s.createElement("div",n()({ref:T},b,_,{style:I.overlay}),t),y)}())}S.isOverlayNode=function(e){return Boolean(e&&h.UG(e)&&e instanceof HTMLElement&&e.hasAttribute(y))},S.getParentOverlayNode=function(e){return h.sh(e,S.isOverlayNode)};const w={eventPhase:Event.BUBBLING_PHASE,currentTarget:window},k={CustomEvent:!0,Event:!0,FocusEvent:!0,KeyboardEvent:!0,MouseEvent:!0,PointerEvent:!0,WheelEvent:!0,TouchEvent:!0},C=e=>{const t=e.nativeEvent;if(!t||!t.constructor)return;const o=t.constructor.name||{}.toString.call(t.constructor).slice(8,-1);if(k[o])try{const o=new t.constructor(t.type,t);for(const e in t)"isTrusted"!==e&&"function"!=typeof t[e]&&Object.defineProperty(o,e,{writable:!1,value:w[e]||t[e]});e.stopPropagation(),window.dispatchEvent(o)}catch(i){}},_={onCopy:void 0,onCopyCapture:void 0,onCut:void 0,onCutCapture:void 0,onPaste:void 0,onPasteCapture:void 0,onCompositionEnd:void 0,onCompositionEndCapture:void 0,onCompositionStart:void 0,onCompositionStartCapture:void 0,onCompositionUpdate:void 0,onCompositionUpdateCapture:void 0,onFocus:void 0,onFocusCapture:void 0,onBlur:void 0,onBlurCapture:void 0,onChange:void 0,onChangeCapture:void 0,onBeforeInput:void 0,onBeforeInputCapture:void 0,onInput:void 0,onInputCapture:void 0,onReset:void 0,onResetCapture:void 0,onSubmit:void 0,onSubmitCapture:void 0,onInvalid:void 0,onInvalidCapture:void 0,onLoad:void 0,onLoadCapture:void 0,onError:void 0,onErrorCapture:void 0,onKeyDown:void 0,onKeyDownCapture:void 0,onKeyPress:void 0,onKeyPressCapture:void 0,onKeyUp:void 0,onKeyUpCapture:void 0,onAbort:void 0,onAbortCapture:void 0,onCanPlay:void 0,onCanPlayCapture:void 0,onCanPlayThrough:void 0,onCanPlayThroughCapture:void 0,onDurationChange:void 0,onDurationChangeCapture:void 0,onEmptied:void 0,onEmptiedCapture:void 0,onEncrypted:void 0,onEncryptedCapture:void 0,onEnded:void 0,onEndedCapture:void 0,onLoadedData:void 0,onLoadedDataCapture:void 0,onLoadedMetadata:void 0,onLoadedMetadataCapture:void 0,onLoadStart:void 0,onLoadStartCapture:void 0,onPause:void 0,onPauseCapture:void 0,onPlay:void 0,onPlayCapture:void 0,onPlaying:void 0,onPlayingCapture:void 0,onProgress:void 0,onProgressCapture:void 0,onRateChange:void 0,onRateChangeCapture:void 0,onSeeked:void 0,onSeekedCapture:void 0,onSeeking:void 0,onSeekingCapture:void 0,onStalled:void 0,onStalledCapture:void 0,onSuspend:void 0,onSuspendCapture:void 0,onTimeUpdate:void 0,onTimeUpdateCapture:void 0,onVolumeChange:void 0,onVolumeChangeCapture:void 0,onWaiting:void 0,onWaitingCapture:void 0,onAuxClick:C,onAuxClickCapture:void 0,onClick:C,onClickCapture:void 0,onContextMenu:C,onContextMenuCapture:void 0,onDoubleClick:C,onDoubleClickCapture:void 0,onDrag:C,onDragCapture:void 0,onDragEnd:C,onDragEndCapture:void 0,onDragEnter:C,onDragEnterCapture:void 0,onDragExit:C,onDragExitCapture:void 0,onDragLeave:C,onDragLeaveCapture:void 0,onDragOver:C,onDragOverCapture:void 0,onDragStart:C,onDragStartCapture:void 0,onDrop:C,onDropCapture:void 0,onMouseDown:C,onMouseDownCapture:void 0,onMouseEnter:C,onMouseLeave:C,onMouseMove:C,onMouseMoveCapture:void 0,onMouseOut:C,onMouseOutCapture:void 0,onMouseOver:C,onMouseOverCapture:void 0,onMouseUp:C,onMouseUpCapture:void 0,onSelect:void 0,onSelectCapture:void 0,onTouchCancel:C,onTouchCancelCapture:void 0,onTouchEnd:C,onTouchEndCapture:void 0,onTouchMove:C,onTouchMoveCapture:void 0,onTouchStart:C,onTouchStartCapture:void 0,onPointerDown:C,onPointerDownCapture:void 0,onPointerMove:C,onPointerMoveCapture:void 0,onPointerUp:C,onPointerUpCapture:void 0,onPointerCancel:C,onPointerCancelCapture:void 0,onPointerEnter:C,onPointerLeave:C,onPointerOver:C,onPointerOverCapture:void 0,onPointerOut:C,onPointerOutCapture:void 0,onGotPointerCapture:C,onGotPointerCaptureCapture:void 0,onLostPointerCapture:C,onLostPointerCaptureCapture:void 0,onScroll:void 0,onScrollCapture:void 0,onWheel:void 0,onWheelCapture:void 0,onAnimationStart:void 0,onAnimationStartCapture:void 0,onAnimationEnd:void 0,onAnimationEndCapture:void 0,onAnimationIteration:void 0,onAnimationIterationCapture:void 0,onTransitionEnd:void 0,onTransitionEndCapture:void 0},M=S},32854:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=o(54087),a=o.n(r),s=(o(67294),o(83355)),l=o(33929);class c extends s.Z{constructor(){super(...arguments),this.currentValue=0,this.frame=null,this.tick=()=>{Math.abs(this.currentValue-this.props.percentage)<.5?this.frame=null:(this.currentValue=this.currentValue*c.speed+this.props.percentage*(1-c.speed),this.enqueueForceUpdate(),this.frame=a()(this.tick))}}willMount(e){this.currentValue=e.percentage}didUpdate(){this.frame||requestAnimationFrame(this.tick)}renderComponent(){return n()("span",{},void 0,l.default.formatNumber(Math.min(Math.round(this.currentValue),99)/100,{style:"percent"}))}}c.displayName="PercentageIndicator",c.speed=.98;const d=c},74136:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(24405),d=o(64921);function p(e){const t=(0,l.Fy)(),o=(0,c.yK)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:3},innerStyle:{padding:"2px 6px",borderRadius:3,color:e.mediumTextColor,background:e.defaultBadgeBackground,fontSize:t.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid,t.isMobile]);return t.isMobile?a()(d.Z,{style:{...o.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick},void 0,a()("div",{style:{...o.innerStyle,...e.innerStyle}},void 0,e.children)):s.createElement(d.Z,n()({style:{...o.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick},e),a()("div",{style:{...o.innerStyle,...e.innerStyle}},void 0,e.children))}},85740:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(97464),n=o.n(i),r=o(67294),a=o(24405),s=o(8848),l=o(64921);function c(e){let{isSmall:t,isLarge:o}=e;return t?24:o?32:28}function d(e){let{isBlue:t,isRed:o,isOrange:i,isGray:n,isLightGray:r,theme:a}=e;return t?a.blueColor:o?s.ZP.red:i?"dark"===a.mode?a.accentColors.orange[600]:a.accentColors.orange[400]:n?a.mediumTextColor:r?a.lightTextColor:a.regularTextColor}function p(e){let{isBlue:t,isGray:o,isLightGray:i,isOrange:n,isRed:r,theme:a}=e;return t?a.blueColor:o?a.mediumIconColor:i?a.lightIconColor:n?a.accentColors.orange[400]:r?s.ZP.red:a.regularIconColor}function u(e,t){let{children:o,hoveredStyle:i,icon:s,isGray:u,isBlue:m,isRed:g,isLightGray:h,isOrange:f,isSmall:v,isLarge:y,pressedStyle:b,shouldShrink:S,style:w,iconStyle:k,...C}=e;window.__c={n:"PlainButton"};const _=(0,a.yK)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",flexShrink:S?1:0,whiteSpace:"nowrap",height:c({isSmall:v,isLarge:y}),borderRadius:4,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:s||v?6:8,paddingRight:v?6:8,color:d({isBlue:m,isRed:g,isOrange:f,isGray:u,isLightGray:h,theme:e}),...w},hoveredStyle:{...m&&{background:e.outlineBlueButtonHoveredBackground},...g&&{background:e.outlinefrontSecondaryButtonHoveredBackground},...f&&{background:"dark"===e.mode?e.accentColors.orange[200]:e.accentColors.orange[100]},...i},pressedStyle:{...m&&{background:e.outlineBlueButtonPressedBackground},...g&&{background:e.outlinefrontSecondaryButtonPressedBackground},...f&&{background:"dark"===e.mode?e.accentColors.orange[300]:e.accentColors.orange[200]},...b},iconStyle:{width:14,height:14,fill:p({isBlue:m,isGray:u,isLightGray:h,isOrange:f,isRed:g,theme:e}),marginRight:6,...k}})),[i,s,v,y,m,g,f,u,h,b,S,w,k]);return r.createElement(l.Z,n()({ref:t,style:_.buttonStyle,hoveredStyle:_.hoveredStyle,pressedStyle:_.pressedStyle},C),s&&s(_.iconStyle),o)}const m=r.forwardRef(u)},89728:(e,t,o)=>{o.d(t,{Z:()=>i.Z});var i=o(85740)},44532:(e,t,o)=>{o.d(t,{GI:()=>H,kQ:()=>V,ZP:()=>W});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(62518),p=o(83355),u=o(24405),m=o(69615),g=o(8848),h=o(63143),f=o(87078),v=o(25464),y=o(15723),b=o(31194);const{Top:S,Bottom:w,Left:k,Right:C}=v.u,{Start:_,Center:M}=v.v,T=function(e,t,o,i){if(o===S||o===w){let n,r;return n=i===_?t.left:i===M?t.left+t.width/2-e.width/2:t.right-e.width,r=o===S?t.top-e.height:t.bottom,new DOMRect(n,r,e.width,e.height)}{let n,r;return n=i===_?t.top:i===M?t.top+t.height/2-e.height/2:t.bottom-e.height,r=o===k?t.left-e.width:t.right,new DOMRect(r,n,e.width,e.height)}};var I=o(59488),P=o(34859),x=o(3418),B=o(69454);class Z extends p.Z{renderComponent(){return a()("div",{style:this.getStyle()},void 0,this.props.origin,a()("div",{style:this.getOriginFillerStyle()},void 0,a()("div",{style:this.getChildrenWrapStyle()},void 0,this.props.children)))}getStyle(){return{position:"relative",...this.props.style}}getOriginFillerStyle(){const{alignItems:e,justifyContent:t}=this.getAlignmentAndPlacement();return{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:t,alignItems:e}}getChildrenWrapStyle(){const{top:e,left:t,right:o,bottom:i}=this.getAlignmentAndPlacement(),n={position:"relative"};return e&&(n.top=e),i&&(n.bottom=i),t&&(n.left=t),o&&(n.right=o),{...n,...this.props.childrenWrapStyle}}getAlignmentAndPlacement(){let e,t,o,i,n,r;const a=h.z4(this.props.placement)?v.u.Bottom:this.props.placement,s=h.z4(this.props.alignment)?v.v.Center:this.props.alignment;return a===v.u.Top?(r="flex-end",t="100%",n=Z.alignmentToFlex[s]):a===v.u.Bottom?(r="flex-start",e="100%",n=Z.alignmentToFlex[s]):a===v.u.Left?(r=Z.alignmentToFlex[s],i="100%",n="flex-end"):a===v.u.Right?(r=Z.alignmentToFlex[s],o="100%",n="flex-start"):a===v.u.Center&&(r="center",n=Z.alignmentToFlex[s]),{alignItems:n,justifyContent:r,top:e,left:o,right:i,bottom:t}}}Z.displayName="AlignBox",Z.alignmentToFlex={[v.v.Start]:"flex-start",[v.v.Center]:"center",[v.v.End]:"flex-end"};const E=Z;var R=o(30016),A=o(72897),D=o(1892),F=o(3386),L=o(41046);let V;!function(e){e[e.Popup=0]="Popup",e[e.SlideUp=1]="SlideUp"}(V||(V={}));const N=e=>{let{style:t,fill:o}=e;return a()("svg",{width:"10",height:"22",fill:"none",style:t},void 0,a()("path",{d:"M10 0v22H0V0z",fill:"none"}),a()("path",{d:"M.818181 12.381L10 22V4.6e-7L.818182 9.61905C.080463 10.3919.0804627 11.6081.818181 12.381z",fill:o}),a()("defs",{},void 0,a()("clipPath",{id:"clip0"},void 0,a()("path",{transform:"rotate(90 5 5)",d:"M0 0h22v10H0z",fill:"none"}))))},O=e=>{let{style:t,fill:o}=e;return a()("svg",{width:"22",height:"10",fill:"none",style:t},void 0,a()("path",{d:"M0 0h22v10H0z",fill:"none"}),a()("path",{d:"M12.381 9.18182L22 0H0l9.61905 9.18182c.77285.73772 1.98905.73772 2.76195 0z",fill:o}),a()("defs",{},void 0,a()("clipPath",{id:"clip0"},void 0,a()("path",{d:"M0 0h22v10H0z",fill:"none"}))))},U=e=>{let{placement:t,offsetX:o,offsetY:i}=e;const n=(0,u.Fg)(),r=n.popoverBackground,s={filter:n.downCaretDropShadow,flexShrink:0,fill:r};return t===v.u.Right?(s.filter=n.horizontalCaretDropShadow,s.marginTop=i,a()(N,{style:s,fill:r})):t===v.u.Left?(s.filter=n.horizontalCaretDropShadow,s.transform="rotate(0.5turn)",s.marginTop=i,a()(N,{style:s,fill:r})):t===v.u.Bottom?(s.transform="rotate(0.5turn)",s.filter=n.upCaretDropShadow,s.marginLeft=o,a()(O,{style:s,fill:r})):(s.marginLeft=o,a()(O,{style:s,fill:r}))};class H extends p.Z{constructor(){super(...arguments),this.popupEl=null,this.observer=void 0,this.isAnimating=!1,this.storeTypes={store:b.ZP},this.popupContentRef=c.createRef(),this.handleDismissIfClickOutside=e=>{if(!this.props.open||!this.props.enableOutsideClickDismiss)return;const t=this.popupContentRef.current,o=e.target;var i,n;t&&o&&(t===o||t.contains(o)||null===(i=(n=this.props).onDismiss)||void 0===i||i.call(n,e))},this.renderSlideUpContent=()=>{const{open:e}=this.props,t=this.getExtraSlideUpHeightPercent(),o=(0,I.Y)("supportsFixedSizeWebView"),i=o?{translateYViewHeight:0}:{translateYPercent:0},r=o?{translateYViewHeight:100}:{translateYPercent:100+t},s=o?{translateYViewHeight:100}:{translateYPercent:100+t};return a()(D.Z,{capture:Boolean(this.props.keepFocus),render:t=>a()(F.Z,{capture:!this.props.preventCaptureEsc,onEsc:this.handleEsc,onBackButton:this.handleEsc},void 0,c.createElement("div",n()({},t,{style:this.getSlideUpWrapStyle()}),a()(R.Z,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:e,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},onAnimationStart:this.handleAnimatedAnimationStart,onAnimationEnd:this.handleAnimatedAnimationEnd,useCompositeLayer:!0,springConfig:H.springConfig,render:()=>a()("div",{style:this.getOverlayBgStyle(),onMouseDown:this.handleBgMouseDown,onClick:this.handleBgClick})}),a()(R.Z,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:e,animationStyle:i,enterAnimationStyle:this.props.preventSlideUpTransition?i:r,exitAnimationStyle:this.props.preventSlideUpTransition?i:s,springConfig:H.springConfig,useCompositeLayer:!0,render:()=>a()("div",{style:this.getSlideUpStyle()},void 0,this.props.render())})))})},this.renderPopupContentWrapped=()=>a()(D.Z,{capture:Boolean(this.props.keepFocus),render:e=>a()(F.Z,{capture:!this.props.preventCaptureEsc,onEsc:this.handleEsc,onBackButton:this.handleEsc},void 0,this.renderPopupContent(e))}),this.handlePopupMount=e=>{this.popupEl=e,e?(this.observer||this.props.disableMutationObserver||(this.observer=new MutationObserver(this.handleObserverChangeThrottled),this.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.keepInBound()):this.observer&&(this.observer.disconnect(),this.observer=void 0)},this.handleObserverChange=()=>{this.isAnimating||this.keepInBound()},this.handleObserverChangeThrottled=l().throttle(this.handleObserverChange,10),this.handleAnimatedAnimationStart=()=>{this.isAnimating=!0},this.handleAnimatedAnimationEnd=()=>{this.isAnimating=!1,this.props.open||this.setClosedStoreState(),this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.keepInBound(),this.handleTransitionEnd()},this.handleTransitionEnd=()=>{var e;this.props.open&&(null===(e=this.environment.mobileNative)||void 0===e||e.markTransitionReady({type:"modal"}))},this.handleEsc=e=>{this.props.onDismiss&&this.props.onDismiss(e)},this.handleResize=()=>{this.props.open&&(this.measureOriginRect(),this.keepInBound())},this.handleResizeLater=()=>{setTimeout((()=>{this.handleResize()}))},this.handleBgMouseDown=e=>{e.preventDefault()},this.handleBgClick=e=>{this.props.onDismiss&&this.props.onDismiss(e)},this.handleEstimatedKeyboardWebViewOverlapChange=()=>{this.forceUpdate()},this.handleEstimatedKeyboardWebViewOverlapChangeDebounced=l().debounce(this.handleEstimatedKeyboardWebViewOverlapChange,10),this.handleResizeDebounced=l().debounce(this.handleResize,10)}willReceiveProps(e){const t=!this.props.open&&e.open,o=this.props.open&&!e.open;t&&!this.isSlideUp(e)&&this.measureOriginRect(),e.preventPointerEvents||(t&&(x.Z.state.openPopups.add(this),x.Z.emit()),o&&(x.Z.state.openPopups.delete(this),x.Z.emit()))}willUpdate(e){const t=this.stores.store.state;e.open&&!t.open&&this.stores.store.setState({...t,open:!0})}didMount(){var e;const{device:t}=this.environment;t.isMobile||window.addEventListener("resize",this.handleResizeDebounced),t.isMobile&&B.Z.addListener(this.handleEstimatedKeyboardWebViewOverlapChangeDebounced),this.props.open&&(this.isSlideUp(this.props)||this.measureOriginRect(),this.stores.store.setState({...this.stores.store.state,open:!0}),x.Z.state.openPopups.add(this),x.Z.emit()),window.addEventListener("click",this.handleDismissIfClickOutside),window.addEventListener("contextmenu",this.handleDismissIfClickOutside),null===(e=this.props.forceRemeasureStore)||void 0===e||e.addListener(this.handleResizeLater)}didUpdate(e){super.didUpdate(e),this.isNoAnimation()&&(!this.props.open&&this.stores.store.state.open&&this.setClosedStoreState(),e.open&&this.handleTransitionEnd())}willUnmount(){var e;const{device:t}=this.environment;t.isMobile||window.removeEventListener("resize",this.handleResizeDebounced),t.isMobile&&B.Z.removeListener(this.handleEstimatedKeyboardWebViewOverlapChangeDebounced),this.props.open&&!this.props.preventPointerEvents&&(x.Z.state.openPopups.delete(this),x.Z.emit()),window.removeEventListener("click",this.handleDismissIfClickOutside),window.removeEventListener("contextmenu",this.handleDismissIfClickOutside),null===(e=this.props.forceRemeasureStore)||void 0===e||e.removeListener(this.handleResizeLater)}renderComponent(){const{device:e}=this.environment,t=this.stores.store.state.open;return a()(A.Z,{capture:Boolean(this.props.open&&this.props.disableContentScroll),preventType:P.Z.All},void 0,a()(L.Z,{open:t,trapFocus:this.props.trapFocus,origin:this.renderOrigin(),useCompositeLayer:e.isMobile,overlayContainerStore:this.props.overlayContainerStore},void 0,this.isSlideUp(this.props)?this.renderSlideUpContent():this.renderPopupContentWrapped()))}renderPopupContent(e){const t=this.getCurrentPlacementToOrigin(),o=this.getAlignmentToOrigin(),{offsetX:i,offsetY:r}=this.stores.store.state;return c.createElement("div",n()({},e,{ref:this.popupContentRef}),this.props.open&&!this.props.disableMouseCapture&&a()("div",{style:this.getOverlayBgStyle(),onMouseDown:this.handleBgMouseDown,onClick:this.handleBgClick,onContextMenu:this.props.onDismiss}),a()(E,{style:this.getAlignPositionStyle(),origin:a()("div",{style:this.getAlignOriginStyle()}),placement:t,alignment:o,childrenWrapStyle:{pointerEvents:this.props.open&&!this.props.preventPointerEvents?"auto":"none"}},void 0,a()(R.Z,{blockRenderQueueOnEnter:!this.props.preventBlockRenderQueueOnEnter,isVisible:this.props.open,animationStyle:this.getScaledPopupAnimationStyle(),enterAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),exitAnimationStyle:this.getScaledPopupHiddenAnimationStyle(),springConfig:this.getScaledPopupAnimationSpringConfig(),onAnimationStart:this.handleAnimatedAnimationStart,onAnimationEnd:this.handleAnimatedAnimationEnd,render:()=>a()("div",{style:this.getScaledPopupStyle()},void 0,c.createElement("div",{style:{...this.getBoxWrapStyle(),...this.props.popupWrapStyle},ref:this.handlePopupMount},this.props.render()),this.props.showCaret&&a()(U,{placement:t,offsetX:-2*i,offsetY:-2*r}))})))}renderOrigin(){return this.props.originRect&&this.stores.store.setState({...this.stores.store.state,originRect:this.props.originRect}),this.props.origin}setClosedStoreState(){this.stores.store.setState({...this.stores.store.state,open:!1,placementFlipped:!1})}getCurrentPlacementToOrigin(){const e=this.getDesiredPlacementToOrigin();return this.stores.store.state.placementFlipped?(0,b.FJ)(e):e}getDesiredPlacementToOrigin(){return h.z4(this.props.placementToOrigin)?v.u.Bottom:this.props.placementToOrigin}getAlignmentToOrigin(){return h.z4(this.props.alignmentToOrigin)?v.v.Center:this.props.alignmentToOrigin}measureOriginRect(){if(this.props.originRect)this.stores.store.setState({...this.stores.store.state,originRect:this.props.originRect});else if(this.componentIsMounted){const e=d.findDOMNode(this);if(e&&e instanceof Element){const t=e.getBoundingClientRect();this.stores.store.setState({...this.stores.store.state,originRect:t})}}}keepInBound(){if(this.popupEl){const{originRect:e}=this.stores.store.state,t=this.popupEl.getBoundingClientRect();this.props.open&&e&&(this.props.forceInitialInbound||t.height>0)&&function(e){const{store:t,placementToOrigin:o,alignmentToOrigin:i,popupRect:n,originRect:r,viewportPadding:a,placementFlipped:s,viewportAdditionalBottomPadding:l}=e,c=(0,f.Z)();let d=y.jn(c,-a||0);0!==l&&(d=new y.iL(d.x,d.y,d.width,d.height-l));const p=T(n,r,o,i),u=Math.max(d.left-p.left,0)+Math.min(d.right-p.right,0),m=Math.max(d.top-p.top,0)+Math.min(d.bottom-p.bottom,0),g=o===k&&Math.abs(u)>0&&y.aP(d,T(n,r,(0,b.FJ)(o),i)),h=o===C&&Math.abs(u)>0&&y.aP(d,T(n,r,(0,b.FJ)(o),i)),v=o===S&&Math.abs(m)>0&&y.aP(d,T(n,r,(0,b.FJ)(o),i)),_=o===w&&Math.abs(m)>0&&y.aP(d,T(n,r,(0,b.FJ)(o),i)),M={placementFlipped:!1,offsetX:0,offsetY:0};M.placementFlipped=s||g||h||v||_,(!M.placementFlipped||o!==k&&o!==C)&&(M.offsetX=Math.round(u)),(!M.placementFlipped||o!==S&&o!==w)&&(M.offsetY=Math.round(m)),t.setState({...t.state,...M})}({store:this.stores.store,placementToOrigin:this.getDesiredPlacementToOrigin(),alignmentToOrigin:this.getAlignmentToOrigin(),originRect:e,popupRect:t,placementFlipped:this.stores.store.state.placementFlipped,viewportPadding:this.props.viewportPadding||12,viewportAdditionalBottomPadding:B.Z.estimatedNativeWebBottomOverlap()})}}isSlideUp(e){return e.popupType===V.SlideUp}getExtraSlideUpHeightPercent(){const{WindowSizeStore:e,device:t}=this.environment,{isTablet:o}=t,i=e.isPortrait();return o?i?100-H.portraitTabletModalHeightPercent:3*m.g/e.state.height*100:0}getOverlayBgStyle(){const{ThemeStore:e}=this.environment,t=e.state.mode;let o;return this.isSlideUp(this.props)?(o={position:"absolute",top:0,left:0,bottom:0,right:0},this.props.disableDarkOverlayBackground||(o.background=g.se[t].black.alpha(.6).css())):o={position:"fixed",top:0,left:0,width:"100vw",height:"100vh"},o}getAlignPositionStyle(){const{originRect:e}=this.stores.store.state;return e&&y.Ep(e)?{position:"fixed",left:this.props.enableRounding?Math.round(e.left):e.left,top:this.props.enableRounding?Math.round(e.top):e.top,pointerEvents:"none"}:{}}getAlignOriginStyle(){const e={},{originRect:t}=this.stores.store.state;return t&&(e.width=Math.round(t.width),e.height=Math.round(t.height)),e}getScaledPopupStyle(){const{offsetX:e,offsetY:t}=this.stores.store.state,o=this.getCurrentPlacementToOrigin(),i=this.getAlignmentToOrigin(),n=H.alignmentToTransform[i],r=H.alignmentToTransform[i],a={display:"flex",alignItems:"center",position:"relative"},s=this.props.originGap||0;return o===v.u.Top?(a.flexDirection="column",a.transformOrigin=`${n} bottom`,a.left=e,a.bottom=s-t):o===v.u.Bottom?(a.flexDirection="column-reverse",a.transformOrigin=`${n} top`,a.left=e,a.top=s+t):o===v.u.Left?(a.flexDirection="row",a.transformOrigin=`right ${r}`,a.right=s-e,a.top=t):o===v.u.Right&&(a.flexDirection="row-reverse",a.transformOrigin=`left ${r}`,a.left=s+e,a.top=t),i===v.v.End&&o===v.u.Bottom&&(a.left=e-s,a.top=t),a}isNoAnimation(){return!this.isSlideUp(this.props)&&this.props.preventScaleTransition&&this.props.preventOpacityTransition||this.isSlideUp(this.props)&&this.props.preventSlideUpTransition}getScaledPopupAnimationStyle(){const e={};return this.props.preventScaleTransition||(e.scaleX=this.props.open?1:H.popupHiddenScale,e.scaleY=this.props.open?1:H.popupHiddenScale),this.props.preventOpacityTransition||(e.opacity=this.props.open?1:0),e}getScaledPopupHiddenAnimationStyle(){const e={};return this.props.preventOpacityTransition||(e.opacity=0),this.props.preventScaleTransition||this.isSlideUp(this.props)||(e.scaleX=H.popupHiddenScale,e.scaleY=H.popupHiddenScale),e}getScaledPopupAnimationSpringConfig(){return{opacity:{stiffness:H.popupOpacityStiffness,damping:H.popupOpacityDamping,precision:1e-4},scaleX:this.getScaleSpring(!0),scaleY:this.getScaleSpring(!1)}}getScaleSpring(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{Top:t,Bottom:o}=v.u,i=this.getCurrentPlacementToOrigin(),n=l().includes([t,o],i);return n&&e||!n&&!e?{stiffness:H.popupStiffness,damping:H.popupDamping}:{stiffness:H.popupSpreadStiffness,damping:H.popupSpreadDamping}}getBoxWrapStyle(){const{device:e}=this.environment,t={borderRadius:this.props.borderRadius||4,background:this.theme.popoverBackground,position:"relative",maxWidth:"calc(100vw - 24px)",boxShadow:this.props.useLightBoxShadow?this.theme.lightBoxShadow:this.theme.mediumBoxShadow,overflow:"hidden"},{originRect:o}=this.stores.store.state;return this.props.sameWidthAsOrigin&&o&&(t.width=Math.round(o.width)),this.props.isFullWidthOnMobile&&e.isMobile&&(t.minWidth=t.maxWidth),{...t,...this.props.style}}getSlideUpWrapStyle(){return{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",pointerEvents:void 0!==open?"auto":"none",...this.props.slideUpWrapStyle}}getSlideUpStyle(){const{WindowSizeStore:e,device:t}=this.environment,{isTablet:o}=t,i=e.isPortrait(),{forceFullScreenSlideUp:n,isWideTabletWidth:r}=this.props,a=B.Z.estimatedNativeWebBottomOverlap();return{position:"absolute",bottom:a,left:0,right:0,background:this.theme.popoverBackground,boxShadow:this.theme.mediumBoxShadow,...this.props.style,width:"100%",maxHeight:`calc(100vh - ${a}px)`,...o&&!n&&{maxWidth:z,overflow:"hidden",marginLeft:"auto",marginRight:"auto",borderRadius:this.props.borderRadius||3,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...!i&&{top:e.getSafePaddingTopCSS(m.g),bottom:e.getSafePaddingBottomCSS(2*m.g+B.Z.estimatedNativeWebBottomOverlap()),...r&&{maxWidth:"60vw"}},...i&&{top:0,bottom:e.getSafePaddingBottomCSS(B.Z.estimatedNativeWebBottomOverlap()),maxHeight:`${H.portraitTabletModalHeightPercent}vh`,marginTop:"auto",marginBottom:"auto",...r&&{maxWidth:"calc(100vw - 192px)"}}},...n&&{height:"100%"}}}}H.displayName="Popup",H.Placement=v.u,H.Alignment=v.v,H.PopupType=V,H.popupHiddenScale=.96,H.popupOpacityStiffness=60,H.popupOpacityDamping=10,H.popupStiffness=58,H.popupDamping=4.3,H.popupSpreadStiffness=70,H.popupSpreadDamping=4,H.portraitTabletModalHeightPercent=60,H.springConfig={translateYPercent:{stiffness:60,damping:12,precision:.1}},H.alignmentToTransform={[v.v.Start]:"0%",[v.v.Center]:"50%",[v.v.End]:"100%"};const z=414,W=H},85248:(e,t,o)=>{o.d(t,{k:()=>d});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(58032);function d(e){const{percentage:t,filledColor:o,filledBarStyle:i,gapColor:r,unfilledColor:d,style:p}=e,u=(0,l.Fg)(),m=e.height??4,g=Math.min(Math.max(t,0),100),h=function(e){return e<5||e>95?0:e<20?1:e<50?1.5:2}(g),f=e=>{const t=a()("div",{style:{position:"relative",borderRadius:1e3,backgroundColor:d??u.accentColors.gray[100],width:"100%",overflow:"hidden",height:m,minHeight:m}},void 0,a()("div",{style:{position:"absolute",zIndex:0,borderRadius:1e3,backgroundColor:r??"transparent",height:"100%",width:`calc(${g}% + ${h}px)`}}),a()("div",{style:{position:"absolute",zIndex:1,borderRadius:1e3,backgroundColor:o??u.accentColors.gray[500],height:"100%",width:`${g}%`,...i}}));return s.createElement("div",n()({},e,{style:{alignSelf:"stretch",display:"flex",alignItems:"center",justifyContent:"stretch",...p,pointerEvents:"auto"}}),t)};return e.tooltip?a()(c.Z,{placement:c.Z.Placement.Top,renderTooltip:()=>e.tooltip,render:f}):f()}},78942:(e,t,o)=>{o.d(t,{e:()=>d});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(58032);function d(e){const{percentage:t,ringWidth:o,size:i,style:r}=e,d=(0,l.Fg)(),p=o??3,u=i/2-p/2,m=2*Math.PI*u,g=i/2,h=e.filledColor??d.accentColors.gray[500],f=e.unfilledColor??d.accentColors.gray[100],v=e.gapColor??"transparent",y=Math.min(Math.max(t,0),100),b=y>2&&y+4<95&&a()("circle",{r:u,cx:g,cy:g,strokeWidth:p,stroke:v,strokeLinecap:"round",strokeDasharray:`${m} ${m*(100-(y+4))/100}`,strokeDashoffset:""+m*(100-(y+2))/100,fill:"transparent"}),S=e=>s.createElement("div",n()({style:{height:i,width:i,...r,pointerEvents:"auto"}},e),a()("svg",{viewBox:`0 0 ${i} ${i}`,color:"transparent",style:{width:"100%",height:"100%",transform:"rotate(-90deg)",transformOrigin:"50% 50%"}},void 0,a()("circle",{r:u,cx:g,cy:g,strokeWidth:p,stroke:f,strokeLinecap:"round",fill:"transparent"}),b,a()("circle",{r:u,cx:g,cy:g,strokeWidth:p,stroke:h,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:m-y/100*m,fill:"transparent"})));return e.tooltip?a()(c.Z,{placement:c.Z.Placement.Top,renderTooltip:()=>e.tooltip,render:S}):S()}},81865:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(67294),n=o(83355),r=o(43593),a=o(17755),s=o(54642),l=o(95477),c=o(24042),d=o(39218),p=o(77137);class u extends n.Z{constructor(){super(...arguments),this.peformRequest=async e=>{const{url:t,width:o,stripGoogleIconQuery:i}=e;e.isAuthenticated&&await d.transactionQueue.awaitRecordTransaction(e.permissionRecord);let n=t;if(r.g_(t)&&o)n=r.zw(t,o);else if(r.F8(t,l.Z.secureFileS3.url))n=e.isAuthenticated?a.EK({url:t,width:o,permissionRecord:e.permissionRecord,stripGoogleIconQuery:i,baseUrl:l.Z.domainBaseUrl,fullyQualified:!1,userId:this.environment.currentUser.id}):a.Q4({url:t,width:o,stripGoogleIconQuery:i,baseUrl:l.Z.domainBaseUrl,fullyQualified:!1,userId:this.environment.currentUser.id});else if(r.E$(t,l.Z.secureFileS3.url)&&e.isAuthenticated){const o=this.environment.device,i=await s.getSignedFileUrl(this.environment,{url:t,permissionRecord:e.permissionRecord,useS3Url:o.isIOS&&o.isMobileNative},Boolean(c.Z.state.isNotionProtocolBugFixed));i&&(n=i)}return this.props.onFinishedLoadingProxyUrl&&this.props.onFinishedLoadingProxyUrl(n),n}}renderComponent(){const e={request:this.props.isAuthenticated?{isAuthenticated:!0,url:this.props.url,width:this.props.width,permissionRecord:this.props.permissionRecord,stripGoogleIconQuery:this.props.stripGoogleIconQuery}:{isAuthenticated:!1,url:this.props.url,width:this.props.width,stripGoogleIconQuery:this.props.stripGoogleIconQuery},performRequest:this.peformRequest,render:this.props.render};return i.createElement(p.Z,e)}}u.displayName="ProxiedImage";const m=u},31278:(e,t,o)=>{o.d(t,{Z:()=>Z});var i=o(77094),n=o.n(i),r=(o(67294),o(62518)),a=o(83355),s=o(8848),l=o(79362),c=o(22808),d=o(62193),p=o(97880),u=o(5366),m=o(50906),g=o(47307),h=o(45766),f=o(27153),v=o(53471),y=o(43250),b=o(33929),S=o(79315),w=o(10161),k=o(83279),C=o(38797),_=o(64921),M=o(57770),T=o(51077),I=o(56496),P=o(48937);const x=(0,u.defineMessages)({imageLinkPlaceholder:{defaultMessage:"Paste link to an image...",id:"recordIcon.linkTab.placeholder"}});class B extends a.Z{constructor(){var e;super(...arguments),e=this,this.storeTypes={fileUploadStore:k.Z},this.isSingleEmojiMemo=new d.U,this.showMediaPicker=e=>{let{args:t}=e;const{node:o}=t,{disableRemoveIcon:i,isCallout:n,intl:r}=this.props,a=o.getBoundingClientRect(),s=this.isTeamsIconPicker()?[this.getIconPickerTab("icon",{args:t}),this.getIconPickerTab("emoji",{args:t}),this.getIconPickerTab("custom",{args:t})]:[this.getIconPickerTab("emoji",{args:t}),this.getIconPickerTab("icon",{args:t}),this.getIconPickerTab("custom",{args:t})];if(f.$(this.environment,{recordIconLoggingData:this.props.iconLoggingData,originGap:4,originRect:a,popupWidth:C.ZP.desktopPopupWidth,popupHeight:C.ZP.desktopPopupHeight,isSmallWidth:!1,isCallout:n,title:r.formatMessage({defaultMessage:"Page icon",id:"recordIcon.emojiModalMenu.title"}),onDelete:i?void 0:this.handleDelete,currentTab:t.currentTab,tabs:s}),"icon"===t.currentTab){const{currentUserSettingsStore:e}=S.default.state;h.D({environment:this.environment,currentUserSettingsStore:e})}this.props.iconLoggingData&&m.trackMediaPicker(this.environment,"open_media_picker",this.props.iconLoggingData)},this.getLandingTabWindow=()=>this.isTeamsIconPicker()||this.props.icon&&l.V2(this.props.icon.icon)?"icon":"emoji",this.handleClick=e=>{if(this.props.disabled)return;this.props.onClick&&this.props.onClick(e);const t=r.findDOMNode(this);t&&t instanceof Element&&this.showMediaPicker({args:{node:t,currentTab:this.getLandingTabWindow(),..."secure"===this.props.bucket?{bucket:this.props.bucket,store:this.props.store}:{bucket:this.props.bucket}}})},this.handleDelete=()=>{if(this.props.disabled)return;f.Z();const{onChange:e}=this.props;e&&(e(void 0),this.props.iconLoggingData&&m.trackMediaPicker(this.environment,"remove_icon",this.props.iconLoggingData))},this.handleEmojiChange=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.props.disabled)return;o.keepVisible||f.Z(),e.stores.fileUploadStore.reset();const{onChange:i}=e.props;i&&i(t)},this.handleIconChange=function(t){var o,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.props.disabled||(n.keepVisible||f.Z(),e.stores.fileUploadStore.reset(),null===(o=(i=e.props).onChange)||void 0===o||o.call(i,t))},this.handleUploadComplete=async e=>{if(this.props.disabled)return;f.Z();const{onChange:t}=this.props;t&&await t(e),this.stores.fileUploadStore.reset()},this.handleEmbedLinkChange=e=>{if(this.props.disabled)return;f.Z();const{onChange:t}=this.props;t&&t(e)},this.getIconPickerTab=(e,t)=>{let{args:o}=t;switch(e){case"emoji":return{type:"emoji",title:n()(u.FormattedMessage,{defaultMessage:"Emojis",id:"recordIcon.emojiTab.title"}),onChange:this.handleEmojiChange};case"icon":return{type:"icon",title:n()("div",{style:{display:"flex",gap:4}},void 0,n()(u.FormattedMessage,{defaultMessage:"Icons",id:"recordIcon.iconTab.title",description:"Icon tab heading"}),this.shouldShowIconPickerNewBadge()&&n()("div",{style:{background:s.FN[this.theme.mode].red["dark"===this.theme.mode?300:50],borderRadius:5,display:"flex",justifyContent:"center",alignItems:"center",minWidth:31}},void 0,n()("span",{style:{color:s.FN[this.theme.mode].red["dark"===this.theme.mode?700:500],fontSize:11,fontWeight:400}},void 0,n()(u.FormattedMessage,{id:"iconPicker.newBadge",defaultMessage:"New",description:"New badge to indicate that icon picker is a new feature"})))),onChange:this.handleIconChange};case"custom":return{type:"custom",fileUpload:!1,imageUpload:!0,videoUpload:!1,tabHeight:225,title:n()(u.FormattedMessage,{defaultMessage:"Custom",id:"recordIcon.customTab.title",description:"Upload or embed a custom image"}),caption:B.mediaMenuCaption,onUpload:e=>{v.cT({environment:this.environment,..."secure"===o.bucket?{bucket:o.bucket,record:o.store.pointer}:{bucket:o.bucket},file:e,onStart:this.handleUploadStart,onProgress:this.handleUploadProgress,onComplete:this.handleUploadComplete,onError:()=>{g.showErrorMessage(n()(u.FormattedMessage,{id:"recordIcon.uploadFileTab.uploadError.message",defaultMessage:"Something went wrong."}))}})},inputPlaceholder:b.default.formatMessage(x.imageLinkPlaceholder),buttonText:n()(u.FormattedMessage,{defaultMessage:"Submit",id:"recordIcon.linkTab.buttonText"}),onChange:this.handleEmbedLinkChange};default:(0,p.t1)(e)}},this.handleUploadStart=e=>{const{file:t,name:o,size:i}=e;if(f.Z(),this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,isLoading:!0,file:t,name:o,size:i}),t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,dataURL:e.target.result})},e.readAsDataURL(t)}},this.handleUploadProgress=e=>{const{progressPercent:t}=e;this.stores.fileUploadStore.setState({...this.stores.fileUploadStore.state,progressPercent:t})}}didMount(){const{openMenuOnMount:e,openMenuOnMountCallback:t,disabled:o}=this.props;if(!o&&e){const e=r.findDOMNode(this);if(!e)return;if(!(e instanceof Element))return;this.showMediaPicker({args:{node:e,currentTab:this.getLandingTabWindow(),..."secure"===this.props.bucket?{bucket:this.props.bucket,store:this.props.store}:{bucket:this.props.bucket}}}),t&&t()}}renderComponent(){const{disabled:e}=this.props;return e?n()("div",{style:this.getStyle(),className:`${y.S94} notranslate`},void 0,this.renderIcon()):n()(_.Z,{style:this.getStyle(),onClick:this.handleClick,disabled:e,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown,hoveredStyle:this.getTeamIconHoverStyle(),pressedStyle:this.getTeamIconHoverStyle(),className:`${y.S94} notranslate`},void 0,this.renderIcon())}renderIcon(){const{icon:e,isEmptyPage:t,role:o,title:i,isLarge:r,pageIconStyle:a,disableShrinking:s,useInvertedColors:c,defaultIcon:d,progressContainerStyle:p,isRaw:u=!0}=this.props,{dataURL:m,isLoading:g,progressPercent:h}=this.stores.fileUploadStore.state,f=this.getSize();if(m&&g)return n()(T.Z,{type:"data_url",size:f,dataURL:m,isLoading:g,progressPercent:h,progressContainerStyle:p,isLarge:r});if(e){if(this.iconIsSingleEmoji())return n()(M.Z,{size:f,emoji:e.icon,disableShrinking:s,isRaw:u});if(l.V2(e.icon))return n()(T.Z,{type:"notion_icon",size:f,icon:e.icon,isLoading:g,progressPercent:h,largeIcon:this.props.largeIcon});{const{icon:t,...o}=e;return n()(T.Z,{type:"authenticated_image_url",size:f,permissionRecord:o.pointer,imageURL:t,isLoading:g,progressPercent:h,isLarge:r})}}return d||(i?n()(I.Z,{size:f,title:i,isLarge:r,useInvertedColors:c}):n()(P.Z,{size:f,isEmptyPage:t,role:o,isLarge:r,pageIconStyle:a}))}iconIsSingleEmoji(){const{icon:e}=this.props;return this.isSingleEmojiMemo.memo((()=>Boolean(e&&(0,c.Z)(e.icon))),[e])}getSize(){const{dataURL:e}=this.stores.fileUploadStore.state;return(this.iconIsSingleEmoji()||this.props.icon&&l.V2(this.props.icon.icon))&&!e&&this.props.emojiSize||this.props.size}isTeamsIconPicker(){var e;return"team"===(null===(e=this.props.iconLoggingData)||void 0===e?void 0:e.recordTable)}shouldShowIconPickerNewBadge(){if(!w.default.checkGate("icons_v2"))return!1;const{currentUserSettingsStore:e}=S.default.state;if(!e||!e.isReady())return!1;const t=e.getSettings();return!(null!=t&&t.signup_time&&(null==t?void 0:t.signup_time)>16793568e5)&&(null==t||!t.seen_icon_picker_new_v2)}getStyle(){var e;const t=null===(e=this.props.icon)||void 0===e?void 0:e.icon;return{display:"flex",alignItems:"center",justifyContent:"center",height:this.getSize(),width:this.getSize(),borderRadius:"0.25em",flexShrink:0,...this.props.style,...(this.iconIsSingleEmoji()||t&&l.V2(t))&&this.props.emojiStyle}}getTeamIconHoverStyle(){var e;const t=null===(e=this.props.icon)||void 0===e?void 0:e.icon;return this.isTeamsIconPicker()&&t&&l.V2(t)?{background:l.R9(t,this.theme.mode)}:{}}}B.displayName="RecordIcon",B.mediaMenuCaption=n()(u.FormattedMessage,{defaultMessage:"Recommended size is {recommendedWidth} × {recommendedHeight} pixels",id:"recordIcon.mediaMenu.caption",values:{recommendedWidth:280,recommendedHeight:280}});const Z=(0,u.injectIntl)(B)},11470:(e,t,o)=>{o.d(t,{Z:()=>S});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(3779),d=o(90468),p=o(29369),u=o(60709),m=o(38755),g=o(3815),h=o(52275),f=o(31278),v=o(86176),y=o(76798);class b extends l.Z{renderComponent(){const{store:e,placeholder:t,hidePath:o,caption:i}=this.props,r=i||!o&&!(e instanceof g.zX)&&(0,v.L)(e)&&a()(v.Z,{store:e,showFullPathInTooltip:!0});return s.createElement(h.Z,n()({},this.props,{title:a()(y.Z,{store:e,placeholder:t}),icon:this.renderIcon(),caption:r,className:"notranslate"}))}getTitle(){const{store:e}=this.props;switch(e.table){case d.bx:return(0,m.rn)(this.environment,e);case p.e0:return e.getName();default:return}}renderIcon(){const{store:e}=this.props,{isMobile:t}=this.environment.device;return this.props.isSubpage?a()(s.Fragment,{},void 0,c.Z.sub({width:t?17:14,fill:this.theme.lightIconColor,marginLeft:4,marginRight:t?12:8}),a()(f.Z,{disabled:!0,icon:e instanceof g.H2?(0,m.Wd)(this.environment,e):e.getIcon(),isEmptyPage:e instanceof g.G&&e.isEmptyPage(),title:this.getTitle(),size:this.environment.device.isMobile?24:20})):a()(f.Z,{disabled:!0,icon:e instanceof g.H2?(0,m.Wd)(this.environment,e):e.getIcon(),isEmptyPage:e instanceof g.G&&e.isEmptyPage(),title:this.getTitle(),size:this.environment.device.isMobile?24:20})}}b.displayName="RecordMenuItem",b.contextTypes={...u.mw,...l.w};const S=b},86176:(e,t,o)=>{o.d(t,{L:()=>C,Z:()=>M});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(76725),u=o(29369),m=o(82990),g=o(84210),h=o(98165),f=o(23537),v=o(3815),y=o(84076),b=o(76798),S=o(58032),w=o(64369);function k(e,t){const o=h.uJ(e);return o.reverse(),o.filter((o=>{if(o.table===u.e0)return!t&&(0,f.bq)();if(o.id===e.id)return!1;const i=o.getCollectionViewCollectionStore();return!(e instanceof v.NW&&i&&i.id===e.id)}))}function C(e){return k(e).length>0}class _ extends d.Z{constructor(){super(...arguments),this.renderDivider=e=>a()("span",{style:{..._.dividerStyle,...this.props.innerStyle}},e,"/"),this.renderBareEllipsis=e=>c.createElement("div",n()({key:"ellipsis"},e),a()(w.Z,{isSmall:!0},void 0,"...")),this.renderAncestorPage=e=>{const t={...this.getTextStyle(),...this.props.innerStyle};if(!this.props.isLink||e instanceof v.zX)return a()(b.Z,{store:e,style:t,highlighter:this.props.highlighter},e.id);{const{onClick:o}=this.props,i=(0,g.ZP)({store:e});return a()(y.Z,{href:i,onClick:o&&(()=>o(e.id))},e.id,a()(b.Z,{store:e,style:t,highlighter:this.props.highlighter}))}},this.renderTooltipRecordTitle=e=>{const{highlighter:t}=this.props,o={...this.getTextStyle(),...this.getTooltipStyle()},i=t&&{...t,style:this.getTooltipHighlightStyle()};return a()(b.Z,{store:e,style:o,highlighter:i},e.id)}}renderComponent(){const{store:e,extraLength:t,hideTeam:o}=this.props,i=2+(t?Math.floor(t):0),n=Math.ceil(i/2),r=i-n,s=k(e,o).filter((e=>{if(e instanceof v.G||e instanceof v.zX&&(0,f.bq)())return!0}));if(0===s.length)return null;const c=Math.ceil(s.length/2),d=l().take(s,Math.min(c,n)),u=l().takeRight(s,Math.min(s.length-c,r)),m=l().compact([...d.map(this.renderAncestorPage),s.length>i&&this.renderEllipsis(s.slice(d.length,s.length-u.length)),...u.map(this.renderAncestorPage)]);return a()("div",{style:{display:"flex",...this.getTextStyle(),...this.props.style}},void 0,this.props.left,(0,p.Z)(m,this.renderDivider),this.props.right)}renderEllipsis(e){return this.props.showFullPathInTooltip&&e.length>0?a()(S.Z,{placement:S.Z.Placement.Bottom,render:this.renderBareEllipsis,renderTooltip:()=>a()("div",{style:{display:"flex",...this.getTextStyle(),...this.props.style}},void 0,(0,p.Z)(e.map(this.renderTooltipRecordTitle),this.renderDivider))},"ellipsis"):this.renderBareEllipsis()}getTooltipHighlightStyle(){return{fontWeight:m.Z.fontWeight.medium,color:this.theme.regularInvertedTextColor}}getTooltipStyle(){const{highlighter:e}=this.props;return{color:e?this.theme.mediumInvertedTextColor:this.theme.regularInvertedTextColor}}getTextStyle(){const{device:e}=this.environment;return{fontSize:e.isMobile?m.Z.fontSize.UISmall.mobile:m.Z.fontSize.UISmall.desktop,color:this.props.textColor??this.theme.lightTextColor,overflow:"hidden"}}}_.displayName="RecordPath",_.dividerStyle={paddingLeft:4,paddingRight:4};const M=_},76798:(e,t,o)=>{o.d(t,{Z:()=>w});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(17215),u=o(42875),m=o(82990),g=o(33929),h=o(38755),f=o(3815),v=o(62896),y=o(64133),b=o(58032);function S(e,t){const{store:o,highlighter:i,maxLength:r,placeholder:S,shouldWrap:w,enableHover:k}=e,C=(0,l.O7)(),_=(0,c.VK)((()=>{if(o instanceof f.zX)return o.getName();if(o instanceof f.H2)return(0,h.rn)(C,o);if(o instanceof f.Xr)return o.getName();return"none"===o.getRole()?p.x(g.default.getIntl()):o.isDefined()?o.getModel().getRenderTitle({getRecordModel:o.getRecordModel,userTimeZone:(0,u.r)(),intl:g.default.getIntl()}):void 0}),[C,o]),M=(0,c.VK)((()=>{if(_){const e=r&&_.length>r?`${_.slice(0,r)}…`:_;return i?a()(y.Z,{text:e,highlighter:i}):a()(v.Z,{},void 0,e)}return S||function(e,t){if(!e.isDefined())return;return e.getModel().getEmptyTitlePlaceholder({getRecordModel:e.getRecordModel,userTimeZone:(0,u.r)(),intl:t})}(o,g.default.getIntl())}),[i,r,S,o,_]),T=(0,s.createRef)();(0,s.useImperativeHandle)(t,(()=>({getNode:()=>T.current})));const[I,P]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w||k&&T.current&&P(T.current.scrollWidth>T.current.clientWidth)}),[w,k,T]);const x=function(e){return(0,d.yK)((t=>({root:{...!e.shouldWrap&&{...m.Z.textOverflowStyle},...e.underline&&{backgroundImage:`\n\t\t\t\t\tlinear-gradient(\n\t\t\t\t\t\tto right,\n\t\t\t\t\t\t${t.darkDividerColor} 0%,\n\t\t\t\t\t\t${t.darkDividerColor} 100%\n\t\t\t\t\t)\n\t\t\t\t`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"},...e.style}})),[e.shouldWrap,e.underline,e.style])}(e);return e.shouldWrap?s.createElement("span",{ref:T,className:"notranslate",style:x.root},M):I?a()(b.Z,{placement:b.Z.Placement.Bottom,render:e=>s.createElement("span",n()({ref:T,className:"notranslate"},e,{style:x.root}),M),renderTooltip:()=>M}):s.createElement("div",{ref:T,className:"notranslate",style:x.root},M)}const w=s.forwardRef(S)},77137:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(96486),n=o.n(i),r=o(83355),a=o(85844),s=o(72087);class l extends r.Z{constructor(){super(...arguments),this.debounce=void 0,this.throttle=void 0,this.interval=void 0,this.browserInterval=void 0,this.requestCounter=0,this.storeTypes={requestStore:s.Z},this.handlePageVisibilityChange=()=>{a.Z.state.isVisible?this.interval||this.setRequestInterval():this.clearRequestInterval()},this.performRequest=async()=>new Promise(((e,t)=>{const{requestStore:o}=this.stores,{performRequest:i}=this.props,{request:n}=o.state;this.requestCounter++;const r=this.requestCounter;this.stores.requestStore.setState({...this.stores.requestStore.state,ready:!1,loading:!0}),i(n).then((t=>{this.requestCounter===r&&o.setState({...o.state,error:void 0,result:t,ready:!0,loading:!1}),e()})).catch((e=>{console.error(e),this.requestCounter===r&&o.setState({...o.state,error:e,result:void 0,ready:!0,loading:!1}),t(e)}))})),this.performRequestDebouncedWrapped=()=>{this.stores.requestStore.setState({...this.stores.requestStore.state,ready:!1,loading:!0}),this.performRequestDebounced()},this.performRequestDebounced=this.performRequest}async fetch(){return this.performRequest()}willMount(e){super.willMount(e),a.Z.addListener(this.handlePageVisibilityChange)}willMountOrUpdate(e){super.willMountOrUpdate(e);const{requestStore:t}=this.stores,{request:o,debounce:i,throttle:r,interval:a}=e;i!==this.debounce&&(this.debounce=i,this.performRequestDebounced=i?n().debounce(this.performRequest,i):this.performRequest),r!==this.throttle&&(this.throttle=r,this.performRequestDebounced=r?n().throttle(this.performRequest,r):this.performRequest),a!==this.interval&&(this.interval=a,this.clearRequestInterval(),this.setRequestInterval()),n().isEqual(o,t.state.request)||(t.setState({...t.state,request:o}),0!==this.requestCounter||e.performFirstRequestAsync?this.performRequestDebouncedWrapped():this.performRequest()),t.refresh=this.performRequest}willUnmount(){super.willUnmount(),a.Z.removeListener(this.handlePageVisibilityChange),this.clearRequestInterval()}shouldComponentUpdate(e){return!0}renderComponent(){const{requestStore:e}=this.stores,{render:t}=this.props,{error:o,result:i,ready:n}=e.state;return this.handlePageVisibilityChange(),t(o,i,n)}clearRequestInterval(){this.browserInterval&&(clearInterval(this.browserInterval),this.browserInterval=null)}setRequestInterval(){this.props.interval&&(this.browserInterval=setInterval(this.performRequest,this.props.interval))}}l.displayName="Request";const c=l},43145:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=(o(67294),o(62518)),l=o(83355),c=o(73744),d=o(77546);class p extends l.Z{constructor(){super(...arguments),this.node=void 0,this.scrollableAncestor=void 0,this.lastOffsetFromBottom=0,this.lastOffsetFromRight=0,this.handleScroll=e=>{this.triggerIfChanged()},this.handleScrollThrottled=a().throttle(this.handleScroll,p.scrollThrottle)}getOffsetFromBottom(){if(this.node&&this.scrollableAncestor){const e=this.node.getBoundingClientRect(),t=this.scrollableAncestor.getBoundingClientRect(),{scrollTop:o}=this.scrollableAncestor;return e.top+e.height+o-t.top-(o+t.height)}return 0}getOffsetFromRight(){if(this.node&&this.scrollableAncestor){const e=this.node.getBoundingClientRect(),t=this.scrollableAncestor.getBoundingClientRect(),{scrollLeft:o,scrollWidth:i}=this.scrollableAncestor,n=e.left+e.width+o-t.left,r=o+t.width;return i-e.width-(r-n)}return 0}getOffsetFromTop(){var e;return(null===(e=this.scrollableAncestor)||void 0===e?void 0:e.scrollTop)||0}shouldComponentUpdate(){return!0}didMount(){super.didMount(),this.node=s.findDOMNode(this),this.scrollableAncestor=(0,d.VW)(this.node),this.scrollableAncestor&&c.lj(this.scrollableAncestor,"scroll",this.handleScrollThrottled)}willUnmount(){super.willUnmount(),this.scrollableAncestor&&c.ZV(this.scrollableAncestor,"scroll",this.handleScrollThrottled)}didMountOrUpdate(){super.didMountOrUpdate(),this.triggerIfChanged()}renderComponent(){return this.props.children||n()("div",{})}triggerIfChanged(){if(this.props.horiztonal){const e=this.getOffsetFromRight(),t={offsetFromTop:this.getOffsetFromTop()};e!==this.lastOffsetFromRight&&(this.lastOffsetFromRight=e,this.props.onChange(e,t))}else{const e=this.getOffsetFromBottom(),t={offsetFromTop:this.getOffsetFromTop()};e!==this.lastOffsetFromBottom&&(this.lastOffsetFromBottom=e,this.props.onChange(e,t))}}}p.displayName="ScrollOffsetListener",p.scrollThrottle=50;const u=p},18647:(e,t,o)=>{o.d(t,{Z:()=>H});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(54087),l=o.n(s),c=o(67294),d=o(62518),p=o(83355),u=o(1302),m=o(61045),g=o(24677),h=o(98104),f=o(11368),v=o(43250),y=o(75079);let b;let S=!1;function w(){S||(S=!0,l()((()=>{S=!1,(b||(b=document.createElement("div"),b.style.position="fixed",b.style.top="-9999px",b.style.left="-9999px",b.style.zIndex="-9999",document.body.appendChild(b)),b).style.height=`${Math.random()}px`})))}var k=o(73744),C=o(59488),_=o(39500),M=o(77546),T=o(72133);function I(e,t,o,i,n){const r="y"===n?"scrollTop":"scrollLeft",a=e[r],s=t-a,l=+new Date;let c=!0,d=null;const p=()=>{if(!c)return;window.requestAnimationFrame(p);const n=+new Date,u=Math.floor(function(e,t,o,i){return(e/=i/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t}(n-l,a,s,o));d?d===e[r]?(e[r]=u,d=e[r]):c=!1:(e[r]=u,d=e[r]),n>l+o&&(e[r]=t,c=!1,i&&i())};window.requestAnimationFrame(p)}var P=o(64815),x=o(34859),B=o(15723),Z=o(4926),E=o(80796),R=o(96049),A=o(69454),D=o(69784),F=o(45589),L=o(24666),V=o(5366),N=o(42922);function O(e){return window.__c={n:"ScrollerScrollDownButton"},n()("div",{style:{display:"flex",justifyContent:"center"}},void 0,n()(N.Z,{style:{zIndex:2,maxWidth:100,position:"absolute",bottom:30,borderRadius:30},onClick:e.onClick},void 0,n()("div",{},void 0,n()(V.FormattedMessage,{id:"scroller.scrollDown.name",defaultMessage:"Scroll down"}))))}class U extends p.Z{constructor(){super(...arguments),this.el=null,this.mouseX=0,this.mouseY=0,this.resizeObserver=void 0,this.shouldMeasureScrollLagForSession=!1,this.maxScrollLagInSessionMs=0,this.storeTypes={store:F.Z},this.handleScrollDown=()=>{this.scrollToBottom({animate:!0})},this.handleMouseMove=e=>{this.props.onMouseMove&&this.props.onMouseMove(e),this.handleEdgeScrollThrottled()},this.handleTouchMove=()=>{this.handleEdgeScrollThrottled()},this.handleEdgeScroll=()=>{const{device:e}=this.environment;e.isIOS||e.isSafari?this.triggerEdgeScrollThrottled():this.triggerEdgeScroll()},this.handleEdgeScrollThrottled=a().throttle(this.handleEdgeScroll,30),this.handleScroll=e=>{const{device:t}=this.environment;if(!this.el)return;const{scrollTop:o,scrollHeight:i,scrollWidth:n,scrollLeft:r}=this.el;!this.stores.store.state.isScrolling&&this.props.onScrollLagMeasure&&(this.shouldMeasureScrollLagForSession=y.tN("collections.max_scroll_lag_in_session")),this.stores.store.setState({...this.stores.store.state,scrollTop:o,scrollHeight:i,scrollLeft:r,scrollWidth:n,isScrolling:!0}),this.shouldMeasureScrollLagForSession&&u.default.measureFlush((e=>{this.maxScrollLagInSessionMs=Math.max(this.maxScrollLagInSessionMs,e)})),this.props.onScroll&&this.props.onScroll(e),this.handleScrollEndDelayed(),t.isIOS||t.isSafari?this.triggerEdgeScrollThrottled():this.triggerEdgeScroll(),t.isMobileNative&&t.isIOS&&function(){const e=window.getSelection();e&&e.anchorNode&&w()}(),t.isMobile&&this.handleDismissKeyboardOnScroll()},this.handleDismissKeyboardOnScroll=()=>{this.el&&this.el.scrollTop<-30&&this.containsCurrentTextSelectionEl()&&(g.ZH(this.environment),h.sD())},this.handleScrollEnd=()=>{this.stores.store.setState({...this.stores.store.state,isScrolling:!1}),this.shouldMeasureScrollLagForSession&&this.props.onScrollLagMeasure&&this.props.onScrollLagMeasure(this.maxScrollLagInSessionMs),this.shouldMeasureScrollLagForSession=!1,this.maxScrollLagInSessionMs=0},this.handleScrollEndDelayed=a().debounce(this.handleScrollEnd,U.scrollEndThreshold),this.ref=e=>{this.el=e},this.mobileShouldScrollToTopStore=this.createComputedStore((()=>m.YC(this.environment))),this.triggerEdgeScrollThrottled=a().throttle(this.triggerEdgeScroll,1e3/60),this.measureSize=()=>{if(this.el){const e=this.el;let t=B.iL.from(this.el.getBoundingClientRect());P.Z.forEach((o=>{const i=o.getNode();i&&e.contains(i)&&(t=o.customizeEdgeScrollRect(t))}));const o={...this.stores.store.state,clientRect:t,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth};return a().isEqual(this.stores.store.state,o)||this.stores.store.setState(o),t}},this.measureSizeDebounced=a().debounce(this.measureSize,500,{leading:!0}),this.handleWindowMouseMove=e=>{this.mouseX=e.clientX,this.mouseY=e.clientY},this.handleWindowTouchMove=e=>{this.mouseX=e.touches[0].clientX,this.mouseY=e.touches[0].clientY},this.handleScrollbarOffset=()=>{const{device:e}=this.environment;if(e.isMobile)return;const t=d.findDOMNode(this);if(!t)return;if(!(t instanceof HTMLElement))return;let o=0,i=0;const{type:n,preventType:r}=this.props;r!==x.Z.All&&r!==x.Z.Y||t.scrollHeight>t.clientHeight&&(n===x.Z.All||n===x.Z.Y)&&(o=Z.Z.state),r!==x.Z.All&&r!==x.Z.X||t.scrollWidth>t.clientWidth&&(n===x.Z.All||n===x.Z.X)&&(i=Z.Z.state);const a=this.props.style;(!a||void 0===a.marginRight&&void 0===a.margin)&&(t.style.marginRight=`${o.toString()}px`),(!a||void 0===a.marginBottom&&void 0===a.margin)&&(t.style.marginBottom=`${i.toString()}px`)},this.handleMobileFixedSizeWebViewPadding=()=>{if(!(0,C.Y)("supportsFixedSizeWebView"))return;const e=this.props.style;if((this.props.type===x.Z.All||this.props.type===x.Z.Y)&&(!e||void 0===e.paddingBottom)&&(A.Z.state.phase!==A.i.hidden||(0,C.Y)("supportsNativeBottomBarOverlappingWebView"))&&this.el){const{WindowSizeStore:e}=this.environment,t=this.el.getBoundingClientRect(),o=e.state.height,i=o-A.Z.estimatedNativeWebBottomOverlap(),n=this.containsCurrentTextSelectionEl()&&this.mobileShouldScrollToTopStore.state?t.height:0,r=44,a=Math.max(Math.min(t.bottom,o)-i,n,0);this.mutateDOM((()=>{this.el&&(this.el.style.paddingBottom=`${(a+r).toString()}px`)}))}}}scrollTo(e,t,o){this.componentIsMounted&&this.el&&(e=void 0!==e?e:this.el.scrollTop,t=void 0!==t?t:this.el.scrollLeft,o&&o.animate?(I(this.el,e,200,o.animationCallback||a().identity,"y"),I(this.el,t,200,o.animationCallback||a().identity,"x")):(this.el.scrollTop=e,this.el.scrollLeft=t))}scrollByOffset(e,t,o){if(this.componentIsMounted&&this.el){const i=this.el.scrollTop+e,n=this.el.scrollLeft+t;this.scrollTo(i,n,o)}}scrollToTop(e){const{device:t}=this.environment;t.isIOS&&this.getStore().state.isScrolling&&this.scrollerHack(),this.scrollTo(0,0,e)}scrollToBottom(e){this.componentIsMounted&&this.el&&this.scrollTo(this.el.scrollHeight,0,e)}scrollToRight(e){this.componentIsMounted&&this.el&&this.scrollTo(0,this.el.scrollWidth,e)}scrollerEl(){return this.el}getStore(){return this.stores.store}getClientRect(){return this.measureSize()}scrollerHack(){this.mutateDOM((()=>{this.el&&(this.el.style.overflow="hidden",setTimeout((()=>{this.mutateDOM((()=>{this.el&&(this.el.style.overflow="scroll")}))}),0))}))}didMount(){l()(this.measureSize),this.el&&(k.lj(this.el,"scroll",this.handleScroll),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.measureSizeDebounced),this.resizeObserver.observe(this.el)));const{device:e}=this.environment;e.isMobile?(k.lj(window,"touchmove",this.handleWindowTouchMove),k.lj(window,"mousemove",this.handleWindowMouseMove),(0,C.Y)("supportsFixedSizeWebView")&&(A.Z.addListener(this.handleMobileFixedSizeWebViewPadding),this.mobileShouldScrollToTopStore.addListener(this.handleMobileFixedSizeWebViewPadding))):k.lj(window,"mousemove",this.handleWindowMouseMove),this.handleScrollbarOffset(),this.handleMobileFixedSizeWebViewPadding()}didUpdate(){this.handleScrollbarOffset(),this.handleMobileFixedSizeWebViewPadding()}willUnmount(){var e;this.el&&k.ZV(this.el,"scroll",this.handleScroll);const{device:t}=this.environment;t.isMobile?(k.ZV(window,"touchmove",this.handleWindowTouchMove),k.ZV(window,"mousemove",this.handleWindowMouseMove),(0,C.Y)("supportsFixedSizeWebView")&&(A.Z.removeListener(this.handleMobileFixedSizeWebViewPadding),this.mobileShouldScrollToTopStore.removeListener(this.handleMobileFixedSizeWebViewPadding))):k.ZV(window,"mousemove",this.handleWindowMouseMove),null===(e=this.resizeObserver)||void 0===e||e.disconnect()}renderComponent(){var e,t;const{type:o}=this.props;return n()(f.zR,{value:{horizontalScroller:o===x.Z.X||o===x.Z.All?this:null===(e=this.context.scrollerContext)||void 0===e?void 0:e.horizontalScroller,verticalScroller:o===x.Z.Y||o===x.Z.All?this:null===(t=this.context.scrollerContext)||void 0===t?void 0:t.verticalScroller}},void 0,c.createElement("div",{style:this.getStyle(),className:a().compact([v.OK_,(o===x.Z.Y||o===x.Z.All)&&v.wKH,(o===x.Z.X||o===x.Z.All)&&v.PBs,this.props.className]).join(" "),onMouseMove:this.handleMouseMove,onTouchMove:this.handleTouchMove,onMouseDown:this.props.onMouseDown,onMouseLeave:this.props.onMouseLeave,onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,ref:this.ref},this.props.children,this.props.showScrollToBottomIndicator&&!this.atScrollEnd()&&n()(O,{onClick:this.handleScrollDown})),this.props.showLeftRightOverlay&&!1===this.atScrollLeftEdge()&&this.renderOverlay("left"),this.props.showLeftRightOverlay&&!1===this.atScrollRightEdge()&&this.renderOverlay("right"))}renderOverlay(e){var t,o;const i="left"===e?90:270,r=null===(t=this.props.style)||void 0===t?void 0:t.marginLeft,a=null===(o=this.props.style)||void 0===o?void 0:o.marginRight,s="left"===e?this.props.leftOverlayStyle:this.props.rightOverlayStyle;return n()("div",{style:{position:"absolute",background:`linear-gradient(${i}deg, ${this.theme.contentBackground} 0%, ${this.theme.contentBackgroundTransparent} 100%)`,top:0,bottom:0,left:"left"===e?r||0:void 0,right:"right"===e?a||0:void 0,width:18,zIndex:10,pointerEvents:"none",...s}})}atScrollEnd(){if(!this.stores.store.state.clientRect||!this.el)return!1;const{scrollTop:e,scrollHeight:t,clientHeight:o}=this.el,i=t-(e+o);return Math.abs(i)<10}atScrollStart(){if(!this.stores.store.state.clientRect||!this.el)return!1;const{scrollTop:e}=this.el;return Math.abs(e)<10}atScrollLeftEdge(){if(!this.stores.store.state.clientRect||!this.el)return;const{type:e}=this.props;return e!==x.Z.None&&e!==x.Z.Y?Math.abs(this.el.scrollLeft)<10:void 0}atScrollRightEdge(){if(!this.stores.store.state.clientRect||!this.el)return;const{type:e}=this.props;if(e===x.Z.None||e===x.Z.Y)return;const{scrollLeft:t,scrollWidth:o,clientWidth:i}=this.el,n=o-(t+i);return Math.abs(n)<10}shouldScrollNearEdge(){return this.props.type!==x.Z.None&&_.X9()&&R.Z.state}triggerEdgeScroll(){if(this.shouldScrollNearEdge()){this.measureSizeDebounced();const{disableVerticalEdgeScroll:e,disableHorizontalEdgeScroll:t}=E.Z.state,o=D.Z.state,i=!!o.isActive&&!o.allowVerticalEdgeScroll,n=!!o.isActive&&!o.allowHorizontalEdgeScroll;m.aB({environment:this.environment,scroller:this,currentMouseX:this.mouseX,currentMouseY:this.mouseY,verticalEdgeThreshold:this.getVerticalEdgeScrollThreshold(),horizontalEdgeThreshold:this.getHorizontalEdgeScrollThreshold(),disableVerticalEdgeScroll:e||i,disableHorizontalEdgeScroll:t||n})}}getVerticalEdgeScrollThreshold(){const{device:e}=this.environment,{clientRect:t}=this.stores.store.state;let o=t&&t.height?t.height:0;return e.isMobile?o*=.2:o*=.1,o=Math.max(o,20),o}getHorizontalEdgeScrollThreshold(){const{device:e}=this.environment,{clientRect:t}=this.stores.store.state;let o=t&&t.width?t.width:0;return e.isMobile?o*=.2:o*=.08,o=Math.max(o,20),o}getStyle(){const{device:e}=this.environment,{type:t,preventType:o}=this.props,i={...this.props.style,zIndex:1};let n;if(void 0!==o){let e=!1,i=!1;t!==x.Z.All&&t!==x.Z.X||(e=!0),t!==x.Z.All&&t!==x.Z.Y||(i=!0),o!==x.Z.All&&o!==x.Z.X||(e=!1),o!==x.Z.All&&o!==x.Z.Y||(i=!1),n=e&&i?x.Z.All:e?x.Z.X:i?x.Z.Y:x.Z.None}else n=t;return t!==x.Z.None&&n===x.Z.None?i.overflow="hidden":n===x.Z.All?(i.overflow="auto",i.WebkitOverflowScrolling="touch"):n===x.Z.X?(i.overflowX="auto",i.overflowY="hidden",i.WebkitOverflowScrolling="touch"):n===x.Z.Y&&(i.overflowX="hidden",i.overflowY="auto",i.WebkitOverflowScrolling="touch"),e.isMobile&&(i.transform="translate3d(0px,0px,0px)",i.willChange="scroll-position, transform"),void 0!==this.props.zIndex&&(i.zIndex=this.props.zIndex),i}containsCurrentTextSelectionEl(){if(!this.el)return!1;if("editing"!==L.default.state.mode)return!1;const e=T.get();if(!e)return!1;const t=M.SD(e.commonAncestorContainer);return!!t&&this.el.contains(t)}}U.displayName="Scroller",U.OverflowType=x.Z,U.contextTypes={...f.I3,...p.w},U.scrollEndThreshold=200;const H=U},72495:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(80357),d=o(82990),p=o(60709),u=o(68785),m=o(33411);class g extends l.Z{constructor(){super(...arguments),this.renderLoadingSpinner=e=>a()(u.Z,{style:{visibility:e?void 0:"hidden"}})}renderComponent(){var e;const{title:t,children:o,topBorder:i,isTitleUppercase:r,isInput:l,isSubmitButton:d,extraTopPadding:u,disableMobilePadding:m,enableActionSheetTitle:h,className:f}=this.props;if(this.environment.device.isPhone&&(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==p.og.Popup){var v,y;const e=t&&((null===(v=this.context.menu)||void 0===v?void 0:v.menuType)!==p.og.ActionSheet||h);return s.createElement("div",n()({className:f},(0,c.iv)((null===(y=this.context.menu)||void 0===y?void 0:y.menuType)===p.og.Modal&&!m&&g.mobileModalStyle)),e&&a()("div",{style:this.getMobileTitleStyle()},void 0,a()("div",{style:this.getTextOverflowStyle()},void 0,t),this.renderRight()),a()("div",{style:{boxShadow:this.getMobileSectionBorders(),...this.props.mobileStyle}},void 0,o))}return s.createElement("div",n()({className:f},(0,c.iv)(!this.props.disableDesktopPadding&&g.desktopPaddingStyle,l&&{marginTop:8},d&&{marginBottom:6},i&&{boxShadow:`0 -1px 0 ${this.theme.regularDividerColor}`,marginTop:1},u&&{paddingTop:8},i&&t&&{marginTop:6,paddingTop:6},this.props.desktopStyle,this.props.style)),t&&s.createElement("div",(0,c.iv)(this.environment.device.isPhone?{...this.getMobileTitleStyle(),marginTop:8}:this.getDesktopTitleStyle(),r&&g.desktopTitleUppercaseStyle),a()("div",{style:this.getTextOverflowStyle()},void 0,t),this.renderRight()),o)}renderRight(){const{right:e,loading:t}=this.props,o=Boolean(t),i=e&&!o;return a()("div",{style:g.titleRightStyle},void 0,i?e:a()(m.Z,{show:o,showDelay:500,showHold:300,render:this.renderLoadingSpinner}))}getMobileTitleStyle(){var e,t,o;const{WindowSizeStore:i}=this.environment;return{display:"flex",alignItems:"baseline",color:this.theme.mediumTextColor,lineHeight:1,fontSize:12,fontWeight:500,paddingLeft:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==p.og.Popup?i.getSafePaddingLeftCSS(16):16,paddingRight:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==p.og.Popup?i.getSafePaddingRightCSS(16):16,marginBottom:8,marginTop:(null===(o=this.context.menu)||void 0===o?void 0:o.menuType)===p.og.ActionSheet?16:void 0,userSelect:"none",WebkitUserSelect:"none",...this.props.mobileTitleStyle}}getDesktopTitleStyle(){return{display:"flex",paddingLeft:14,paddingRight:14,marginTop:6,marginBottom:8,color:this.theme.mediumTextColor,fill:this.theme.mediumIconColor,fontSize:12,fontWeight:500,lineHeight:"120%",userSelect:"none",WebkitUserSelect:"none",...this.props.desktopTitleStyle}}getTextOverflowStyle(){return this.props.noTextOverflow?{display:"flex",alignSelf:"center"}:{alignSelf:"center",...d.Z.textOverflowStyle}}getMobileSectionBorders(){var e;return this.props.disableMobileBorders?"none":this.props.shouldShowBottomDivider?`\n\t\t\t\t\t0 1px 0 ${this.theme.regularDividerColor},\n\t\t\t\t\t0 -1px 0 ${this.theme.regularDividerColor}\n\t\t\t\t`:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==p.og.ActionSheet?`0 -1px 0 ${this.theme.regularDividerColor}`:"none"}}g.displayName="SectionMenuItem",g.contextTypes={...p.mw,...l.w},g.mobileModalStyle={paddingTop:28},g.desktopPaddingStyle={paddingTop:6,paddingBottom:6},g.desktopTitleUppercaseStyle={textTransform:"uppercase",fontSize:11,fontWeight:d.Z.fontWeight.medium},g.titleRightStyle={marginLeft:"auto"};const h=g},14871:(e,t,o)=>{o.d(t,{Z:()=>S});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(60709),u=o(61766),m=o(31194),g=o(31945),h=o(78140),f=o(9342),v=o(40721),y=o(72495);class b extends d.Z{constructor(){super(...arguments),this.storeTypes={buttonPopupStore:u.Z},this.renderPopup=e=>{const{device:t}=this.environment,{items:o}=this.props,i=[];if(this.itemsHasSections(o))o.forEach(((t,o)=>{const n=this.sectionFromItems(t,o,e);i.push(n)}));else{const t=this.sectionFromItems(o,0,e);i.push(t)}const n=a()(f.Z,{type:f.i.Vertical,initialFocus:l().findIndex(l().flatten(o),(e=>l().isEqual(e,this.props.selectedItem))),sections:i});let r;return r=t.isMobile?this.props.mobileActionSheet?{menuType:p.og.ActionSheet}:{menuType:p.og.Modal,title:this.props.menuTitle,right:a()(v.DoneMenuText,{}),onClickRight:e.close}:{menuType:p.og.Popup,width:this.props.width||160,minWidth:this.props.minWidth},c.createElement(h.Z,r,n)}}willMount(){this.props.openInitially&&this.stores.buttonPopupStore.setState({open:!0})}renderComponent(){const{device:e}=this.environment;return a()(g.Z,{popupType:e.isMobile?g.Z.PopupType.SlideUp:g.Z.PopupType.Popup,renderOrigin:this.props.renderOrigin,buttonPopupStore:this.stores.buttonPopupStore,placementToOrigin:m.Iw.Bottom,render:this.renderPopup,disabled:this.props.disabled,originGap:this.props.originGap})}handleSelect(e){this.props.selectedItem!==e&&this.props.onSelect(e)}itemsHasSections(e){return e.length>0&&e[0]instanceof Array}sectionFromItems(e,t,o){return{key:0,render:e=>c.createElement(y.Z,n()({},e,{key:t,topBorder:t>0})),items:e.map((e=>({key:this.props.getKey(e),render:t=>this.props.renderItem({...t,value:e,key:this.props.getKey(e),selectedItem:this.props.selectedItem}),action:()=>{this.handleSelect(e),this.props.dontCloseParentOnSelect||o.close()}})))}}}b.displayName="Select";const S=b},62385:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(64921);class s extends r.Z{renderComponent(){return n()(a.Z,{onClick:this.props.onClick,disabled:this.props.disabled,style:this.getButtonStyle(),disabledFeedback:this.props.disabledFeedback,hovered:this.props.hovered,hoveredStyle:this.props.hoveredStyle},void 0,this.props.children)}getButtonStyle(){return{display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",height:20,borderRadius:3,fontSize:12,lineHeight:1.2,paddingLeft:5,paddingRight:5,color:this.theme.mediumTextColor,...this.props.underlined&&{textDecoration:"underline"},...this.props.style}}}s.displayName="SmallButton";const l=s},32662:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(77094),n=o.n(i);o(67294);function r(e){window.__c={n:"Spacer"};const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),n()("div",{style:t})}},30506:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(83355);class n extends i.Z{constructor(){super(...arguments),this.touchX=void 0,this.handleTouchStart=e=>{this.touchX=e.touches[0].clientX},this.handleTouchMove=e=>{if(void 0===this.touchX)return;const t=this.props.threshold||120,o=this.touchX-e.touches[0].clientX;o>t&&this.props.onSwipeLeft&&(this.props.onSwipeLeft(),this.touchX=void 0),o<-1*t&&this.props.onSwipeRight&&(this.props.onSwipeRight(),this.touchX=void 0)},this.handleTouchEnd=()=>{this.touchX=void 0},this.handleTouchCancel=()=>{this.touchX=void 0}}renderComponent(){return this.props.render({onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel})}}n.displayName="Swipe";const r=n},24006:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(6740),l=o(24405),c=o(8848),d=o(80357),p=o(12534);const u=()=>{};function m(e){let{on:t,disabled:o,onClick:i,noColor:m=!1,isMobile:g=!1,disallowTabbing:h}=e;window.__c={n:"SwitcherButton"};const[f,v]=(0,s.Z)(),y=(0,a.Fy)(),b=void 0===g?y.isMobile:g,S=y.isAndroid,w=(0,l.yK)((e=>{const i="dark"===e.mode,n=e.shadowColor,r=e.shadowOpacity,a=S?0:2,s=S?14:b?26:18,l=S?38:b?44:30;return{root:{position:"relative",borderRadius:44,...v&&{boxShadow:e.outlineBlueInputBoxShadow}},track:{display:"flex",flexShrink:0,height:s-2*a,width:l-2*a,borderRadius:44,padding:a,boxSizing:"content-box",background:t?S?c.ZP.blueWithAlpha(.28):m?c.se[e.mode].gray.alpha(.3).css():c.ZP.blue:S?c.se[e.mode].gray.alpha(.4).css():b?c.ZP.transparent:i?c.se[e.mode].lightgray.alpha(.3).css():c.se[e.mode].gray.alpha(.3).css(),boxShadow:t||S||!b?"":`inset 0 0 0 1px ${e.darkDividerColor}`,transition:"background 200ms, box-shadow 200ms",...o&&{cursor:"default"}},circle:{width:(S?22:b?26:18)-2*a,height:(S?22:b?26:18)-2*a,borderRadius:44,background:S&&t?c.ZP.blue:c.ZP.white,transition:"transform 200ms ease-out, background 200ms ease-out",transform:`\n\t\t\t\ttranslateX(${t?(S?18:b?22:16)-2*a:0}px)\n\t\t\t\ttranslateY(-${S?4:0}px)\n\t\t\t`,boxShadow:S?`\n\t\t\t\t\t0 1px 3px ${n.alpha(2*r).css()},\n\t\t\t\t\t0 6px 20px ${n.alpha(3*r).css()}\n\t\t\t\t`:b?`\n\t\t\t\t\t\t0 0 0 0.5px ${n.alpha(r).css()},\n\t\t\t\t\t\t0 3px 8px 0 ${n.alpha(r).css()},\n\t\t\t\t\t\t0 1px 1px 0 ${n.alpha(r).css()},\n\t\t\t\t\t\t0 3px 1px 0 ${n.alpha(r).css()}\n\t\t\t\t\t`:void 0},input:{position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,...o?{pointerEvents:"none"}:{cursor:"pointer"}}}}),[b,o,S,v,m,t]),k=(0,r.useCallback)((e=>{(0,p.ZP)({event:e,context:p.Af.EditorClick,callback:()=>{void 0!==i&&i(e)}})}),[i]),C=(0,l.Fg)();return r.createElement("div",(0,d.iv)(w.root,o?{}:{pseudoHover:{background:C.buttonHoveredBackground},pseudoActive:{background:C.buttonPressedBackground}}),n()("div",{style:w.track},void 0,n()("div",{style:w.circle})),r.createElement("input",{disabled:o,checked:t,onClick:k,onChange:u,type:"checkbox",ref:f,role:"switch",tabIndex:h||o?-1:void 0,style:w.input}))}},86825:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(97464),n=o.n(i),r=o(67294),a=o(52275),s=o(24006);function l(e,t){return window.__c={n:"SwitcherMenuItem"},r.createElement(a.Z,n()({role:"menuitemcheckbox"},e,{ref:t,right:r.createElement(s.Z,n()({},e,{disallowTabbing:!0})),dontShrinkRight:!0}))}const c=r.forwardRef(l)},33411:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(83355),n=o(12318);class r extends i.Z{constructor(){super(...arguments),this.storeTypes={shown:n.default.of(!1)},this.showTimerId=void 0,this.hideTimerId=void 0}didMountOrUpdate(){this.props.show?(this.hideTimerId&&clearTimeout(this.hideTimerId),this.hideTimerId=void 0):(this.showTimerId&&clearTimeout(this.showTimerId),this.showTimerId=void 0),!this.props.show||this.stores.shown.get()||this.showTimerId?this.props.show||!this.stores.shown.get()||this.hideTimerId||(0===this.props.showHold?this.stores.shown.set(!1):this.setupHideTimer()):0===this.props.showDelay?(this.stores.shown.set(!0),0!==this.props.showHold&&this.setupHideTimer()):this.showTimerId=window.setTimeout((()=>{this.showTimerId=void 0,this.stores.shown.set(!0),0!==this.props.showHold&&this.setupHideTimer()}),this.props.showDelay)}renderComponent(){return this.props.render(this.stores.shown.get())}setupHideTimer(){this.hideTimerId=window.setTimeout((()=>{this.hideTimerId=void 0,!this.props.show&&this.stores.shown.get()&&this.stores.shown.set(!1)}),this.props.showHold)}}r.displayName="Throttled";const a=r},58032:(e,t,o)=>{o.d(t,{Z:()=>y,J:()=>f});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(6740),s=o(82990),l=o(63143),c=o(25464),d=o(96049),p=o(22294),u=o(49085);class m extends u.Z{getInitialState(){return{focused:!1,hovered:!1}}}const g=m;var h=o(44532);function f(e,t){return{background:t?e.contentBackground:e.tooltipBackground,color:t?e.regularTextColor:e.regularInvertedTextColor,borderRadius:4,padding:"4px 8px",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontSize:12,lineHeight:1.4,fontWeight:s.Z.fontWeight.medium}}class v extends r.Z{constructor(){super(...arguments),this.storeTypes={store:g},this.renderTooltip=()=>this.props.renderTooltip({onMouseEnter:this.handleMouseEnterTooltip,onMouseLeave:this.handleMouseLeaveTooltip}),this.mouseEnterTimeout=void 0,this.mouseLeaveTimeout=void 0,this.handleMouseEnterOrigin=()=>{if(!d.Z.state&&!p.Z.state.isKeyboardMode){this.clearTimeouts();const e=void 0===this.props.delayThreshold?200:this.props.delayThreshold;this.mouseEnterTimeout=window.setTimeout(this.setMouseEntered,e)}},this.setMouseEntered=()=>{this.stores.store.setState({...this.stores.store.state,hovered:!0})},this.handleMouseDownOrigin=()=>{this.handleClose()},this.handleMouseLeaveOrigin=()=>{this.props.allowHover?(this.clearTimeouts(),this.mouseLeaveTimeout=window.setTimeout(this.handleClose,this.getCloseDelay())):this.handleClose()},this.handleClose=()=>{this.clearTimeouts(),this.stores.store.setState({...this.stores.store.state,hovered:!1})},this.handleMouseEnterTooltip=()=>{this.clearTimeouts(),this.setMouseEntered()},this.handleMouseLeaveTooltip=()=>{this.clearTimeouts(),this.mouseLeaveTimeout=window.setTimeout(this.handleClose,this.getCloseDelay())},this.handleFocusOrigin=e=>{(0,a.E)(e.target)&&this.stores.store.setState({...this.stores.store.state,focused:!0})},this.handleBlurOrigin=()=>{this.stores.store.setState({...this.stores.store.state,focused:!1})}}willUpdate(e){const t=this.stores.store.state;e.disableTooltip&&(t.hovered||t.focused)&&this.handleClose()}willUnmount(){this.handleClose()}renderComponent(){const{device:e}=this.environment;return e.isPhone||this.props.disableTooltip?this.props.render({},!1):n()(h.ZP,{popupType:e.isPhone?h.ZP.PopupType.SlideUp:h.ZP.PopupType.Popup,open:this.isVisible(),origin:this.props.render({onFocus:this.handleFocusOrigin,onBlur:this.handleBlurOrigin,onMouseEnter:this.handleMouseEnterOrigin,onMouseLeave:this.handleMouseLeaveOrigin,onMouseDown:this.handleMouseDownOrigin},this.isVisible()),originRect:this.props.originRect,originGap:this.props.originGap||6,placementToOrigin:l.z4(this.props.placement)?c.u.Top:this.props.placement,alignmentToOrigin:this.props.alignment,preventScaleTransition:!0,preventOpacityTransition:!0,style:this.getStyle(),viewportPadding:4,preventCaptureEsc:!0,preventPointerEvents:!this.props.allowHover,disableMouseCapture:!0,render:this.renderTooltip,trapFocus:!1})}clearTimeouts(){this.mouseEnterTimeout&&(window.clearTimeout(this.mouseEnterTimeout),this.mouseEnterTimeout=void 0),this.mouseLeaveTimeout&&(window.clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=void 0)}getCloseDelay(){return void 0===this.props.closeDelay?500:this.props.closeDelay}isVisible(){return(0,l.z4)(this.props.forceVisibleState)?this.stores.store.state.hovered||this.stores.store.state.focused:this.props.forceVisibleState}getStyle(){const e=f(this.theme,Boolean(this.props.isLightBackground));return this.props.textWrap||(e.whiteSpace="nowrap"),{...e,...this.props.style}}}v.displayName="Tooltip",v.Placement=c.u,v.Alignment=c.v;const y=v},81415:(e,t,o)=>{o.d(t,{U:()=>h});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(8848),l=o(3779),c=o(5366),d=o(25464),p=o(64921),u=o(73063),m=o(44532),g=o(58032);function h(e){window.__c={n:"TutorialTooltip"};const{origin:t,onCloseClick:o,header:i,content:h,placementToOrigin:k,pointerDotSize:C=6,pointerPosition:_="22.5%",pointerLength:M=18,pointerOffset:T=0,shouldDismissUponOutsideClick:I,numSteps:P,currStepIndex:x,onPrimaryButtonClick:B,onBackButtonClick:Z,style:E,hideCloseButton:R}=e;let A;"function"==typeof t?A=t:t&&(A=()=>t.current);const D=function(e){const[t,o]=(0,r.useState)();return(0,r.useEffect)((()=>{if(!e)return void(void 0!==t&&o(void 0));const i=()=>{const r=e();if(r){const e=r.getBoundingClientRect();let i=!0;if(t){t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height&&(i=!1)}i&&o(e)}else o(void 0);n=window.requestAnimationFrame(i)};let n=window.requestAnimationFrame(i);return()=>{window.cancelAnimationFrame(n)}}),[e,t]),t}(A),F=(0,a.yK)((e=>{const t=(0,g.J)(e,!1),o="dark"===e.mode?e.accentColors.gray[400]:e.accentColors.gray[700];return{tooltip:{...t,background:o,padding:"10px 10px 12px 12px",overflow:"visible",[v[k]]:M-8+T,maxWidth:280,...E},hoveredStyle:{backgroundColor:s.FN.dark.translucentGray[200]},newBadge:{marginLeft:0,color:e.regularInvertedTextColor,fontWeight:500,background:void 0,padding:"2px 0px",marginBottom:3},headerAndClose:{display:"flex",justifyContent:"space-between",...null===h?{}:{marginBottom:4}},header:{fontWeight:500,color:e.regularInvertedTextColor,display:"flex",alignItems:"center",paddingRight:2},content:{color:e.regularInvertedTextColor,lineHeight:1.4,opacity:.8,fontWeight:400,paddingRight:2},circle:{position:"absolute",[y[k]]:-M,[w[k]]:`calc(${_} - ${C/2}px)`,background:o,width:C,height:C,borderRadius:C},verticalLine:{position:"absolute",[y[k]]:-M,[w[k]]:`calc(${_} - 1px)`,background:o,[S[k]]:2,[b[k]]:M},closeButton:{opacity:.8,pointerEvents:"auto",height:16,width:16},closeButtonIcon:{width:14,fill:e.mediumInvertedTextColor},closeButtonHoveredStyle:{backgroundColor:s.FN.dark.translucentGray[300]},footer:{marginTop:14,marginBottom:8,display:"flex",alignItems:"center"},inactiveDot:{fill:s.FN.dark.gray[600]},dot:{width:5,marginRight:6,fill:s.FN.dark.gray[800]},backButton:{color:e.regularInvertedTextColor,opacity:.8,padding:"4px 6px",borderRadius:4},nextButton:{padding:"4px 6px",borderRadius:4}}}),[E,k,C,M,T,_,h]),L=P&&P>1,V=L&&x===P-1,N=L&&0===x;return n()(m.ZP,{popupType:m.ZP.PopupType.Popup,originRect:D,open:Boolean(D),placementToOrigin:f[k],alignmentToOrigin:d.v.Start,preventCaptureEsc:!0,preventPointerEvents:!0,disableMouseCapture:!I,render:()=>n()("div",{style:{position:"relative"}},void 0,n()("div",{style:F.circle}),n()("div",{style:F.verticalLine}),n()("div",{style:F.headerAndClose},void 0,i&&n()("div",{style:F.header},void 0,i),!Boolean(R)&&n()(u.Z,{icon:l.Z.close,style:F.closeButton,iconStyle:F.closeButtonIcon,onClick:o,hoveredStyle:F.hoveredStyle})),n()("div",{style:F.content},void 0,h),(L||B)&&n()("div",{style:F.footer},void 0,L&&[...Array(P)].map(((e,t)=>{let o=F.dot;return o=t===x?{...o}:{...o,...F.inactiveDot},t===P-1&&(o={...o,marginRight:0}),l.Z.dot(o)})),n()("div",{style:{position:"absolute",right:0,pointerEvents:"auto",display:"flex"}},void 0,!N&&Z&&n()(p.Z,{onClick:Z,style:F.backButton,hoveredStyle:F.hoveredStyle},void 0,n()(c.FormattedMessage,{id:"TutorialTooltip.backButton",description:"Button to navigate to the previous step of the tutorial.",defaultMessage:"Back"})),B&&n()(p.Z,{onClick:B,style:F.nextButton,hoveredStyle:F.hoveredStyle},void 0,n()(c.FormattedMessage,V?{id:"TutorialTooltip.doneButton",description:"Button to mark the current tutorial tooltip step as complete.",defaultMessage:"Done"}:{id:"TutorialTooltip.nextButton",description:"Button to navigate to the next step of the tutorial.",defaultMessage:"Next"}))))),enableOutsideClickDismiss:I,onDismiss:I?o:void 0,style:F.tooltip})}const f={top:d.u.Top,bottom:d.u.Bottom,right:d.u.Right},v={top:"marginBottom",bottom:"marginTop",right:"marginLeft"},y={top:"bottom",bottom:"top",right:"left"},b={top:"height",bottom:"height",right:"width"},S={top:"width",bottom:"width",right:"height"},w={top:"left",bottom:"left",right:"top"}},92864:(e,t,o)=>{o.d(t,{ZP:()=>b,vw:()=>S,Jn:()=>w});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(66897),d=o(84619),p=o(59753),u=o(19889),m=o(39111),g=o(70301),h=o(93044),f=o(29302),v=o(45653);class y extends l.Z{constructor(){super(...arguments),this.renderActor=e=>{const{actor:t,format:o}=this.props;if(t.table===u.KJ){const i=t.value;return o===d.l.Inline?a()(v.Z,{userValue:i,size:e,avatarShouldShowShadow:!0,hasTooltip:!0,style:{minWidth:0},tooltipHeader:this.props.tooltipHeader}):a()(f.Z,{userValue:i,avatarSize:e,inline:!0,style:{minWidth:0},tooltipHeader:this.props.tooltipHeader})}{const i=t.value&&p.kk.fromValue(t.table,t.value);return o===d.l.Inline?a()(g.Z,{botModel:i,size:e,style:{minWidth:0}}):a()(m.Z,{botModel:i,avatarSize:e,inline:!0,style:{minWidth:0}})}}}renderComponent(){return s.createElement(h.ZP,n()({},this.props,{renderAvatar:this.renderActor}))}}y.displayName="UIActorToken",y.Format=d.l;const b=y;function S(e){window.__c={n:"UIUserToken"};const{userValue:t,...o}=e;return s.createElement(y,n()({actor:(0,c.m3)(t)},o))}function w(e){window.__c={n:"UIBotToken"};const{botValue:t,...o}=e;return s.createElement(y,n()({actor:(0,c.ON)(t)},o))}S.Format=h.lP,w.Format=h.lP},39111:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(15070),s=o(82990),l=o(70301);class c extends r.Z{renderComponent(){const{botModel:e,avatarSize:t,shouldShowBadge:o}=this.props;return n()("div",{style:this.getStyle()},void 0,n()("div",{style:this.getAvatarWrapStyle()},void 0,n()(l.Z,{botModel:e,size:t})),n()("div",{style:{...s.Z.textOverflowStyle}},void 0,(0,a.Mh)(e)),o&&n()("div",{style:this.getBadgeStyle()},void 0,"Bot"))}getStyle(){return{display:"flex",alignItems:"center",minWidth:0,...this.props.style}}getAvatarWrapStyle(){return this.props.inline?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6}}getBadgeStyle(){const{device:e}=this.environment;return{padding:"2px 6px",borderRadius:3,color:this.theme.mediumTextColor,background:this.theme.legacyDefaultSelectColor,fontSize:e.isMobile?11:9,lineHeight:e.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}}}c.displayName="UIBot";const d=c},70301:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(77094),n=o.n(i),r=(o(67294),o(83355)),a=o(15070),s=o(77420),l=o(31278);class c extends r.Z{renderComponent(){const{botValue:e,botModel:t,showActiveDot:o}=this.props,i=null==t?void 0:t.getIcon(),r=t&&i?{pointer:{table:s.cZ,id:t.id,spaceId:t.getSpaceId()},icon:i}:null!=e&&e.icon?{pointer:{table:s.cZ,id:e.id,spaceId:e.space_id},icon:e.icon}:void 0;return n()("div",{style:this.props.style},void 0,n()(l.Z,{icon:r,title:(0,a.Mh)(e),size:this.props.size||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),o?n()("div",{style:{height:10,width:10,backgroundColor:this.theme.accentColors.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}}):void 0)}}c.displayName="UIBotAvatar";const d=c},93044:(e,t,o)=>{o.d(t,{lP:()=>u,wS:()=>m,ZP:()=>g});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(84619),s=o(3779),l=o(5366),c=o(82990),d=o(64921);const p=(0,l.defineMessages)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel",description:"Screen reader label for remove button next to a token that represents an entity like a person or page."},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric",description:"Screen reader label for remove button next to a generic token."}}),u=a.l,m={[a.l.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14,gap:6},[a.l.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16,gap:6},[a.l.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20,gap:6},[a.l.Inline]:{height:20,fontSize:14,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:20,gap:5},[a.l.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:20,gap:8}};function g(e){let{format:t,isSingle:o,onClickRemove:i,renderAvatar:a,showRemoveButton:u,shouldShrink:g,style:h,title:f}=e;window.__c={n:"UIGenericToken"};const v=(0,l.useIntl)(),{height:y,fontSize:b,margin:S,marginEditState:w,closeIconSize:k,avatarSize:C}=m[t],_=(0,r.yK)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:y,borderRadius:3,fontSize:b,lineHeight:"120%",margin:o?0:u?w:S,...h}})),[b,y,o,S,w,g,u,h]);return n()("div",{style:_.root},void 0,null==a?void 0:a(C),n()("div",{className:"notranslate",style:{...c.Z.textOverflowStyle}},void 0,f),u?n()(d.Z,{ariaLabel:void 0!==f?v.formatMessage(p.removeTokenLabel,{title:f}):v.formatMessage(p.removeTokenLabelGeneric),onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:y,height:y,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:3}},void 0,s.Z.closeThick({width:k,height:k,opacity:.5})):null)}},64369:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(82990),d=o(12318),p=o(58032);class u extends l.Z{constructor(){super(...arguments),this.el=null,this.storeTypes={canShowTooltip:d.default.of(!1)},this.ref=e=>{this.el=e,this.maybeUpdateTooltipState()}}didUpdate(){this.maybeUpdateTooltipState()}renderComponent(){const{showTooltipWhenTruncated:e,isInline:t,isMultiline:o,children:i}=this.props;return e&&!o?a()(p.Z,{disableTooltip:!this.stores.canShowTooltip.get(),render:e=>t?this.renderInlineLabel(e):this.renderBlockLabel(e),renderTooltip:()=>s.createElement(s.Fragment,null,i)}):t?this.renderInlineLabel():this.renderBlockLabel()}renderInlineLabel(e){const{children:t,className:o,onMouseEnter:i,onMouseLeave:r}=this.props;return s.createElement("span",n()({ref:this.ref,className:o,style:this.getStyle(),onMouseEnter:i,onMouseLeave:r},e),t)}renderBlockLabel(e){const{children:t,className:o,onMouseEnter:i,onMouseLeave:r}=this.props;return s.createElement("div",n()({ref:this.ref,className:o,style:this.getStyle(),onMouseEnter:i,onMouseLeave:r},e),t)}getStyle(){const{isMultiline:e}=this.props;return{...this.getFontSize(),...this.getLineHeight(),...this.getColor(),...!e&&{...c.Z.textOverflowStyle},...this.props.style}}getFontSize(){const{isSmall:e,isMobile:t}=this.props;return t?{fontSize:e?c.Z.fontSize.UISmall.mobile:c.Z.fontSize.UIRegular.mobile}:{fontSize:e?c.Z.fontSize.UISmall.desktop:c.Z.fontSize.UIRegular.desktop}}getLineHeight(){const{isSmall:e,isMobile:t}=this.props;return t?{lineHeight:e?c.Z.lineHeight.UISmall.mobile:c.Z.lineHeight.UIRegular.mobile}:{lineHeight:e?c.Z.lineHeight.UISmall.desktop:c.Z.lineHeight.UIRegular.desktop}}getColor(){const{isSmall:e,isSecondaryColor:t}=this.props;return e?{color:t?this.theme.lightTextColor:this.theme.mediumTextColor}:{color:t?this.theme.mediumTextColor:this.theme.regularTextColor}}maybeUpdateTooltipState(){if(this.el&&!this.props.isMultiline){const e=this.el.scrollWidth>this.el.offsetWidth;this.stores.canShowTooltip.set(e)}}}u.displayName="UILabel";const m=u},29302:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(67294),l=o(83355),c=o(82990),d=o(7928),p=o(33929),u=o(45653);class m extends l.Z{renderComponent(){const{userValue:e,userStore:t,avatarShouldShowShadow:o,avatarSize:i,tooltipHeader:r}=this.props,l=p.default.getIntl();return n()("div",{style:this.getStyle()},void 0,n()("div",{style:this.getAvatarWrapStyle()},void 0,s.createElement(u.Z,a()({},e?{userValue:e}:{userStore:t},{avatarShouldShowShadow:o,size:i,tooltipHeader:r}))),n()("div",{className:"notranslate",style:{...c.Z.textOverflowStyle}},void 0,(0,d.Nz)(l,e??(null==t?void 0:t.getModel()))))}getStyle(){return{display:"flex",alignItems:"center",minWidth:0,...this.props.style}}getAvatarWrapStyle(){const e={marginRight:this.props.avatarMarginRight??6,alignSelf:"center"};return this.props.inline?{...e,width:"none",minHeight:"none"}:e}}m.displayName="UIUser";const g=m},45653:(e,t,o)=>{o.d(t,{Z:()=>y});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(15095),p=o(3779),u=o(59753),m=o(19889),g=o(5366),h=o(71669),f=o(81865),v=o(58032);const y=function(e){const{hasTooltip:t,tooltipHeader:o,style:i,iconStyle:r,isOffline:y,borderStyle:b,avatarShouldShowShadow:S,userValue:w,userStore:k,avatar:C}=e,_=(0,g.useIntl)(),M=e.size??18,{initialStyle:T,avatarWrapStyle:I,avatarStyle:P,personIconStyle:x,tooltipTextStyle:B,proxiedImageStyle:Z}=(0,c.yK)((e=>({initialStyle:{boxSizing:"content-box",border:"1px solid currentColor",borderRadius:"100%",width:M-2,height:M-2,lineHeight:M-2+"px",overflow:"hidden",textAlign:"center",fontSize:Math.max(M*(14/32),10),background:e.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:e.regularTextColor,opacity:y?.3:1,borderStyle:b??"solid",...r},avatarWrapStyle:{background:"dark"===e.mode?e.UIUserAvatarBackground:e.contentBackground,borderRadius:"100%",boxShadow:S?e.avatarBoxShadow:"none"},avatarStyle:{borderRadius:"100%",width:M,height:M,maxWidth:"100%",maxHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:y?.3:1,...r},personIconStyle:{width:16,height:16,color:e.regularIconColor},tooltipTextStyle:{color:e.mediumInvertedTextColor},proxiedImageStyle:{width:M}})),[S,b,y,M,r]),E=(0,s.useMemo)((()=>k??(w?u.kk.fromValue(m.KJ,w):void 0)),[w,k]),R=(0,l.VK)((()=>null==E?void 0:E.getFullName(_)),[E,_]),A=(0,l.VK)((()=>null==E?void 0:E.getDisplayName(_)),[E,_]),D=(0,l.VK)((()=>null==E?void 0:E.getEmail()),[E]),F=(0,l.VK)((()=>null==E?void 0:E.getProfilePhoto()),[E]),L=()=>p.Z.person(x),V=e=>e?a()(h.Z,{src:e,style:{width:"100%",height:"100%",borderRadius:"100%"}}):L(),N=()=>s.createElement(s.Fragment,null,a()("div",{},void 0,o),A,a()("br",{}),E&&a()("span",{style:B},void 0,D)),O=e=>{const t=d.p4(e)[0].toUpperCase();return a()("div",{style:I},void 0,a()("div",{style:T},void 0,a()("div",{},void 0,t)))},U=()=>{if(E){if(F)return a()("div",{style:I},void 0,a()("div",{style:P},void 0,a()(f.Z,{stripGoogleIconQuery:!0,url:F,isAuthenticated:!1,width:Z.width,render:(e,t)=>V(t)})));if(R)return O(R);if(D)return O(D)}else if(C){if(C.avatarUrl)return H(C.avatarUrl);if(C.name)return O(C.name);if(C.email)return O(C.email)}return L()},H=e=>a()("div",{style:I},void 0,a()("div",{style:P},void 0,V(e)));return t?a()(v.Z,{renderTooltip:N,placement:v.Z.Placement.Bottom,alignment:v.Z.Alignment.Start,render:e=>s.createElement("div",n()({style:i},e),U())}):a()("div",{style:i},void 0,U())}},91718:(e,t,o)=>{o.d(t,{Z:()=>v});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(47425),d=o(97880),p=o(5366),u=o(93678),m=o(21115),g=o(74136),h=o(58032);class f extends l.Z{constructor(){super(...arguments),this.handleClick=e=>{u.y(this.environment,{from:this.props.analyticsName,for:this.props.subscriptionTier}),this.props.onClick&&this.props.onClick(e)}}renderComponent(){const{device:e}=this.environment;if(e.isIOS&&e.isNative)return;let t;return"personal"===this.props.subscriptionTier?t=a()(p.FormattedMessage,{defaultMessage:"Personal Pro",description:"Badge on upsell button for the Personal Pro pricing tier.",id:"upgradeButton.personal.text"}):(0,c.eR)(this.props.subscriptionTier)?t=m.eV:(0,c.NG)(this.props.subscriptionTier)?t=a()(p.FormattedMessage,{defaultMessage:"Business",description:"Badge on upsell button for the Business pricing tier.",id:"upgradeButton.business.text"}):(0,c.wP)(this.props.subscriptionTier)?t=a()(p.FormattedMessage,{defaultMessage:"Enterprise",description:"Badge on upsell button for the Enterprise pricing tier.",id:"upgradeButton.enterprise.text"}):(0,d.t1)(this.props.subscriptionTier),e.isMobile?a()(g.Z,{mobileStyle:this.props.mobileStyle},void 0,t):a()(h.Z,{delayThreshold:120,placement:h.Z.Placement.Bottom,renderTooltip:()=>a()("div",{style:{maxWidth:500}},void 0,a()(p.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),a()("br",{}),a()(p.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})),originGap:6,render:e=>s.createElement(g.Z,n()({desktopStyle:this.props.desktopStyle,onClick:this.handleClick},e),t)})}}f.displayName="UpsellButton";const v=f},20362:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(97464),n=o.n(i),r=o(67294),a=o(480),s=o(24405),l=o(65917),c=o(64002),d=o(5978),p=o(95477),u=o(66213),m=o(73744);function g(e,t){let{ariaLabel:o,disabled:i,onClick:g,href:h,external:f,forceAltHref:v,altHref:y,metaHref:b,style:S,...w}=e;window.__c={n:"BaseLink"};const k=(0,a.O7)(),C=(0,a.Fy)(),_=(0,r.useContext)(u.ZO),M=(0,r.useCallback)((e=>{if(g&&g(e),e.defaultPrevented||""===h)return;const t=e.metaKey||e.ctrlKey;if(!C.isElectron&&t)return;const o=m.DJ(e);if(!C.isElectron&&o&&!f)return;if(e.preventDefault(),e.shiftKey&&(!C.isElectron||!e.altKey))return;const i=c.Nm({str:h,allowNoProtocol:!0});if(i){const t=c.Nm({str:y,allowNoProtocol:!0}),n=c.Nm({str:b,allowNoProtocol:!0});if(f)d.navigateToExternalURL({environment:k,url:n||i});else if(_)_(n||i);else{let r;r=e.altKey||v?t||i:Boolean(o)?i:n||i,d.navigate({environment:k,url:r,openInNew:o})}}}),[y,C.isElectron,k,f,v,h,b,g,_]),T=(0,r.useMemo)((()=>{let e=c.Nm({str:h,allowNoProtocol:!0});if("string"==typeof e&&f&&c.j3(e)&&(e=c.O_({relativeUrl:e,baseUrl:p.Z.domainBaseUrl})),"string"==typeof e)try{return decodeURIComponent(e)}catch(t){l.log({level:"info",from:"LinkBox",type:"renderComponent",error:{message:`Encountered error in decodeURIComponent ${e}`}})}return e}),[f,h]),I=(0,s.yK)((()=>({root:{display:"block",color:"inherit",textDecoration:"none"}})),[]);return r.createElement("a",n()({"aria-disabled":i,"aria-label":o,ref:t,href:T,onClick:M,style:{...I.root,...S},target:f?"_blank":void 0,rel:"noopener noreferrer"},w),w.children)}const h=r.forwardRef(g)},27186:(e,t,o)=>{o.d(t,{IL:()=>s,_g:()=>u});var i=o(67294),n=o(480),r=o(25898),a=o(39500);let s={x:0,y:0,moved:!1,device:"mouse"};function l(e){const t=e.touches[0];s={moved:!1,x:t.clientX,y:t.clientY,device:(0,a.Nf)(t)}}function c(e){const{x:t,y:o}=s,i=e.touches[0];(0,r.Z)(t,o,i.clientX,i.clientY)>a.Vc[(0,a.Nf)(i)]&&(s={...s,moved:!0})}function d(e){s={moved:!1,x:e.clientX,y:e.clientY,device:"mouse"}}function p(e){const{x:t,y:o}=s;(0,r.Z)(t,o,e.clientX,e.clientY)>a.Vc.mouse&&(s={...s,moved:!0})}function u(){return function(){const e=(0,n.O7)();(0,i.useEffect)((()=>(e.device.isMobile?(window.addEventListener("touchstart",l),window.addEventListener("touchmove",c),window.addEventListener("mousedown",d),window.addEventListener("mousemove",p)):(window.addEventListener("mousedown",d),window.addEventListener("mousemove",p)),()=>{e.device.isMobile?(window.removeEventListener("touchstart",l),window.removeEventListener("touchmove",c),window.removeEventListener("mousedown",d),window.removeEventListener("mousemove",p)):(window.removeEventListener("mousedown",d),window.removeEventListener("mousemove",p))})),[e.device.isMobile])}(),null}},21396:(e,t,o)=>{o.d(t,{e:()=>p,F:()=>u});var i=o(97464),n=o.n(i),r=o(67294),a=o(24405),s=o(82433),l=o(3779),c=o(97880),d=o(93044);function p(e){if(e.kind===s.yp.ContextValue)return e.name;if(e.kind===s.yp.Binding||e.kind===s.yp.ThisRow)throw new Error("Not implemented yet.");(0,c.t1)(e)}function u(e){window.__c={n:"FormulaValueToken"};const{value:t}=e,o=(0,a.Fg)(),i=p(t);let s,c;if("date"===t.type.type?s=l.Z.typesDate:"person"===t.type.type?s=l.Z.typesPerson:("block"===t.type.type||"array"===t.type.type&&"block"===t.type.of.type)&&(s=l.Z.collectionSearch),s){const e=s;c=()=>e({width:12,height:12,marginRight:4})}return r.createElement(d.ZP,n()({},e,{title:i,renderAvatar:c,shouldShrink:!0,style:{background:o.outlineBlueButtonPressedBackground,color:o.blueColor,padding:"0 4px"}}))}},93313:(e,t,o)=>{o.d(t,{a:()=>ue,K:()=>M});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(66897),c=o(99036),d=o(80951),p=o(84619),u=o(82433),m=o(76218),g=o(68626),h=o(19889),f=o(70203),v=o(97880),y=o(12508),b=o(92864),S=o(89845),w=o(69265),k=o(22084),C=o(21396),_=o(75311);function M(e){const{token:t,contextStore:o,disabled:i,setCurrentTokens:r,currentSimpleFormulaValueTokens:M,context:T}=e,I=(0,a.Fy)(),P=(0,s.Kw)(o.compilationResultStore),x=(0,s.VK)((()=>{if((0,m.S3)(t)&&(0,f.IW)(t)){const e=(0,f.zE)(t);if(e)return(0,l.Hl)({pointer:{table:h.KJ,id:e},getRecordValue:o.context.parentRecordStore.getRecordValue})}}),[o.context.parentRecordStore,t]),B=(0,s.VK)((()=>(0,_._)(T)),[T]),Z=(0,s.VK)((()=>T.collectionStore.getSchema()[T.property]),[T]),E=(0,s.VK)((()=>Z&&(0,c.t)(Z)&&Z.options||[]),[Z]),R=(0,s.VK)((()=>Boolean(Z&&(0,c.gB)(Z))),[Z]),A=(0,s.VK)((()=>{if(Z&&(0,c.gB)(Z)){var e,o;const i=null===(e=Z.options)||void 0===e?void 0:e.find((e=>e.value===t)),n=null===(o=Z.groups)||void 0===o?void 0:o.find((e=>{var t;return i&&(null===(t=e.optionIds)||void 0===t?void 0:t.includes(i.id))}));return(0,d.JR)(i,n)}}),[Z,t]);if("string"==typeof t)return n()(k.Z,{value:t,options:E,showRemoveButton:!i,isRound:R,isSingle:!1,shouldShrink:!1,showColoredDot:A,format:I.isMobile?p.l.Medium:p.l.Small,onClickRemove:()=>{null==r||r((0,m.Ck)(M,t))}},t);if("boolean"==typeof t)return n()(y.Z,{checked:t,disabled:!0,size:16,checkSize:12,style:{marginBottom:6}},t.toString());if((0,f.IW)(t))return null!=x&&x.value?n()(b.ZP,{actor:x,format:I.isMobile?b.ZP.Format.Medium:b.ZP.Format.Small,showRemoveButton:!i,onClickRemove:()=>{null==r||r((0,m.Ck)(M,t))},shouldShrink:!0,isSingle:!1},x.value.id):null;if((0,f.wj)(t)){const e=(0,f.vm)(t).id,o=g.x.isSuccess(P)?(0,u.vx)(P.value.valueTypes,e):void 0;return o?n()(C.F,{value:o,format:p.l.Small,isSingle:!1,shouldShrink:!0,showRemoveButton:!i,onClickRemove:()=>{null==r||r((0,m.Ck)(M,t))}}):null}if((0,f.fp)(t)){const e=M[0],t=e&&(0,m.S3)(e)&&(0,f.fp)(e)?(0,f.Ot)(e):void 0;return t?n()(S.Z,{value:t,dateFormat:B.dateFormat,timeFormat:B.timeFormat,style:{marginBottom:6}}):null}if((0,f.ST)(t)){const e=(0,f.TO)(t);return e?n()(w.Z,{format:I.isMobile?p.l.Medium:p.l.Small,blockId:e,shouldWrap:!1,shouldShrink:!0,isSingle:!1,parentStore:o.context.parentRecordStore,showRemoveButton:!i,onClickRemove:()=>{null==r||r((0,m.Ck)(M,t))}},e):null}(0,v.t1)(t)}var T=o(97464),I=o.n(T),P=o(96486),x=o.n(P),B=o(31942),Z=o(59054),E=o(5366),R=o(31299),A=o(17809),D=o(60709),F=o(29798),L=o(78140),V=o(9342),N=o(43765),O=o(40721),U=o(72495),H=o(78948),z=o(47082),W=o(30387),j=o(3779),K=o(24405),Y=o(52275);function G(e){window.__c={n:"IconMenuItem"};const t=(0,K.yK)((e=>({icon:{width:14,fill:e.mediumIconColor},chevronRight:{width:12,fill:e.mediumIconColor}})),[]);return n()(Y.Z,{icon:e.icon(t.icon),title:e.title,focused:!1,right:j.Z.chevronRight(t.chevronRight),onClick:e.onClick})}function X(e){window.__c={n:"CustomFormulaItem"};const{value:t,onChange:o}=e,i=(0,r.useCallback)((()=>{o({type:"formula",value:null==t?void 0:t.value})}),[t,o]);return n()(G,{icon:j.Z.typesFormula,title:r.createElement(E.FormattedMessage,W.s.customFormula),onClick:i})}var q=o(21202),$=o(3815),J=o(11470),Q=o(58032);function ee(e){const{token:t,contextStore:o,args:i,checkState:S,checkType:w,context:_,onCheckboxClick:M}=e,T=(0,a.Fy)(),P=(0,s.VK)((()=>o.context.parentRecordStore.getSpaceId()),[o.context.parentRecordStore]),x=(0,s.VK)((()=>{if((0,m.S3)(t)&&(0,f.IW)(t)){const e=(0,f.zE)(t);if(e)return(0,l.Hl)({pointer:{table:h.KJ,id:e},getRecordValue:o.context.parentRecordStore.getRecordValue})}}),[o.context.parentRecordStore,t]),B=(0,s.VK)((()=>_.collectionStore.getSchema()[_.property]),[_]),Z=(0,s.VK)((()=>B&&(0,c.t)(B)?B.options??[]:[]),[B]),E=(0,s.VK)((()=>B&&(0,c.gB)(B)?B.groups??[]:[]),[B]),R=(0,s.Kw)(o.compilationResultStore),A=Boolean(B&&(0,c.gB)(B)),D="single"===w?{checkState:S}:{icon:n()(y.Z,{checked:S,size:14,onClick:M})};if("string"==typeof t){if(A){const e=Z.find((e=>e.value===t)),o=E.find((t=>{var o;return e&&(null===(o=t.optionIds)||void 0===o?void 0:o.includes(e.id))}));return r.createElement(Y.Z,I()({},i,D,{title:n()(k.Z,{format:T.isMobile?p.l.Large:p.l.Small,isRound:!0,isSingle:!0,options:Z,showColoredDot:(0,d.JR)(e,o),shouldShrink:!0,showRemoveButton:!1,value:t},t),isTokenTitle:!0},i))}return r.createElement(Y.Z,I()({},i,D,{title:n()(k.Z,{value:t,options:Z,showRemoveButton:!1,isSingle:!0,shouldShrink:!0,format:T.isMobile?p.l.Large:p.l.Small},t),isTokenTitle:!0},i))}if("boolean"==typeof t)return null;if((0,f.IW)(t))return null!=x&&x.value&&x.table===h.KJ?r.createElement(Y.Z,I()({},i,D,{title:n()(b.vw,{isSingle:!0,shouldShrink:!0,format:T.isMobile?b.vw.Format.Large:b.vw.Format.Medium,userValue:x.value}),isTokenTitle:!0})):null;if((0,f.wj)(t)){const e=(0,f.vm)(t).id,o=g.x.isSuccess(R)?(0,u.vx)(R.value.valueTypes,e):void 0;return o?r.createElement(Y.Z,I()({},D,{title:n()(Q.Z,{renderTooltip:()=>(0,C.e)(o),placement:Q.Z.Placement.Right,render:e=>r.createElement("div",I()({style:{display:"flex"}},e),n()(C.F,{value:o,format:p.l.Medium,isSingle:!0,shouldShrink:!0}))})},i)):null}if((0,f.fp)(t))return null;if((0,f.ST)(t)){const e=(0,f.TO)(t);if(!e)return null;if(!P)return null;const n=$.G.createChildStore(o.context.parentRecordStore,{table:q.iU,id:e,spaceId:P});return r.createElement(J.Z,I()({store:n,checkState:S,hidePath:!0},i))}(0,v.t1)(t)}function te(e){const{currentSimpleFormulaValueTokens:t,value:o,contextStore:i,setCurrentTokens:r,action:a,context:s,checkType:l,onCheckboxClick:c}=e;if(o.kind!==u.yp.ContextValue)throw new Error("Not implemented yet.");const d=Boolean(t.find((e=>(0,m.S3)(e)&&(0,f.wj)(e)&&(0,f.vm)(e).id===o.id))),p=(0,f._Q)({id:o.id}),g=()=>{r("append"===a?d?(0,m.Ck)(t,p):[...t,p]:[p]),null==c||c()};return{key:o.id,render:e=>n()(ee,{token:p,contextStore:i,args:e,checkState:d,checkType:l,context:s,onCheckboxClick:g}),action:g}}function oe(e){var t,o;window.__c={n:"ValuePickerMenuBlockArray"};const{currentSimpleFormulaValueTokens:i,menuHeader:l,parent:d,onChange:p,contextStore:g,actionId:h,context:v,showInputMenuItem:y,type:b}=e,S=(0,a.Fy)(),w=(0,E.useIntl)(),k=(0,a.O7)(),[C,T]=(0,r.useState)(""),P=(0,s.qz)(void 0,F.Z),{collectionStore:j,property:K}=v,Y=(0,_.M)(j,K),G=Y(i,"first"),q=(0,s.VK)((()=>j.getSchema()[v.property]),[j,v.property]),$=(0,s.VK)((()=>!(!q||!(0,c.en)(q))&&1===q.limit),[q]),J=(0,s.VK)((()=>{const e=g.getContextValuesForAction(h),t="relation"===(null==q?void 0:q.type)?(0,c.j0)(q):void 0;return e.filter((e=>(0,u.uy)(e.type,{type:"block",collection:t},!0)))}),[g,h,q],{useDeepEqual:!0}),[Q]=(0,Z.r5)((async()=>{const e=C?(0,B.ZP)(C,J,(e=>e.kind===u.yp.ContextValue?e.name:"")):J,{results:t}=await R.df({environment:k,query:C,collectionId:b.collection.id,limit:20,spaceId:b.collection.spaceId,excludeTemplates:!0,source:"simple_formula_value_page_search",includePublicPagesWithoutExplicitAccess:!1,boostRecentlyViewedPages:!1});return{valueResults:e,pageResults:t}}),[k,C,J,b],{debounce:R.vp}),oe=(0,r.useCallback)((()=>{T(""),P.setState({...P.state,focus:{section:0,indexLocal:0,indexGlobal:0}})}),[P]),ie=(0,r.useCallback)((e=>{const t=Y(e,"last");p({type:"simple",value:(0,m.iC)(t)}),oe()}),[p,oe,Y]),ne=(0,s.VK)((()=>(0,A.V1)()),[]),re=x().compact(G.map(((e,t)=>n()(M,{token:e,contextStore:g,disabled:!1,currentSimpleFormulaValueTokens:G,setCurrentTokens:ie,context:v},t)))),ae=n()(z.Z,{focus:!S.isMobile||void 0,focusAfterAnimation:!0,format:z.Z.Format.FilterValue,tokens:re,placeholder:w.formatMessage(W.s.pageSearchPlaceholder),onRemoveLastToken:()=>{ie(G.slice(0,G.length-1))},onClearButtonClick:()=>{ie([])},value:C,onChange:e=>{T(e.target.value)},dontShowBorderBottom:S.isAndroid,showClearButton:!0}),se=void 0!==l?l:n()(U.Z,{style:{paddingBottom:0},title:w.formatMessage(W.s.genericMenuHeader)});let le;le=S.isMobile?{menuType:D.og.Modal,right:n()(O.DoneMenuText,{}),onClickRight:d.close}:{menuType:D.og.Popup,maxHeight:"50vh",width:260,paddingTop:0,header:se,footer:ne&&n()(U.Z,{topBorder:!0},void 0,r.createElement(X,e)),disableHeaderBorder:!0};const ce=$?"single":"multi",de=[],pe=[...x().compact(((null===(t=Q.value)||void 0===t?void 0:t.valueResults)||[]).map((e=>te({currentSimpleFormulaValueTokens:G,value:e,setCurrentTokens:ie,contextStore:g,action:"append",context:v,checkType:ce})))),...x().compact(((null===(o=Q.value)||void 0===o?void 0:o.pageResults)||[]).map((e=>{const t=Boolean(G.find((t=>(0,m.S3)(t)&&(0,f.ST)(t)&&(0,f.TO)(t)===e))),o=(0,f.$0)(e,b.collection.spaceId),i=()=>{ie(t?(0,m.Ck)(G,o):[...G,o])};return{key:e,render:e=>n()(ee,{token:o,contextStore:g,args:e,checkState:t,checkType:ce,context:v,onCheckboxClick:i}),action:i}})))];if(y){const e=Boolean(se);de.push({key:"search-input",render:t=>r.createElement(U.Z,I()({},t,{style:{...e&&{paddingTop:0}}})),items:[{action:()=>{},key:"input",render:()=>ae}]})}if(pe.length>0){const e=Boolean(se)||y;de.push({key:"values",render:t=>r.createElement(U.Z,I()({topBorder:e},t)),items:pe})}return r.createElement(L.Z,le,Q.error&&n()(U.Z,{},void 0,n()(N.Z,{title:r.createElement(E.FormattedMessage,W.s.somethingWentWrong)})),0===de.length&&Q.value&&n()(U.Z,{},void 0,n()(N.Z,{title:r.createElement(E.FormattedMessage,W.s.noResults)})),!Q.value&&!Q.error&&n()(U.Z,{},void 0,n()(H.Z,{})),de.length>0&&n()(V.Z,{type:V.i.Vertical,initialFocus:0,sections:de,store:P}))}function ie(e){window.__c={n:"ValuePickerMenuCheckbox"};const{actionId:t,context:o,contextStore:i,currentSimpleFormulaValueTokens:l,menuHeader:c,onChange:d,parent:p}=e,u=(0,E.useIntl)(),g=(0,a.Fy)(),h=(0,s.VK)((()=>i.getContextValuesForAction(t).filter((e=>"checkbox"===e.type.type))),[i,t]),f=(0,r.useCallback)((e=>{d({type:"simple",value:void 0!==e[0]?(0,m.YD)(e[0]):void 0})}),[d]),v=(0,r.useCallback)((e=>{f(e),p.close()}),[f,p]),y=(0,s.VK)((()=>(0,A.V1)()),[]),b=x().compact(h.map((e=>te({currentSimpleFormulaValueTokens:l,value:e,setCurrentTokens:v,contextStore:i,action:"replace",context:o,checkType:"single"})))),S=[],w=l.some((e=>!0===e)),k=[...b,...[{key:0,render:e=>r.createElement(Y.Z,I()({title:r.createElement(E.FormattedMessage,W.s.unchecked),checkState:!w},e)),action:()=>{v([!1])}},{key:1,render:e=>r.createElement(Y.Z,I()({title:r.createElement(E.FormattedMessage,W.s.checked),checkState:w},e)),action:()=>{v([!0])}}]],C=void 0!==c?c:n()(U.Z,{style:{paddingBottom:0},title:u.formatMessage(W.s.genericMenuHeader)}),_=Boolean(C);let M;return S.push({key:"checkbox",render:e=>r.createElement(U.Z,I()({},e,{topBorder:_})),items:k}),M=g.isMobile?{menuType:D.og.Modal,right:n()(O.DoneMenuText,{}),onClickRight:p.close}:{header:C,menuType:D.og.Popup,maxHeight:"50vh",width:260,footer:y&&n()(U.Z,{topBorder:!0},void 0,r.createElement(X,e)),disableHeaderBorder:!0},r.createElement(L.Z,M,n()(V.Z,{type:V.i.Vertical,initialFocus:0,sections:S}))}var ne=o(28020),re=o(77907),ae=o(73063);function se(e){window.__c={n:"ValueDatePicker"};const{currentSimpleFormulaValueTokens:t,disabled:o,setInDatePicker:i,parent:a,setCurrentTokens:l,context:c}=e,d=t[0],p=d&&(0,m.S3)(d)&&(0,f.fp)(d)?(0,f.Ot)(d):void 0,u=(0,E.useIntl)(),g=(0,s.Kw)(ne.AK),h=(0,r.useCallback)((()=>{i(!1)}),[i]),v=(0,r.useCallback)((e=>{l(e?[(0,f.pZ)(e)]:[])}),[l]),y=(0,K.yK)((e=>({header:{display:"flex",alignItems:"center",fontSize:12,paddingLeft:14,color:e.mediumTextColor,marginTop:8,fontWeight:500},iconWrap:{width:18,height:18,marginRight:4},icon:{width:12,height:12}})),[]),b=(0,s.VK)((()=>(0,_._)(c)),[c]);return n()(re.DependencyConsumer,{dependency:re.deps.menus},void 0,(e=>{let{DatePropertyMenu:t}=e;return n()(t,{firstDayOfWeek:g,value:p,canConfigureCollection:!1,onChangeValue:v,dateFormat:b.dateFormat,timeFormat:b.timeFormat,onDismiss:a.close,disabled:o,shouldShowReminder:!1,allowTabUntab:!1,header:n()("div",{style:y.header},void 0,n()(ae.Z,{ariaLabel:u.formatMessage(W.s.back),icon:j.Z.historyBack,onClick:h,style:y.iconWrap,iconStyle:y.icon}),r.createElement(E.FormattedMessage,W.s.pickADate))})}))}function le(e){window.__c={n:"ValuePickerMenuDate"};const{currentSimpleFormulaValueTokens:t,parent:o,onChange:i,contextStore:l,actionId:c,context:d,menuHeader:p}=e,u=(0,E.useIntl)(),g=(0,a.Fy)(),[h,f]=(0,r.useState)(!1),v=(0,s.VK)((()=>l.getContextValuesForAction(c).filter((e=>"date"===e.type.type))),[l,c]),y=(0,r.useCallback)((e=>{i({type:"simple",value:void 0!==e[0]?(0,m.YD)(e[0]):void 0})}),[i]),b=(0,r.useCallback)((e=>{y(e),o.close()}),[y,o]),S=(0,r.useCallback)((()=>{f(!0)}),[]),w=(0,r.useCallback)((()=>{y([]),o.close()}),[y,o]),k=(0,s.VK)((()=>(0,A.V1)()),[]);if(h)return r.createElement(se,I()({},e,{setInDatePicker:f,setCurrentTokens:y,currentSimpleFormulaValueTokens:t}));const C=void 0!==p?p:n()(U.Z,{style:{paddingBottom:0},title:u.formatMessage(W.s.genericMenuHeader)}),_=x().compact(v.map((e=>te({currentSimpleFormulaValueTokens:t,value:e,setCurrentTokens:b,contextStore:l,action:"replace",context:d,checkType:"single"})))),M=[];if(_.length>0){const e=Boolean(C);M.push({key:"values",render:t=>r.createElement(U.Z,I()({topBorder:e},t)),items:_})}let T;return T=g.isMobile?{menuType:D.og.Modal,right:n()(O.DoneMenuText,{}),onClickRight:o.close}:{header:C,menuType:D.og.Popup,maxHeight:"50vh",width:260,footer:r.createElement(r.Fragment,null,n()(U.Z,{topBorder:!0},void 0,n()(G,{icon:j.Z.typesDate,title:r.createElement(E.FormattedMessage,W.s.pickADate),onClick:S}),k&&r.createElement(X,e)),t.length>0&&n()(U.Z,{topBorder:!0},void 0,n()(Y.Z,{title:r.createElement(E.FormattedMessage,W.s.clear),focused:!1,onClick:w}))),disableHeaderBorder:!0},r.createElement(L.Z,T,n()(V.Z,{type:V.i.Vertical,initialFocus:0,sections:M}))}var ce=o(1302);function de(e){var t,o;window.__c={n:"ValuePickerMenuPersonArray"};const{actionId:i,context:l,contextStore:d,currentSimpleFormulaValueTokens:p,menuHeader:g,onChange:h,parent:v,showInputMenuItem:y}=e,b=(0,a.Fy)(),S=(0,E.useIntl)(),w=(0,a.O7)(),{collectionStore:k,property:C}=l,[T,P]=(0,r.useState)(""),j=(0,s.qz)(void 0,F.Z),K=(0,_.M)(k,C),Y=K(p,"first"),G=(0,s.VK)((()=>{const e=k.getSchema()[l.property];return!(!e||!(0,c.en)(e))&&1===e.limit}),[k,l]),q=(0,s.VK)((()=>d.getContextValuesForAction(i).filter((e=>(0,u.uy)(e.type,{type:"person"})))),[d,i],{useDeepEqual:!0}),[$]=(0,Z.r5)((async()=>({valueResults:T?(0,B.ZP)(T,q,(e=>e.kind===u.yp.ContextValue?e.name:"")):q,userResults:(await R.Yu({environment:w,query:T,membersOnly:!1})).map((e=>e.id)).slice(0,20)})),[w,T,q],{debounce:R.vp}),J=(0,r.useCallback)((()=>{P(""),j.setState({...j.state,focus:{section:0,indexLocal:0,indexGlobal:0}})}),[j]),Q=(0,r.useCallback)((e=>{const t=K(e,"last");h({type:"simple",value:(0,m.iC)(t)}),J()}),[h,J,K]),oe=(0,s.VK)((()=>(0,A.V1)()),[]),ie=x().compact(Y.map(((e,t)=>n()(M,{token:e,contextStore:d,disabled:!1,currentSimpleFormulaValueTokens:Y,setCurrentTokens:Q,context:l},t)))),ne=n()(z.Z,{focus:!b.isMobile||void 0,focusAfterAnimation:!0,format:z.Z.Format.FilterValue,tokens:ie,placeholder:S.formatMessage(W.s.personSearchPlaceholder),onRemoveLastToken:()=>{Q(Y.slice(0,Y.length-1))},onClearButtonClick:()=>{Q([])},value:T,onChange:e=>{P(e.target.value)},dontShowBorderBottom:b.isAndroid,showClearButton:!0}),re=void 0!==g?g:n()(U.Z,{style:{paddingBottom:0},title:S.formatMessage(W.s.genericMenuHeader)});let ae;ae=b.isMobile?{menuType:D.og.Modal,right:n()(O.DoneMenuText,{}),onClickRight:v.close}:{menuType:D.og.Popup,maxHeight:"50vh",width:260,header:re,footer:oe&&n()(U.Z,{topBorder:!0},void 0,r.createElement(X,e)),disableHeaderBorder:!0};const se=G?"single":"multi",le=[...x().compact(((null===(t=$.value)||void 0===t?void 0:t.valueResults)||[]).map((e=>te({currentSimpleFormulaValueTokens:Y,value:e,setCurrentTokens:Q,contextStore:d,action:"append",context:l,checkType:se,onCheckboxClick:()=>{G&&ce.default.afterNextFlush((()=>{v.close()}))}})))),...x().compact(((null===(o=$.value)||void 0===o?void 0:o.userResults)||[]).map((e=>{const t=Boolean(Y.find((t=>(0,m.S3)(t)&&(0,f.IW)(t)&&(0,f.zE)(t)===e))),o=(0,f.tE)(e),i=()=>{Q(t?(0,m.Ck)(Y,o):[...Y,o]),G&&ce.default.afterNextFlush((()=>{v.close()}))};return{key:e,render:e=>n()(ee,{token:o,contextStore:d,args:e,checkState:t,checkType:se,context:l,onCheckboxClick:i}),action:i}})))],de=[];if(y){const e=Boolean(re);de.push({key:"search-input",render:t=>r.createElement(U.Z,I()({},t,{style:{...e&&{paddingTop:0}}})),items:[{action:()=>{},key:"input",render:()=>ne}]})}if(le.length>0){const e=Boolean(re)||y;de.push({key:"users",render:t=>r.createElement(U.Z,I()({topBorder:e},t)),items:le})}return r.createElement(L.Z,ae,$.error&&n()(U.Z,{},void 0,n()(N.Z,{title:r.createElement(E.FormattedMessage,W.s.somethingWentWrong)})),0===de.length&&$.value&&n()(U.Z,{},void 0,n()(N.Z,{title:r.createElement(E.FormattedMessage,W.s.noResults)})),!$.value&&!$.error&&n()(U.Z,{},void 0,n()(H.Z,{})),de.length>0&&n()(V.Z,{type:V.i.Vertical,initialFocus:0,sections:de,store:j}))}function pe(e){window.__c={n:"ValuePickerMenuSelect"};const{actionId:t,context:o,contextStore:i,currentSimpleFormulaValueTokens:l,isSingle:d,menuHeader:p,onChange:g,parent:h,showInputMenuItem:f,type:y}=e,b=(0,a.Fy)(),S=(0,E.useIntl)(),[w,k]=(0,r.useState)(""),C=(0,s.qz)(void 0,F.Z),_=$.NW.createChildStore(i.context.parentRecordStore,y.collection),T=(0,s.VK)((()=>_.getSchema()[y.property]),[_,y]),P=(0,s.VK)((()=>T&&(0,c.gB)(T)?T.groups??[]:[]),[T]),Z=(0,s.VK)((()=>T&&(0,c.t)(T)&&T.options||[]),[T]),R=(0,s.VK)((()=>i.getContextValuesForAction(t).filter((e=>(0,u.uy)(e.type,{type:"select",collection:y.collection,property:y.property})))),[i,t,y]),H=(0,s.VK)((()=>({valueResults:w?(0,B.ZP)(w,R,(e=>e.kind===u.yp.ContextValue?e.name:"")):R,selectResults:w?(0,B.ZP)(w,Z,(e=>e.value)):Z})),[w,R,Z]),j=(0,r.useCallback)((()=>{k(""),C.setState({...C.state,focus:{section:0,indexLocal:0,indexGlobal:0}})}),[C]),K=(0,r.useCallback)((e=>{g({type:"simple",value:d?(0,m.YD)(e[0]):(0,m.iC)(e)}),j()}),[g,j,d]),Y=(0,s.VK)((()=>(0,A.V1)()),[]),G=x().compact(l.map(((e,t)=>n()(M,{token:e,contextStore:i,disabled:!1,currentSimpleFormulaValueTokens:l,setCurrentTokens:K,context:o},t)))),q=void 0!==p?p:n()(U.Z,{style:{paddingBottom:0},title:S.formatMessage(W.s.genericMenuHeader)}),J=n()(z.Z,{focus:!b.isMobile||void 0,focusAfterAnimation:!0,format:z.Z.Format.FilterValue,tokens:G,placeholder:S.formatMessage(W.s.searchPlaceHolder),onRemoveLastToken:()=>{K(l.slice(0,l.length-1))},onClearButtonClick:()=>{K([])},value:w,onChange:e=>{k(e.target.value)},dontShowBorderBottom:b.isAndroid,showClearButton:!0}),Q=[];if(f){const e=Boolean(q);Q.push({key:"search-input",render:t=>r.createElement(U.Z,I()({},t,{style:{...e&&{paddingTop:0}}})),items:[{action:()=>{},key:"input",render:()=>J}]})}const oe=Boolean(T&&(0,c.gB)(T)),ie={automationContextValues:H.valueResults??[],buttonPopupParent:h,context:o,contextStore:i,currentSimpleFormulaValueTokens:l,isSingle:d,groupOptions:P,selectOptions:H.selectResults??[],setCurrentTokens:K},ne=oe?function(e){const{automationContextValues:t,buttonPopupParent:o,context:i,contextStore:a,currentSimpleFormulaValueTokens:s,isSingle:l,groupOptions:c,selectOptions:d,setCurrentTokens:p}=e,u=[],g=l?"single":"multi",h=x().compact(t.map((e=>te({currentSimpleFormulaValueTokens:s,value:e,setCurrentTokens:p,contextStore:a,action:l?"replace":"append",context:i,checkType:g,onCheckboxClick:()=>{l&&ce.default.afterNextFlush((()=>{o.close()}))}}))));h.length>0&&u.push({key:"automation-variables",render:e=>r.createElement(U.Z,I()({title:r.createElement(E.FormattedMessage,W.s.valuesFromThisAutomation),topBorder:!0},e)),items:h});const f=new Map(d.map((e=>[e.id,e]))),y=c.map((e=>{const t=(e.optionIds??[]).map((e=>f.get(e))).filter(v.$K).map((e=>{const t=Boolean(s.find((t=>"string"==typeof t&&t===e.value))),r=()=>{p(l?t?[]:[e.value]:t?(0,m.Ck)(s,e.value):[...s,e.value]),l&&ce.default.afterNextFlush((()=>{o.close()}))};return{key:e.id,render:o=>n()(ee,{token:e.value,contextStore:a,args:o,checkState:t,checkType:g,context:i,onCheckboxClick:r}),action:r}}));return{key:e.id,items:t,render:t=>r.createElement(U.Z,I()({title:e.name,topBorder:!0},t))}})).filter((e=>e.items.length>0));return u.push(...y),u}(ie):function(e){const{automationContextValues:t,buttonPopupParent:o,context:i,contextStore:a,currentSimpleFormulaValueTokens:s,isSingle:l,selectOptions:c,setCurrentTokens:d}=e,p=[],u=l?"single":"multi",g=x().compact(t.map((e=>te({currentSimpleFormulaValueTokens:s,value:e,setCurrentTokens:d,contextStore:a,action:l?"replace":"append",context:i,checkType:u,onCheckboxClick:()=>{l&&ce.default.afterNextFlush((()=>{o.close()}))}})))),h=x().compact(c.map((e=>{const t=Boolean(s.find((t=>"string"==typeof t&&t===e.value))),r=()=>{d(l?t?[]:[e.value]:t?(0,m.Ck)(s,e.value):[...s,e.value]),l&&ce.default.afterNextFlush((()=>{o.close()}))};return{key:e.id,render:o=>n()(ee,{token:e.value,contextStore:a,args:o,checkState:t,checkType:u,context:i,onCheckboxClick:r}),action:r}}))),f=[...g,...h];f.length>0&&p.push({key:"options",render:e=>r.createElement(U.Z,I()({topBorder:!0},e)),items:f});return p}(ie);let re;return Q.push(...ne),re=b.isMobile?{menuType:D.og.Modal,right:n()(O.DoneMenuText,{}),onClickRight:h.close}:{menuType:D.og.Popup,maxHeight:"50vh",width:260,paddingTop:0,header:q,footer:Y&&n()(U.Z,{topBorder:!0},void 0,r.createElement(X,e)),disableHeaderBorder:!0},r.createElement(L.Z,re,0===Q.length&&n()(U.Z,{},void 0,n()(N.Z,{title:r.createElement(E.FormattedMessage,W.s.noResults)})),Q.length>0&&n()(V.Z,{type:V.i.Vertical,initialFocus:0,sections:Q,store:C}))}function ue(e){const{showInputMenuItem:t,type:o}=e;return"text"===o.type||"number"===o.type?null:"checkbox"===o.type?r.createElement(ie,I()({},e,{type:o})):"date"===o.type?r.createElement(le,I()({},e,{type:o})):"person_array"===o.type?r.createElement(de,I()({},e,{showInputMenuItem:t??!0,type:o})):"block_array"===o.type?r.createElement(oe,I()({},e,{showInputMenuItem:t??!0,type:o})):"select"===o.type?r.createElement(pe,I()({},e,{showInputMenuItem:t??!0,type:o,isSingle:!0})):"select_array"===o.type?r.createElement(pe,I()({},e,{showInputMenuItem:t??!0,type:o,isSingle:!1})):void(0,v.t1)(o)}},75311:(e,t,o)=>{o.d(t,{M:()=>l,_:()=>c});var i=o(67294),n=o(81954),r=o(99036),a=o(32918),s=o(97880);function l(e,t){const o=(0,n.VK)((()=>{const o=e.getSchema()[t];let i;return o&&(0,r.en)(o)&&(i=o.limit),i}),[e,t]);return(0,i.useCallback)(((e,t)=>(0,s.$K)(o)?"first"===t?e.slice(0,o):"last"===t?e.slice(-o):void(0,s.t1)(t):e),[o])}function c(e){var t;const o=null===(t=e.collectionStore.getSchema())||void 0===t?void 0:t[e.property];return o&&"date"===o.type?{dateFormat:o.date_format||a.sF,timeFormat:o.time_format||a.c_}:{dateFormat:a.sF,timeFormat:a.c_}}},30387:(e,t,o)=>{o.d(t,{s:()=>i});const i=(0,o(5366).defineMessages)({back:{defaultMessage:"Back",id:"formulas.SimpleFormulaValuePicker.back",description:"Go back"},valuesFromThisAutomation:{defaultMessage:"From this automation",id:"formulas.SimpleFormulaValuePicker.valuesFromThisAutomation",description:"Search for values in the automation context. This could be values from previous steps in the automation, such as newly created pages."},pickADate:{defaultMessage:"Pick a date",id:"formulas.SimpleFormulaValuePicker.pickADate",description:"Pick a date"},clear:{defaultMessage:"Clear",id:"formulas.SimpleFormulaValuePicker.clear",description:"Clear value"},unchecked:{defaultMessage:"Unchecked",id:"formulas.SimpleFormulaValuePicker.checkbox.unchecked",description:"Unchecked checkbox"},checked:{defaultMessage:"Checked",id:"formulas.SimpleFormulaValuePicker.checkbox.checked",description:"Checked checkbox"},checkboxOptions:{defaultMessage:"Checkbox options",id:"formulas.SimpleFormulaValuePicker.checkbox.sectionHeader",description:"Checkbox options"},searchPlaceHolder:{defaultMessage:"Select one or more options…",id:"formulas.SimpleFormulaValuePicker.select.searchPlaceholder",description:"Select one or more options"},selectOptionsSectionHeader:{defaultMessage:"Select an option",id:"formulas.SimpleFormulaValuePicker.select.sectionHeader",description:"Select options from the property"},noResults:{defaultMessage:"No results",id:"formulas.simpleValuePicker.noResults",description:"No results in search."},pageSearchPlaceholder:{defaultMessage:"Search for one or more pages…",id:"formulas.SimpleFormulaValuePicker.pages.searchPlaceholder",description:"Search for one or more pages"},pages:{defaultMessage:"Pages",id:"formulas.SimpleFormulaValuePicker.pages.sectionHeader",description:"Pages in the database"},somethingWentWrong:{defaultMessage:"Something went wrong.",id:"formulas.simpleValuePicker.errorMessage",description:"Search error."},personSelect:{defaultMessage:"Select...",id:"formulas.SimpleFormulaValuePicker.chooseAValue",description:"Choose a value for person"},personSearchPlaceholder:{defaultMessage:"Search for one or more people…",id:"formulas.SimpleFormulaValuePicker.people.searchPlaceholder",description:"Search for one or more people"},customFormula:{defaultMessage:"Custom formula",id:"formulas.SimpleFormulaValuePicker.customFormula",description:"Write a custom formula"},peopleInWorkspace:{defaultMessage:"People",id:"formulas.SimpleFormulaValuePicker.people.sectionHeader",description:"People in this workspace"},genericMenuHeader:{description:"Generic header for all menus",defaultMessage:"Set property to",id:"formulas.SimpleFormulaValuePicker.genericMenuHeader"}})},25735:(e,t,o)=>{o.d(t,{Y:()=>h});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(24405),c=o(5366),d=o(82990),p=o(50906),u=o(16639),m=o(79315),g=o(29302);function h(e){window.__c={n:"GroupMembersListTooltip"};const{group:t,limit:o,noMembersMessage:i,color:h,trackHover:f}=e,v=(0,l.yK)((e=>({container:{marginBottom:4,..."white_background"===h?{fontSize:d.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,padding:"4px 8px"}:{}},userContainer:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},user:{flexGrow:1},moreMessage:{marginLeft:2,marginTop:4,..."white_background"===h?{fontSize:d.Z.fontSize.UISmall.desktop,color:e.mediumTextColor}:{color:e.mediumInvertedTextColor}}})),[h]),y=(0,s.VK)((()=>m.default.state.currentSpaceStore),[]),b=(0,a.O7)();(0,s.VK)((()=>{f&&p.trackHoverMentionGroup(b,{group_id:t.id})}),[f,t.id,b]);const{countRemainingUsers:S,limitedUserValues:w}=(0,s.VK)((()=>(0,u.rm)({group:t,spaceStore:y,limit:o})),[t,y,o]);return 0===w.length?r.createElement(r.Fragment,null,i):n()("div",{style:v.container},void 0,w.map((e=>n()("div",{style:v.userContainer},e.id,n()(g.Z,{style:v.user,userValue:e,avatarSize:18})))),S>0&&n()("div",{style:v.moreMessage},void 0,n()(c.FormattedMessage,{id:"blockPermissionsSettings.groupPermissionUsers.tooltip",defaultMessage:"{countRemainingUsers} more…",values:{countRemainingUsers:S}})))}},29551:(e,t,o)=>{o.d(t,{gq:()=>s,Ht:()=>l});var i=o(77094),n=o.n(i),r=o(67294);function a(e){const{style:t,row:o,column:i,reverse:n,inline:r,...a}=e,s={display:r?"inline-flex":"flex"};return i?s.flexDirection=n?"column-reverse":"column":o?s.flexDirection=n?"row-reverse":"row":n&&(s.flexDirection="row-reverse"),Object.assign(s,a,t)}class s extends r.Component{static styles(){return a({...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},row:!0})}render(){const{children:e,className:t,...o}=this.props;return n()("div",{className:t,style:s.styles(o)},void 0,e)}}class l extends r.Component{static styles(){return a({...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},column:!0})}render(){const{children:e,className:t,...o}=this.props;return n()("div",{className:t,style:l.styles(o)},void 0,e)}}},14066:(e,t,o)=>{o.d(t,{J:()=>A,Z:()=>D});var i=o(77094),n=o.n(i),r=o(67294),a=o(83355),s=o(82990),l=o(5366),c=o(95477),d=o(51),p=o(33759),u=o(30278),m=o(27821);const g=20;function h(e,t){switch(t){case"xl":return(0,m.z)(e,"maxWidth","small")?60:(0,m.z)(e,"maxWidth","giant")?80:160;case"l":return(0,m.z)(e,"maxWidth","small")?60:(0,m.z)(e,"maxWidth","giant")?80:120;case"m":return(0,m.z)(e,"maxWidth","giant")?40:60;case"s":return 40;case"xs":return 20;default:return 0}}function f(e,t){const o=t?h(e,t):0;return{marginTop:o,marginBottom:o}}const v={display:"flex",flexDirection:"column",alignItems:"center"};class y extends a.Z{renderComponent(){return n()("div",{style:v},void 0,this.props.children)}}y.displayName="FrontAlign";const b=y;var S=o(63209),w=o(43250);class k extends a.Z{renderComponent(){return n()("div",{className:w.Quo,id:this.props.name})}}k.displayName="FrontAnalyticsScrollPoint";const C=k;var _=o(8848);class M extends a.Z{renderComponent(){return n()("div",{style:{height:1,background:_.ZP.frontBorder,...this.props.style}})}}M.displayName="FrontDivider";const T=M;var I=o(25476);class P extends a.Z{renderComponent(){return n()("section",{style:this.getSectionStyle()},void 0,this.props.hasBorderTop&&n()("div",{style:this.getDividerMaxWidth()},void 0,n()(T,{})),n()("div",{style:this.getInnerStyle()},void 0,this.props.analyticsName&&n()(C,{name:this.props.analyticsName}),n()(I.Z,{size:this.props.limit},void 0,this.props.children)))}getSectionStyle(){const e=(t=this.environment,(0,m.z)(t,"maxWidth","small")?g:(0,m.z)(t,"minWidth","small")&&(0,m.z)(t,"maxWidth","large")?40:60);var t;const o={paddingLeft:e,paddingRight:e,width:"100%",margin:"0 auto",overflow:this.props.overflowHidden?"hidden":"visible",...f(this.environment,this.props.marginSize)};return this.props.style?{...o,...this.props.style}:o}getInnerStyle(){return{width:"100%",borderRadius:3}}getDividerMaxWidth(){return{maxWidth:I.P.l,margin:"0 auto"}}}P.displayName="FrontSection";const x=P;var B=o(12337),Z=o(35708),E=o(44196);class R extends a.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:u.Z},this.productType=void 0}willMount(e){super.willMount(e),"email"===p.Z.state.loginType&&(c.Z.isAdminMode&&"development"!==c.Z.env||this.environment.device.isMobileBrowser)&&!this.environment.device.isBannedGoogleSSOUserAgent&&p.Z.setState({...p.Z.state,loginType:"google"}),c.Z.isAdminMode&&"development"===c.Z.env&&p.Z.setState({...p.Z.state,loginType:"saml"})}renderComponent(){var e;const t=this.props.isSignup?"signup":"login",{publicPageData:o}=d.Z.state,{device:i,WindowSizeStore:n}=this.environment,r=i.isMobile||i.isMobileBrowser,a=r||n.state.width<852,s="ai"===(null===(e=p.Z.getState())||void 0===e?void 0:e.productType)&&this.props.isSignup;return this.renderMFALoginPage({analyticsName:t,showAIVersion:s,publicPageData:o,showMobileLayout:a,isMobile:r})}renderMFALoginPage(e){let{analyticsName:t,showAIVersion:o,publicPageData:i,showMobileLayout:a,isMobile:s}=e;const l=void 0!==i,c=null==i?void 0:i.spaceName;return n()(S.Z,{hideNotificationBanner:!0,hideNavItems:!0,hideFooter:!0,analyticsName:t,showAIVersion:o},void 0,n()("div",{style:R.columnStyle},void 0,n()(x,{limit:"m"},void 0,n()(b,{align:"center"},void 0,p.Z.isMfa()?n()(E.Z,{loginStore:p.Z}):r.createElement(r.Fragment,null,i&&n()("div",{style:this.getIconStyle(s)},void 0,n()(B.Z,{type:B.Z.Type.NoAccess,publicPageData:i})),n()("div",{style:this.getTitleStyle({showMobileLayout:a,showAIVersion:o,hasPublicPageData:l})},void 0,this.renderTitle({showAIVersion:o,isMobile:s,spaceName:c})),n()(Z.Z,{loginStore:p.Z,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabelType:!s&&this.props.isSignup?"work_email":"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:this.getLoginActionStyle(),isSignup:this.props.isSignup,showMobileLayout:a,showAIVersion:o,from:"frontLoginPage"}))))))}renderReferringMessage(e){switch(e){case"notion_academy":return n()(l.FormattedMessage,{id:"signupPage.title.fromSourceNotionAcademy",defaultMessage:"Log in to view this lesson",description:"Title of signup page when coming from a referring source"});case"notion_template_gallery":return n()(l.FormattedMessage,{id:"signupPage.title.fromSourceNotionTemplateGallery",defaultMessage:"Log in to duplicate this template",description:"Title of signup page when coming from a referring source"})}}renderTitle(e){const{showAIVersion:t,spaceName:o,isMobile:i}=e,r=new URLSearchParams(window.location.search),a=!0===this.props.isSignup&&!0===i&&r.get("try_notion_cta");if(this.props.isSignup)return o?n()(l.FormattedMessage,{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion",description:"Title for signup page",values:{company:o}}):"mobile"===a?n()(l.FormattedMessage,{id:"signupPage.title.tryNotionMobileCTA",defaultMessage:"Sign up to create a Notion page",description:"Title of signup page for mobile"}):t?n()("div",{},void 0,n()(l.FormattedMessage,{id:"signupPage.title.showAIVersion1",defaultMessage:"Sign up to join the ",description:"Title of signup page for AI version"}),n()("span",{style:{color:"#CA59FF"}},void 0,n()(l.FormattedMessage,{id:"signupPage.title.showAIVersion2",defaultMessage:"Notion AI",description:"Title of signup page for AI version"})),n()(l.FormattedMessage,{id:"signupPage.title.showAIVersion3",defaultMessage:" waitlist",description:"Title of signup page for AI version"})):n()(A,{});{const e=r.get("from");return c.Z.isAdminMode?"Log In (Admin Mode)":e?this.renderReferringMessage(e):n()(l.FormattedMessage,{id:"loginPage.title",defaultMessage:"Log in",description:"Title for login page"})}}getIconStyle(e){return{marginTop:e?"20vh":"12vh"}}getTitleStyle(e){let t="12vh";e.showMobileLayout&&e.showAIVersion&&(t="20vh");let o=50;return e.showAIVersion&&(o=40),e.showMobileLayout&&(o=34),{...e.hasPublicPageData?{fontSize:e.showMobileLayout?26:36}:{fontSize:o,marginTop:t},fontWeight:s.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:380}}getLoginActionStyle(){return{width:"100%",maxWidth:320,marginBottom:"16vh"}}}function A(){return window.__c={n:"SignupText"},n()(l.FormattedMessage,{id:"signupPage.title",defaultMessage:"Sign up",description:"Title for signup page"})}R.displayName="FrontLoginPage",R.columnStyle={display:"flex",flexDirection:"row",width:"100%"};const D=(0,l.injectIntl)(R)},35708:(e,t,o)=>{o.d(t,{Z:()=>ie});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(8848),u=o(65917),m=o(2911);function g(e){try{var t;const o=null===(t=window)||void 0===t?void 0:t.google;o?e(o):u.log({level:"warning",from:"googleOneTapLogin",type:"googleOneTapLibraryNotFound",error:{message:"Please make sure you have the google onetap library installed"}})}catch(o){u.log({level:"error",from:"googleOneTapLogin",type:"googleOneTapLibraryLoadError",error:(0,m.Ui)(o)})}}function h(e){const{onCancel:t,onSuccess:o,googleAccountConfigs:i,containerStyle:n}=e;if((0,c.useEffect)((()=>(g((e=>{e.accounts.id.initialize({...i,prompt_parent_id:"g_id_onload"}),e.accounts.id.prompt((e=>{e.isSkippedMoment()&&["user_cancel","tap_outside"].includes(e.getSkippedReason())?t():e.isDismissedMoment()&&("credential_returned"===e.getDismissedReason()?o():t())}))})),()=>g((e=>{e.accounts.id.cancel()})))),[]),n){const t={position:"absolute",...e.containerStyle};return a()("div",{id:"g_id_onload","data-prompt_parent_id":"g_id_onload","data-cancel_on_tap_outside":"false",style:t})}return null}var f=o(3779),v=o(89101);const y=e=>{const t=document.querySelector(".grecaptcha-badge");t&&t.parentNode&&document.body.removeChild(t.parentNode);const o=document.querySelector(`#${e}`);o&&o.remove(),(()=>{const e=document.querySelector("script[src^='https://www.gstatic.com/recaptcha/releases']");e&&e.remove()})()},b=e=>{let{reCaptchaKey:t,language:o,onLoad:i,useRecaptchaNet:n,useEnterprise:r,scriptProps:{nonce:a="",defer:s=!1,async:l=!1,id:c="",appendTo:d}={}}=e;const p=c||"google-recaptcha-v3";if((e=>!!document.querySelector(`#${e}`))(p))return void i();const u=(e=>{let{useRecaptchaNet:t,useEnterprise:o}=e;return`https://www.${t?"recaptcha.net":"google.com"}/recaptcha/${o?"enterprise.js":"api.js"}`})({useEnterprise:r,useRecaptchaNet:n}),m=document.createElement("script");m.id=p,m.src=`${u}?render=${t}${o?`&hl=${o}`:""}`,a&&(m.nonce=a),m.defer=!!s,m.async=!!l,m.onload=i;("body"===d?document.body:document.getElementsByTagName("head")[0]).appendChild(m)},S=e=>{process.env,console.warn(e)};var w;!function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"}(w||(w={}));const k=(0,c.createContext)({executeRecaptcha:()=>{throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}}),{Consumer:C}=k;function _(e){let{reCaptchaKey:t,useEnterprise:o=!1,useRecaptchaNet:i=!1,scriptProps:n,language:r,children:s}=e;window.__c={n:"GoogleReCaptchaProvider"};const[l,d]=(0,c.useState)(null);(0,c.useEffect)((()=>{if(!t)return void S("<GoogleReCaptchaProvider /> recaptcha key not provided");const e=(null==n?void 0:n.id)||"google-recaptcha-v3";return b({reCaptchaKey:t,useEnterprise:o,useRecaptchaNet:i,scriptProps:n,language:r,onLoad:()=>{if(!window||!window.grecaptcha)return void S(`<GoogleRecaptchaProvider /> ${w.SCRIPT_NOT_AVAILABLE}`);const e=o?window.grecaptcha.enterprise:window.grecaptcha;e.ready((()=>{d(e)}))},onError:()=>{S("Error loading google recaptcha script")}}),()=>{y(e)}}),[o,i,n,r,t]);const p=(0,c.useCallback)((async e=>{if(!l||!l.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return await l.execute(t,{action:e})}),[l,t]),u=(0,c.useMemo)((()=>({executeRecaptcha:l?p:void 0})),[p,l]);return a()(k.Provider,{value:u},void 0,s)}var M=o(65454);function T(){return`https://challenges.cloudflare.com/turnstile/v0/api.js?${new URLSearchParams({render:"explicit"})}`}const I=(0,c.createContext)({executeTurnstile:()=>{throw Error("Turnstile Context has not yet been implemented, make sure the hook is called inside component wrapped by TurnstileProvider")},enabled:!1}),{Consumer:P}=I;function x(e){let{renderProps:t,children:o}=e;window.__c={n:"TurnstileProvider"};const[i,n]=(0,c.useState)(null),r=(0,c.useRef)(null);(0,c.useEffect)((()=>(function(e){let{onLoad:t,onFailure:o}=e;const i=T();(0,M.ZP)(i,{resourceType:M._g.Javascript,id:"cf-turnstile-script",async:!1}).then(t).catch(o)}({onLoad:()=>{if(!window||!window.turnstile)throw new Error("<TurnstileProvider/> Turnstile script is not available");const e=window.turnstile;e.ready((()=>{n(e)}))},onFailure:e=>{u.log({level:"error",from:"turnstileProvider",type:"turnstileInjectScriptError",error:(0,m.Ui)(e)})}}),()=>{!function(){delete window.turnstile;const e=T();(0,M.td)(e)}()})),[]);const s=(0,c.useCallback)((async e=>{if(!i||!i.render)throw new Error("<TurnstileProvider/> Turnstile has not been loaded");if(!r.current)throw new Error("Turnstile container has not been loaded yet");return await new Promise(((o,n)=>{i.render(r.current,{action:e,callback:o,"error-callback":n,...t})}))}),[i,t,r]),l=(0,c.useMemo)((()=>({executeTurnstile:i?s:void 0,enabled:!0})),[s,i]);return a()(I.Provider,{value:l},void 0,o,c.createElement("div",{ref:r,style:{width:0,height:0,overflow:"hidden"}}))}var B=o(82990),Z=o(5366);var E=o(35979),R=o(97977),A=o(95477),D=o(11781),F=o(43250),L=o(28125),V=o(77907),N=o(49085);class O extends N.Z{getInitialState(){return{buttons:{}}}}const U=O;var H=o(89403),z=o(30278),W=o(85974),j=o(61519),K=o(74194),Y=o(63296),G=o(53834),X=o(42402),q=o(13490),$=o(64921);class J extends d.Z{renderComponent(){return a()($.Z,{onClick:this.props.onClick,style:this.getStyle(),hoveredStyle:this.getHoveredStyle({showAIVersion:this.props.showAIVersion}),pressedStyle:this.props.showAIVersion?{background:"#C592DD"}:{}},void 0,f.Z.appleLogo({width:16,height:16,marginRight:6,marginBottom:2}),a()(Z.FormattedMessage,{id:"loginForm.loginWithAppleButton.label",defaultMessage:"Continue with Apple"}))}getStyle(){return{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:4,color:p.ZP.regularTextColor,fill:p.ZP.regularTextColor,background:p.ZP.white,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:B.Z.fontWeight.medium,border:"1px solid rgba(15, 15, 15, 0.15)",width:"100%",boxShadow:"0 1px 2px rgba(15, 15, 15, 0.05)",...this.props.style}}getHoveredStyle(e){return{background:e.showAIVersion?"#C592DD":"light"===this.theme.mode?this.theme.buttonHoveredBackground:p.ZP.whiteWithAlpha(.8)}}}J.displayName="SignInWithAppleButton";const Q=J;class ee extends d.Z{constructor(){super(...arguments),this.emailInputId=l().uniqueId("notion-email-input-"),this.passwordInputId=l().uniqueId("notion-password-input-"),this.storeTypes={loginStore:W.Z,loginPermissionsStore:z.Z,buttonsStore:U},this.handleHiddenPasswordInputChange=e=>{const{loginStore:t}=this.stores,o={...t.state,password:e.currentTarget.value,alert:void 0};t.setState(o)},this.handleEmailChange=e=>{const{loginStore:t}=this.stores;E.WA(this.environment,e.target.value);const o={...t.state,email:e.target.value,alert:void 0};t.isPassword()||t.isTemporaryPasscode()||t.isReverifying()?t.setState({...o,loginType:"email",password:""}):t.setState(o)},this.handleEmailLoginClick=async()=>{const{disableLoginLink:e}=this.props,{loginStore:t}=this.stores;this.setLoginActionButtonState({buttonName:"continueWithEmailButton",buttonState:"loading"}),await R.requestLoginWithEmail({environment:this.environment,loginStore:t,disableLoginLink:e,recaptchaOptions:this.props,turnstileOptions:this.props}),this.setLoginActionButtonState({buttonName:"continueWithEmailButton",buttonState:"idle"})},this.handleTemporaryPasscodeLoginClick=e=>async()=>{const{redirectURL:t}=this.props,{loginStore:o}=this.stores;if(o.isReverifying()){this.setLoginActionButtonState({buttonName:e,buttonState:"loading"});const{password:t,sentEmailPasscodeState:i}=o.state,n=await R.verifyEmail({environment:this.environment,state:i,password:t});n?o.setState({...o.state,alert:n}):o.setState({...o.state,loginType:"password",password:"",reverified:!0,alert:void 0}),this.setLoginActionButtonState({buttonName:e,buttonState:"idle"})}if(o.isTemporaryPasscode()){this.setLoginActionButtonState({buttonName:e,buttonState:"loading"});const{password:i,sentEmailPasscodeState:n}=o.state,r=await R.loginWithTemporaryPasscode({environment:this.environment,state:n,password:i,redirectURL:t,passcodeEnterMethod:"manual_input"});r&&o.setState({...o.state,alert:r}),this.setLoginActionButtonState({buttonName:e,buttonState:"idle"})}},this.handlePasswordLoginClick=async()=>{const{redirectURL:e}=this.props,{loginStore:t}=this.stores,{email:o,password:i}=t.state;this.setLoginActionButtonState({buttonName:"continueWithPasswordButton",buttonState:"loading"});const n=await R.loginWithPassword({environment:this.environment,email:o,password:i,redirectURL:e,recaptchaOptions:this.props,turnstileOptions:this.props,loginStore:t});t.setState({...t.state,alert:n}),this.setLoginActionButtonState({buttonName:"continueWithPasswordButton",buttonState:"idle"})},this.handleResetPasswordClick=async()=>{const{loginStore:e}=this.stores;this.setLoginActionButtonState({buttonName:"resetPasswordButton",buttonState:"loading"}),await R.sendPasswordResetLink({environment:this.environment,store:e}),this.setLoginActionButtonState({buttonName:"resetPasswordButton",buttonState:"idle"})},this.handleSamlLoginClick=async()=>{const{loginStore:e}=this.stores;this.setLoginActionButtonState({buttonName:"continueWithSAMLButton",buttonState:"loading"}),await R.requestLoginWithSaml({environment:this.environment,loginStore:e}),this.setLoginActionButtonState({buttonName:"continueWithSAMLButton",buttonState:"idle"})},this.handleLoginWithAppleClick=()=>{R.requestLoginWithApple({environment:this.environment,store:this.stores.loginStore})},this.checkIfRenderGoogleOneTap=()=>!this.environment.device.isBannedGoogleSSOUserAgent}renderComponent(){const{loginStore:e}=this.stores,{isSignup:t,showMobileLayout:o=!1,showAIVersion:i=!1}=this.props,{device:n}=this.environment;return a()("div",{className:F.x4y,style:{...ee.wrapStyle,...this.props.style}},void 0,a()("div",{style:{...ee.formLayout,flexDirection:!t||n.isMobile||n.isMobileBrowser?"column":"column-reverse"}},void 0,!this.stores.loginStore.isExclusiveLoginLinkTemporaryPasscode()&&c.createElement(c.Fragment,null,a()("div",{},void 0,this.renderLoginWithGoogleButton(t,i),this.renderLoginWithAppleButton({showAIVersion:i})),a()(j.Z,{innerStyle:i?{borderColor:"grey"}:{},size:42})),a()("div",{},void 0,this.renderLoginForm({showAIVersion:i}),this.renderAlert(),!t&&this.renderForgotPassword({showAIVersion:i}),!A.Z.isAdminMode&&this.renderLoginOptions({email:!(e.isEmail()||e.isTemporaryPasscode()||e.isPassword()||e.isReverifying()),saml:!e.isSaml(),showAIVersion:i}))),this.renderDisclaimer({showMobileLayout:o,showAIVersion:i}))}didMount(){this.trackSignupPageRenderSuccess(this.environment,this.environment.device.isBannedGoogleSSOUserAgent,Boolean(this.props.isSignup));const{loginStore:e}=this.stores;H.Z.state.inviteeEmail&&(e.setState({...e.state,email:H.Z.state.inviteeEmail}),H.Z.reset(),this.handleEmailLoginClick())}renderLoginForm(e){const{loginStore:t,buttonsStore:o}=this.stores,{email:i,password:n}=t.state;if(t.isEmail())return a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,overrideEmailPlaceholder:void 0,autoComplete:this.props.isSignup?"email":"username",onSubmit:this.handleEmailLoginClick,showAIVersion:e.showAIVersion}),a()(K.Z,{type:"password",autoComplete:"current-password",style:{opacity:0,height:0,padding:0,pointerEvents:"none"},inputElementAttributes:{tabIndex:-1,"aria-hidden":!0},onChange:this.handleHiddenPasswordInputChange}),a()(G.Z,{variant:e.showAIVersion?"aiPrimary":this.environment.device.isBannedGoogleSSOUserAgent?"primary":"secondary",style:{marginTop:6,marginBottom:12,width:"100%"},onClick:this.handleEmailLoginClick,isLoading:"loading"===o.state.buttons.continueWithEmailButton,disabledFeedback:!0},void 0,a()(Z.FormattedMessage,{id:"loginForm.continueWithEmailButton.label",defaultMessage:"Continue with email"})));if(t.isPassword()){const r={color:this.theme.regularTextColor};return a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,onSubmit:this.handlePasswordLoginClick,showAIVersion:e.showAIVersion}),t.state.reverified&&a()("div",{style:this.getEmailSentCaptionStyle({showAIVersion:e.showAIVersion})},void 0,a()("span",{style:{paddingRight:4}},void 0,this.renderCheck()),a()(Z.FormattedMessage,{id:"loginForm.reverifyPasswordLabel",defaultMessage:"<emailverifiedtext>Email verified</emailverifiedtext>. You can continue logging in with your password.",values:{emailverifiedtext:e=>a()("span",{style:r},void 0,e)}})),a()(q.Z,{forId:this.passwordInputId,style:e.showAIVersion?{color:"grey"}:{}},void 0,a()(Z.FormattedMessage,{id:"loginForm.passwordInput.label",defaultMessage:"Password"})),this.renderPasswordInput({password:n,inputType:"password",placeholderType:"enter_password",onSubmit:this.handlePasswordLoginClick,intl:this.props.intl,autoFocus:!0,showAIVersion:e.showAIVersion}),a()(Y.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:this.handlePasswordLoginClick,isLoading:"loading"===o.state.buttons.continueWithPasswordButton,disabledFeedback:!0},void 0,a()(Z.FormattedMessage,{id:"loginForm.continueWithPasswordButton.label",defaultMessage:"Continue with password"})))}return t.isPasswordResetSent()?a()(c.Fragment,{},void 0,a()("div",{style:this.getEmailSentCaptionStyle({showAIVersion:e.showAIVersion})},void 0,a()(Z.FormattedMessage,{id:"loginForm.passwordResetSentMessage",defaultMessage:"Check your inbox for the link to reset your password."}))):t.isForgotPassword()?a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,onSubmit:this.handleResetPasswordClick,showAIVersion:e.showAIVersion}),a()(G.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:"secondary",onClick:this.handleResetPasswordClick,isLoading:"loading"===o.state.buttons.resetPasswordButton,disabledFeedback:!0},void 0,a()(Z.FormattedMessage,{id:"loginForm.sendResetLink",defaultMessage:"Send reset link"}))):t.isReverifying()?a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,onSubmit:this.handleTemporaryPasscodeLoginClick("continueWithReverifyButton"),showAIVersion:e.showAIVersion}),a()("div",{style:this.getEmailSentCaptionStyle({showAIVersion:e.showAIVersion})},void 0,a()(Z.FormattedMessage,{id:"loginForm.reverifySentMessage",defaultMessage:"This account requires email verification. Please check your inbox and paste in the verification code."})),a()(q.Z,{forId:this.passwordInputId,style:e.showAIVersion?{color:"grey"}:{}},void 0,a()(Z.FormattedMessage,{id:"loginForm.verificationCodeInput.label",defaultMessage:"Verification code"})),this.renderPasswordInput({password:n,inputType:"text",placeholderType:"reverify",onSubmit:this.handleTemporaryPasscodeLoginClick("continueWithReverifyButton"),intl:this.props.intl,autoFocus:!0,showAIVersion:e.showAIVersion}),a()(Y.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:this.handleTemporaryPasscodeLoginClick("continueWithReverifyButton"),isLoading:"loading"===o.state.buttons.continueWithReverifyButton,disabledFeedback:!0},void 0,a()(Z.FormattedMessage,{id:"loginForm.continueWithReverifyButton.label",defaultMessage:"Verify email"}))):t.isExclusiveLoginLinkTemporaryPasscode()?a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,onSubmit:this.handleTemporaryPasscodeLoginClick("temporaryPasscodeLoginButton"),showAIVersion:e.showAIVersion}),a()("div",{style:{...this.getEmailSentCaptionStyle({showAIVersion:e.showAIVersion}),fontWeight:B.Z.fontWeight.medium}},void 0,a()(Z.FormattedMessage,{id:"loginForm.loginLinkSentMessage",defaultMessage:"We just sent you a temporary login link.{br}Please check your inbox.",values:{br:a()("br",{})}}))):t.isTemporaryPasscode()?a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:i,onSubmit:this.handleTemporaryPasscodeLoginClick("temporaryPasscodeLoginButton"),showAIVersion:e.showAIVersion}),a()("div",{style:this.getEmailSentCaptionStyle({showAIVersion:e.showAIVersion})},void 0,this.stores.loginStore.state.hasAccount||!L.NA(this.environment)?a()(Z.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessage",defaultMessage:"We just sent you a temporary login code.{br}Please check your inbox.",values:{br:a()("br",{})}}):a()(Z.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessageNoAccount",defaultMessage:"We just sent you a temporary sign up code. Please check your inbox and paste the sign up code below."})),a()(q.Z,{forId:this.passwordInputId,style:e.showAIVersion?{color:"grey"}:{}},void 0,this.stores.loginStore.state.hasAccount||!L.NA(this.environment)?a()(Z.FormattedMessage,{id:"loginForm.loginCodeInput.label",defaultMessage:"Login code"}):a()(Z.FormattedMessage,{id:"loginForm.signUpCodeInput.label",defaultMessage:"Sign up code"})),this.renderPasswordInput({password:n,inputType:"text",placeholderType:this.props.emailPasscodePlaceholderType,onSubmit:this.handleTemporaryPasscodeLoginClick("temporaryPasscodeLoginButton"),intl:this.props.intl,autoFocus:!0,showAIVersion:e.showAIVersion}),a()(G.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:e.showAIVersion?"aiPrimary":"secondary",onClick:this.handleTemporaryPasscodeLoginClick("temporaryPasscodeLoginButton"),isLoading:"loading"===o.state.buttons.temporaryPasscodeLoginButton,disabledFeedback:!0},void 0,this.stores.loginStore.state.hasAccount||!L.NA(this.environment)?a()(Z.FormattedMessage,{id:"loginForm.continueWithLoginCodeButton.label",defaultMessage:"Continue with login code"}):a()(Z.FormattedMessage,{id:"loginForm.createNewAccountButton.label",defaultMessage:"Create new account"}))):t.isSaml()?a()("form",{onSubmit:this.onFormSubmit},void 0,this.renderEmailInput({email:t.state.email,onSubmit:this.handleSamlLoginClick,overrideEmailPlaceholder:void 0,showAIVersion:e.showAIVersion}),a()(G.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:e.showAIVersion?"aiPrimary":"secondary",onClick:this.handleSamlLoginClick,isLoading:"loading"===o.state.buttons.continueWithSAMLButton,disabledFeedback:!0},void 0,a()(Z.FormattedMessage,{id:"loginForm.continueWithSAMLButton.label",defaultMessage:"Continue with SAML"}))):void 0}renderLoginWithGoogleButton(e,t){if(this.environment.device.isBannedGoogleSSOUserAgent)return null;const o=this.checkIfRenderGoogleOneTap();return a()("div",{style:{width:"100%"}},void 0,o&&a()(V.DependencyConsumer,{dependency:V.deps.googleOneTap},void 0,(()=>this.renderGoogleOneTapLoginButton(e))),a()(G.Z,{variant:t?"aiTertiary":"tertiary",style:{marginBottom:4,width:"100%"},onClick:async e=>{this.setLoginActionButtonState({buttonName:"loginWithGoogleButton",buttonState:"loading"}),await R.requestLoginWithGoogle({environment:this.environment,store:this.stores.loginStore,permissionsStore:this.stores.loginPermissionsStore}),this.setLoginActionButtonState({buttonName:"loginWithGoogleButton",buttonState:"idle"})},isLoading:"loading"===this.stores.buttonsStore.state.buttons.loginWithGoogleButton,disabledFeedback:!0},void 0,f.Z.googleLogo({width:14,height:14,marginRight:6}),a()(Z.FormattedMessage,{id:"loginForm.loginWithGoogleButton.label",defaultMessage:"Continue with Google"})))}renderGoogleOneTapLoginButton(e){return a()(h,{onCancel:()=>{E.TR(this.environment,{actionType:"close",isSignup:e})},onSuccess:()=>{E.TR(this.environment,{actionType:"success",isSignup:e})},googleAccountConfigs:{client_id:A.Z.google.clientId,cancel_on_tap_outside:!1,context:e?"signup":"login",callback:t=>{E.TR(this.environment,{actionType:"click",isSignup:e}),R.requestLoginWithGoogleOneTap({environment:this.environment,store:this.stores.loginStore,idToken:t.credential})}}})}renderLoginWithAppleButton(e){if(!A.Z.isAdminMode)return a()(Q,{showAIVersion:e.showAIVersion,style:{marginTop:10},onClick:this.handleLoginWithAppleClick})}renderCheck(){return f.Z.thinCheck({display:"inline",height:12,width:12,color:this.theme.regularTextColor})}renderLoginOptions(e){const{email:t,saml:o,showAIVersion:i}=e;if(t||o)return a()("div",{style:this.getCaptionStyle({showAIVersion:i})},void 0,t&&o?this.renderContinueWithEmailOrSaml({showAIVersion:i}):t?this.renderContinueWithEmail({showAIVersion:i}):this.renderContinueWithSaml({showAIVersion:i}))}renderContinueWithEmailOrSaml(e){return a()(Z.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmailOrSAML",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink> or <samlloginlink>continue with SAML SSO</samlloginlink>",values:{emailloginlink:t=>a()(X.Z,{showAIVersion:e.showAIVersion,onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"email",alert:void 0})}},void 0,t),samlloginlink:t=>a()(X.Z,{showAIVersion:e.showAIVersion,onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"saml",alert:void 0})}},void 0,t)}})}renderContinueWithEmail(e){return a()(Z.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmail",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink>",values:{emailloginlink:t=>a()(X.Z,{showAIVersion:e.showAIVersion,onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"email",alert:void 0})}},void 0,t)}})}renderContinueWithSaml(e){return a()(Z.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithSAML",defaultMessage:"You can also <samlloginlink>continue with SAML SSO</samlloginlink>",values:{samlloginlink:t=>a()(X.Z,{showAIVersion:e.showAIVersion,onClick:()=>{this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"saml",alert:void 0})}},void 0,t)}})}renderEmailInput(e){const{email:t,onSubmit:o,overrideEmailLabel:i,overrideEmailPlaceholder:n,autoComplete:r,showAIVersion:s}=e,l="email"===this.props.emailLabelType?a()(Z.FormattedMessage,{id:"loginForm.emailInput.label",defaultMessage:"Email",description:"Label for email input field if user is logging in with a normal email address"}):a()(Z.FormattedMessage,{id:"loginForm.workEmailInput.label",defaultMessage:"Work email",description:"Label for email input field if user is logging in with a company email address"}),d=void 0!==n?n:this.props.intl.formatMessage({id:"loginForm.emailInput.placeholder",defaultMessage:"Enter your email address..."});return a()(c.Fragment,{},void 0,a()(q.Z,{style:e.showAIVersion?{color:"grey"}:{},forId:this.emailInputId},void 0,i||l),a()(K.Z,{id:this.emailInputId,value:t,type:"email",format:K.Z.Format.Large,style:this.getInputStyle({showAIVersion:s}),placeholder:d,onSubmit:o,autoComplete:r,showClearButton:!0,autoFocus:this.props.emailInputAutoFocus,onChange:this.handleEmailChange,inputElementAttributes:{"aria-label":d}}))}renderPasswordInput(e){const{password:t,inputType:o,placeholderType:i,intl:n,onSubmit:r,icon:s,onIconClick:l,autoFocus:c,showAIVersion:d}=e;let p="";const u=this.stores.loginStore.state.hasAccount,m=!L.NA(this.environment);switch(i){case"enter_password":p=n.formatMessage({id:"loginForm.passcodeInput.enterPasswordPlaceholder",defaultMessage:"Enter your password..."});break;case"enter_code":p=u||!m?n.formatMessage({id:"loginForm.passcodeInput.enterCodePlaceholder",defaultMessage:"Enter login code"}):n.formatMessage({id:"loginForm.passcodeInput.enterSignupCodePlaceholder",defaultMessage:"Enter sign up code"});break;case"paste_code":p=u||!m?n.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder",defaultMessage:"Paste login code"}):n.formatMessage({id:"loginForm.passcodeInput.pasteSignupCodePlaceholder",defaultMessage:"Paste sign up code"});break;case"reverify":p=n.formatMessage({id:"loginForm.passcodeInput.reverifyPlaceholder",defaultMessage:"Paste verification code"})}return a()(K.Z,{id:this.passwordInputId,type:o,value:t,style:this.getInputStyle({showAIVersion:d}),format:K.Z.Format.Large,placeholder:p,onSubmit:r,autoFocus:c,autoComplete:"text"===o?"one-time-code":"current-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{this.stores.loginStore.setState({...this.stores.loginStore.state,password:"text"===o?e.target.value.trim():e.target.value,alert:void 0})},icon:s,onIconClick:l})}renderForgotPassword(e){const{loginStore:t}=this.stores;if(t.isPassword()||t.isEmail())return a()("div",{style:this.getCaptionStyle({showAIVersion:e.showAIVersion})},void 0,a()(X.Z,{showAIVersion:e.showAIVersion,onClick:()=>{t.setState({...t.state,loginType:"forgot",password:"",alert:void 0})}},void 0,a()(Z.FormattedMessage,{id:"loginForm.forgotPasswordLink",defaultMessage:"Forgot password?"})))}renderAlert(){const{alert:e}=this.stores.loginStore.state,t=e&&e.split("User:")[1]||e;return a()("div",{style:{fontSize:14,color:p.ZP.redWithAlpha(1),textAlign:"center",display:t?"block":"none",width:"100%"}},void 0,t)}renderDisclaimer(e){return this.props.disableDisclaimer?null:a()("div",{style:{width:e.showMobileLayout?"100%":500,marginTop:64,marginBottom:0,fontSize:12,color:e.showAIVersion?"white":this.theme.lightTextColor,textAlign:e.showMobileLayout?"left":"center"}},void 0,a()("p",{style:{marginBottom:0}},void 0,a()(Z.FormattedMessage,{id:"loginForm.disclaimer",description:"Terms and conditions for using the app",defaultMessage:"By clicking “Continue with Apple/Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:t=>a()(X.Z,{href:v._j.termsAndConditions,showAIVersion:e.showAIVersion},void 0,t),privacypolicylink:t=>a()(X.Z,{href:v._j.privacyPolicy,showAIVersion:e.showAIVersion},void 0,t)}})))}setLoginActionButtonState(e){const{buttonName:t,buttonState:o}=e;!function(e){const{buttonsStore:t,buttonName:o,buttonState:i}=e;t.setState({buttons:{...t.state.buttons,[o]:i}})}({buttonsStore:this.stores.buttonsStore,buttonName:t,buttonState:o})}onFormSubmit(e){e.preventDefault()}trackSignupPageRenderSuccess(e,t,o){E.nk(e,{isBannedGoogleSSOUserAgent:t,isSignup:o})}getInputStyle(e){const{device:t}=this.environment;return{marginTop:4,marginBottom:8,boxShadow:this.theme.inputBoxShadow,...t.isMobile&&{lineHeight:"30px"},...e.showAIVersion&&{background:"white",color:"black"}}}getCaptionStyle(e){return{color:e.showAIVersion?"#888783":this.theme.mediumTextColor,fontSize:14,lineHeight:1.6,marginTop:8,marginBottom:8,textAlign:"center",...this.props.captionStyle}}getEmailSentCaptionStyle(e){return{fontSize:14,textAlign:"center",marginTop:8,marginBottom:8,width:"100%",color:e.showAIVersion?"grey":this.theme.mediumTextColor,...this.props.emailPasswordSentPromptStyle}}}ee.displayName="LoginAction",ee.wrapStyle={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},ee.formLayout={display:"flex",flexDirection:"column",width:"100%"};const te=(0,Z.injectIntl)(function(e){const t=t=>a()(C,{},void 0,(o=>c.createElement(e,n()({},t,{googleReCaptchaProps:o}))));return t.displayName=`withGoogleReCaptcha(${e.displayName||e.name||"Component"})`,t}(function(e){const t=t=>a()(P,{},void 0,(o=>c.createElement(e,n()({},t,{turnstileProps:o}))));return t.displayName=`withTurnstile(${e.displayName||e.name||"Component"})`,t}(ee)));class oe extends d.Z{renderComponent(){return(0,D.eW)()?a()(x,{renderProps:{sitekey:A.Z.turnstile.sitekey,retry:"never"}},void 0,c.createElement(te,n()({},this.props,this.stores))):(0,D.l9)()?a()(_,{reCaptchaKey:A.Z.googleReCaptcha.siteKey,useEnterprise:!0,scriptProps:{async:!1,defer:!1,nonce:void 0}},void 0,c.createElement(te,n()({},this.props,this.stores))):c.createElement(te,n()({},this.props,this.stores))}}oe.displayName="ChallengeWrappedLoginAction";const ie=oe},46457:(e,t,o)=>{o.d(t,{_:()=>S});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(82990),u=o(5366),m=o(60709),g=o(3386),h=o(78140),f=o(40721),v=o(22346),y=o(35708),b=o(44196);function S(e){let{loginModalStore:t,loginStore:o,title:i,description:r,isSignup:a,disableLoginLink:d,redirectURL:p,className:u,onDismiss:g}=e;const y=(0,l.O7)(),b=(0,c.VK)((()=>t.state.open),[t]),S={loginStore:o,title:i,description:r,isSignup:a,redirectURL:p,disableLoginLink:d};if(y.device.isMobile){const e=()=>M({loginModalStore:t,loginStore:o,onDismiss:g});return n()(h.Z,{menuType:m.og.Modal,left:n()(f.CancelMenuText,{}),onClickLeft:e,onCancel:e,whiteBackground:!0,title:i},void 0,s.createElement(w,S))}return n()(v.Z,{open:b,className:u,innerStyle:{width:480,height:590,maxWidth:"calc(100vw - 100px)",borderRadius:3},onDismiss:()=>{M({loginModalStore:t,loginStore:o,onDismiss:g})},render:()=>n()("div",{style:{height:"100%"}},void 0,!y.device.isMobile&&n()(k,{loginModalStore:t,loginStore:o,onDismiss:g}),s.createElement(w,S))})}function w(e){let{loginStore:t,title:o,description:i,isSignup:r,redirectURL:s,disableLoginLink:d}=e;window.__c={n:"LoginContent"};const p=(0,l.O7)(),u=(0,c.VK)((()=>{if(t.isMfa())return t.state.settings}),[t]);return n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none",height:"100%"}},void 0,!u&&!p.device.isMobile&&n()(C,{title:o}),!u&&i&&n()(_,{description:i}),n()(g.Z,{capture:!0,onBackspace:a().identity,onLeft:a().identity,onRight:a().identity,onSelectAll:a().identity,onRedo:a().identity,onUndo:a().identity,onCut:a().identity,onCopy:a().identity,onPaste:a().identity,onKeypress:a().identity,onDelete:a().identity,onTab:a().identity},void 0,u&&u.length>0?n()(b.Z,{loginStore:t}):n()(y.Z,{loginStore:t,style:{width:320,marginTop:24,marginBottom:64,...T(p)},isSignup:r,emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,disableDisclaimer:!0,redirectURL:s,disableLoginLink:d,from:"loginModal"})))}function k(e){let{loginModalStore:t,loginStore:o,onDismiss:i}=e;window.__c={n:"CancelButton"};const r=(0,d.Fg)();return n()("div",{style:{fontSize:14,color:r.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer"},onClick:()=>{M({loginModalStore:t,loginStore:o,onDismiss:i})}},void 0,n()(u.FormattedMessage,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"}))}function C(e){let{title:t}=e;window.__c={n:"Title"};const o=(0,l.O7)();return n()("div",{style:{fontSize:28,fontWeight:p.Z.fontWeight.semibold,marginTop:90,textAlign:"center",lineHeight:1.1,...T(o)}},void 0,t)}function _(e){let{description:t}=e;window.__c={n:"Description"};const o=(0,d.Fg)(),i=(0,l.O7)();return n()("div",{style:{fontSize:14,color:o.mediumTextColor,width:350,marginTop:12,marginBottom:20,textAlign:"center",lineHeight:1.3,...T(i)}},void 0,t)}function M(e){const{loginModalStore:t,loginStore:o,onDismiss:i}=e;o.reset(),t.setState({open:!1}),i&&i()}function T(e){return e.device.isMobile?{maxWidth:343}:{}}},44196:(e,t,o)=>{o.d(t,{Z:()=>Q});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(97977),c=o(68785),d=o(49085),p=o(97880),u=o(49682),m=o(16010);class g extends d.Z{getInitialState(){return{step:"loginUninitialized"}}}class h extends m.o{constructor(e,t){super(e,"login"),this.service=void 0,this.service=t}loginShowChoices(){"loginComplete"!==this.getCurrentStep().step&&(this.store.setState({step:"loginLoadSettings"}),this.doLoadSettings().catch(this.handleUnexpectedError))}loginUseMethod(e){let{mfaSettingId:t}=e;const o=this.checkStep("loginChooseMethod");if(!o)return;const{settings:i}=o,n=i.find((e=>e.mfaSettingId===t));if(n)switch(n.mfaMethod){case"totp":return this.loginChooseTOTP({mfaSettingId:t,friendlyName:n.friendlyName});case"sms":return this.loginChooseSMS({mfaSettingId:t,partialPhoneNumber:n.phoneNumber});case"backup_code":return this.loginChooseBackupCode({mfaSettingId:t});default:throw(0,p.t1)(n)}}loginChooseTOTP(e){let{mfaSettingId:t,friendlyName:o}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,friendlyName:o,step:"loginTOTP"})}loginChooseSMS(e){let{mfaSettingId:t,partialPhoneNumber:o}=e;this.checkStep("loginChooseMethod")&&(this.store.setState({isLoading:!0,mfaSettingId:t,partialPhoneNumber:o,step:"loginSMS",resentAt:0,resentStatus:"not-resent"}),this.doSendSMS({mfaSettingId:t}).catch(this.handleUnexpectedError))}loginChooseBackupCode(e){let{mfaSettingId:t}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,step:"loginBackupCode"})}loginVerifyCode(e){let{mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}=e;const r=f(t),a=this.checkStep(r);a&&a.mfaSettingId===o&&(this.store.setState({...a,isLoading:!0}),this.doVerifyCode({mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}).catch(this.handleUnexpectedError))}loginResendSMS(e){const t=this.checkStep("loginSMS");t&&(this.store.setState({...t,isLoading:!0,resentStatus:"resending"}),this.doSendSMS({mfaSettingId:e}).catch(this.handleUnexpectedError))}exit(){this.store.setState({step:"loginUninitialized"})}async doLoadSettings(){const e=await this.withStep("loginLoadSettings",(()=>this.service.loadSettings()));if(!e)return;const{result:t}=e;this.store.setState({step:"loginChooseMethod",settings:t.settings})}async doVerifyCode(e){let{mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}=e;const r=f(t),a=await this.withStep(r,(()=>{switch(t){case"totp":return this.service.verifyTOTP(o,i);case"sms":return this.service.verifySMS(o,i);case"backup_code":return this.service.verifyBackupCode(i);default:(0,p.t1)(t)}}));if(!a)return;const{result:s,state:l}=a;switch(s.status){case"match":this.store.setState({step:"loginComplete",mfaMethod:t}),n();break;case"error":this.store.setState({...l,error:u.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...l,error:(0,u.Q3)(t),isLoading:!1});break;default:return(0,p.t1)(s.status)}}async doSendSMS(e){let{mfaSettingId:t}=e;const o=await this.withStep("loginSMS",(e=>this.service.sendSMS(t)));if(!o)return;const{state:i}=o,{resentStatus:n,resentAt:r}="not-resent"===i.resentStatus?{resentStatus:"not-resent",resentAt:0}:{resentStatus:"resent",resentAt:Date.now()};this.store.setState({...i,step:"loginSMS",isLoading:!1,resentStatus:n,resentAt:r})}}function f(e){return"totp"===e?"loginTOTP":"sms"===e?"loginSMS":"backup_code"===e?"loginBackupCode":(0,p.t1)(e)}var v=o(24405),y=o(8848),b=o(1799),S=o(5366),w=o(74194),k=o(97464),C=o.n(k),_=o(39693),M=o.n(_),T=o(82990),I=o(33665),P=o(42922),x=o(1629);function B(e){return(0,v.EM)({container:{position:"relative",width:324,padding:16},title:{fontWeight:T.Z.fontWeight.semibold,fontSize:20,lineHeight:1.2,color:e.regularTextColor,marginBottom:16,marginLeft:6,marginRight:6,textAlign:"center"},error:{color:y.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:T.Z.fontSize.UISmall.desktop},header:{fontWeight:T.Z.fontWeight.regular,fontSize:T.Z.fontSize.UIRegular.desktop,color:e.lightTextColor,textAlign:"center",marginBottom:18},primaryActionButton:{width:"100%",margin:"12px auto 0",marginBottom:"24px",height:36},hiddenButton:{display:"none"}})}const Z=function(e){let{primaryAction:t,secondaryActions:o,title:i,header:s,children:l,errorMessage:c}=e;window.__c={n:"MFALoginPrompt"};const d=(0,v.yK)(B,[]),p=(0,a.Fy)(),{isMobileNative:u}=p,m=(0,r.useMemo)((()=>t?n()(P.Z,{style:d.primaryActionButton,isLarge:!0,onClick:t.onClick,disabled:t.disabled,isRed:t.isRed},void 0,t.text):null),[t,d]),g=(0,I.UY)("guides.mfa"),h=(0,r.useMemo)((()=>M()([...o||[],{text:n()(S.FormattedMessage,u?{id:"login.mfa.mfaPrompt.needHelp.mobileNative",defaultMessage:"Need help with 2-step verification?",description:"A link if you need help logging into MFA on a Mobile Platform."}:{id:"login.mfa.mfaPrompt.needHelp",defaultMessage:"Need help?",description:"A link if you need help logging into MFA."}),type:"link",view:"plain",href:g,isExternal:!0}]).map(((e,t)=>r.createElement(x.Z,C()({},e,{key:t}))))),[o,g,u]),f=c?n()("div",{style:d.error},void 0,c):void 0,y=(0,r.useCallback)((e=>{e.preventDefault(),t&&!t.disabled&&t.onClick()}),[t]);return n()("form",{style:d.container,onSubmit:y},void 0,n()("div",{style:d.title},void 0,i),n()("div",{style:d.header},void 0,s),f,l,m,h,n()("button",{style:d.hiddenButton}))};var E=o(45653);function R(e){let{userStore:t,children:o}=e;window.__c={n:"MFALoginPromptTitle"};const i=(0,v.yK)(A,[]),r=(0,s.VK)((()=>t.getEmail()),[t]);return n()("div",{style:i.header},void 0,n()(E.Z,{userStore:t,size:64,avatarShouldShowShadow:!0,style:i.avatar}),n()("div",{style:i.title},void 0,o),n()("div",{style:i.email},void 0,r))}function A(e){return(0,v.EM)({avatar:{marginBottom:12},title:{marginBottom:12},header:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},email:{fontSize:T.Z.fontSize.UISmall.desktop,fontWeight:T.Z.fontWeight.regular,color:e.lightTextColor}})}function D(e){let{isLoading:t,userStore:o,errorMessage:i,onVerifyCode:a,onTryAnotherMethod:s}=e;window.__c={n:"MFALoginPromptBackupCodeVerification"};const l=(0,v.yK)(F,[]),[c,d]=(0,r.useState)(""),p=n()(R,{userStore:o},void 0,n()(S.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeTitle",defaultMessage:"Verify your identity",description:"Title for a prompt asks you confirm a code from backup codes during login"})),u=n()(S.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeHeader",defaultMessage:"Enter an unused one-time backup code.",description:"Label requesting that you enter one of your backup codes during login"}),m={text:n()(S.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeButton",defaultMessage:"Continue",description:"A button to attempt to verify the specified code and then log you in"}),onClick:()=>a(c),disabled:t},g=[{text:n()(S.FormattedMessage,{id:"login.mfa.backupCode.anotherMethod",defaultMessage:"Try another method",description:"A button allows you to enter another verification method."}),type:"button",view:"plain",onClick:s}];return n()(Z,{title:p,header:u,primaryAction:m,secondaryActions:g,errorMessage:i},void 0,n()("div",{style:l.body},void 0,n()(w.Z,{value:c,spellCheck:!1,style:l.backupCodeInput,onChange:e=>d((0,b.K)(e.target.value)),placeholder:"1234-1234",disabled:t})))}function F(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},backupCodeInput:{background:"light"===e.mode?y.O9.transparent:e.inputBackground,color:e.darkTextColor,height:44,fontSize:16}})}var L=o(71119),V=o(5474);function N(e){let{errorMessage:t,userStore:o,mfaSettings:i,onUseMethod:s,onCancelMfa:l}=e;window.__c={n:"MFALoginPromptMethodChooser"};const c=(0,v.yK)(O,[]),d=(0,a.Fy)(),u=n()(R,{userStore:o},void 0,n()(S.FormattedMessage,{id:"login.mfa.methodChooser.chooseMethodTitle",defaultMessage:"Verify your identity",description:"Title for a prompt to choose which MFA Method to use for login"})),m=M()([!d.isMobileNative&&{text:n()(S.FormattedMessage,{id:"login.mfa.methodChooser.anotherAccount",defaultMessage:"Log into another account",description:"A button allows you to choose a different account to log into."}),type:"button",view:"plain",onClick:l}]),g=(0,r.useMemo)((()=>(0,L.UG)(i).map((e=>{const{mfaMethod:t,mfaSettingId:o}=e;switch(t){case"totp":return n()(V.Z,{type:"totp",isActive:!0,title:e.friendlyName,caption:n()(S.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useAuthenticator.button.message",defaultMessage:"Use code from authenticator",description:"Button caption to login with a TOTP Authenticator"}),onClick:()=>s("totp",o),style:c.button});case"sms":return n()(V.Z,{type:"sms",isActive:!0,title:e.phoneNumber,caption:n()(S.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.usePhoneNumber.button.message",defaultMessage:"Text me a code",description:"Button caption to login with a SMS Code sent to your phone"}),onClick:()=>s("sms",o),style:c.button});case"backup_code":return n()(V.Z,{type:"backup_code",isActive:!0,title:n()(S.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.title",defaultMessage:"Use backup code",description:"Button title to login using a backup code"}),caption:n()(S.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.message",defaultMessage:"Use a one-time backup code",description:"Button message to login using a backup code"}),onClick:()=>s("backup_code",o),style:c.button});default:(0,p.t1)(t)}}))),[c,i,s]);return n()(Z,{title:u,header:undefined,primaryAction:undefined,secondaryActions:m,errorMessage:t},void 0,n()("div",{style:c.body},void 0,g))}function O(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},button:{marginBottom:10}})}var U=o(96486),H=o(56839),z=o(73602),W=o(11898);function j(e){let{isLoading:t,userStore:o,phoneHint:i,resentAt:a,resentStatus:s,errorMessage:l,onVerifyCode:c,onResendLink:d,onTryAnotherMethod:p}=e;window.__c={n:"MFALoginPromptSMSVerification"};const u=(0,v.yK)(K,[]),[m,g]=(0,r.useState)([]),h=n()(R,{userStore:o},void 0,n()(S.FormattedMessage,{id:"login.mfa.sms.verifyCodeTitle",defaultMessage:"Verify your identity",description:"Title for a prompt asks you confirm a code from an Authenticator during login"})),f=r.createElement(r.Fragment,null,n()(S.FormattedMessage,{id:"login.mfa.sms.verifyCodeHeader",defaultMessage:"Enter the code sent to {phoneHint}.",description:"Label requesting that you enter a one time code sent via SMS to your phone",values:{phoneHint:i}})," ",r.createElement(z.y,{resentAt:a,resentStatus:s,onResendLink:d})),y={text:n()(S.FormattedMessage,{id:"login.mfa.sms.verifyCodeButton",defaultMessage:"Continue",description:"A button to attempt to verify the specified code and log you in"}),onClick:()=>c(m.join("")),disabled:t||"resending"===s||(0,U.compact)(m).length!==H.R$},b=[{text:n()(S.FormattedMessage,{id:"login.mfa.sms.anotherMethod",defaultMessage:"Try another method",description:"A button allows you to enter another verification method."}),type:"button",view:"plain",onClick:p}];return n()(Z,{title:h,header:f,primaryAction:y,secondaryActions:b,errorMessage:l},void 0,n()("div",{style:u.body},void 0,n()(W.ZP,{numInputs:H.R$,format:"login",disabled:t,value:m,onChange:g,autoFocus:!0,isValidKey:W.rN})))}function K(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16}})}var Y=o(18469);function G(e){let{isLoading:t,userStore:o,friendlyName:i,errorMessage:a,onVerifyCode:s,onTryAnotherMethod:l}=e;window.__c={n:"MFALoginPromptTOTPVerification"};const c=(0,v.yK)(X,[]),[d,p]=(0,r.useState)([]),u=n()(R,{userStore:o},void 0,n()(S.FormattedMessage,{id:"login.mfa.totp.verifyCodeTitle",defaultMessage:"Verify your identity",description:"Title for a prompt asks you confirm a code from an Authenticator during login"})),m=n()(S.FormattedMessage,{id:"login.mfa.totp.verifyCodeHeader",defaultMessage:"Enter code from authenticator <boldtext>{friendlyName}</boldtext>.",description:"Label requesting that you enter a one time code from your authenticator app during login",values:{friendlyName:i,boldtext:e=>n()("span",{style:c.boldText},void 0,e)}}),g={text:n()(S.FormattedMessage,{id:"login.mfa.totp.verifyCodeButton",defaultMessage:"Continue",description:"A button to attempt to verify the specified code and log you in"}),onClick:()=>s(d.join("")),disabled:t||(0,U.compact)(d).length!==Y.R$},h=[{text:n()(S.FormattedMessage,{id:"login.mfa.totp.anotherMethod",defaultMessage:"Try another method",description:"A button allows you to enter another verification method."}),type:"button",view:"plain",onClick:l}];return n()(Z,{title:u,header:m,primaryAction:g,secondaryActions:h,errorMessage:a},void 0,n()("div",{style:c.body},void 0,n()(W.ZP,{numInputs:Y.R$,format:"login",disabled:t,value:d,onChange:p,autoFocus:!0,isValidKey:W.rN})))}function X(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},boldText:{fontWeight:T.Z.fontWeight.semibold}})}function q(e){window.__c={n:"MFALoginRouter"};const{loginStateMachine:t,userStore:o,onCancelMfa:i,onComplete:a}=e,s=t.useCurrentStep();return n()(r.Fragment,{},void 0,function(){switch(s.step){case"loginUninitialized":return;case"loginLoadSettings":return n()(c.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center"}});case"loginChooseMethod":return n()(N,{userStore:o,mfaSettings:s.settings,errorMessage:s.error,onUseMethod:(e,o)=>t.loginUseMethod({mfaSettingId:o}),onCancelMfa:i});case"loginTOTP":return n()(G,{isLoading:s.isLoading,userStore:o,friendlyName:s.friendlyName,errorMessage:s.error,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"totp",mfaSettingId:s.mfaSettingId,code:e,onComplete:a}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginSMS":return n()(j,{isLoading:s.isLoading,userStore:o,phoneHint:s.partialPhoneNumber,errorMessage:s.error,resentAt:s.resentAt,resentStatus:s.resentStatus,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"sms",mfaSettingId:s.mfaSettingId,code:e,onComplete:a}),onResendLink:()=>{t.loginResendSMS(s.mfaSettingId)},onTryAnotherMethod:()=>t.loginShowChoices()});case"loginBackupCode":return n()(D,{isLoading:s.isLoading,userStore:o,errorMessage:s.error,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"backup_code",mfaSettingId:s.mfaSettingId,code:e,onComplete:a}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginComplete":return;default:return(0,p.t1)(s)}}())}var $=o(54642);class J{constructor(e){this.environment=void 0,this.userId=void 0,this.environment=e.environment,this.userId=e.userId}async loadSettings(){const e=await $.authGetLoginConfiguration(this.environment,{},this.userId);if("success"===e.type){const{data:t}=e;return"required"===t.samlSignIn?{settings:[]}:{settings:t.mfaOptions}}throw e.error}async sendSMS(e){const t=await $.authSendSms(this.environment,{mfaSettingId:e},this.userId);if("success"!==t.type)throw t.error}async verifySMS(e,t){var o,i;const n=await $.authVerifySmsLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===n.type)return{status:"match"};if("invalid_mfa_code"===(null===(o=n.body)||void 0===o||null===(i=o.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw n.error}async verifyTOTP(e,t){var o,i;const n=await $.authVerifyTotpLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===n.type)return{status:"match"};if("invalid_mfa_code"===(null===(o=n.body)||void 0===o||null===(i=o.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw n.error}async verifyBackupCode(e){var t,o;const i=await $.authVerifyBackupCodesLogin(this.environment,{code:e},this.userId);if("success"===i.type)return{status:"match"};if("invalid_mfa_code"===(null===(t=i.body)||void 0===t||null===(o=t.clientData)||void 0===o?void 0:o.type))return{status:"incorrect"};throw i.error}}function Q(e){const{loginStore:t}=e,o=(0,a.O7)(),[i,d]=(0,r.useState)(void 0),{userId:p,userStore:u,previousPersistedUserId:m,redirectURL:f}=(0,s.VK)((()=>({userId:t.state.userStore.id,userStore:t.state.userStore,previousPersistedUserId:t.state.previousPersistedUserId,redirectURL:t.state.redirectURL})),[t]);(0,r.useEffect)((()=>{if(void 0===i){const e=new J({environment:o,userId:p}),t=new g,i=new h(t,e);d(i),i.loginShowChoices()}}),[o,p,i]);const v=(0,r.useCallback)((async()=>{await l.completeLoginWithMfa({environment:o,redirectURL:f,userId:p,previousPersistedUserId:m})}),[o,p,m,f]);return i?n()(q,{loginStateMachine:i,userStore:u,onCancelMfa:()=>l.handleTryAnotherAccount(t),onComplete:v}):n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},void 0,n()(c.Z,{}))}},5474:(e,t,o)=>{o.d(t,{Z:()=>u});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(3779),l=o(82990),c=o(68785),d=o(63296),p=o(64369);function u(e){window.__c={n:"MFAActionButton"};const{type:t,isActive:o,title:i,caption:u,onClick:m,isLoading:g,style:h,disabled:f}=e,[v,y]=(0,r.useState)(!1),b=(0,r.useCallback)((()=>y(!0)),[y]),S=(0,r.useCallback)((()=>y(!1)),[y]),w=(0,a.yK)((e=>({button:{width:"100%",justifyContent:"left",padding:"10px 16px",alignItems:"start",height:"auto",...h},buttonLoading:{width:"100%",height:59,...h},buttonInner:{minWidth:0},icon:{width:20,height:20,marginRight:10,fill:o||v&&!f?e.blueColor:e.regularIconColor},caption:{fontSize:l.Z.fontSize.UISmall.desktop,lineHeight:1.35,color:e.mediumTextColor,whiteSpace:"normal"}})),[o,v,f,h]),k=(0,r.useMemo)((()=>g?w.buttonLoading:w.button),[g,w.buttonLoading,w.button]),C={totp:s.Z.authenticatorCode(w.icon),sms:s.Z.textMessage(w.icon),backup_code:s.Z.collectionNumberType(w.icon)}[t];return n()(d.Z,{style:k,onClick:m,onMouseEnter:b,onMouseLeave:S,hovered:v,disabled:f,disabledFeedback:f},void 0,g?n()(c.Z,{}):r.createElement(r.Fragment,null,n()("div",{style:w.icon},void 0,C),n()("div",{style:w.buttonInner},void 0,n()(p.Z,{},void 0,i),n()("span",{style:w.caption},void 0,u))))}},88175:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(8848),d=o(3779),p=o(82990),u=o(42922),m=o(89728),g=o(1629);function h(e){let{onDismiss:t,onBack:o,disableBackButton:i,primaryAction:r,secondaryActions:c,title:p,header:h,children:v,errorMessage:y,alertMessage:b,icon:S,containerStyles:w}=e;window.__c={n:"MFAPrompt"};const k=(0,l.yK)(f,[]),C=(0,s.useMemo)((()=>a()(s.Fragment,{},void 0,a()("div",{style:o&&t?k.topIconRow:{...k.topIconRow,justifyContent:"flex-end"}},void 0,o?a()(m.Z,{isSmall:!0,style:k.backButton,onClick:o,disabled:i},void 0,d.Z.arrowLeftThick(k.backIcon)):null,t?a()(m.Z,{isSmall:!0,style:k.dismissButton,hoveredStyle:k.dismissButtonHovered,onClick:t},void 0,d.Z.closeSmall(k.dismissIcon)):null),S?a()("div",{style:k.titleIconRow},void 0,S):null)),[k,S,t,o,i]),_=(0,s.useMemo)((()=>r?a()(u.Z,{style:k.primaryActionButton,isLarge:!0,onClick:r.onClick,disabled:r.disabled,isRed:r.isRed},void 0,r.text):null),[r,k]),M=(0,s.useMemo)((()=>null==c?void 0:c.map(((e,t)=>s.createElement(g.Z,n()({},e,{key:t}))))),[c]),T=(0,s.useCallback)((e=>{e.preventDefault(),r&&!r.disabled&&r.onClick()}),[r]),I=y?a()("div",{style:k.error},void 0,y):void 0,P=b?a()("div",{style:k.alert},void 0,b):void 0;return a()("form",{style:{...k.container,...w},onSubmit:T},void 0,C,a()("div",{style:k.title},void 0,p),a()("div",{style:k.header},void 0,h),I,P,v,_,M,a()("button",{style:k.hiddenButton}))}function f(e){return(0,l.EM)({container:{position:"relative",width:280,padding:16},topIconRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:4,width:"100%"},titleIconRow:{display:"flex",justifyContent:"center",marginBottom:15},dismissButton:{marginTop:-5,marginRight:-5,borderRadius:"50%",width:18,height:18,background:"light"===e.mode?c.FN.light.gray[75]:c.FN.dark.gray[400],display:"flex",justifyContent:"center",alignItems:"center",padding:0},dismissButtonHovered:{background:"light"===e.mode?c.FN.light.gray[100]:c.FN.dark.gray[500]},backButton:{marginTop:-5,marginLeft:-5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},title:{fontWeight:p.Z.fontWeight.medium,fontSize:p.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.regularTextColor,marginBottom:4,paddingLeft:10,paddingRight:10,textAlign:"center"},error:{color:c.ZP.red,width:"100%",marginBottom:8,textAlign:"center",fontSize:p.Z.fontSize.UISmall.desktop},alert:{color:c.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:p.Z.fontSize.UISmall.desktop},header:{fontWeight:p.Z.fontWeight.regular,fontSize:p.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,textAlign:"center",marginBottom:16,lineHeight:1.35},primaryActionButton:{width:"100%",margin:"15px auto 0"},hiddenButton:{display:"none"},backIcon:{width:14,height:14,fill:e.mediumIconColor},dismissIcon:{width:12,height:12,fill:e.mediumIconColor}})}},56839:(e,t,o)=>{o.d(t,{R$:()=>h,ZP:()=>f});var i=o(77094),n=o.n(i),r=o(96486),a=o(67294),s=o(24405),l=o(82990),c=o(5366),d=o(33665),p=o(68785),u=o(88175),m=o(73602),g=o(11898);const h=6;function f(e){let{isLoading:t,phoneNumber:o,errorMessage:i,resentStatus:l,resentAt:f,onDismiss:y,onBack:b,onVerifyCode:S,onResendLink:w}=e;window.__c={n:"MFAPromptSMSVerification"};const k=(0,s.yK)(v,[]),[C,_]=(0,a.useState)([]),M=n()(c.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeTitle",defaultMessage:"Verify phone number",description:"Title for a prompt asks you confirm a code sent via SMS to your phone"}),T=a.createElement(a.Fragment,null,n()(c.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeHeader.default",defaultMessage:"Enter the code sent to {phoneNumber} to complete setup.",description:"Label requesting that you enter a one time code sent via SMS to your phone",values:{phoneNumber:o}})," ",a.createElement(m.y,{resentAt:f,resentStatus:l,onResendLink:w})),I={text:t?n()(p.Z,{}):n()(c.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeButton",defaultMessage:"Verify code",description:"A button to attempt to verify the specified code."}),onClick:()=>S(C.join("")),disabled:t||"resending"===l||(0,r.compact)(C).length!==h},P=[{text:n()(c.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeNeedHelp",defaultMessage:"Need help?",description:"A button that provides additional help if you cannot enter a verification code."}),href:(0,d.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return n()(u.Z,{title:M,header:T,errorMessage:i,primaryAction:I,secondaryActions:P,onDismiss:y,onBack:b,disableBackButton:t},void 0,n()("div",{style:k.body},void 0,n()(g.ZP,{numInputs:h,format:"settings",disabled:!1,value:C,onChange:_,autoFocus:!0,isValidKey:g.rN})))}function v(e){return(0,s.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:l.Z.fontWeight.medium,fontSize:l.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},1629:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(97880),l=o(82990),c=o(63296),d=o(85740),p=o(8848);function u(e){let{onClick:t,disabled:o,view:i,icon:r,isRed:s,href:l,isExternal:c,saveAs:d,style:u,children:m}=e;window.__c={n:"MFAPromptLink"};const g=(0,a.yK)((e=>({link:{userSelect:"none",WebkitUserSelect:"none",transition:"background 20ms ease-in",cursor:o?void 0:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",borderRadius:4,height:"outline"===i?32:28,paddingLeft:Boolean(r)?6:"outline"===i?12:8,paddingRight:12,fontSize:14,lineHeight:1.2,color:s?p.O9.red:e.regularTextColor,..."outline"===i?{border:`1px solid ${s?e.outlineRedButtonBorder:e.outlineButtonBorder}`}:{},...u}})),[i,s,r,u,o]);return n()("a",{style:g.link,target:c?"_blank":void 0,href:l,download:d,onClick:t,rel:"noopener noreferrer"},void 0,m)}function m(e){const{type:t,view:o,text:i,disabled:p,isRed:m,icon:g}=e,h=(0,a.yK)((e=>(0,a.EM)({secondaryActionBase:{width:"100%",margin:"8px auto 0",justifyContent:"center"},secondaryActionPlainButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:l.Z.fontWeight.regular,fontSize:l.Z.fontSize.UIRegular.desktop,color:"button"===t?e.lightTextColor:e.regularTextColor},secondaryActionOutlineButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:l.Z.fontWeight.regular,fontSize:l.Z.fontSize.UIRegular.desktop,color:"link"===t&&"outline"!==o||"plain"===o?e.lightTextColor:e.regularTextColor},secondaryActionIcon:{width:12,height:12,marginRight:4}})),[t,o]),f=m?h.secondaryActionBase:h.secondaryActionOutlineButton,v=n()(r.Fragment,{},void 0,g?g(h.secondaryActionIcon):null,i);if("button"===t){const t="outline"===o?c.Z:d.Z;return n()(t,{onClick:e.onClick,style:f,isRed:m,disabled:p},void 0,v)}if("link"===t)return n()(u,{onClick:e.onClick,view:o,isExternal:e.isExternal,icon:g,isRed:m,href:e.href,saveAs:e.saveAs,style:f,disabled:p},void 0,v);throw(0,s.t1)(t)}},18469:(e,t,o)=>{o.d(t,{R$:()=>g,ZP:()=>h});var i=o(77094),n=o.n(i),r=o(96486),a=o(67294),s=o(24405),l=o(82990),c=o(5366),d=o(33665),p=o(68785),u=o(88175),m=o(11898);const g=6;function h(e){let{isLoading:t,errorMessage:o,onDismiss:i,onBack:l,onVerifyCode:h}=e;window.__c={n:"MFAPromptTOTPVerification"};const v=(0,s.yK)(f,[]),[y,b]=(0,a.useState)([]),S=n()(c.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeTitle",defaultMessage:"Verify code",description:"Title for a prompt asks you confirm a code from an Authenticator"}),w=n()(c.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeHeader",defaultMessage:"Enter the one-time code from authenticator to complete setup.",description:"Label requesting that you enter a one time code from your authenticator app"}),k={text:t?n()(p.Z,{}):n()(c.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeButton",defaultMessage:"Verify code",description:"A button to attempt to verify the specified code."}),onClick:()=>h(y.join("")),disabled:t||(0,r.compact)(y).length!==g},C=[{text:n()(c.FormattedMessage,{id:"profileSettings.mfa.totp.needHelp",defaultMessage:"Need help?",description:"A button that provides additional help if you cannot enter a verification code."}),href:(0,d.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return n()(u.Z,{title:S,header:w,errorMessage:o,primaryAction:k,secondaryActions:C,onDismiss:i,onBack:l,disableBackButton:t},void 0,n()("div",{style:v.body},void 0,n()(m.ZP,{numInputs:g,format:"settings",disabled:t,value:y,onChange:e=>{b(e)},autoFocus:!0,isValidKey:m.rN})))}function f(e){return(0,s.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:l.Z.fontWeight.medium,fontSize:l.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},73602:(e,t,o)=>{o.d(t,{y:()=>y});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(3779),d=o(97880),p=o(82990),u=o(63143),m=o(5366),g=o(68785),h=o(58032),f=o(42402);const v=60*u.C0;function y(e){let{resentStatus:t,resentAt:o,onResendLink:i}=e;const r=(0,l.yK)(b,[]),[p,u]=(0,s.useState)((()=>Date.now()));(0,s.useEffect)((()=>{if(o+v>p){const e=setTimeout((()=>{u(Date.now())}),1e3);return()=>{clearTimeout(e)}}}),[o,u,p]);const y=Math.max(Math.floor((o+v-p)/1e3),0);if("not-resent"===t||"resent"===t&&0===y)return a()(m.FormattedMessage,{id:"mfa.sms.resend.resend.link",defaultMessage:"<resend>Resend</resend>",description:"Link to resend a text code to your phone",values:{resend:e=>a()(f.Z,{style:r.resendLink,disableUnderline:!0,onClick:i},void 0,e)}});if("resending"===t)return a()(m.FormattedMessage,{id:"mfa.sms.resend.sending.label",defaultMessage:"<sending>Sending</sending>",description:"Message to indicate that an SMS is being sent",values:{sending:e=>s.createElement(s.Fragment,null,e,a()(g.Z,{style:r.loading}))}});if("resent"===t)return a()(h.Z,{placement:h.Z.Placement.Bottom,renderTooltip:()=>a()(m.FormattedMessage,{id:"mfa.sms.resend.resent.tooltip",defaultMessage:"You can send a code again in {resendTimeout} seconds",description:"Tooltip indicating when you can send another code",values:{resendTimeout:y}}),render:e=>s.createElement("span",n()({},e,{style:r.resent}),a()(m.FormattedMessage,{id:"mfa.sms.resend.resent.message",defaultMessage:"<resent>Resent</resent>",description:"Message indicating that the message was resent",values:{resent:e=>s.createElement(s.Fragment,null,e,c.Z.checkmark(r.checkmark))}}))});throw(0,d.t1)(t)}function b(e){return(0,l.EM)({resendLink:{fontWeight:p.Z.fontWeight.medium,color:e.blueColor},checkmark:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2,color:"green"},resent:{userSelect:"none",WebkitUserSelect:"none"},loading:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2}})}},11898:(e,t,o)=>{o.d(t,{rN:()=>h,ZP:()=>f});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o(67294),c=o(480),d=o(24405),p=o(8848),u=o(97880),m=o(71119),g=o(72133);const h=e=>e>="0"&&e<="9";function f(e){let{numInputs:t,disabled:o,value:i,format:n,onChange:r,autoFocus:c,isValidKey:u}=e;window.__c={n:"MFAVerificationSingleInput"};const m=(0,d.yK)((e=>function(e,t){return(0,d.EM)({inputRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cell:{display:"flex",alignItems:"center",justifyContent:"center",width:"login"===t?40:33,height:44,paddingLeft:0,paddingRight:0,fontSize:18,background:"light"===e.mode?p.ZP.transparent:e.inputBackground,lineHeight:"20px",borderRadius:4,boxShadow:e.inputBoxShadow},focusedCell:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},cellInput:{textAlign:"center",color:e.darkTextColor},hiddenInput:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",opacity:0}})}(e,n)),[n]),[g,h]=(0,l.useState)(void 0),f=(0,l.useMemo)((()=>(0,s.times)(t,(e=>{const o=void 0!==g&&(g.selectionStart<=e&&e<=g.selectionEnd||e===t-1&&g.selectionStart>=t),n={...m.cell,...o?m.focusedCell:{}};return a()("div",{style:n},void 0,a()("div",{style:m.cellInput},void 0,i[e]||""))}))),[t,g,m,i]),y=(0,l.useMemo)((()=>a()(v,{value:i,cursor:g,isValidCharacter:u,disabled:o,maxLength:{limit:t,method:"replaceLast"},onSetValue:r,onSetCursor:h,autoFocus:c,style:m.hiddenInput})),[t,u,r,h,c,m,i,g,o]);return a()("div",{style:{position:"relative"}},void 0,y,a()("div",{style:m.inputRow},void 0,f))}function v(e){let{isValidCharacter:t,cursor:o,value:i,maxLength:r,onSetCursor:a,onSetValue:d,style:p,autoFocus:h,disabled:f}=e;window.__c={n:"FilteredInput"};const v=(0,l.useRef)(null),y=(0,c.Fy)();(0,l.useEffect)((()=>{const e=v.current;if(e){const{selectionStart:t,selectionEnd:i}=e;if(o&&o.selectionStart!==t&&o.selectionEnd!==i){const t=document.createRange();t.selectNode(e),g.set(t,y),e.setSelectionRange(o.selectionStart,o.selectionEnd)}}}),[v,o,i,y]);const b=(0,l.useCallback)(((e,o)=>{const i=o.filter(t);if(void 0===r)return i;if(i.length<=r.limit)return i;const n=e.slice(0,r.limit),a=i.slice(0,r.limit);if("truncate"!==r.method&&(0,s.isEqual)(n,a)){if("replaceLast"===r.method){return[...i.slice(0,r.limit-1),...i.slice(-1)]}return(0,u.t1)(r.method)}return a}),[t,r]),S=(0,l.useCallback)((e=>{const{selectionStart:t,selectionEnd:o}=e.target;null!==t&&null!==o&&a({selectionStart:t,selectionEnd:o})}),[a]),w=(0,l.useCallback)((e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||S(e)}),[S]),k=(0,l.useCallback)((e=>{const{selectionStart:t,selectionEnd:o}=e.target,n=Array.from(e.target.value),s=b(i,n);if(null!==t&&null!==o){const e=Math.min(n.length,(null==r?void 0:r.limit)??1/0)-s.length;a({selectionStart:t-e,selectionEnd:o-e})}else a(void 0);d(s)}),[a,d,i,b,r]),C=(0,l.useCallback)((e=>{const t=e.clipboardData;if(t&&t.getData){const o=t.getData("text"),i=Array.from(o),n=b([],i);a({selectionStart:n.length,selectionEnd:n.length}),d(n),e.preventDefault()}}),[b,d,a]);return l.createElement("input",n()({onChange:k,onBlur:()=>{a(void 0)},onFocus:S,onPaste:C,disabled:f,autoFocus:h,type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyUp:w,ref:v,value:i.join(""),style:p},m.pf))}},49682:(e,t,o)=>{o.d(t,{Q3:()=>c,Qj:()=>s,to:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(97880)),a=o(5366);const s={unexpectedError:n()(a.FormattedMessage,{id:"general.mfa.error.unexpectedError",defaultMessage:"Something went wrong, please try again",description:"Generic error message when an unexpected error occurs"}),smsIncorrectCode:n()(a.FormattedMessage,{id:"general.mfa.error.incorrectSMSCode",defaultMessage:"The code didn’t work, try typing it again or resend code",description:"Generic error message when an SMS Code is incorrect"}),smsInvalidCountryCode:n()(a.FormattedMessage,{id:"general.mfa.error.smsInvalidCountryCode",defaultMessage:"The country code is not valid",description:"Generic error message when a country code to receive SMS is not valid"}),smsInvalidPhoneCode:n()(a.FormattedMessage,{id:"general.mfa.error.smsInvalidPhoneNumber",defaultMessage:"The phone number is not valid",description:"Generic error message when a phone number to receive SMS is not valid"}),smsEmptyPhoneNumber:n()(a.FormattedMessage,{id:"general.mfa.error.smsEmptyPhoneNumber",defaultMessage:"Phone number cannot be empty",description:"Generic error message when a phone number is the empty string"}),smsAlreadyVerifiedPhoneNumber:n()(a.FormattedMessage,{id:"general.mfa.error.smsAlreadyVerifedPhoneNumber",defaultMessage:"This phone number has already been verified",description:"Generic error message when a phone number is already verified"}),totpIncorrectCode:n()(a.FormattedMessage,{id:"general.mfa.error.incorrectTOTPCode",defaultMessage:"The code didn’t work, try typing it again",description:"Generic error message when an Authenticator Code is incorrect"}),totpEmptyFriendlyName:n()(a.FormattedMessage,{id:"general.mfa.error.totpEmptyFriendlyName",defaultMessage:"Authenticator name cannot be empty",description:"Generic error message when an Authenticator name is the empty string"}),totpDuplicateFriendlyName:n()(a.FormattedMessage,{id:"general.mfa.error.totpDuplicateFriendlyName",defaultMessage:"Authenticator name is already in use",description:"Generic error message when an Authenticator name has already been used"}),totpBadFriendlyName:n()(a.FormattedMessage,{id:"general.mfa.error.totpBadFriendlyName",defaultMessage:"Authenticator name cannot be used",description:"Generic error message when an Authenticator name has a bad word in it"}),backupCodeIncorrectCode:n()(a.FormattedMessage,{id:"general.mfa.error.incorrectBackupCode",defaultMessage:"The backup code didn’t work, try typing it again or use a different one",description:"Generic error message when a Backup Code is incorrect"}),incorrectPassword:n()(a.FormattedMessage,{id:"general.mfa.error.incorrectPassword",defaultMessage:"Incorrect password",description:"Generic error message when a password is incorrect"})},l={passwordResentLinkSent:e=>n()(a.FormattedMessage,{id:"general.mfa.passwordResentLinkSent",defaultMessage:"A password reset link has been sent to {email}.",description:"Generic message when a user requests a password reset",values:{email:e}})};function c(e){switch(e){case"totp":return s.totpIncorrectCode;case"sms":return s.smsIncorrectCode;case"backup_code":return s.backupCodeIncorrectCode;default:throw(0,r.t1)(e)}}},16010:(e,t,o)=>{o.d(t,{o:()=>d});var i=o(96486),n=o(81954),r=o(65917),a=o(2911),s=o(33954),l=o(33929),c=o(49682);class d{constructor(e,t){this.debugName=void 0,this.store=void 0,this.handleUnexpectedError=e=>{const t={...this.store.getState()};if("object"==typeof e&&null!==e){const o=e,{body:i,error:n,data:d}=o;let p;if(i)p=i;else if(d){p=d.responseBody}if(p){if("object"==typeof p&&null!==p){const e=p,{clientData:o}=e;if(o){const e=o,i=(0,s.mH)(e);if(i){const e=l.default.getIntl();this.store.setState({...t,error:e.formatMessage(i)})}}}}else r.log({level:"error",from:this.debugName,type:"handleUnexpectedError",error:(0,a.Ui)(n)}),this.store.setState({...t,error:c.Qj.unexpectedError})}else this.store.setState({...t,error:c.Qj.unexpectedError})},this.store=e,this.debugName=t}getState(){return this.store.getState()}getCurrentStep(){return this.store.getState()}useCurrentStep(){const[e]=(0,n.AF)(this.store);return e}async withStep(e,t){const o=this.store.getState();if(!(i.isArray(e)?e.includes(o.step):o.step===e))return;const n=await t(o),r=this.store.getState();return r.step===o.step?{result:n,state:r}:void 0}checkStep(e){const t=this.store.getState();if(i.isArray(e)?e.includes(t.step):t.step===e)return t}}},13243:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(77094),n=o.n(i),r=(o(67294),o(81954)),a=o(17294),s=o(85248);function l(e){let{targetRecordId:t,style:o}=e;window.__c={n:"MoveOrDuplicateProgress"};const i=(0,r.VK)((()=>a.Z.state[t]),[t]);if(!i)return null;const{taskStatus:l,completeBlocks:c,totalBlocks:d}=i,p=(()=>{switch(l){case"not_started":case"failure":return;case"success":return 100;case"in_progress":if("number"!=typeof c||"number"!=typeof d)return;if(0===d)return;const e=c/d;return 1===e?99:Math.round(100*e)}})();return"number"!=typeof p?null:n()(s.k,{percentage:p,style:o})}},66527:(e,t,o)=>{o.d(t,{Z:()=>et,s:()=>Je});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(41892),u=o(67219),m=o(31942),g=o(3779),h=o(21202),f=o(97880),v=o(82990),y=o(5366),b=o(88295),S=o(31299),w=o(28020),k=o(60709),C=o(98742),_=o(41432),M=o(6287),T=o(42330),I=o(3815),P=o(10161);function x(e,t){return e&&(e.isNavigableBlock()||e.getType()===_.Ti.alias)&&!e.isLinkedCollectionView()&&!e.getMovedStore().getValue()&&!t.some((t=>t.id===e.id))&&(!t.some((e=>e.isCollectionView()))||!e.isCollectionView())}function B(e){const t=[];for(const i of e){const e=i.getParentPointer();if(e)if(e.table===h.iU)t.push(e.id);else if(e.table===M.v){var o;const e=null===(o=i.getAssociatedCollectionStore())||void 0===o?void 0:o.getParentPointer();e&&e.table===h.iU&&t.push(e.id)}}return t}function Z(){const e=T.ZP.getTargetsDatabaseType();return P.default.checkGate("typed_move_to_menu")&&e&&e!==u.GZ}var E=o(98165),R=o(33665),A=o(38755),D=o(15517),F=o(23537),L=o(79315),V=o(88632),N=o(63334),O=o(29798),U=o(49085);class H extends U.Z{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=L.default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:o}=L.default.state;if(!e&&t)return t;if(e&&o){return o.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const z=H;var W=o(72087),j=o(52275),K=o(61519),Y=o(1743),G=o(56940),X=o(68894),q=o(3386),$=o(16354),J=o(68785),Q=o(78140),ee=o(89728),te=o(31278),oe=o(72495),ie=o(14871),ne=o(33411),re=o(58032),ae=o(64369),se=o(45653),le=o(13380),ce=o(60442),de=o(9342),pe=o(43765),ue=o(77137);function me(e){let{query:t,spaceId:o,menuListStore:i,requestStore:n,getAutocompleteItems:r}=e;return window.__c={n:"MoveToAutocomplete"},a()(ue.Z,{request:{query:t,spaceId:o},render:(e,o)=>a()(ge,{sections:o,error:e,menuListStore:i,initialFocus:Boolean(t)?0:void 0}),requestStore:n,debounce:S.vp,performRequest:r})}function ge(e){let{sections:t,error:o,menuListStore:i,initialFocus:n}=e;return window.__c={n:"MoveToAutocompleteMenu"},o?a()(oe.Z,{},void 0,a()(pe.Z,{title:a()(y.FormattedMessage,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})):t&&0===t.length?a()(oe.Z,{},void 0,a()(pe.Z,{title:a()(y.FormattedMessage,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})):a()(de.Z,{type:de.i.Vertical,initialFocus:n,sections:t||[],store:i})}var he=o(90468),fe=o(29369),ve=o(81954),ye=o(24405),be=o(4708),Se=o(65598),we=o(11470),ke=o(76798);function Ce(e){let{store:t,menuListItemProps:o,hidePath:i,showLockIcon:r}=e;window.__c={n:"MoveToMenuItem"};const s=(0,ve.VK)((()=>function(e){if(!(0,be.vI)())return;if((0,Se.NZ)(e)&&!e.canEdit())return a()(y.FormattedMessage,{id:"moveBlockMenu.needEditAccess.tooltip",defaultMessage:'You need "Can edit" access to "{parentName}" to move this page',description:"Tooltip explaining why you cannot move to this location.",values:{parentName:a()(ke.Z,{store:e})}});if((0,Se.Y)(e)&&!e.canAddOrRemoveTopLevelPages())return a()(y.FormattedMessage,{id:"moveBlockMenu.TeamSidebarLocked.tooltip",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move to this teamspace.",description:"Tooltip explaining you cannot move to a teamspace because the sidebar is locked."})}(t)),[t]),l=Boolean(s),d=(0,ye.yK)((e=>({disabledTooltip:{maxWidth:240},recordMenuItem:l?{color:e.mediumTextColor}:{}})),[l]);return a()(re.Z,{placement:re.Z.Placement.Left,textWrap:!0,style:d.disabledTooltip,disableTooltip:!l,renderTooltip:()=>s,render:e=>c.createElement(we.Z,n()({},(0,C.Z)(o,e),{disabled:l,store:t,hidePath:i,style:d.recordMenuItem,right:r?a()(_e,{}):void 0}))})}function _e(){window.__c={n:"MenuItemRightIconWithTooltip"};const e=(0,ye.yK)((()=>({container:{display:"flex"},lockIcon:{width:16,height:16}})),[]);return(0,be.c)()?null:a()("div",{style:e.container},void 0,a()(re.Z,{placement:re.Z.Placement.Bottom,renderTooltip:()=>a()(y.FormattedMessage,{defaultMessage:"No edit access",id:"moveBlockMenu.noEditAccess.tooltip",description:"Tooltip that displays when a menuitem in the move to menu isn't editable."}),render:t=>c.createElement("div",t,g.Z.lockedDocument(e.lockIcon))}))}var Me=o(480),Te=o(75081),Ie=o(75024),Pe=o(86176);function xe(e){let{spaceStore:t,collectionStore:o,menuListItemProps:i}=e;window.__c={n:"MoveToModalTypedItem"};const r=(0,Me.O7)(),s=(0,ye.yK)((e=>({caption:{color:e.lightTextColor,fontSize:(0,Ie.yv)(r,"UISmall")}})),[r]);return c.createElement(we.Z,n()({caption:a()("div",{style:s.caption},void 0,a()(Be,{spaceStore:t,collectionStore:o})),store:o},i))}function Be(e){let{spaceStore:t,collectionStore:o}=e;const i=(0,Me.O7)(),n=(0,ve.VK)((()=>function(e){let{environment:t,spaceStore:o,collectionStore:i}=e;const n=(0,Te.tV)({environment:t,spaceStore:o,collectionStore:i});switch(n){case"team":return null;case"private":return a()(y.FormattedMessage,{id:"moveToHelpers.privatePageCaptionPrefix",defaultMessage:"Private",description:"Prefix for a breadcrumb path indicating that a page is under a user's 'Private' pages."});case"other":return a()(y.FormattedMessage,{id:"moveToHelpers.sharedPageCaptionPrefix",defaultMessage:"Shared",description:"Prefix for a breadcrumb path indicating that a page is under a user's 'Shared' pages."});default:(0,f.t1)(n)}}({environment:i,spaceStore:t,collectionStore:o})),[i,t,o]),r=(0,ve.VK)((()=>(0,Pe.L)(o)),[o])&&a()(Pe.Z,{store:o,showFullPathInTooltip:!0});return r&&n?a()("div",{style:{display:"flex",flexDirection:"row"}},void 0,n,a()("div",{style:{paddingLeft:4,paddingRight:4}},void 0,"/"),r):r&&!n?r:c.createElement(c.Fragment,null,n)}function Ze(e){let{spaceStore:t,value:o,showPath:i,isCreateIn:n,onAccept:r}=e;const s=function(e){let{spaceStore:t,value:o}=e;const{type:i}=o;switch(i){case"page":return I.G.createChildStore(t,{table:h.iU,id:o.id});case"collection":return I.NW.createChildStore(t,{table:M.v,id:o.id});case"space":return I.H2.createChildStore(t,{table:he.bx,id:o.id});case"team":return I.zX.createChildStore(t,{table:fe.e0,id:o.id});case"space-private-pages":return;default:(0,f.t1)(i)}}({spaceStore:t,value:o});if(s)return Z()&&s instanceof I.NW?{key:s.id,render:e=>a()(xe,{spaceStore:t,collectionStore:s,menuListItemProps:e}),action:()=>r(o)}:{key:s.id,render:e=>a()(Ce,{store:s,menuListItemProps:e,hidePath:!!n&&!i,showLockIcon:(0,Se.NZ)(s)&&!s.canEdit()}),action:()=>!(0,be.vI)()&&s.canEdit()?r(o):()=>{}}}var Ee=o(59054),Re=o(69327),Ae=o(35026),De=o(64921),Fe=o(93686),Le=o(5210);function Ve(e){return 14*(e+1)}function Ne(e){const{store:t,spaceStore:o,spaceViewStore:i,depth:n,isAlias:r}=e,s=(0,Me.O7)(),l=(0,ye.Fg)(),[d,p]=c.useState(!1),u=(0,ye.yK)((e=>({noChildrenLabelItem:{paddingLeft:Ve(n)+24,fontSize:14,paddingBottom:6.5,color:e.lightTextColor},outlinerItem:{display:"flex",flexDirection:"row",fontSize:14,height:28,paddingLeft:Ve(n),color:e.regularTextColor,alignItems:"center"},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:22,height:18,marginRight:4,position:"relative"}})),[n]);function m(){p(!d)}const f=(0,ve.VK)((()=>{if(t){const e=a()("div",{},void 0,g.Z.pageLinkIndicator({position:"absolute",width:"50%",height:"50%",right:0,bottom:0}));return t instanceof I.zX?a()("div",{style:u.icon},void 0,a()(Fe.p,{disabled:!0,store:t,size:18})):a()("div",{style:u.icon},void 0,a()(te.Z,{icon:t instanceof I.G?t.getIcon():void 0,isEmptyPage:t instanceof I.G&&t.isEmptyPage(),title:void 0,size:18,disabled:!0}),r&&e)}return a()(se.Z,{size:16,userStore:(0,w.B7)(s),style:{marginLeft:3}})}),[t,u.icon,s,r]),v=(0,ve.VK)((()=>t?t.table===fe.e0?"private"!==t.getTeamAccessLevel()?a()("div",{style:{maxWidth:"80%"}},void 0,a()(ke.Z,{store:t})):a()("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"80%"}},void 0,a()(ke.Z,{store:t}),g.Z.lockedFilled({width:14,height:14,marginLeft:4,fill:l.mediumIconColor})):a()("div",{style:{maxWidth:"80%"}},void 0,a()(ke.Z,{store:t})):a()("div",{style:{display:"flex",alignItems:"center",marginLeft:7}},void 0,a()(y.FormattedMessage,{defaultMessage:"Private pages",id:"outliner.addToPrivatePages",description:"Message for moving a page to the private pages section."}),a()("div",{style:{marginLeft:2}},void 0,g.Z.locked({width:14,height:14,fill:l.mediumIconColor,marginLeft:4})))),[t,l.mediumIconColor]),b=(0,ve.VK)((()=>{const e=new Set([_.Ti.page,_.Ti.collectionViewPage,_.Ti.collectionView,_.Ti.alias]),o=new Set([_.Ti.factory]);let n=[];return t?t instanceof I.zX?n=t.getTeamPagesStores():t instanceof I.G&&(n=(0,Ae.Q2)(t,o,e)):n=i.getPrivatePages(s),n}),[t,i,s]);const S=0!==b.length?a()(Oe,{spaceStore:o,spaceViewStore:i,itemStores:b,depth:n+1,onAccept:e.onAccept,targets:e.targets}):a()("div",{style:u.noChildrenLabelItem},void 0,a()(y.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"}));return c.createElement(c.Fragment,null,a()(De.Z,{onClick:function(){e.moveToPagesOnly&&(null==t?void 0:t.table)!==h.iU?m():t?t instanceof I.G?e.onAccept({type:"page",id:t.id,spaceId:o.id}):e.onAccept({type:"team",id:t.id,spaceId:o.id}):e.onAccept({type:"space-private-pages",spaceId:o.id})}},void 0,a()("div",{style:u.outlinerItem},void 0,a()(Le.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:d,color:l.mediumIconColor,onClick:m}),f,v)),d&&n<100&&S)}function Oe(e){window.__c={n:"MoveToOutliner"};const{spaceStore:t,spaceViewStore:o,itemStores:i,depth:n}=e,r=(0,ve.VK)((()=>{const r=i?l().compact(i.map((i=>{if(i instanceof I.zX&&i.canAddOrRemoveTopLevelPages()||i instanceof I.G&&x(i,e.targets)&&i.canEdit()){const r=i instanceof I.G&&i.getType()===_.Ti.alias,s=r?i.getAliasTargetStore():void 0,l=s instanceof I.G?s:i;return a()(Ne,{spaceStore:t,spaceViewStore:o,store:l,depth:n,onAccept:e.onAccept,targets:e.targets,isAlias:r,moveToPagesOnly:e.moveToPagesOnly})}}))):[];return e.addedItems?[...e.addedItems,...r]:r}),[i,e.addedItems,e.moveToPagesOnly,e.targets,e.onAccept,t,o,n]),s=(0,ye.yK)((e=>({sectionHeader:{color:e.mediumTextColor,fontSize:12,fontWeight:v.Z.fontWeight.medium,padding:"12px 14px 4px 14px"}})),[]);return a()(Y.Z,{capture:!0},void 0,e.title&&a()("div",{style:s.sectionHeader},void 0,a()(ae.Z,{isSmall:!0},void 0,e.title)),a()("div",{},void 0,r))}function Ue(e){window.__c={n:"MoveToModal"};const{spaceStore:t,spaceViewStore:o,targets:i,moveToPagesOnly:n}=e,r=(0,ve.VK)((()=>L.default.state.currentUserStore),[]),s=(0,Me.O7)(),c=(0,y.useIntl)(),d=(0,ye.yK)((()=>({modal:{height:374,maxHeight:"70vh",paddingBottom:12},body:{width:"100%"}})),[]),[p]=(0,Ee.r5)((async()=>t&&r?await(0,F.qX)({environment:s,spaceStore:t,currentUserId:r.id}):[]),[s,t,r]),u=(0,ve.VK)((()=>{if(!p.value)return;const e=o.getTeamsStores().filter((e=>e.canAddOrRemoveTopLevelPages()));return e.length>=7?e:l().uniqBy([...e,...p.value||[]],(e=>e.id)).filter((e=>e.canAddOrRemoveTopLevelPages())).slice(0,7)}),[o,p.value]),m=(0,ve.VK)((()=>He({spaceStore:t,targets:i})),[t,i]),g=(0,ve.VK)((()=>o.getWorkspacePages().filter((e=>x(e,i)&&e.canEdit()))),[o,i]),h=(0,ve.VK)((()=>{if(ze({environment:s,targets:i,chosenSpaceStore:t}))return a()(Ne,{spaceStore:t,spaceViewStore:o,store:void 0,depth:0,onAccept:e.onAccept,targets:e.targets,moveToPagesOnly:n})}),[s,n,e,t,o,i]);return t&&o?a()("div",{style:d.modal},void 0,a()("div",{style:d.body},void 0,a()("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},void 0,a()(Oe,{spaceStore:t,spaceViewStore:o,itemStores:m,addedItems:[h],moveToPagesOnly:n,depth:0,title:c.formatMessage({defaultMessage:"Suggested",id:"moveToModal.suggestedSection.title",description:"Suggested move targets."}),onAccept:e.onAccept,targets:e.targets}),u&&u.length>0&&a()(Oe,{spaceStore:t,spaceViewStore:o,itemStores:u,moveToPagesOnly:n,depth:0,title:c.formatMessage({defaultMessage:"Teamspaces",id:"moveToModal.teamsSection.title"}),onAccept:e.onAccept,targets:e.targets}),g.length>0&&a()(Oe,{spaceStore:t,spaceViewStore:o,itemStores:g,moveToPagesOnly:n,depth:0,title:c.formatMessage({defaultMessage:"Workspace",id:"moveToModal.workspaceSection.title"}),onAccept:e.onAccept,targets:e.targets})))):null}function He(e){let{spaceStore:t,targets:o}=e,i=Re.Z.getWithoutSubscribing(t.id).map((e=>{let{store:t}=e;return t})).filter((e=>e.pathIsAccessibleAndAlive()&&!o.some((t=>"block"===t.table&&t.id===e.id))));const n=o.filter((e=>"block"===e.getParentTable())).map((e=>e.getParentId())),r=n.length===o.length,a=[...new Set(n)];return r&&1===a.length&&(i=i.filter((e=>e.id!==a[0]))),i.slice(0,7)}function ze(e){let{environment:t,targets:o,chosenSpaceStore:i}=e;const n=(0,A.Cx)(i),r=o.every((e=>e.isTopLevelPrivatePage({spaceStore:i,environment:t})));return!n&&!r}var We=o(22850);function je(e){let{environment:t,spaceStore:o,joinedTeamIds:i,parentStore:n,moveToTargets:r}=e;const a=(0,ve.VK)((()=>{const e=null==o?void 0:o.id;if(e)return function(e){if(!T.ZP.state.isOpen||"typed"!==T.ZP.state.variant)return;if(e!==T.ZP.state.spaceId)return;return T.ZP.state.typedDatabases}(e)}),[null==o?void 0:o.id]),[{value:s,status:l}]=(0,Ee.r5)((async()=>{if(a)return a;if(!o)return;const e=T.ZP.getTargetsDatabaseType();if(!e)return;const s=await(0,We.m1)({environment:t,currentSpaceId:o.id,databaseType:e,parentStore:n})??[],l=function(e){let{environment:t,typedDatabases:o,spaceStore:i,joinedTeamIds:n}=e;const{privateDatabases:r,otherDatabases:a,teamDatabases:s}=(0,Te.x1)({environment:t,typedCollections:o,spaceStore:i});return[...Ke({teamDatabases:s,joinedTeamIds:n}),...a,...r]}({environment:t,spaceStore:o,typedDatabases:s,joinedTeamIds:i}),c=function(e){let{moveToTargets:t,typedDatabases:o}=e;const i=new Set(B(t));return o.filter((e=>{if(!e.canEdit())return!1;const t=e.getParentPointer();return!t||t.table!==h.iU||!i.has(t.id)}))}({moveToTargets:r,typedDatabases:l});return T.ZP.setState({...T.ZP.state,variant:"typed",typedDatabases:c,spaceId:o.id}),c}),[t,o,n,i,r,a]);return a?{success:!0,typedDatabases:a}:"resolved"===l&&s?{success:!0,typedDatabases:s}:{success:!1}}function Ke(e){let{teamDatabases:t,joinedTeamIds:o}=e;const i=[];for(const[a,s]of Object.entries(t))for(const e of s)i.push([a,e]);if(0===i.length)return[];const n=Object.keys(t).filter((e=>!o.includes(e))),r=[...o,...n];return i.sort(((e,t)=>{let[o,i]=e,[n,a]=t;return r.indexOf(o)-r.indexOf(n)||String(i.getName()).localeCompare(String(a.getName()))})).map((e=>{let[t,o]=e;return o}))}var Ye=o(73063),Ge=o(43568);function Xe(e){window.__c={n:"MoveToModalTypedEmptyState"};const{onClick:t,databaseType:o}=e,i=(0,Me.O7)(),n=(0,ye.yK)((e=>({modal:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32,marginBottom:32},icon:{width:20,fill:e.mediumTextColor},title:{marginTop:6,fontWeight:v.Z.fontWeight.semibold,color:e.mediumTextColor},subtitle:{marginTop:2,marginLeft:14,marginRight:14,textAlign:"center"},button:{fontWeight:v.Z.fontWeight.semibold,fontSize:(0,Ie.yv)(i,"UISmall")}})),[i]),r=(0,u.hf)(o).defaultMessage,s=(0,u.u5)(o).defaultMessage;return a()("div",{style:n.modal},void 0,g.Z.boxedPerson(n.icon),a()(ae.Z,{isSmall:!0,style:n.title},void 0,a()(y.FormattedMessage,{id:"moveToModalTypedEmptyState.title",defaultMessage:"No other {singleItemName} databases",description:"Title for the moveTo menu that shows when the user does not have other typed databases to move their typed item into.",values:{singleItemName:r}})),a()(ae.Z,{isSmall:!0,isMultiline:!0,style:n.subtitle},void 0,a()(y.FormattedMessage,{id:"moveToModalTypedEmptyState.subtitle",defaultMessage:"Try adding {pluralItemName} to another teamspace",description:"Message for the moveTo menu that shows when the user does not have other typed databases to move their typed item into.",values:{pluralItemName:s}})),a()(ee.Z,{isBlue:!0,onClick:t,style:n.button},void 0,a()(y.FormattedMessage,{id:"moveToModalTypedEmptyState.button",defaultMessage:"Move somewhere else",description:"Button for the moveTo menu that shows when the user does not have other typed databases to move their typed item into. This button will allow the user to see untyped locations."})))}function qe(e){let{spaceStore:t,spaceViewStore:o,targets:i,menuListStore:r,onAccept:s}=e;window.__c={n:"MoveToModalTyped"};const d=(0,Me.O7)(),p=(0,ye.yK)((()=>({modal:{maxHeight:"70vh"},loadingShimmer:{padding:16}})),[]),m=(0,ve.VK)((()=>o.getTeamsStores().map((e=>e.id))),[o]),g=je({environment:d,spaceStore:t,parentStore:t,joinedTeamIds:m,moveToTargets:i}),h=(0,ve.VK)((()=>g.success?g.typedDatabases.map((e=>function(e){const{store:t,spaceStore:o,onAccept:i}=e;return{key:t.id,render:e=>a()(xe,{spaceStore:o,collectionStore:t,menuListItemProps:e}),action:()=>i({type:"collection",id:t.id,spaceId:o.id})}}({store:e,spaceStore:t,onAccept:s}))):[]),[g,t,s]),f=(0,ve.VK)((()=>T.ZP.getTargetsDatabaseType()),[]);if(!g.success)return a()("div",{style:p.loadingShimmer},void 0,a()(Ge.Z,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}));if(!f)throw new Error("Trying to show typed moveTo modal when database type is not available.");if(0===h.length)return a()(Xe,{databaseType:f,onClick:()=>{T.ZP.state.isOpen&&T.ZP.setState({...T.ZP.state,variant:"untyped"})}});const v=(0,u.hf)(f).defaultMessage,b=[{key:"suggested",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveToModalTyped.suggestedMenuSection.title",description:"Title for the menu list section showing the locations a user can move a typed page to.",values:{typedItemName:l().capitalize(v)}}),right:a()($e,{typedItemName:v})})),items:h.slice(0,7)}];return a()("div",{style:p.modal},void 0,a()(de.Z,{initialFocus:0,type:de.i.Vertical,sections:b||[],store:r}))}function $e(e){let{typedItemName:t}=e;window.__c={n:"TypedMoveToTooltip"};const o=(0,ye.yK)((e=>({icon:{width:13,height:13,fill:e.mediumIconColor},iconButton:{height:18,width:18,padding:0,marginTop:-4,marginBottom:-4,marginRight:-4}})),[]),i=(0,y.useIntl)();return(0,Me.Fy)().isMobile?null:a()(re.Z,{placement:re.Z.Placement.Bottom,style:{width:220},textWrap:!0,renderTooltip:()=>a()(y.FormattedMessage,{defaultMessage:"{typedItemName} properties will be kept when moving to these locations",id:"moveTypedMenu.tooltip",description:"Tooltip that displays when a user hovers over the help icon. It explains that moving a typed page to a typed database will allow it to retain its properties.",values:{typedItemName:l().capitalize(t)}}),render:e=>c.createElement(Ye.Z,n()({ariaLabel:i.formatMessage({id:"moveToModalTyped.helpIcon.ariaLabel",defaultMessage:"Help icon for moving typed pages.",description:"Accessibility aria label for the help icon for moving typed pages"}),icon:g.Z.help,iconStyle:o.icon,style:o.iconButton},e))})}const Je=(0,y.defineMessages)({createSubpage:{id:"moveToOrCreateMenu.createSubpage.description",defaultMessage:"Create a new sub-page where your cursor is, inside the current block."},newPageIn:{id:"moveToOrCreateMenu.newPageIn.description",defaultMessage:"Create a new page inside any existing page, then link to it in one go."},turnInto:{id:"moveToOrCreateMenu.turnInto.description",defaultMessage:"Turn blocks into new pages inside any existing database or page."},privatePagesTitle:{defaultMessage:"Private Pages",id:"moveBlockMenu.privatePagesMenuTitle",description:"Used in add to menu to allow users to add pages to their private area where only they can see them."}});class Qe extends d.Z{constructor(){super(...arguments),this.storeTypes={ignoreSelectionAreaStore:N.Z,moveToSpaceMenuStore:z,requestStore:W.Z,menuListStore:O.Z},this.getAutocompleteItems=async e=>{const{currentUserRootStore:t,mainEditorCurrentBlockStore:o,currentSpaceStore:i}=L.default.state,{query:n}=e,r=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!(t&&r&&o&&i))return[];const a=D.lX(r,r.loadRecordValue),[s,l,c,d]=await this.getPageAndCollectionResults(r,n),p=await a;return Z()?this.getTypedAutoCompleteItems({chosenSpaceStore:r,savedQuickAddParent:p,query:n,blockResults:s,recentPageResults:d}):this.props.isCreateIn?this.createAutoCompleteItems(r,n,s,l,c,d):this.getAutoCompleteItems(r,p,n,s,l,c,d)},this.getPageAndCollectionResults=async(e,t)=>{const o=[],i=[],n=[];let r=[];if(t&&this.shouldAllowSearch()){const i=await S.nJ({environment:this.environment,query:t,limit:20,spaceId:e.id,requireEditPermissions:!1,excludeTemplates:!1,source:"move_to_menu",boostRecentlyViewedPages:!0});for(const t of i.results){const i=I.G.createChildStore(e.getPagesStore(),{table:h.iU,id:t});if(x(i,this.props.targets)){const e={blockId:i.id,isEditable:i.canEdit()};this.shouldDisplayInTemplatesSection(i)?n.push(e):o.push(e)}}}else{r=(await D.I0(e,e.id)).map((t=>{const o=I.G.createChildStore(e.getPagesStore(),{table:h.iU,id:t});return{blockId:o.id,isEditable:o.canEdit()}})),r=r.filter((t=>{let{blockId:o}=t;const i=I.G.createChildStore(e.getPagesStore(),{table:h.iU,id:o});if(x(i,this.props.targets)){const e={blockId:i.id,isEditable:i.canEdit()};return!this.shouldDisplayInTemplatesSection(i)||(n.push(e),!1)}}));const t=w.Xb(this.environment);for(const e of t)if(x(e,this.props.targets)){const t={blockId:e.id,isEditable:e.canEdit()};this.shouldDisplayInTemplatesSection(e)?n.push(t):i.push(t)}}return[o,i,n,r]},this.createAutoCompleteItems=(e,t,o,i,r,s)=>{const{isAddTo:d,isTurnIntoPage:p}=this.props,u=[],m=new Set,g=e=>{if(!e)return!1;const{key:t}=e;return!m.has(t)&&(m.add(t),!0)},h=l().compact([this.getCurrentBlockMenuItem({query:t})]);!h.length||Boolean(p)||Boolean(d)||u.push({key:"defaults",render:e=>c.createElement(oe.Z,e),items:h});const f=l().compact([...s.slice(0,5).map((t=>{let{blockId:o}=t;return Ze({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!Boolean(p)&&!Boolean(d),isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...o.slice(0,10).map((o=>{let{blockId:i}=o;return Ze({spaceStore:e,value:{type:"page",id:i,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...i.slice(0,10).map((o=>{let{blockId:i}=o;return Ze({spaceStore:e,value:{type:"page",id:i,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))].slice(0,20).filter(g));f.length>0&&u.push({key:"blocks",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title",description:"Suggested move to pages."}),topBorder:u.length>0&&!Boolean(p)&&!Boolean(d)})),items:f});const v=l().compact(this.getMoveToTeamMenuItems(t).filter(g));v.length>0&&(0,F.bq)()&&u.push({key:"teams",render:e=>c.createElement(oe.Z,n()({},e,{isTitleUppercase:!0,title:a()(y.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"}),topBorder:u.length>0})),items:v});const b=l().compact(r.slice(0,5).map((t=>{let{blockId:o}=t;return Ze({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})).filter(g));return b.length>0&&u.push({key:"templates",render:e=>c.createElement(oe.Z,n()({},e,{isTitleUppercase:!0,title:a()(y.FormattedMessage,d?{defaultMessage:"Add from template",id:"moveBlockMenu.addFromTemplate.title"}:{defaultMessage:"Move to template",id:"moveBlockMenu.moveToTemplate.title"}),topBorder:u.length>0})),items:b}),h.length&&(Boolean(p)||Boolean(d))&&u.push({key:"defaults",render:e=>c.createElement(oe.Z,n()({},e,{topBorder:u.length>0})),items:h}),u},this.getAutoCompleteItems=(e,t,o,i,r,s,d)=>{const p=this.getSuggestedMenuSection(o,e),u=[...d.slice(0,3),...i.slice(0,20)],m={key:"pages",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"Pages",id:"moveBlockMenu.pagesSection.title",description:"Move to pages."})})),items:l().uniqBy(l().flatMap(l().compact([this.getSavedQuickAddParentMenuItem({query:o,savedQuickAddParent:t}),...u.map((t=>{let{blockId:i}=t;return Ze({spaceStore:e,value:{type:"page",id:i,spaceId:e.id},showPath:!o,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key))};return[p,{key:"teams",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"})})),items:l().compact(this.getMoveToTeamMenuItems(o)).slice(0,10)},m].filter((e=>e.items.length>0))},this.allTargetsAreNavigableStore=this.createComputedStore((()=>this.props.targets.every((e=>e.isNavigableBlock()))))}renderComponent(){if(!this.props.isAddTo&&!this.props.isCreateIn&&!T.ZP.state.isOpen)return c.createElement(c.Fragment,null);const{device:e}=this.environment,{autocompleteQuery:t,isAddTo:o,isTurnIntoPage:i}=this.props,{requestStore:r,menuListStore:s}=this.stores,l=!r.state.ready&&t.length>0;let d,p;return d=this.shouldAllowSearch()?e.isMobile?this.renderInputMenuItem(l):a()(oe.Z,{isInput:!0},void 0,this.renderInputMenuItem(l)):void 0,p=e.isMobile?{onMouseEnter:this.props.onMouseEnter,menuType:k.og.Modal,title:a()(y.FormattedMessage,i?{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}:o?{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}:{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:a()(y.FormattedMessage,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:this.props.onCancel,header:d}:{onMouseEnter:this.props.onMouseEnter,menuType:k.og.Popup,width:this.props.desktopWidth,header:d},a()(Y.Z,{capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1},void 0,a()(q.Z,{capture:!0,onEsc:this.props.onCancel}),a()(G.Z,{store:this.stores.ignoreSelectionAreaStore,capture:this.props.captureSelection,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:this.props.restoreSelection,render:()=>{var e;const t=!Boolean(this.props.autocompleteQuery)&&!this.environment.device.isMobile||Z()&&!Boolean(this.props.autocompleteQuery);return c.createElement(Q.Z,n()({},p,{footer:this.renderFooter()}),t?this.renderMoveToModal():a()(me,{query:this.props.autocompleteQuery,spaceId:null===(e=this.getChosenSpaceStore())||void 0===e?void 0:e.id,menuListStore:s,requestStore:r,getAutocompleteItems:this.getAutocompleteItems}))}}))}renderMoveToModal(){const e=this.getChosenSpaceStore(),t=this.getChosenSpaceViewStore();if(!t||!e)return;if(Z())return a()(qe,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,menuListStore:this.stores.menuListStore});const o=(0,A.Cx)(e);return a()(Ue,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,moveToPagesOnly:!this.allTargetsAreNavigableStore.state||o})}renderFooter(){const{isCreateIn:e,isAddTo:t,intl:o}=this.props,{currentUserRootStore:i,currentSpaceStore:r}=L.default.state,s=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!i||!s||!r)return;if(!(this.allTargetsAreNavigableStore.state&&!r.getDisableMoveToSpace()&&!e&&!t))return null;const d=i.getSpaceViewStores(),p=l().uniqBy(l().compact(d.map((e=>e.getSpaceStore()))),(e=>e.id)),u={menuTitle:o.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:p,selectedItem:s,onSelect:e=>{this.stores.moveToSpaceMenuStore.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>c.createElement(j.Z,n()({},e,{checkState:e.value.id===s.id,title:(0,A.rn)(this.environment,e.value),icon:a()(te.Z,{icon:(0,A.Wd)(this.environment,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,A.rn)(this.environment,e.value)})})),renderOrigin:e=>c.createElement(ee.Z,n()({isSmall:!0,style:{fontWeight:"normal",fontSize:12,flexShrink:1}},e),a()(te.Z,{disabled:!0,icon:s.getIcon(),isEmptyPage:!1,size:16,title:s.getName(),style:{marginRight:4}}),a()(le.s,{},void 0,(0,A.rn)(this.environment,s)),g.Z.chevronDown(this.getSpaceChevronStyle())),width:150};return a()("div",{},void 0,a()(K.Z,{vertical:!1,size:1}),a()("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"}},void 0,c.createElement(ie.Z,n()({key:"space-switcher"},u))))}renderInputMenuItemLabel(){const{intl:e,isAddTo:t,isTurnIntoPage:o}=this.props;if(this.isMovingToAnotherSpace())return e.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label",description:"Input placeholder for moving a page from one workspace to another."});if(o)return e.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"});if(t)return e.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"});if(Z()){const t=(0,u.hf)(T.ZP.getTargetsDatabaseType()).defaultMessage;return e.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel",description:"Input placeholder for moving a typed page to another location."},{typedItemName:t})}return e.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}renderInputMenuItem(e){const{device:t}=this.environment,{autocompleteQuery:o}=this.props;return c.createElement(c.Fragment,null,a()(X.ZP,{onCancel:()=>{T.ZP.state.isOpen&&T.ZP.setState({...T.ZP.state,isOpen:!1})},focus:!t.isMobile||void 0,focusAfterAnimation:!0,value:o,onChange:e=>{this.props.onAutocompleteQueryChange(e.target.value),this.stores.menuListStore.setState({...this.stores.menuListStore.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},placeholder:this.renderInputMenuItemLabel(),inputLeft:a()(X.f_,{icon:g.Z.searchThick}),inputRight:a()(ne.Z,{show:e,showDelay:400,showHold:0,render:e=>e&&a()(J.Z,{style:{marginRight:2}})}),style:{marginBottom:-2}}),this.isMovingToAnotherSpace()&&a()(ae.Z,{isMultiline:!0,isSecondaryColor:!1,style:{background:this.theme.accentColors.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6}},void 0,g.Z.warning({fill:this.theme.accentColors.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),a()("span",{},void 0,a()(y.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.message",description:"Explanation message at the top of the menu explaining that when moving across workspaces, page will be duplicated instead of moved.",defaultMessage:"You can only duplicate pages into another workspace — not move them."})),a()($.Z,{href:(0,R.UY)("guides.duplicateToSpace"),style:{color:this.theme.accentColors.gray[500],fontWeight:v.Z.fontWeight.semibold,marginTop:4}},void 0,a()(y.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",description:"Learn more link below the message explaining that when moving across workspaces, page will be duplicated instead of moved.",defaultMessage:"Learn more"}))))}getTypedAutoCompleteItems(e){let{chosenSpaceStore:t,savedQuickAddParent:o,query:i,blockResults:r,recentPageResults:s}=e;const{typedSuggestedMenuSection:d,typedSuggestedResults:p}=this.getTypedSuggestedMenuSection(i);let u=function(e){let{recentPageResults:t,blockResults:o,suggestedPages:i}=e;const n=new Set;for(const r of i){const e=r instanceof I.NW?r.getParentId():r.id;e&&n.add(e)}return[...t.filter((e=>!n.has(e.blockId))),...o.filter((e=>!n.has(e.blockId)))]}({recentPageResults:s,blockResults:r,suggestedPages:p});const m=new Set(B(this.props.targets));m.size>0&&(u=u.filter((e=>!m.has(e.blockId))));const g=l().uniqBy(l().flatMap(l().compact([this.getSavedQuickAddParentMenuItem({query:i,savedQuickAddParent:o}),...u.map((e=>{let{blockId:o}=e;return Ze({spaceStore:t,value:{type:"page",id:o,spaceId:t.id},showPath:!i,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key)),h=l().compact(this.getMoveToTeamMenuItems(i)).slice(0,5),f=d.items.length>0,v={key:"teams",render:e=>c.createElement(oe.Z,n()({},e,{desktopStyle:{paddingTop:f?0:6,paddingBottom:6},title:a()(y.FormattedMessage,{defaultMessage:"Teamspaces",id:"typedMoveBlockMenu.teamsSection.title",description:"Title for the menu list section showing the teamspaces a user can move a typed page to."})})),items:h},b=d.items.length>0&&0===v.items.length;return[d,v,{key:"pages",render:e=>c.createElement(oe.Z,n()({},e,{desktopStyle:{paddingTop:b?0:6,paddingBottom:6},title:a()(y.FormattedMessage,{defaultMessage:"Pages",id:"typedMoveBlockMenu.pagesSection.title",description:"Title for the menu list section showing the pages a user can move a typed page to."})})),items:g}].filter((e=>e.items.length>0))}getSuggestedMenuSection(e,t){const o=0===e.length&&t?He({spaceStore:t,targets:this.props.targets}):[];return{key:"suggested",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title",description:"Suggested move to pages."})})),items:l().compact([this.getPrivatePagesMenuItem({query:e,chosenSpaceStore:t}),...o.filter((e=>x(e,this.props.targets))).map((e=>Ze({spaceStore:t,value:{type:"page",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})))])}}getTypedSuggestedMenuSection(e){if(!T.ZP.state.isOpen||"untyped"===T.ZP.state.variant)throw new Error("Trying to render section when it's not open or untyped");const{typedDatabases:t}=T.ZP.state,o=this.getTypedMoveToMenuItems({query:e,typedDatabases:t}),i=(0,u.hf)(T.ZP.getTargetsDatabaseType()).defaultMessage;return{typedSuggestedMenuSection:{key:"suggested",render:e=>c.createElement(oe.Z,n()({},e,{title:a()(y.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveBlockMenu.typedSuggestedSection.title",description:"Title for the menu list section showing the locations a user can move a typed page to.",values:{typedItemName:l().capitalize(i)}}),right:a()($e,{typedItemName:i})})),items:o.slice(0,5)},typedSuggestedResults:t}}getCurrentBlockMenuItem(e){const t=this.props;if(!t.isAddTo||!t.isCreateIn)return;if(e.query)return;const o=L.default.state.mainEditorCurrentBlockStore;if(!o)return;const i=t.parentBlockId?I.G.createChildStore(o,{table:h.iU,id:t.parentBlockId}):void 0,r=b.gt(i);return r?{key:r.pageStore.id,render:e=>{const o=o=>c.createElement(j.Z,n()({},(0,C.Z)(o||{},e),{icon:g.Z.plus({width:14}),title:t.targets.length>1?a()(y.FormattedMessage,{id:"moveBlockMenu.currentPage.pluralAddTitle",defaultMessage:"New sub-pages"}):a()(y.FormattedMessage,{id:"moveBlockMenu.currentPage.singleAddTitle",defaultMessage:"New sub-page"})}));return this.environment.device.isMobile?o():a()(re.Z,{renderTooltip:()=>a()(ce.Z,{imageURL:p.Z.images.tooltips.pageMenu.newSubpagePng,imageWidth:140,imageHeight:100,caption:c.createElement(y.FormattedMessage,Je.createSubpage)}),placement:re.Z.Placement.Right,delayThreshold:0,render:e=>o(e)})},action:()=>t.onAccept(r.createInValue)}:void 0}getPrivatePagesMenuItem(e){var t;const{query:o,chosenSpaceStore:i}=e,r=Je.privatePagesTitle,s=this.props.intl.formatMessage(r).replace(/<[^>]*>/g,""),l=o?null===(t=(0,m.C6)(o,s))||void 0===t?void 0:t.score:void 0,d=o&&(l||0)>=m.V5;if((!o||d)&&this.allTargetsAreNavigableStore.state&&(!i||ze({environment:this.environment,targets:this.props.targets,chosenSpaceStore:i})))return{key:"private",render:e=>c.createElement(j.Z,n()({icon:a()(se.Z,{size:22,userStore:(0,w.B7)(this.environment)}),title:a()("div",{style:{display:"flex",flexDirection:"row"}},void 0,a()("span",{},void 0,c.createElement(y.FormattedMessage,r)),(0,F.bq)()&&a()("div",{style:{marginLeft:2}},void 0,g.Z.locked({width:14,height:14,fill:this.theme.mediumIconColor})))},e)),action:()=>{this.props.onAccept({type:"space-private-pages"})}}}getSavedQuickAddParentMenuItem(e){const{isAddTo:t}=this.props,{query:o,savedQuickAddParent:i}=e,n=this.getChosenSpaceStore();if(n)return t&&!o&&"space"===i.type||"page"===i.type?Ze({spaceStore:n,value:i,showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}):void 0}getTypedMoveToMenuItems(e){const{query:t,typedDatabases:o}=e,i=this.getChosenSpaceStore();if(!i||!t||!o)return[];return(0,m.ZP)(t,o,(e=>{const t=String(e.getName())||"",o=(0,E.u3)(e);return[t,o instanceof I.zX&&o.getName()||""].join(" ")})).map((e=>Ze({spaceStore:i,value:{type:"collection",id:e.id,spaceId:i.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(f.$K)}getMoveToTeamMenuItems(e){if(e&&!this.allTargetsAreNavigableStore.state)return[];const t=this.getChosenSpaceStore(),o=this.getChosenSpaceViewStore();if(!t||!o)return[];let i=o.getTeamsStores();return e&&(i=(0,m.ZP)(e,i,(e=>e.getName()||""))),i.map((e=>Ze({spaceStore:t,value:{type:"team",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(f.$K)}shouldAllowSearch(){return V.Z.state.online}shouldDisplayInTemplatesSection(e){return!!this.props.isCreateIn&&e.isTemplate()}getSpaceChevronStyle(){return{width:10,marginLeft:4,fill:this.theme.lightIconColor}}isMovingToAnotherSpace(){var e;const{moveToSpaceMenuStore:t}=this.stores;return!!t&&t.getChosenSpaceId()!==(null===(e=L.default.state.currentSpaceStore)||void 0===e?void 0:e.id)}getChosenSpaceStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceStore()??L.default.state.currentSpaceStore}getChosenSpaceViewStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceViewStore()??L.default.state.currentSpaceViewStore}}Qe.displayName="MoveToOrCreateMenu";const et=(0,y.injectIntl)(Qe)},92955:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(97464),n=o.n(i),r=o(67294),a=o(81954),s=o(97880),l=o(76487),c=o(39849);function d(e){window.__c={n:"UnreadMentionsBadge"};const{type:t,...o}=e,i=(0,a.VK)((()=>{switch(t){case"currentSpace":return l.Z.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return l.Z.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return l.Z.getTotalUnreadMentionsCount();default:(0,s.t1)(t)}}),[t]);return r.createElement(c.Z,n()({count:i},o))}},69265:(e,t,o)=>{o.d(t,{s:()=>me,Z:()=>ge});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(81954),c=o(21202),d=o(12534),p=o(3815),u=o(16354),m=o(1302),g=o(98104),h=o(49616),f=o(29376),v=o(64921),y=o(76798);function b(e){window.__c={n:"EditableRelationTokenTitle"};const{blockStore:t,titleStyle:o,shouldWrap:i,recordTitleRef:n}=e,r=(0,s.useRef)({getNode:()=>n.current});return a()(v.Z,{style:{height:f.Mu+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,...h.ac,overflow:"hidden"},onClick:e=>{m.default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const o=e.getValue(),i=o?o[0][0].length:0,n={start:{index:i,store:e},end:{index:i,store:e}};g.NA({multiSelection:n})}))}},void 0,s.createElement(y.Z,{store:t,underline:!0,shouldWrap:i,style:o,ref:r}))}var S=o(96486),w=o.n(S),k=o(5366),C=o(33929),_=o(65187);const M=(0,k.defineMessages)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder",description:"Placeholder text for an empty title when in editing mode"}});function T(e){window.__c={n:"EditingRelationTokenTitle"};const{blockStore:t,clickTitleBehavior:o,onTitleEnter:i}=e,n="edit"===o,r=(0,l.VK)((()=>t.getBlockTitleStore()),[t]);return a()(_.Z,{store:r,disabled:!n,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableEmbedMenu:!0,onEnter:i,onTab:w().identity,placeholder:C.default.formatMessage(M.typeTitle),style:{...h.ac,textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline"})}var I=o(480),P=o(64002),x=o(30874),B=o(62518),Z=o(83355),E=o(41432),R=o(8848),A=o(84619),D=o(70203),F=o(44805),L=o(993),V=o(95477),N=o(17731);class O extends Z.Z{constructor(){super(...arguments),this.node=void 0,this.handleMouseOver=e=>{const t=this.getInteractiveToken(),o=this.props.store.getTitleStore();o&&t&&L.Nh({environment:this.environment,event:e,interactiveToken:t,store:o,canEdit:this.props.canEdit})},this.handleMouseOut=e=>{const t=this.getInteractiveToken(),o=this.props.store.getTitleStore();o&&t&&L.Zl({environment:this.environment,event:e,interactiveToken:t,store:o,canEdit:this.props.canEdit})}}didMount(){super.didMount(),this.node=B.findDOMNode(this)}get theme(){const{ThemeModeStore:e}=this.environment;return(0,R.gh)({theme:e.state})}getInteractiveToken(){if(!this.node)return;const e=this.props.store,t=(0,D.x3)(e.id),o=(0,D.YC)(t);return{textValue:[o],tokenIndex:0,textToken:o,node:this.node}}renderComponent(){const e=this.props.store,t=this.props.shouldWrap,o=this.props.style,i=this.props.disableLinks,n=this.props.disableHover,r=C.default.getIntl(),s=this.props.parentStore.getRecordModel,l=e.id,c=(0,N.e_)(this.environment),p=V.Z.domainBaseUrl,u=this.environment.currentUser.id,m=this.props.isAndroid,g=this.props.externalIntegrations;if(!l)return;if("external_object_instance_page"!==e.getType())return;const h=e.getModel();return null!=h&&h.isType(E.Ti.externalObjectInstancePage)?a()("span",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:d.Wi},void 0,(0,F.dD)({blockModel:h,shouldWrap:t,index:0,style:o,disableHover:n,disableLinks:i,isAndroid:m,theme:this.theme,getRecordModel:s,currentUserId:u,baseUrl:p,emojiType:c,externalIntegrations:g,intl:r})):void 0}}O.displayName="ExternalObjectInstancePageMentionToken",O.Format=A.l;const U=O;function H(e){window.__c={n:"ExternalObjectInstancePageMentionRelationToken"};const{blockStore:t,parentStore:o,shouldWrap:i,style:n}=e,r=(0,l.VK)((()=>(0,P.yn)(t.getSyncedUri())),[t]),s=(0,l.VK)((()=>x.Z.integrations.state),[]),c=(0,I.O7)();return a()(U,{parentStore:o,shouldWrap:i,store:t,style:n,disableHover:!r,disableLinks:!r,isAndroid:c.device.isAndroid,externalIntegrations:s,canEdit:!0})}var z=o(9953),W=o(30149),j=o(31278),K=o(24405),Y=o(82990);const G={[A.l.ExtraSmall]:{height:14,fontSize:12,margin:"0 4px 0 0",pageIconSize:16,closeIconSize:8},[A.l.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",pageIconSize:20,closeIconSize:8},[A.l.Medium]:{height:18,fontSize:14,margin:"0 12px 6px 0",pageIconSize:20,closeIconSize:8},[A.l.Inline]:{height:18,fontSize:14,margin:"0 12px 0 0",pageIconSize:20,closeIconSize:8},[A.l.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",pageIconSize:24,closeIconSize:10}};function X(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}function q(e){const{clickTitleBehavior:t,blockStore:o,format:i,shouldWrap:r}=e,a="edit"===t,c=(0,I.O7)(),d=(0,l.VK)((()=>o.getIcon()),[o]),p=(0,l.VK)((()=>o.isEmptyPage()),[o]),u={icon:d,size:G[i].pageIconSize,isEmptyPage:p,style:{flexShrink:0,marginRight:a?0:4,justifyContent:"flex-start",...r&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}};return a?s.createElement(j.Z,n()({},u,{disabled:!1,onChange:e=>{const t=o.getIconStore();t&&W.createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:c,perform:o=>{z.sO({store:t,value:e,transaction:o})}})},bucket:"public"})):s.createElement(j.Z,n()({},u,{disabled:!0}))}var $=o(3779);function J(e){window.__c={n:"RelationTokenRemoveButton"};const{format:t,showRemoveButton:o,onClickRemove:i}=e,{height:n,closeIconSize:r}=G[t];return o?a()(v.Z,{onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:n,height:n,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:3}},void 0,$.Z.closeThick({width:r,height:r,opacity:.5})):null}function Q(e){window.__c={n:"RelationTokenTitle"};const{blockStore:t,shouldWrap:o,titleStyle:i,recordTitleRef:n}=e,r=(0,s.useRef)({getNode:()=>n.current});return s.createElement(y.Z,{store:t,underline:!0,shouldWrap:o,style:i,ref:r})}var ee=o(58032),te=o(29551);function oe(e){let{tooltipTargetRef:t,containingParentDivNode:o,tooltipDynamicMouseOverflow:i,isTooltipOriginOverflowing:n}=e;return o?function(e){let{tooltipTargetRef:t,containingParentDivNode:o}=e;return Boolean(t.current&&o&&t.current.offsetWidth>o.offsetWidth)}({tooltipTargetRef:t,containingParentDivNode:o}):!!i&&n}function ie(e){let{blockStore:t}=e;const o=(0,I.O7)(),i=(0,K.Fg)();return(0,l.VK)((()=>(0,F.tp)({pageModel:t.getModel(),pageRole:t.getRole(),baseUrl:V.Z.domainBaseUrl,getRecordModel:t.getRecordModel,emojiType:(0,N.e_)(o),isSafariOrIOS:o.device.isSafari||o.device.isIOS,isClient:!0,showEmojiInline:o.device.isWindows,currentUserId:o.currentUser.id,theme:i})||null),[t,o,i])}var ne=o(68056),re=o(24666);function ae(e){return(0,l.VK)((()=>{var t;const o=re.default.state;return"editing"===o.mode&&(null===(t=(0,ne.QY)(o.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}function se(e){window.__c={n:"RelationTokenTooltip"};const{children:t,showRelationTooltip:o,blockStore:i,tooltipOriginStyle:r,tooltipTargetRef:l,containingParentDivNode:c,tooltipDynamicMouseOverflow:d}=e,p=(0,K.yK)(le,[]),u=ae(i),m=function(e){const[t,o]=(0,s.useState)(!1),i=e.current&&!t&&e.current.scrollWidth&&e.current.clientWidth&&e.current.scrollWidth>Math.min(e.current.clientWidth,400);return(0,s.useLayoutEffect)((()=>{i&&o(!0)}),[i]),t}(l),g=o&&!u&&oe({tooltipTargetRef:l,containingParentDivNode:c,tooltipDynamicMouseOverflow:d,isTooltipOriginOverflowing:m});return a()(ee.Z,{style:p.wrapper,placement:ee.Z.Placement.Bottom,disableTooltip:!g,renderTooltip:()=>a()(te.gq,{alignItems:"center"},void 0,a()(te.gq,{style:p.destination,alignItems:"center"},void 0,a()(ie,{blockStore:i}),a()(y.Z,{style:p.destinationText,store:i,maxLength:me}))),render:e=>s.createElement("div",n()({},e,{ref:l,style:r}),t)})}function le(e){return{wrapper:{fontSize:Y.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,fontWeight:Y.Z.fontWeight.regular,fill:e.mediumIconColor,background:e.popoverBackground},destination:{padding:"4px 0 4px 6px"},destinationText:{paddingRight:6,maxWidth:1e3,...Y.Z.textOverflowStyle}}}var ce=o(66890),de=o(78316),pe=o(84210),ue=o(79315);const me=1e3,ge=(0,s.forwardRef)(((e,t)=>{const{parentStore:o,blockId:i,shouldWrap:r,format:m,showRemoveButton:g,clickTitleBehavior:h,onClickRemove:v}=e,y=p.G.createChildStore(o,{table:c.iU,id:i}),{style:b}=function(e){let{format:t,shouldShrink:o,shouldWrap:i,isSingle:n,style:r,clickTitleBehavior:a}=e;const s="edit"===a;return(0,K.yK)((()=>{const{fontSize:e,margin:a}=G[t],l=s?f.Mu:G[t].height;return{style:{...i?{display:"inline",lineHeight:1.5,borderRadius:3}:X({height:l}),fontSize:e,fontWeight:Y.Z.fontWeight.medium,minWidth:o?0:"auto",margin:n?0:a,...t===A.l.Inline&&{overflow:"hidden"},...r}}}),[t,o,i,n,s,r])}(e),{blockUrlPage:S,blockUrlPeek:w}=function(e){const t=(0,ce.DK)(),o=(0,l.VK)((()=>(0,pe.ZP)({store:e,fullyQualified:!1})),[e]);return{blockUrlPeek:(0,l.VK)((()=>{const{mainEditorCurrentBlockStore:o}=ue.default.state;return de.mb({store:e,mainEditorCurrentBlockStore:o,collectionContextStore:t,fullyQualified:!1})}),[e,t]),blockUrlPage:o}}(y),k=(0,s.useRef)(null),C=(0,s.useRef)(null),_="peek"===h;(0,s.useImperativeHandle)(t,(()=>y),[y]);return(0,l.VK)((()=>"external_object_instance_page"===y.getType()),[y])?a()(H,{parentStore:o,shouldWrap:r,blockStore:y,style:b}):s.createElement(se,n()({blockStore:y,tooltipTargetRef:C},e),a()("div",{style:b},void 0,_?a()(u.Z,{href:w,metaHref:S,onClick:d.Wi,style:{display:b.display,height:b.height,alignItems:b.alignItems}},void 0,s.createElement(he,n()({blockStore:y,recordTitleRef:k,tooltipTargetRef:C},e))):s.createElement(he,n()({blockStore:y,recordTitleRef:k,tooltipTargetRef:C},e)),a()(J,{showRemoveButton:g,onClickRemove:v,format:m})))}));function he(e){const{format:t,blockStore:o,clickTitleBehavior:i,shouldWrap:r,recordTitleRef:l,tooltipTargetRef:c}=e;return s.createElement(s.Fragment,null,a()(q,{format:t,blockStore:o,clickTitleBehavior:i,shouldWrap:r}),s.createElement(fe,n()({},e,{blockStore:o,recordTitleRef:l,tooltipTargetRef:c})))}function fe(e){window.__c={n:"RelationTokenTitleContainer"};const{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,index:n,recordTitleRef:r,titleStyle:s,shouldWrap:l}=e,c="edit"===o,d=ae(t);return c?d&&i&&n?a()(T,{blockStore:t,clickTitleBehavior:o,onTitleEnter:i}):a()(b,{blockStore:t,recordTitleRef:r,titleStyle:s,shouldWrap:l}):a()(Q,{blockStore:t,recordTitleRef:r,titleStyle:s,shouldWrap:l,clickTitleBehavior:o})}},93481:(e,t,o)=>{o.d(t,{Z:()=>T});var i=o(77094),n=o.n(i),r=o(67294),a=o(83355),s=o(3779),l=o(97880),c=o(5366),d=o(80084),p=o(41558),u=o(55811),m=o(42922),g=o(52275),h=o(31945),f=o(3386),v=o(89728),y=o(44532),b=o(72495),S=o(83264),w=o(255),k=o(75689),C=o(91642),_=o(98707);class M extends a.Z{constructor(){super(...arguments),this.storeTypes={store:p.Z},this.renderActiveButtonOrigin=()=>{const{value:e,dateFormat:t,disabled:o,focused:i,intl:r}=this.props,a=this.styles,l=this.getThemeColors(),c={...a.menuItem,...l.activeMenuItem},p=d._Q(e,r,t),u=n()(w.Z,{onClick:this.handleClear,disabled:o});return n()(g.Z,{focused:i,disabled:o,icon:s.Z.calendar(a.iconActiveDesktop),title:p,right:u,isTokenTitle:!0,alignIconTop:!0,onClick:this.handleOriginActivate,desktopTitleStyle:a.menuItemTitleDesktop,desktopIconStyle:a.iconActiveDesktopWrapper,style:c})},this.renderInactiveButtonOrigin=()=>{const{title:e,icon:t,disabled:o,focused:i,mode:r}=this.props,a=this.styles,s=this.getThemeColors(),l={...a.menuItem,...s.buttonMenuItem,...r===_.Z.Mode.Pill?{width:"fit-content",border:"solid 1px",paddingLeft:0,paddingRight:0,borderRadius:20,fontSize:12}:{}};return n()(g.Z,{focused:i,disabled:o,icon:t(a.icon),title:e,onClick:this.handleOriginActivate,style:l})},this.renderPillButtonOrigin=()=>{const{value:e,title:t}=this.props;return n()(u.u,{on:Boolean(e.starting||e.ending),icon:s.Z.calendar({width:16,marginRight:6,fill:"currentColor"}),title:n()("span",{},void 0,t),onClick:this.handleOriginActivate})},this.renderPopupContents=()=>{const{title:e,showButtons:t}=this.props,{store:o}=this.stores;return r.createElement(r.Fragment,null,n()(S.Z,{title:e,value:this.getCurrentValue(),onUpdate:this.updateTemporary,store:o,onDismiss:this.handleMenuClose}),t&&n()("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"0px 10px"}},void 0,n()(v.Z,{isGray:!0,style:{marginLeft:"auto",marginRight:8},onClick:this.handleMenuClose},void 0,n()(c.FormattedMessage,{defaultMessage:"Cancel",id:"searchDateFilter.cancelButton.label"})),n()(m.Z,{onClick:()=>this.props.onChange(this.stores.store.state.temporaryDateRange)},void 0,n()(c.FormattedMessage,{defaultMessage:"Accept",id:"searchDateFilter.acceptButton.label"}))))},this.renderFooter=()=>{const{store:e}=this.stores;return n()(b.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"}},void 0,n()(v.Z,{onClick:()=>{e.setState({...e.state,temporaryDateRange:{starting:void 0,ending:void 0}}),this.props.onChange({})}},void 0,n()(c.FormattedMessage,{id:"searchDateFilter.clearButton",defaultMessage:"Clear"})),n()(m.Z,{onClick:this.handleMenuClose},void 0,n()(c.FormattedMessage,{id:"searchDateFilter.applyButton",defaultMessage:"Apply"})))},this.handleOriginActivate=()=>{const{disabled:e}=this.props,{store:t}=this.stores;e||t.setState({...t.state,isOpen:!0,focus:"starting"})},this.handleMenuClose=e=>{const{onChange:t,onMenuDismiss:o}=this.props,{store:i}=this.stores,{temporaryDateRange:n}=i.state;d.zD(e)||(this.props.showButtons||t(n),i.setState({...i.state,isOpen:!1,temporaryDateRange:{starting:void 0,ending:void 0}}),o&&o())},this.handleClear=()=>{const{onChange:e}=this.props;e({starting:void 0,ending:void 0})},this.handleMenuListKey=e=>{e.preventDefault&&e.preventDefault()},this.updateTemporary=e=>{const{store:t}=this.stores;if(!e.error)return t.setState({...t.state,temporaryDateRange:{...t.state.temporaryDateRange,...e.value}})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},icon:{height:14,width:14,fill:"currentColor"},iconActiveDesktop:{height:14,width:14,fill:"currentColor",alignSelf:"flex-start",marginTop:2,marginRight:2},iconActiveDesktopWrapper:{marginTop:0},iconActiveMobile:{height:14,width:14,fill:"currentColor",marginTop:1,marginRight:6},popup:{paddingTop:12,paddingBottom:8},menuItemTitleDesktop:{width:"100%"},sectionMenuItem:{display:"flex"},summary:{display:"inline-flex"}}}didMount(){this.updateTemporary({value:this.props.value})}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const{title:t}=this.props,{store:o}=this.stores,i=this.styles,r=e===_.z.Section,a=r?t:void 0,s=(()=>e===_.Z.Mode.Section?this.renderActiveButtonOrigin():e===_.Z.Mode.Button?this.renderInactiveButtonOrigin():e===_.Z.Mode.Pill?this.renderPillButtonOrigin():void(0,l.t1)(e))();return n()(C.Z,{title:a,marginAfter:r},void 0,n()(f.Z,{capture:o.state.isOpen,onUp:this.handleMenuListKey,onDown:this.handleMenuListKey,onEnter:this.handleMenuListKey},void 0,n()(y.ZP,{popupType:this.getPopupType(),open:o.state.isOpen,origin:s,render:this.renderPopupContents,onDismiss:this.handleMenuClose,placementToOrigin:y.ZP.Placement.Bottom,alignmentToOrigin:y.ZP.Alignment.Start,keepFocus:!0,style:i.popup})))}renderMobile(e){const{store:t}=this.stores,o=e===_.z.Section?this.renderMobileFilterSummary():this.renderMobileButtonOrigin();return n()(y.ZP,{popupType:y.ZP.PopupType.SlideUp,open:t.state.isOpen,origin:o,render:this.renderPopupContents,onDismiss:this.handleMenuClose,preventScaleTransition:!0})}renderMobileButtonOrigin(){const{icon:e,title:t,disabled:o}=this.props,i=this.styles;return n()(g.Z,{disabled:o,focused:!1,icon:e(i.icon),title:t,onClick:this.handleOriginActivate})}renderMobileFilterSummary(){const{title:e,value:t,dateFormat:o,disabled:i,intl:r}=this.props,a=this.styles,l=n()("div",{style:a.summary},void 0,s.Z.calendar(a.iconActiveMobile),d._Q(t,r,o));return n()(k.Z,{disabled:i,onClick:this.handleOriginActivate,onClickClear:this.handleClear,label:e,title:l})}getCurrentValue(){const{value:e}=this.props,{store:t}=this.stores,{temporaryDateRange:o}=t.state;return{...e,...o}}getPopupType(){const{device:e}=this.environment;return e.isMobile?h.Z.PopupType.SlideUp:h.Z.PopupType.Popup}getThemeColors(){return{buttonMenuItem:{color:this.theme.mediumTextColor},activeMenuItem:{color:this.theme.regularTextColor}}}}M.displayName="SearchDateFilter";const T=(0,c.injectIntl)(M)},98707:(e,t,o)=>{o.d(t,{z:()=>N,Z:()=>U});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(83355),p=o(3779),u=o(97880),m=o(5366),g=o(75024),h=o(49085);class f extends h.Z{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const v=f;var y=o(55811),b=o(42922),S=o(52275),w=o(89728),k=o(44532),C=o(72495),_=o(75689),M=o(91642),T=o(65917),I=o(2911),P=o(60709),x=o(29798),B=o(72087),Z=o(78140),E=o(9342),R=o(43765),A=o(40721),D=o(77137),F=o(47082);class L extends d.Z{constructor(){super(...arguments),this.storeTypes={requestStore:B.Z,menuListStore:x.Z},this.renderRequest=(e,t,o)=>{const{labelText:i,value:r}=this.props,{menuListStore:s}=this.stores,l=e=>c.createElement(C.Z,n()({},e,{title:i.resultSectionTitle,loading:!o}));if(e)return T.log({level:"error",from:i.componentDebugName,type:"requestFailed",error:(0,I.Ui)(e),data:{miscDataToConvertToString:{query:r}}}),a()(l,{},void 0,a()(R.Z,{title:a()(m.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})}));if(!t)return a()(l,{},void 0,a()(R.Z,{title:a()(m.FormattedMessage,{defaultMessage:"Loading…",id:"search.inputMenu.loading.message"})}));if(t&&0===t.length)return a()(l,{},void 0,a()(R.Z,{title:a()(m.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})}));const d={key:"results",items:t.map(this.getResultMenuItem),render:l};return a()(E.Z,{type:E.i.Vertical,store:s,initialFocus:0,sections:[d]})},this.handleMenuInputRemoveLast=()=>{const{items:e,onRemove:t}=this.props,o=l().last(e);o&&t(o)},this.getResultMenuItem=e=>{const{renderResultMenuItem:t,onConfirm:o}=this.props;return{key:e,action:()=>o(e),render:o=>t(e,o)}},this.styles={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}}}renderComponent(){const{value:e,items:t,performRequest:o}=this.props,{requestStore:i}=this.stores,n={query:e,current:t};return c.createElement(Z.Z,this.getMenuProps(),a()(D.Z,{debounce:100,requestStore:i,request:n,performRequest:o,render:this.renderRequest}))}renderTokenInput(){const{labelText:e,value:t,items:o,disabled:i,onChange:n,renderToken:r,onRemove:s,onClear:l}=this.props,c=o.map((e=>r(e,{onRemove:()=>s(e)})));return a()(F.Z,{focus:!this.isMobile()||void 0,focusAfterAnimation:!0,format:F.Z.Format.FilterValue,tokens:c,placeholder:e.tokenInputPlaceholder,onRemoveLastToken:this.handleMenuInputRemoveLast,onClearButtonClick:l,value:t,onChange:n,showClearButton:!0,disabled:Boolean(i),style:this.styles.inputMenu})}getMenuProps(){const{onDismiss:e,labelText:t}=this.props,o=this.styles;if(this.isMobile()){return{menuType:P.og.Modal,title:t.title,right:a()(A.DoneMenuText,{}),onClickRight:e,header:this.renderTokenInput()}}return{menuType:P.og.Popup,onClickOutside:e,header:this.renderTokenInput(),...o.menu}}isMobile(){const{device:e}=this.environment;return e.isMobile}}L.displayName="SearchTokenInputMenu";const V=L;let N;!function(e){e.Button="Button",e.Section="Section",e.Pill="Pill"}(N||(N={}));class O extends d.Z{constructor(){super(...arguments),this.animationFrame=void 0,this.origin=c.createRef(),this.storeTypes={componentStore:v},this.renderMobileFilterSummary=e=>{const{title:t,items:o,renderItemForSummary:i}=this.props,{disableFilters:n}=e,r=this.styles,s={...g.mK,...r.summary},l=o.length-1,d=a()("ul",{style:s},void 0,o.map(((e,t)=>a()("li",{style:r.summaryItem},e,a()(c.Fragment,{},void 0,i(e),t!==l&&","," ")))));return a()(_.Z,{disabled:n,onClick:this.handleMenuOpenMobile,onClickClear:this.clearItems,label:t,title:d})},this.renderMenu=()=>{const{renderToken:e,renderFooter:t,allowApplyBatchSelection:o}=this.props,{componentStore:{state:i}}=this.stores;return c.createElement(c.Fragment,null,c.createElement(V,n()({},this.props,{value:i.inputTemporaryValue,onChange:this.handleMenuInputChange,onDismiss:this.handleMenuClose,onConfirm:this.handleItemConfirm,onClear:()=>{this.handleClearTemporary(),this.clearItems()},onRemove:this.handleFilterRemove,renderToken:e})),t&&a()(C.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"}},void 0,a()(w.Z,{onClick:()=>{this.clearItems()}},void 0,a()(m.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})),o&&a()(b.Z,{onClick:()=>{this.handleMenuClose("applyButton")}},void 0,a()(m.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"}))))},this.handleMenuOpen=e=>{this.scheduleMeasurement(void 0,(t=>({...t,isMenuOpen:!0,indexToReplace:e})))},this.handleMenuOpenMobile=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,isMenuOpen:!0})},this.handleMenuClose=e=>{const{onMenuDismiss:t}=this.props,{componentStore:o}=this.stores;this.clearInput(),o.setState({...o.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(e)},this.handleClearTemporary=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:""})},this.handleItemConfirm=e=>{const{items:t}=this.props,{componentStore:o}=this.stores,{indexToReplace:i}=o.state;"number"==typeof i&&i<t.length?this.replaceItem(i,e):t.includes(e)&&O.Mode.Pill?this.removeItem(e):this.addItem(e),this.props.keepInputOnItemConfirm||this.clearInput()},this.handleFilterRemove=e=>{this.removeItem(e)},this.handleMenuInputChange=e=>{const{componentStore:t}=this.stores,{target:o}=e;t.setState({...t.state,inputTemporaryValue:String(o.value)})},this.scheduleMeasurement=(e,t)=>{this.animationFrame=requestAnimationFrame(this.measureOriginRect(t))},this.measureOriginRect=e=>t=>{const{componentStore:o}=this.stores;if(!this.origin)return;if(!this.origin.current)return;const i=e?e(o.state):o.state;o.setState({...i,popupOriginRect:this.origin.current.getBoundingClientRect()})},this.isMenuOpen=()=>{const{componentStore:{state:e}}=this.stores;return e.isMenuOpen},this.removeItem=e=>{const{items:t,onChange:o}=this.props;o(t.filter((t=>t!==e)))},this.clearItems=()=>{const{onChange:e}=this.props;e([])},this.replaceItem=(e,t)=>{const{items:o,onChange:i}=this.props;i(o.slice(0,e).concat(t,o.slice(e+1)))},this.clearInput=()=>{const{componentStore:e}=this.stores;e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})},this.styles={menuItem:{minHeight:void 0,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:g.yv(this.environment,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===this.props.mode?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?this.renderMobile(t):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:o}=this.props,{componentStore:{state:i}}=this.stores,n=o||i.isMenuOpen;let r;const s=(()=>e===O.Mode.Section?(r=t,this.renderSectionOrigin()):e===O.Mode.Button?this.renderButtonOrigin():e===O.Mode.Pill?this.renderPillOrigin():void(0,u.t1)(e))();return a()(M.Z,{title:r,marginAfter:e===O.Mode.Section,style:this.styles.sectionMenuItem},void 0,e!==O.Mode.Pill&&this.renderFilters({disableFilters:n,showLabel:!1}),s,a()(k.ZP,{popupType:k.ZP.PopupType.Popup,placementToOrigin:k.ZP.Placement.Bottom,alignmentToOrigin:k.ZP.Alignment.Start,open:this.isMenuOpen(),originRect:i.popupOriginRect,render:()=>this.renderMenu(),onDismiss:this.handleMenuClose,keepFocus:!0,preventScaleTransition:!0}))}renderButtonOrigin(){const{icon:e,title:t,disabled:o,focused:i}=this.props,n=this.styles,r=this.getThemeColors(),s={...n.menuItem,...r.buttonMenuItem};return c.createElement("div",{ref:this.origin,style:n.menuItemWrapper},a()(S.Z,{disabled:o||this.isMenuOpen(),icon:e(n.icon),title:t,focused:i,onClick:e=>this.handleMenuOpen(),style:s}))}renderPillOrigin(){const{icon:e,title:t,disabled:o,iconStyles:i}=this.props,n=this.styles,r=this.props.mode===N.Pill&&this.props.hasItemsSelected;return c.createElement("div",{ref:this.origin,style:n.menuItemWrapper},a()(y.u,{on:r,icon:e({...n.icon,...i}),title:a()("span",{},void 0,t),onClick:e=>this.handleMenuOpen(),wrapStyle:{opacity:o?.4:1}}))}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,o=this.styles,i=this.getThemeColors();return a()(c.Fragment,{},void 0,c.createElement("div",{ref:this.origin,style:o.menuItemWrapper}),a()(S.Z,{disabled:t||this.isMenuOpen(),icon:p.Z.plus(o.iconSmall),title:e,focused:!1,onClick:e=>this.handleMenuOpen(),style:{...o.appendListItemButton,...i.appendListItemButton}}))}renderMobile(e){const{disabled:t}=this.props,o=t||this.isMenuOpen(),i=e===O.Mode.Section?this.renderMobileFilterSummary({disableFilters:o}):this.renderMobileButtonOrigin({disableFilters:o});return a()(k.ZP,{popupType:k.ZP.PopupType.SlideUp,open:this.isMenuOpen(),origin:i,render:this.renderMenu,onDismiss:this.handleMenuClose,keepFocus:!0})}renderMobileButtonOrigin(e){const{icon:t,title:o}=this.props,i=this.styles;return a()(S.Z,{disabled:e.disableFilters,focused:!1,icon:t({...i.icon}),title:o,onClick:e=>this.handleMenuOpenMobile()})}renderFilters(e){const{items:t,renderFilter:o}=this.props,{device:i}=this.environment,n=t.map(((t,n)=>a()("li",{},`${t}_${n}`,o(t,{disabled:e.disableFilters,onRemove:()=>this.handleFilterRemove(t),onClick:()=>i.isMobile?this.handleMenuOpenMobile():this.handleMenuOpen(n)}))));return a()("ul",{style:g.mK},void 0,n)}addItem(e){const{items:t,onChange:o}=this.props,i=t.concat(e);o(l().uniq(i))}getThemeColors(){return{buttonMenuItem:{color:this.theme.mediumTextColor},appendListItemButton:{color:this.theme.lightTextColor}}}}O.displayName="SearchTokenFilter",O.Mode=N;const U=O},75689:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(83355),c=o(82990),d=o(52275),p=o(24006),u=o(255);class m extends l.Z{constructor(){super(...arguments),this.styles={menuItem:{background:void 0,minHeight:void 0,fontSize:this.environment.device.isMobile?c.Z.fontSize.UISmall.mobile:c.Z.fontSize.UIRegular.desktop,paddingTop:this.environment.device.isMobile?12:4,paddingBottom:this.environment.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}renderComponent(){const{disabled:e,label:t,title:o,onClick:i,isToggle:r,...l}=this.props,c=this.getThemeColors(),p=this.styles,u=a()("span",{style:c.menuItemLabel},void 0,t);return s.createElement(d.Z,n()({focused:!1},l,{inline:r,disabled:e,icon:u,title:o,right:this.renderRight(),onClick:i,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:p.menuItem,desktopIconStyle:p.menuItemLabel}))}renderRight(){const{disabled:e}=this.props,t=this.styles.rightWrapper;return this.props.isToggle?a()("div",{style:t},void 0,a()(p.Z,{on:this.props.isToggleActive,onClick:this.props.onClick})):a()(u.Z,{disabled:e,onClick:this.props.onClickClear})}getThemeColors(){return{menuItemLabel:{color:this.theme.lightTextColor}}}}m.displayName="SearchFilterSummaryMenuItem";const g=m},91642:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(97464),n=o.n(i),r=o(67294),a=o(83355),s=o(72495);class l extends a.Z{constructor(){super(...arguments),this.styles={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}}}renderComponent(){const{title:e,marginAfter:t,desktopStyle:o,desktopTitleStyle:i,...a}=this.props,l=this.styles,c=(t||o)&&{...t&&l.marginAfter,...o},d=i?{...l.desktopTitleStyle,...i}:l.desktopTitleStyle;return r.createElement(s.Z,n()({isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:c,desktopTitleStyle:d,shouldShowBottomDivider:!1,title:e,style:a.style},a))}}l.displayName="SearchSectionMenuItem";const c=l},15189:(e,t,o)=>{o.d(t,{Z:()=>p});var i=o(77094),n=o.n(i),r=(o(67294),o(480)),a=o(43250),s=o(60709),l=o(46740),c=o(48019),d=o(78140);const p=function(e){window.__c={n:"TeamAddAppTemplateMenu"};const{teamStore:t,closePopup:o,from:i}=e,p=(0,r.O7)(),u=(0,l.Z)({teamStore:t,from:i});return n()(d.Z,{className:a.Mdu,menuType:s.og.Popup,minWidth:250},void 0,n()(c.Z,{context:{blocks:[],environment:p,publicEditMode:void 0},sections:u,initialFocus:void 0,onAccept:()=>o()}))}},14254:(e,t,o)=>{o.d(t,{o:()=>p});var i=o(77094),n=o.n(i),r=(o(67294),o(480)),a=o(81954),s=o(24405),l=o(82990),c=o(23537),d=o(58260);function p(e){let{teamStore:t,withSelectedStyle:o}=e;window.__c={n:"TeamHeaderLabel"};const i=(0,r.Fy)(),p=(0,a.VK)((()=>{var e;return{teamName:t.getName()??"",shouldShowLock:(0,c.C2)(null==t||null===(e=t.getSettingsStore())||void 0===e?void 0:e.getValue())}}),[t]),u=(0,s.yK)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},lockIcon:{width:15,marginLeft:6,marginBottom:1,fill:e.mediumIconColor},labelText:{...l.Z.textOverflowStyle,...o?{color:e.regularTextColor,fontWeight:l.Z.fontWeight.semibold}:{color:e.darkTextColor,fontWeight:l.Z.fontWeight.medium},fontSize:i.isMobile?l.Z.fontSize.UIRegular.mobile:l.Z.fontSize.UIRegular.desktop}})),[i.isMobile,o]);return p?n()("div",{style:u.container},void 0,n()("div",{style:u.labelText},void 0,p.teamName),p.shouldShowLock&&n()(d.Z,{iconStyle:u.lockIcon})):null}},56252:(e,t,o)=>{o.d(t,{O:()=>P});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(29369),c=o(5366),d=o(79315),p=o(70704),u=o(62151),m=o(14254),g=o(97464),h=o.n(g),f=o(24405),v=o(3779),y=o(50906),b=o(89858),S=o(74647),w=o(4708),k=o(64921),C=o(31945),_=o(14694),M=o(15189);function T(e){let{teamStore:t}=e;const o=(0,a.Fy)(),i=(0,a.O7)(),l=(0,s.VK)((()=>t.canAddOrRemoveTopLevelPages()),[t]),p=(0,s.VK)((()=>(0,w.Kx)()),[]),[u,m]=(0,r.useState)(void 0),g=(0,r.useCallback)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:n}=d.default.state;e&&n&&((0,w._A)(),"control"===p?(b.mv({environment:i,from:"sidebar_team_section_empty_state",spaceStore:e,spaceViewStore:n,teamStore:t,andNavigate:!0,appendOrPrepend:"append"}),o.isMobile&&S.close()):y.trackClickOutlinerTeamNewPage(i,{from:"sidebar_team_empty_new_page"}))}),[o.isMobile,i,p,t]),T=(0,f.yK)((e=>({emptyPlaceholder:{color:e.lightTextColor,paddingLeft:12,...!o.isMobile&&{fontSize:14},...o.isMobile&&{display:"flex",alignItems:"center",height:32},display:"flex",alignItems:"center"},addPage:{color:e.mediumTextColor,borderRadius:3},addPageButton:{borderRadius:3,marginLeft:4,marginRight:4},addPageIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},addPageIcon:{fill:e.mediumIconColor,width:16,height:16}})),[o]);return l?n()(C.Z,{popupType:C.Z.PopupType.Popup,alignmentToOrigin:C.Z.Alignment.Start,originGap:2,disablePopup:"control"===p,originRect:u,onClick:g,renderOrigin:e=>r.createElement(k.Z,h()({mobileFeedback:o.isMobile,style:T.addPageButton},e,{onClick:t=>{m(new DOMRect(t.clientX,t.clientY)),e.onClick(t)}}),n()(_.Z,{style:T.addPage,disableMobileBorder:!0,left:n()("div",{style:T.addPageIconContainer},void 0,v.Z.plusThick(T.addPageIcon))},void 0,n()(c.FormattedMessage,{id:"teamOutliner.addPage",defaultMessage:"Add a page",description:"Shown when the team outliner is empty and user can add top-level pages."}))),render:e=>n()(M.Z,{teamStore:t,closePopup:e.close,from:"sidebar_team_empty_new_page"})}):n()(_.Z,{disableMobileBorder:!0},void 0,n()("div",{style:T.emptyPlaceholder},void 0,n()("span",{},void 0,n()(c.FormattedMessage,{defaultMessage:"No pages inside",description:"When the team outliner is empty and there are no overflow pages, shows this message",id:"teamOutliner.noOverflowEmptyMessage"}))))}var I=o(97986);function P(e){let{isRouteWithoutSpecifiedBlock:t,teamStore:o,sidebarState:i,isLastTeam:g,initialToggleState:h,shouldPersistToggleState:f,customToggleStore:v,teamOutlinerType:y,onLinkVisit:b,onBookmarkVisit:S,onTeamJoinComplete:w}=e;window.__c={n:"TeamOutliner"};const{currentSpaceStore:k,currentSpaceViewStore:C,currentUserSettingsStore:_}=(0,s.VK)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}=d.default.state;return{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}}),[]),M=(0,s.qz)(void 0,p.Z),P=v??M,x=(0,s.VK)((()=>o.getTeamPagesStores()),[o]),B=(0,a.Fy)(),Z=(0,s.VK)((()=>{const e=d.default.state.mainEditorCurrentBlockStore;return(null==e?void 0:e.getParentTable())===l.e0&&(null==e?void 0:e.getParentId())===o.id&&!B.isMobile&&P.state.isHidden}),[B.isMobile,o.id,P]);return k&&C&&_?n()(u.Z,{type:"team",customToggleButtonStore:P,forceHoveredButtonStyle:Z,initialToggleState:h,shouldPersistToggleState:f,teamHeaderLabel:n()(m.o,{teamStore:o,withSelectedStyle:Z}),teamStore:o,spaceStore:k,spaceViewStore:C,showAddButton:!1,isLastTeam:g,teamOutlinerType:y,labelTooltip:n()(c.FormattedMessage,{defaultMessage:"One of your teams",id:"sidebar.teamSection.tooltip"}),onTeamJoinComplete:w,marginBottomOverrideWhenExpanded:B.isMobile?0:16,marginBottomOverrideWhenCollapsed:B.isMobile?0:1,renderSidebar:e=>{if(!o)return;const a=new Set(x.map((e=>e.id)));return r.createElement(r.Fragment,null,n()(I.r,{state:{type:"team",teamSectionType:y,teamStore:o},sidebarState:i,onLinkVisit:b,onBookmarkVisit:S,isRouteWithoutSpecifiedBlock:t}),0===a.size&&n()(T,{teamStore:o}))}}):null}},88461:(e,t,o)=>{o.d(t,{u:()=>v});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(75934),p=o(150),u=o(89971),m=o(28020);var g=o(79315),h=o(79131),f=o(56252);function v(e){let{teams:t,reorderable:o,isRouteWithoutSpecifiedBlock:i,onLinkVisit:r}=e;window.__c={n:"TeamOutlinerList"};const v=(0,l.O7)(),y=function(){const e=(0,l.O7)();return(0,c.VK)((()=>(0,m.k_)(e).state),[e])}(),{currentSpaceViewStore:b,currentSpaceStore:S}=(0,c.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=g.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),w=(0,c.VK)((()=>t.map((e=>e.id))),[t]),k=(0,c.VK)((()=>a().keyBy(t,"id")),[t]),[C,_]=(0,s.useState)({});return(0,s.useEffect)((()=>{(null==S?void 0:S.id)&&_((e=>u.oO({teamIds:w,oldState:e,spaceId:S.id,userId:v.currentUser.id})))}),[null==S?void 0:S.id,v.currentUser.id,w]),b&&y?n()(h.ZP,{direction:"vertical",keys:w,disabled:!o,renderKey:e=>C[e]&&n()(f.O,{shouldPersistToggleState:!0,teamStore:k[e],isRouteWithoutSpecifiedBlock:i,sidebarState:y,isLastTeam:a().last(w)===e,teamOutlinerType:d.kg,customToggleStore:C[e],onLinkVisit:r},e),onDrop:(e,t)=>{p.Ct({environment:v,currentSpaceViewStore:b,orderedTeamIds:e,userAction:"SidebarOutliner.SidebarOutliner",isExplicitUserAction:!0,dropArgs:t})}}):s.createElement(s.Fragment,null)}},97986:(e,t,o)=>{o.d(t,{r:()=>v});var i=o(97464),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(24405),c=o(36432),d=o(28314),p=o(35026),u=o(23537),m=o(79315),g=o(99757),h=o(22541),f=o(55094);function v(e){let{state:t,sidebarState:o,onLinkVisit:i,onBookmarkVisit:v,isRouteWithoutSpecifiedBlock:y=!1,additionalOutlinerProps:b}=e;window.__c={n:"TopLevelSidebarOutliner"};const S=(0,s.VK)((()=>m.default.state.currentSpaceStore),[]),w=(0,s.VK)((()=>m.default.state.currentSpaceViewStore),[]),k=(0,a.O7)(),C=(0,a.Fy)().isMobile,_=(0,s.VK)((()=>!g.n.state),[]),M=(0,s.VK)((()=>(null==S?void 0:S.canEdit())&&_),[S,_]),T=(0,s.VK)((()=>t),[t]),I=(0,s.VK)((()=>{if(w)return(0,p.EE)({currentSpaceViewStore:w,typeWithTeam:T,environment:k,sidebarState:o})}),[w,k,o,T]),P=(0,s.VK)((()=>{if(w&&S)return(0,p.P4)({currentSpaceStore:S,currentSpaceViewStore:w,typeWithTeam:T})}),[S,w,T]),x=(0,r.useCallback)(((e,t)=>{"link"===e?null==i||i(t):"bookmark"===e&&(null==v||v(t)),c.V()}),[v,i]),B=(0,r.useCallback)((e=>x("bookmark",e)),[x]),Z=(0,r.useCallback)((e=>x("link",e)),[x]),E=(0,r.useCallback)((e=>x("private",e)),[x]),R=(0,r.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,u.bq)())return;const o=(0,d.yA)().shift,i=(0,d.M6)(k);o&&i&&c.R({block:e,isInBookmarkSection:t})}),[k]),A=(0,r.useCallback)(((e,t)=>{R(e,!1)}),[R]),D=(0,r.useCallback)(((e,t)=>{R(e,!0)}),[R]),F=(0,l.yK)((()=>({outliner:{display:"block"},outlinerItem:{...C&&"team"===T.type?{paddingLeft:f.gZ+f.aZ}:void 0}})),[C,T.type]);if(!S||!w||!I)return null;let L;switch(T.type){case"bookmarks":L=B;break;case"private":L=E;break;default:L=Z}const V="bookmarks"===T.type?D:A;return r.createElement(h.Z,n()({type:T.type,disabled:!M,itemDepth:0,childStores:I,parentStore:P,style:F.outliner,itemStyle:F.outlinerItem,onItemClick:V,onNavigate:L},b))}},67579:(e,t,o)=>{o.d(t,{f:()=>S});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(24405),c=o(3779),d=o(73123),p=o(33929),u=o(60709),m=o(55811),g=o(52275),h=o(78140),f=o(9342),v=o(44532),y=o(72495),b=o(91642);function S(e){window.__c={n:"DateFilter"};const t=(0,l.yK)((e=>({popup:{width:125,marginLeft:5},pillStyle:{display:"flex",alignItems:"center"}})),[]),{currentFilter:o,hideAllTime:i}=e,[r,S]=(0,s.useState)(!1),w=d.Hz.filter((e=>!i||"all_time"!==e)).map((t=>{const o=()=>{e.onChangeFilter(t),S(!1)};return{key:t,action:()=>{},render:()=>a()(g.Z,{focused:!1,onClick:o,title:p.default.formatMessage(d.Rh[t])})}})),k=a()(m.u,{on:Boolean(o),wrapStyle:t.pillStyle,icon:c.Z.calendar({width:16,marginRight:6,fill:"currentColor"}),title:p.default.formatMessage(d.Rh[o]),onClick:()=>{S(!0)}}),C=[{key:"filters",items:w,render:e=>s.createElement(y.Z,n()({},e,{title:null,loading:!1}))}],_=a()(h.Z,{menuType:u.og.Popup,header:null},void 0,a()(f.Z,{type:f.i.Vertical,initialFocus:0,sections:C}));return a()(b.Z,{marginAfter:!1},void 0,a()(v.ZP,{popupType:v.ZP.PopupType.Popup,placementToOrigin:v.ZP.Placement.Bottom,alignmentToOrigin:v.ZP.Alignment.Start,open:r,render:()=>_,onDismiss:()=>S(!1),keepFocus:!0,origin:k,preventScaleTransition:!0,style:t.popup}))}},11913:(e,t,o)=>{o.d(t,{o:()=>j,m:()=>K});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(67294),l=o(480),c=o(81954),d=o(24405),p=o(3779),u=o(64684),m=o(97880),g=o(5366),h=o(62967),f=o(50906),v=o(57688),y=o(43250),b=o(4708),S=o(60709),w=o(35026);function k(e){let{adminStatus:t,accessLevel:o,isArchivedTeam:i}=e;if("adminThatCanPerformPrivilegedActions"===t)return new Set(["join","joinAsOwner"]);if(i)switch(t){case"none":return new Set;case"admin":return new Set("open"===o?["join"]:[]);default:(0,m.t1)(t)}switch(o){case"open":return new Set(["join"]);case"closed":case"private":return new Set;default:(0,m.t1)(o)}}var C=o(23537),_=o(92350),M=o(45660),T=o(63409),I=o(25223),P=o(35901),x=o(46740),B=o(77907),Z=o(79315),E=o(61766),R=o(48690),A=o(33052),D=o(93405),F=o(48019),L=o(64921),V=o(31945),N=o(78140),O=o(72495),U=o(58032);const H=["addPages","join","view","add","duplicate","leave","archive","restore"],z=["join","joinAsOwner","upgradeSelfToOwner","leave"],W=(0,g.defineMessages)({add:{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel",description:"Action button to open the add teamspace members modal."},leave:{defaultMessage:"Leave teamspace",id:"sidebar.outlinerTeamToggleButton.leaveLabel",description:"Action button to stop being a member of the teamspace."},joinAsOwner:{defaultMessage:"Join as owner",id:"sidebar.outlinerTeamToggleButton.joinAsOwnerLabel",description:"Action button to join a teamspace as owner, shows in '...' context menu on a teamspace. This is a privileged action that only shows to Enterprise Workspace Owners in the Manage teamspaces table."},joinAsMember:{defaultMessage:"Join as member",id:"sidebar.outlinerTeamToggleButton.joinAsMemberLabel",description:"Action button to join a teamspace as a member, shows in '...' context menu on a teamspace. This option will show above 'Join as owner'"},joinTeamspace:{defaultMessage:"Join teamspace",id:"sidebar.outlinerTeamToggleButton.joinLabel",description:"Action button to join a teamspace, shows in '...' context menu on a teamspace."},upgradeSelfToOwner:{defaultMessage:"Become owner",id:"sidebar.outlinerTeamToggleButton.upgradeSelfToOwnerLabel",description:"Action button to upgrade yourself from a member to an owner in a teamspace, shows in '...' context menu on a teamspace. This is a privileged action that only shows to Enterprise Workspace Owners in the Manage teamspaces table."},archive:{defaultMessage:"Archive teamspace",id:"sidebar.outlinerTeamToggleButton.archiveLabel",description:"Title for a button that allows a user to archive this teamspace."},restore:{defaultMessage:"Restore teamspace",id:"outlinerTeamOverflow.teamActions.restoreLabel",description:"Action button to restore an archived teamspace, shows in '...' context menu on a teamspace."},duplicate:{defaultMessage:"Duplicate teamspace",id:"sidebar.outlinerTeamToggleButton.duplicateLabel",description:"Popup button to allow users to quickly duplicate a teamspace's permission and settings."},teamspaceSettings:{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel",description:"Teamspace settings and members action for owners."},viewMembers:{defaultMessage:"View members",id:"sidebar.outlinerTeamToggleButton.unjoinedMemberViewLabel",description:"A menu item giving the user an option to look at the members of a teamspace that they have not joined."},appTemplates:{defaultMessage:"Add pages",id:"sidebar.outlinerTeamToggleButton.addPages",description:"Title for button that has a submenu with app template options."}});function j(e){let{teamStore:t,style:o,from:i,hideJoin:r,onPopupClick:u,onPopupClose:m}=e;const h=(0,l.Fy)(),f=(0,c.qz)(void 0,A.Z),v=(0,c.VK)((()=>Z.default.state.currentSpaceStore),[]),b=(0,c.qz)(void 0,E.Z),S=(0,d.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20,...o},icon:{fill:e.sidebarTextColor,width:14,height:14}})),[o]);return v?h.isMobile?null:s.createElement(s.Fragment,null,a()(U.Z,{textWrap:!1,renderTooltip:()=>a()(g.FormattedMessage,{defaultMessage:"Teamspace settings and members...",id:"sidebar.outlinerTeamToggleButton.tooltip"}),placement:U.Z.Placement.Bottom,render:e=>a()(V.Z,{popupType:V.Z.PopupType.Popup,buttonPopupStore:b,alignmentToOrigin:V.Z.Alignment.Start,originGap:2,renderOrigin:t=>s.createElement(L.Z,n()({className:y.qxR,style:S.buttonStyle,mobileFeedback:!1},e,t),p.Z.dots(S.icon)),render:e=>a()(K,{teamStore:t,permissionsInviteStore:f,onDismiss:e.close,from:i,hideJoin:r,buttonPopupStore:b}),onClick:u,onClose:m})}),a()(B.LazyTeamPermissionsInviteWithModal,{permissionsInviteStore:f,store:t})):null}function K(e){window.__c={n:"TeamOverflowMenu"};const{teamStore:t,permissionsInviteStore:o,onDismiss:i,from:r,hideJoin:B,buttonPopupStore:E}=e,A=(0,d.Fg)(),L=(0,l.O7)(),V=(0,d.yK)((()=>({menuItemButton:{minWidth:200},caption:{minWidth:230}})),[]),j=(0,c.VK)((()=>Z.default.state.currentSpaceStore),[]),K=(0,_.e4)(t),X=(0,c.VK)((()=>(0,u.m4)({archived_by:t.getArchivedBy()})),[t]),q=L.currentUser.id,$=(0,c.VK)((()=>q?(0,u.Rk)({userId:q,team:{is_default:t.isDefault(),membership:t.getRawMembership()},space:{permissions:null==j?void 0:j.getPermissionItems(),permission_groups:null==j?void 0:j.getPermissionGroups()}}):"none"),[j,q,t]),J=(0,c.VK)((()=>!(!t.isDefined()||!q)&&(0,u.pd)({membership:t.getMembers()},q)),[q,t]),Q=(0,P.y)(t.id),ee=(0,_.ef)(t),{id:te,name:oe,isDefault:ie}=(0,c.VK)((()=>({id:t.id,name:t.getName(),isDefault:t.isDefault()})),[t]),ne=(0,T.n)({spaceStore:j,teamId:t.id}),re=(0,C.S1)(),ae=(0,c.VK)((()=>(0,C.Xq)({environment:L,spaceStore:j})),[j,L]),se=(0,I.r)(r),{accessLevel:le,settings:ce}=(0,c.VK)((()=>({accessLevel:t.getTeamAccessLevel(),settings:t.getSettings()})),[t]),de=(0,M.D)()&&(0,u.Ue)(le,ce),pe=(0,s.useCallback)((e=>{f.trackClickOutlinerTeamOverflowOption(L,{store:t,from:r,option:e})}),[L,t,r]),ue=Q&&!ne,me=(0,c.VK)((()=>Boolean(null==j?void 0:j.canAdmin())),[j]),{joinLeaveOptionsToShow:ge,leaveOptionDisabledState:he}=function(e){let{teamRole:t,adminStatus:o,isDefaultTeam:i,accessLevel:n,isArchivedTeam:r}=e;switch(t){case"owner":case"member":const e=new Set,a=!r;return a&&e.add("leave"),"owner"!==t&&"adminThatCanPerformPrivilegedActions"===o&&e.add("upgradeSelfToOwner"),{joinLeaveOptionsToShow:e,leaveOptionDisabledState:a&&i?{disabled:!0,disabledReasonKey:"defaultTeam"}:void 0};case"team_level_guest":return{joinLeaveOptionsToShow:new Set,leaveOptionDisabledState:void 0};case"none":return{joinLeaveOptionsToShow:k({adminStatus:o,accessLevel:n,isArchivedTeam:r}),leaveOptionDisabledState:void 0};default:(0,m.t1)(t)}}({teamRole:$,adminStatus:se?"adminThatCanPerformPrivilegedActions":me?"admin":"none",isArchivedTeam:X,isDefaultTeam:ie,accessLevel:le}),fe=(0,c.VK)((()=>(0,b.Kx)()),[]),ve=(0,x.Z)({teamStore:t,from:"sidebar_team_overflow"}),ye=(0,c.VK)((()=>(0,w.si)({environment:L,teamStore:t})),[L,t]),be=ge.has("joinAsOwner"),Se=se&&!(1===ge.size&&ge.has("leave")),we={add:{type:"action",show:!X&&ee,handle:()=>{o.update((e=>({...e,modalOpen:!0})))},title:W.add,icon:p.Z.addPerson({width:17})},leave:{type:"action",...Se&&{colorOverride:A.redBadgeBackground},show:ge.has("leave"),handle:()=>{v.s({environment:L,teamStore:t,currentSpaceStore:j,from:r})},title:W.leave,disabled:Boolean(null==he?void 0:he.disabled),icon:p.Z.handWave({width:17}),disabledTooltipText:"defaultTeam"===(null==he?void 0:he.disabledReasonKey)&&a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotLeaveDefaulTeamTooltip",defaultMessage:"Cannot leave a default teamspace",description:"Tells the user that they're unable to leave a 'default' teamspace."})},join:{type:"action",show:!B&&ge.has("join"),handle:async()=>{if(j)switch(le){case"open":await v.um({environment:L,teamStore:t,currentSpaceStore:j,from:r,andNavigateToTeamHome:!1});break;case"closed":case"private":await v.wT({environment:L,teamStore:t,currentSpaceStore:j,from:r,action:"joinClosedOrPrivateTeamAsMember"});break;default:(0,m.t1)(le)}},title:be?W.joinAsMember:W.joinTeamspace,icon:p.Z.plus({width:17})},joinAsOwner:{type:"action",show:be,handle:()=>v.wT({environment:L,teamStore:t,currentSpaceStore:j,from:r,action:"joinTeamAsOwner"}),title:W.joinAsOwner,icon:p.Z.personAdmin({width:17})},upgradeSelfToOwner:{type:"action",show:ge.has("upgradeSelfToOwner"),handle:()=>v.wT({environment:L,teamStore:t,currentSpaceStore:j,from:r,action:"upgradeToOwner"}),title:W.upgradeSelfToOwner,icon:p.Z.personAdmin({width:17})},archive:{type:"action",show:!X&&J,colorOverride:A.redBadgeBackground,handle:()=>{!ue&&v.aQ({teamStore:t,environment:L,from:r})},title:W.archive,disabled:ue,disabledTooltipText:Y({isTeamsPricingUpdatesEnabled:re}),icon:p.Z.archive({width:17})},restore:{type:"action",show:X,handle:()=>{J&&v.YH({environment:L,teamStore:t,teamName:oe,from:r})},title:W.restore,disabled:!J,disabledTooltipText:a()(g.FormattedMessage,{id:"outlinerTeamOverflow.restoreArchivedTeam.disabledTooltipText",defaultMessage:"Only teamspace owners can restore archived teamspaces.",description:"Tooltip that shows next to disabled 'Restore teamspace' button explaining why the button is disabled."})},duplicate:{type:"action",show:!X&&ae,handle:()=>{v.tW({environment:L,teamStore:t,from:r,buttonPopupStore:E})},title:W.duplicate,disabled:ie||de,icon:p.Z.duplicate({width:17}),disabledTooltipText:G({isDefault:ie,isTeamWithGatedFeaturesOnDowngradedPlan:de}),caption:a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.duplicateCaption",defaultMessage:"Duplicates permissions and other settings but not pages and members",description:"Additional description that explains what gets copied over when a user duplicates an existing teamspace."})},view:{type:"action",show:!X,handle:()=>v.RF({environment:L,teamId:te,tab:R.a.Members,from:r}),title:K?W.teamspaceSettings:W.viewMembers,icon:K?p.Z.factoryBlockSettings({width:15}):p.Z.settingsMembers({width:17})},addPages:{type:"extensionAction",show:"control"!==fe&&"teamSidebar"===r&&ye,title:W.appTemplates,icon:p.Z.docBadgePlus({width:17}),subActionSections:ve}},ke=(Se?[{sectionName:"join/leave section",orderedOptions:z},{sectionName:"other actions",orderedOptions:H.filter((e=>!z.includes(e)))}]:[{sectionName:"default section",orderedOptions:H}]).map((e=>{const t=e.orderedOptions.filter((e=>we[e].show));if(0!==t.length)return{sectionName:e.sectionName,filteredOptions:t}})).filter(m.$K).map((e=>{const t=e.filteredOptions.map((e=>{const t=we[e],{type:o}=t;return"action"===o?(0,h.PH)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,validators:[],closeParentMenu:!0,action:()=>{i(),pe(e),t.handle()},render:e=>a()(U.Z,{placement:U.Z.Placement.Left,textWrap:!1,disableTooltip:!(t.disabled&&t.disabledTooltipText),renderTooltip:()=>t.disabledTooltipText,render:o=>s.createElement(D.Z,n()({},e,o,{svg:()=>t.icon,title:s.createElement(g.FormattedMessage,t.title),buttonStyle:{...V.menuItemButton,...!t.disabled&&t.colorOverride?{fill:t.colorOverride,color:t.colorOverride}:{fill:A.regularIconColor,color:A.regularTextColor}},disabled:t.disabled,disabledFeedback:t.disabled,caption:t.caption,captionStyle:V.caption,shouldWrapCaption:!0}))})}):"extensionAction"===o?(0,h.MV)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,width:250,validators:[],subActions:()=>t.subActionSections.map((t=>({...t,actions:t.actions.map((t=>({...t,action:o=>{i(),pe(e),t.action(o)}})))})))}):void(0,m.t1)(o)}));return(0,h.$J)({key:e.sectionName,render:e=>s.createElement(O.Z,e),actions:t})}));return(0,b._A)(),a()(N.Z,{className:y.Mdu,menuType:S.og.Popup,minWidth:"100%"},void 0,a()(F.Z,{context:{blocks:[],environment:L,publicEditMode:void 0},sections:ke,initialFocus:void 0}))}function Y(e){let{isTeamsPricingUpdatesEnabled:t}=e;return t?a()("div",{style:{whiteSpace:"normal"}},void 0,a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.moreThanOneMember",defaultMessage:"There must only be one member in the workspace to archive this teamspace",description:"Tells the user that they're unable to archive this teamspace because there is more than one member in the teamspace."})):a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.onlyDefaultTeam",defaultMessage:"Create another default teamspace to archive this one",description:"Tells the user that they're unable to archive this teamspace because it is the only default teamspace."})}function G(e){let{isDefault:t,isTeamWithGatedFeaturesOnDowngradedPlan:o}=e;return t?a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateDefaultTeamspace",defaultMessage:"Cannot duplicate a default teamspace",description:"Tells the user that they're unable to duplicate a 'default' teamspace."}):o?a()(g.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateTeamspaceWithGatedFeaturesOnDowngradedAccount",defaultMessage:"Cannot duplicate a teamspace with settings only allowed on Business plans or above",description:"Tells the user that they're unable to duplicate a teamspace that has Business features enabled if they're not still on a business or higher plan."}):void 0}},30040:(e,t,o)=>{o.d(t,{M:()=>k});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(82990),p=o(92350),u=o(6617),m=o(480),g=o(5366),h=o(57688),f=o(79315),v=o(89728);const y=function(e){window.__c={n:"TeamJoinButton"};const{teamStore:t,from:o,navigateToTeamHomeOnJoin:i,onJoinedTeam:r,style:a,hoveredStyle:c,icon:d,isRed:p}=e,u=(0,m.O7)(),y=(0,l.VK)((()=>f.default.state.currentSpaceStore),[]),b=(0,s.useCallback)((async()=>{y&&(await h.um({environment:u,teamStore:t,currentSpaceStore:y,from:o,andNavigateToTeamHome:i??!1}),null==r||r())}),[y,u,t,o,i,r]);return n()(v.Z,{style:a,hoveredStyle:c,onClick:b,icon:d,isRed:p},void 0,n()(g.FormattedMessage,{id:"outlinerTeamToggleButton.joinTeamButton",defaultMessage:"Join",description:"CTA button text that allows the user to join a team from the browse teams sidebar."}))};var b=o(56664),S=o(78504);const w=function(e){const{teamStore:t,style:o,hoveredStyle:i}=e,[r,a]=(0,s.useState)(!1),c=(0,l.VK)((()=>t.getName()),[t]);return s.createElement(s.Fragment,null,n()(v.Z,{style:o,hoveredStyle:i,onClick:()=>a(!0)},void 0,n()(g.FormattedMessage,{id:"teamRequestButton.requestButton.label",defaultMessage:"Request",description:"CTA button text that allows the user to request access to a closed teamspace."})),n()(S.Z,{teamStore:t,teamName:c,teamId:t.id,isModalOpen:r,onDismiss:()=>a(!1)}))};function k(e){const{teamStore:t,style:o,hoveredStyle:i}=e,r=(0,u.Q)(),m=(0,p.e4)(t),g=(0,l.VK)((()=>t.getTeamAccessLevel()),[t]),h=(0,c.yK)((e=>({joinTeamButton:{maxHeight:26,marginLeft:10,paddingLeft:10,paddingRight:10,borderRadius:100,fontSize:13,fontWeight:d.Z.fontWeight.semibold,background:e.buttonHoveredBackground,alignSelf:"center",...o},joinTeamButtonHoveredStyle:{background:e.buttonPressedBackground,...i}})),[o,i]);return r?null:s.createElement(s.Fragment,null,m&&s.createElement(b.Z,a()({},e,{style:h.joinTeamButton,hoveredStyle:h.joinTeamButtonHoveredStyle})),!m&&"open"===g&&s.createElement(y,a()({},e,{style:h.joinTeamButton,hoveredStyle:h.joinTeamButtonHoveredStyle})),!m&&"closed"===g&&n()(w,{teamStore:t,style:h.joinTeamButton,hoveredStyle:h.joinTeamButtonHoveredStyle}))}},56664:(e,t,o)=>{o.d(t,{Z:()=>b});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(480),p=o(81954),u=o(3779),m=o(64684),g=o(5366),h=o(57688),f=o(79315);var v=o(89728),y=o(58032);const b=function(e){window.__c={n:"TeamLeaveButton"};const{teamStore:t,from:o,onLeavingTeam:i,style:r,hoveredStyle:s,icon:b,isRed:S,placement:w,alignment:k,buttonInternals:C}=e,_=(0,d.O7)(),M=(0,p.VK)((()=>f.default.state.currentSpaceStore),[]),T=(0,c.useCallback)((async()=>{if(!M)return;await h.s({environment:_,teamStore:t,currentSpaceStore:M,from:o})&&(null==i||i())}),[M,_,t,o,i]),I=a()(g.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.enabledTooltip",defaultMessage:"Click to leave teamspace",description:"Tooltip shown when the leave button is enabled explaining what it does."}),P=function(e){let{teamStore:t}=e;const o=(0,d.O7)().currentUser.id,{isDefaultTeam:i}=(0,p.VK)((()=>({isDefaultTeam:t.isDefault()})),[t]),n=function(e){const t=(0,p.VK)((()=>f.default.state.currentSpaceStore),[]);return(0,p.VK)((()=>e.isDefined()&&null!=t&&t.isDefined()?(0,m.x4)({members:e.getMembers(),groups:(null==t?void 0:t.getPermissionGroups())??[]}):[]),[e,t])}(t),r=(0,p.VK)((()=>o?n.filter((e=>{var t;return null===(t=e.user_ids)||void 0===t?void 0:t.includes(o)})):[]),[n,o]),s=(0,p.VK)((()=>{if(!t.isReady())return!1;const e=(0,m.XO)({membership:t.getMembers()});return 1===e.length&&e[0]===o}),[t,o]);return function(e){let{isDefaultTeam:t,isOnlyTeamOwner:o,userGroups:i}=e;if(t)return a()(g.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.defaultTeamTooltip",defaultMessage:"You can’t leave this teamspace because everyone in the workspace must be a member",description:"Tooltip help text that shows up when a user tries to leave a teamspace where leaving is disabled."});if(o)return a()(g.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.onlyOwnerTooltip",defaultMessage:"Invite another teamspace owner to leave this teamspace",description:"Tooltip help text that shows up when a user tries to leave a teamspace where leaving is disabled."});if(i.length>0)return a()(g.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.groupTooltip",defaultMessage:"{groupNames, plural, one {You can't leave this teamspace because you're a member of multiple groups, {groupNames}.} other {You can't leave this teamspace because you're a member of the group, {groupNames}.}}",values:{groupNames:l().compact(i.map((e=>e.name))).join()}})}({isDefaultTeam:i,isOnlyTeamOwner:s,userGroups:r})}({teamStore:t}),x=Boolean(P),B=x?P:I;return a()(y.Z,{style:x?{width:240}:void 0,disableTooltip:!Boolean(B),renderTooltip:e=>c.createElement("div",e,B),textWrap:x,placement:w,alignment:k,render:e=>c.createElement(v.Z,n()({},e,{style:r,hoveredStyle:s,onClick:T,disabled:x,disabledFeedback:x,icon:b,isRed:S}),C||c.createElement(c.Fragment,null,u.Z.check({width:12.5,marginRight:4}),a()(g.FormattedMessage,{id:"teamBrowser.teamCard.button.joined",defaultMessage:"Joined",description:"Already belonging to the team"})))})}},58260:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(77094),n=o.n(i),r=o(67294),a=o(3779),s=o(5366),l=o(58032);function c(e){let{iconStyle:t}=e;return window.__c={n:"TeamLockIconTooltip"},n()(l.Z,{textWrap:!0,style:{width:210},placement:l.Z.Placement.Bottom,renderTooltip:()=>n()(s.FormattedMessage,{id:"teamLockIcon.tooltip",description:"Tooltip for a lock icon associated with teamspaces. It explains that when a team is private, it can only be accessed or joined by invitation.",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>r.createElement("div",e,a.Z.lockedFilled(t))})}},93686:(e,t,o)=>{o.d(t,{p:()=>g});var i=o(97464),n=o.n(i),r=o(67294),a=o(480),s=o(81954),l=o(24405),c=o(79362),d=o(12549),p=o(38755),u=o(3815),m=o(31278);function g(e){window.__c={n:"TeamSpaceIcon"};const{store:t,size:o=16,style:i,disabled:g=!1,onChange:h=(()=>{})}=e,f=(0,a.O7)(),{name:v,icon:y}=(0,s.VK)((()=>t instanceof u.zX?{name:t.getName(),icon:e.icon??t.getIcon()}:{name:(0,p.rn)(f,t),icon:e.icon??(0,p.Wd)(f,t)}),[t,f,e.icon]),b=(0,l.yK)((e=>({backgroundContainer:{background:y&&(0,c.V2)(y.icon)?(0,c.Pk)(y.icon,e.mode):e.regularDividerColor,width:o,height:o}})),[y,o]),S=y&&!(0,d.Z)(y.icon);return r.createElement(m.Z,n()({title:v,icon:y,size:S?.9*o:o,emojiSize:S?.78*o:o,isEmptyPage:!1,bucket:"public",style:S?{...i,...b.backgroundContainer}:i,isLarge:!0,largeIcon:!0,iconLoggingData:{recordTable:t.table,source:"team_settings"}},g?{disabled:!0}:{disabled:!1,onChange:h}))}},78504:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(77094),n=o.n(i),r=o(67294),a=o(480),s=o(24405),l=o(5366),c=o(18698),d=o(42922),p=o(74194),u=o(22346),m=o(64369),g=o(93686);const h=(0,l.defineMessages)({message_placeholder:{id:"teamInviteLinkRequestPage.message.placeholder",defaultMessage:"Message (optional)",description:"The message that's used in an input placeholder asking the inviter to provide a message to why they should be added."}});const f=function(e){window.__c={n:"TeamInviteLinkRequestModal"};const{teamStore:t,teamName:o,teamId:i,isModalOpen:f,onDismiss:v}=e,[y,b]=(0,r.useState)(""),S=(0,a.O7)(),w=(0,l.useIntl)(),k=async()=>{await c.Px({environment:S,teamId:i,message:y}),v()},C=(0,s.yK)((()=>({modal:{alignSelf:"center",overflow:"visible",padding:15,width:420},requestTitle:{display:"inline-flex",marginBottom:10},icon:{marginLeft:4,marginRight:4},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:15},requestInvitesButton:{marginLeft:20},input:{padding:8}})),[]);return n()(u.Z,{open:f,onDismiss:v,innerStyle:C.modal,preventHideChildrenWhileOpening:!0,render:()=>r.createElement(r.Fragment,null,n()("div",{style:C.requestTitle},void 0,n()(l.FormattedMessage,{id:"teamInviteLinkRequestModal.reasonForRequest.title",defaultMessage:"Request access to {icon} {teamName}",description:"Title for the request form of teamspace membership requests.",values:{teamName:o,icon:n()(g.p,{style:C.icon,store:t,disabled:!0,size:22})}})),n()(p.Z,{textarea:!0,style:C.input,value:y,onChange:e=>{b(e.target.value)},placeholder:w.formatMessage(h.message_placeholder)}),n()("div",{style:C.footer},void 0,n()(m.Z,{isSecondaryColor:!0,isSmall:!0,isMultiline:!0},void 0,n()(l.FormattedMessage,{id:"teamInviteLinkRequestModal.caption",defaultMessage:"Your teamspace owners will approve or decline your request.",description:"Caption explaining the user will get notified once their requested is resolved."})),n()(d.Z,{isLarge:!0,style:C.requestInvitesButton,onClick:k},void 0,n()(l.FormattedMessage,{id:"teamInviteLinkRequestModal.requestAccessButton.label",defaultMessage:"Request",description:"Button to request admin to add the user to the teamspace."}))))})}},48426:(e,t,o)=>{o.d(t,{p:()=>c});var i=o(77094),n=o.n(i),r=(o(67294),o(24405)),a=o(82990),s=o(64369),l=o(13380);function c(e){window.__c={n:"TeamPermissionRowAvatar"};const{icon:t,label:o,name:i,tag:c,style:d}=e,p=(0,r.yK)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",gap:10,...d},labelContainer:{display:"flex",flexDirection:"column",...a.Z.textOverflowStyle,marginLeft:5},name:{minWidth:30},nameContainer:{display:"flex",flexDirection:"row",alignItems:"center"}})),[d]);return n()("div",{style:p.container},void 0,t,n()("div",{style:p.labelContainer},void 0,n()("div",{style:p.nameContainer},void 0,n()(l.s,{style:p.name},void 0,i),c),o&&n()(s.Z,{isSmall:!0,isSecondaryColor:!1,isMultiline:!0},void 0,n()(l.s,{},void 0,o))))}},75584:(e,t,o)=>{o.d(t,{p:()=>c});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(58032),l=o(48426);function c(e){window.__c={n:"TeamPermissionRowItem"};const{iconComponent:t,label:o,name:i,permissionRoleSelectComponent:c,tag:d,tooltip:p,style:u}=e,m=(0,a.yK)((e=>({permissionRow:{display:"flex",flexDirection:"row",lineHeight:1.2,fontSize:14,width:"100%",minHeight:36,justifyContent:"space-between",alignItems:"center",...u}})),[u]);return n()("div",{style:m.permissionRow},void 0,n()(l.p,{icon:t,name:i,tag:d,label:o,style:{minWidth:200,marginRight:6}}),n()(s.Z,{textWrap:!0,style:{width:210},disableTooltip:!p,placement:s.Z.Placement.Left,renderTooltip:()=>p,render:e=>r.createElement("span",e,c)}))}},34437:(e,t,o)=>{o.d(t,{I:()=>Ce,t:()=>Me});var i=o(97464),n=o.n(i),r=o(77094),a=o.n(r),s=o(96486),l=o.n(s),c=o(67294),d=o(480),p=o(81954),u=o(24405),m=o(31942),g=o(59054),h=o(27006),f=o(19889),v=o(64684),y=o(97880),b=o(82990),S=o(7928),w=o(5366),k=o(31299),C=o(38755),_=o(92350),M=o(79315),T=o(3815),I=o(48690),P=o(62385),x=o(64369),B=o(90468),Z=o(67669),E=o(86125),R=o(12793),A=o(31278),D=o(58032),F=o(45653),L=o(25735),V=o(3779),N=o(47307),O=o(57688),U=o(30149),H=o(43250),z=o(4708),W=o(60709),j=o(23537),K=o(61766),Y=o(31194),G=o(52275),X=o(31945),q=o(61519),$=o(78140),J=o(9342),Q=o(89728),ee=o(72495),te=o(29369),oe=o(91718),ie=o(7567);function ne(e){window.__c={n:"TeamMemberPermissionRoleSelect"};const{teamStore:t,memberInfo:o,permissionItem:i,memberName:r,style:s,onMenuItemClicked:l,isPermissionOverridden:m}=e,g=(0,d.O7)(),h=(0,w.useIntl)(),f=(0,u.Fg)(),y=(0,c.useMemo)((()=>new K.Z),[]),b=(0,u.yK)((e=>({header:{display:"flex",flexDirection:"column",backgroundColor:e.sidebarSecondaryBackground,fontSize:12,color:e.mediumTextColor,alignItems:"flex-start",paddingTop:10,paddingLeft:12,paddingRight:12,paddingBottom:10},overrideTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",height:28},overrideLabel:{paddingLeft:8,color:e.mediumTextColor}})),[]),S=(0,p.VK)((()=>t.getTeamPermission()),[t]),k=(0,p.VK)((()=>{if(null==t||!t.isDefined())return;const e=h.formatMessage({id:"teamMemberPermissionRoleSelect.member.permissionitem.description",defaultMessage:"You can't give less access than the teamspace default. Lower teamspace members‘ access to enable this option."}),o=a()(w.FormattedMessage,{id:"teamMemberPermissionRoleSelect.permissionItem.defaultTag",defaultMessage:"default"});function i(o){return(0,v.bk)({teamValue:{id:t.id,permissions:t.getPermissionItems()},permissionRole:o})?{isDisabled:!0,disabledMessage:e}:void 0}return["editor","read_and_write","comment_only","reader"].map((e=>({role:e,disabledInfo:i(e),tag:(null==S?void 0:S.role)===e?o:void 0})))}),[S,h,t]);const C=(0,p.VK)((()=>M.default.state.currentSpaceStore),[]),_=(0,p.VK)((()=>!("enterprise"===(null==C?void 0:C.getSubscriptionTier()))&&!m),[C,m]),T=a()("div",{style:b.overrideTitle},void 0,a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.permissionsOverride",defaultMessage:"Custom permissions",description:"A menu item for the user to click on and assign or see the custom role for a team member."}),_?a()(oe.Z,{subscriptionTier:"enterprise",analyticsName:"team_member_permission_override",desktopStyle:{marginLeft:8,marginRight:12}}):a()(ie.Z,{role:"owner"===o.type?"none":i.role,table:te.e0,type:"user"===o.entity_type?"user_permission":"group_permission",upgradeButtonName:"user"===o.entity_type?"user_permission_item":"group_permission_item",buttonStyle:{marginRight:0,fontSize:12,color:f.mediumTextColor,visibility:m?void 0:"hidden"},availableRoleItems:k,header:a()(x.Z,{isSmall:!0,isSecondaryColor:!0,style:{fontWeight:600,marginLeft:16,marginTop:8}},void 0,a()(w.FormattedMessage,{id:"teamMemberPermissionRoleSelect.permissionOverride.menuHeader",defaultMessage:"Select custom role",description:"Header text for the customize permission options popup."})),onChange:e=>{"none"!==e&&(!function(e){N.showDialog({message:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.permissionSwitcher.confirmation.message",defaultMessage:"Are you sure you want to change {name}'s role to {role}?",values:{name:r,role:(0,Z.r_)(e).toLowerCase()}}),description:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.permissionSwitcher.confirmation.description",defaultMessage:"This change won't apply to any restricted pages in the teamspace."}),showCancel:!0,keepFocus:!1,handleCancel:N.dismissDialog,items:[{label:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.permissionSwitcher.accept",defaultMessage:"Change access"}),color:"red",onAccept:async()=>{const{serverCommitResult:i}=U.createAndCommit({userAction:"TeamMemberPermissionRoleSelect.handleRoleSelect",environment:g,perform:i=>{O.jg({memberInfo:o,teamStore:t,transaction:i,environment:g,permissionRole:e})}});await i,t.isDefault()&&(t.getMembershipDefinedOnTeam().some((e=>(0,v.ah)(e,o)))||await O.Uj({environment:g,teamStore:t,teamMemberInfos:[o],isSettingDefaultTeam:!0,createNewTeamFlowId:void 0}))}}]})}(e),l&&l())},buttonPopupStore:y,placementToOrigin:Y.Iw.Right,alignmentToOrigin:Y.lU.End}));return a()(D.Z,{placement:D.Z.Placement.Left,textWrap:!0,renderTooltip:()=>a()(w.FormattedMessage,{id:"teamMemberPermissionRoleSelect.permissionOverride.buttonTooltip",defaultMessage:"Set a custom permission level for all pages in this teamspace",description:"Tooltip shown when hovering over the custom permissions button."}),render:e=>c.createElement(G.Z,n()({},e,{focused:!1,style:s,textWrapperStyle:{marginRight:0},disabled:_,onClick:()=>y.setState({open:!0}),title:T,icon:m?a()("div",{style:{marginTop:8}},void 0,V.Z.check({width:14})):void 0}))})}function re(e){let{teamStore:t,memberInfo:o,permissionItem:i,memberName:n,isPermissionOverridden:r,disabled:s}=e;window.__c={n:"TeamMemberOwnerSelect"};const l=(0,p.qz)(void 0,K.Z),[u,m]=(0,p.AF)(l),g=(0,d.O7)(),h=(0,p.VK)((()=>M.default.state.currentSpaceStore),[]),f=(0,p.VK)((()=>M.default.state.currentUserStore),[]),v=(0,p.VK)((()=>{const e=null==f?void 0:f.userId;return"user"===o.entity_type&&o.user_id===e}),[null==f?void 0:f.userId,o]),b=()=>m({...u,open:!1}),S=async e=>{b();const i=a()(w.FormattedMessage,"owner"===e?{defaultMessage:"owner",id:"teamMemberPermissionSettings.upgradeGuestConfirmation.roleLabelOwner",description:"Teamspace role that user is trying to upgrade a user to. Will be used in the confirmation message."}:{defaultMessage:"member",id:"teamMemberPermissionSettings.upgradeGuestConfirmation.roleLabelMember",description:"Teamspace role that user is trying to upgrade a user to. Will be used in the confirmation message."});if("team_level_guest"!==o.type||"owner"!==e&&"member"!==e)if("owner"===e){if("user"===o.entity_type){const{serverCommitResult:e}=U.createAndCommit({userAction:"TeamMemberOwnerSelect.handleOwnerMenuItemClicked",environment:g,perform:e=>{O.W8({environment:g,userId:o.user_id,teamStore:t,transaction:e})}});await e}}else v?N.showDialog({message:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.removeSelfTeamOwner.confirmation.message",defaultMessage:"Are you sure you want to remove yourself as a teamspace owner? You'll no longer be able to edit teamspace settings and permissions."}),showCancel:!0,keepFocus:!1,handleCancel:N.dismissDialog,items:[{label:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.permissionSwitcher.accept",defaultMessage:"Change access"}),color:"red",onAccept:k}]}):await k();else{const n=(0,j.Mf)(o.user_id).length;N.showDialog({message:c.createElement(c.Fragment,null,a()(w.FormattedMessage,n>1?{id:"teamMemberPermissionSettings.upgradeGuestConfirmationWithOtherTeamspaces.message",defaultMessage:"Are you sure you want to upgrade this user to a teamspace {memberOrOwner}? They will also be added to the workspace as a member, and they will become a member in {numberOfOtherTeams, plural, one {{numberOfOtherTeams} other teamspace} other {{numberOfOtherTeams} other teamspaces}}.",description:"Text confirming whether to upgrade a user from teamspace guest to teamspace member or owner. Includes a warning for user that their role in other teams will be changed as well.",values:{memberOrOwner:i,numberOfOtherTeams:n-1}}:{id:"teamMemberPermissionSettings.upgradeGuestConfirmation.message",defaultMessage:"Are you sure you want to upgrade this user to a teamspace {memberOrOwner}? They will also be added to the workspace as a member.",description:"Text confirming whether to upgrade a user from teamspace guest to teamspace member or owner.",values:{memberOrOwner:i}})),showCancel:!0,keepFocus:!1,handleCancel:N.dismissDialog,items:[{label:a()(w.FormattedMessage,{id:"teamMemberPermissionSettings.upgradeGuestConfirmation.accept",defaultMessage:"Add to workspace",description:"Label for button that, when clicked, converts a user from guest to member or owner"}),color:"blue",onAccept:async()=>{if(h){const{serverCommitResult:i}=U.createAndCommit({userAction:"TeamMemberOwnerSelect.handleOwnerMenuItemClicked",environment:g,perform:i=>{O.Ce({environment:g,userId:o.user_id,teamStore:t,transaction:i,spaceStore:h,newTeamRole:e})}});await i}}}]})}},k=async()=>{if("owner"===o.type&&"user"===o.entity_type){const{serverCommitResult:e}=U.createAndCommit({userAction:"TeamMemberOwnerSelect.handleSetMemberAccept",environment:g,perform:e=>{O.mX({userId:o.user_id,teamStore:t,transaction:e,environment:g})}});await e}else if("member"===o.type){const{serverCommitResult:e}=U.createAndCommit({userAction:"TeamMemberOwnerSelect.handleSetMemberAccept",environment:g,perform:e=>{O.X0({environment:g,memberInfo:o,teamStore:t,transaction:e})}});await e}},_=async()=>{const{entity_type:e}=o;switch(b(),e){case"group":const i=(0,C.TC)({spaceStore:h,groupId:o.group_id});if(!i)throw new Error("Permission group not found in space.");O.mN({environment:g,teamStore:t,group:i});break;case"user":await O.WO({environment:g,teamStore:t,currentSpaceStore:h,userId:o.user_id,from:"team_settings_member_table"});break;default:(0,y.t1)(e)}};return a()(X.Z,{buttonPopupStore:l,placementToOrigin:Y.Iw.Bottom,renderOrigin:e=>a()(se,{buttonPopupEvents:e,isPermissionOverridden:r,permissionItem:i,memberInfo:o,disabled:s}),render:()=>a()(ae,{teamStore:t,isPermissionOverridden:r,memberInfo:o,permissionItem:i,memberName:n,onMenuItemClicked:S,onRemoveClicked:_,onSubMenuItemClicked:b}),popupType:X.Z.PopupType.Popup})}function ae(e){let{teamStore:t,isPermissionOverridden:o,memberInfo:i,permissionItem:r,memberName:s,onRemoveClicked:d,onMenuItemClicked:m,onSubMenuItemClicked:g}=e;window.__c={n:"OwnerMemberMenuList"};const h=(0,p.VK)((()=>{const{currentSpaceStore:e}=M.default.state;return!Boolean(null==e?void 0:e.getSettingsStore().getKeyStore("disable_team_guests").getValue())&&(0,z.F$)()}),[]),f=(0,p.VK)((()=>t.isDefault()),[t]),v=(0,p.VK)((()=>(0,j.Hu)({membership:t.getKeyStore("membership").getValue()})),[t]),y=(0,p.VK)((()=>1===t.getMembers().filter((e=>"owner"===e.type)).length),[t]),S=(0,u.yK)((e=>{const t={paddingTop:5,paddingBottom:5},o={...t,width:280,alignItems:"flex-start"};return{actionMenu:{marginTop:-4},removeButton:{...t,color:e.errorText},menuItem:o,indentedMenuItem:{...o,paddingLeft:20},overrideLabel:{paddingLeft:10,color:e.mediumTextColor,fontSize:12,fontWeight:b.Z.fontWeight.regular}}}),[]),k=(e,t)=>{const i=("owner"===e||"team_level_guest"===e)&&"group"===t.entity_type,s="member"===e&&"owner"===t.type&&y,l="team_level_guest"===e&&("owner"===t.type||"member"===t.type),d=i||s||l;return{key:e,action:()=>m(e),render:p=>{const u=!o&&t.type===e;return a()(D.Z,{disableTooltip:!d,placement:D.Z.Placement.Right,textWrap:!0,renderTooltip:()=>i?a()(w.FormattedMessage,"owner"===e?{id:"TeamMemberOwnerSelect.memberItem.disableOwnerForGroupsTooltip",defaultMessage:"Groups can't be teamspace owners",description:"Tooltip shown when the option for upgrading someone to an owner is disabled because it is a group."}:{id:"TeamMemberOwnerSelect.memberItem.disableTeamGuestForGroupsTooltip",defaultMessage:"Groups can't be teamspace guests",description:"Tooltip shown when the option for changing someone to teamspace guest is disabled because it is a group."}):s?a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.memberItem.disableWithOnlyOneOwnerTooltip",defaultMessage:"Add another teamspace owner to downgrade yourself to member",description:"Tooltip shown when the option for downgrading someone to a member is disabled because there is only one owner."}):l?a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.memberItem.disableDowngradeToGuestTooltip",defaultMessage:"To change this user to a teamspace guest, first remove them from the workspace.",description:"Tooltip shown when the option for downgrading someone to a guest is disabled because they are a member or owner."}):void 0,render:t=>c.createElement("span",t,c.createElement(G.Z,n()({},p,{style:u?S.menuItem:S.indentedMenuItem,disabled:d,disabledFeedback:d,title:a()(le,{isPermissionOverridden:o,type:e,permissionItem:r}),caption:de(e),shouldWrapCaption:!0,icon:u?V.Z.check({width:14}):void 0})))})}}},C=f&&"user"===i.entity_type,_="group"!==i.entity_type,T="group"!==i.entity_type&&h,I=[{key:"teamRoles",items:l().compact([_?k("owner",i):void 0,k("member",i),T?k("team_level_guest",i):void 0,pe({onRemoveClicked:d,styles:S,isMemberInDefaultTeam:C}),..."owner"===i.type||v?[]:[{key:"divider",action:()=>{},render:()=>a()(q.Z,{size:10})},{key:"permissions_override",action:()=>{},render:e=>c.createElement("span",e,a()(ne,{teamStore:t,memberInfo:i,permissionItem:r,memberName:s,onMenuItemClicked:g,isPermissionOverridden:o,style:o?S.menuItem:S.indentedMenuItem}))}]]),render:e=>c.createElement(ee.Z,n()({},e,{topBorder:0!==e.index}))}];return a()($.Z,{className:H.a6i,menuType:W.og.Popup},void 0,a()(J.Z,{type:J.i.Vertical,initialFocus:void 0,sections:I}))}function se(e){let{buttonPopupEvents:t,disabled:o,isPermissionOverridden:i,permissionItem:r,memberInfo:s}=e;window.__c={n:"SelectButton"};const l=(0,u.yK)((e=>({label:{color:e.regularTextColor,fontSize:12.5,fontWeight:b.Z.fontWeight.regular},overrideLabel:{color:e.mediumTextColor,fontSize:12,fontWeight:b.Z.fontWeight.regular},chevron:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]),d=function(e,t,o){if(t&&o)return function(e){switch(e){case"none":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.none",defaultMessage:"No access"});case"reader":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.reader",defaultMessage:"Can view"});case"comment_only":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.comment_only",defaultMessage:"Can comment"});case"content_only_editor":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.content_only_editor",defaultMessage:"Can edit content"});case"membership_admin":case"read_and_write":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.read_and_write",defaultMessage:"Can edit"});case"editor":return a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.editor",defaultMessage:"Full access"});default:(0,y.t1)(e)}}(o);return ce(e)}(s.type,i,r.role);return c.createElement(Q.Z,n()({disabled:o},t),i&&a()("span",{style:l.overrideLabel},void 0,a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.roleName.custom",defaultMessage:"Custom",description:"Tells the user that this is a custom permission override."}),a()("span",{style:{marginLeft:5,marginRight:5}},void 0,"•")),a()("span",{style:l.label},void 0,d),!o&&V.Z.chevronDown(l.chevron))}function le(e){let{isPermissionOverridden:t,permissionItem:o,type:i}=e;window.__c={n:"MemberOwnerItemTitle"};const n=ce(i);return a()("div",{},void 0,a()("span",{},void 0,n))}function ce(e){switch(e){case"owner":case"member":case"team_level_guest":return c.createElement(w.FormattedMessage,j.q9[e].label);case"none":return;default:(0,y.t1)(e)}}function de(e){switch(e){case"owner":case"member":case"team_level_guest":return c.createElement(w.FormattedMessage,j.q9[e].caption);case"none":return;default:(0,y.t1)(e)}}function pe(e){let{styles:t,onRemoveClicked:o,isMemberInDefaultTeam:i}=e;const r=i?a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.remove.disabledTooltip.cannotRemoveFromDefault",defaultMessage:"Members cannot be removed from a default teamspace.",description:'Tooltip shown when hovering over the disabled "Remove" button, shown to indicate that members cannot be removed since the group is default .'}):void 0;return{key:"remove",action:o,render:e=>a()(D.Z,{disableTooltip:!r,placement:D.Z.Placement.Right,textWrap:!1,renderTooltip:()=>r,render:o=>c.createElement("span",o,c.createElement(G.Z,n()({},e,{style:{...t.removeButton,...t.indentedMenuItem},disabled:Boolean(r),disabledFeedback:!0,title:a()(w.FormattedMessage,{id:"TeamMemberOwnerSelect.remove",defaultMessage:"Remove"})})))})}}var ue=o(75584);function me(e){window.__c={n:"SpecificTeamMemberPermissionRow"};const{type:t,store:o,permissionItem:i,memberInfo:n}=e,r=(0,p.VK)((()=>M.default.state.currentSpaceStore),[]),s=(0,w.useIntl)(),l=(0,p.VK)((()=>{switch(t){case"group":return"none";case"user":return null!=r&&r.isDefined()?(0,Z.su)({permissions:null==r?void 0:r.getPermissionItems()},e.memberInfo.user_id):"none";default:(0,y.t1)(t)}}),[r,t,e]),c=(0,_.ql)(o),m=(0,p.VK)((()=>{const{currentSpaceStore:e}=M.default.state;return null==e?void 0:e.canEditMembership()}),[]),g=(0,d.O7)(),f=(0,p.VK)((()=>{const e=g.currentUser.id,t=o.getSettingsStore().getValue();return!!(null!=r&&r.isDefined()&&o.isDefined()&&t&&e)&&(0,v.W9)({membership:o.getMembers(),settings:t,is_default:o.isDefault()},e,{permissions:r.getPermissionItems(),subscription_tier:r.getSubscriptionTier(),permission_groups:r.getPermissionGroups()})}),[g.currentUser.id,r,o]),b=(0,p.VK)((()=>{const e=o.getPermissionItems()||[];switch(n.entity_type){case"group":return!!e.find((e=>(0,h.hV)(e)&&e.group_id===n.group_id));case"user":return!!e.find((e=>(0,h.jg)(e)&&e.user_id===n.user_id));default:return!1}}),[n,o]),{name:k,label:C,icon:T}=(0,p.VK)((()=>{switch(t){case"group":return he({permissionGroup:e.permissionGroup,spaceId:null==r?void 0:r.id});case"user":return function(e){let{intl:t,userStore:o}=e;return{name:(0,S.Nz)(t,null==o?void 0:o.getModel()),label:null==o?void 0:o.getEmail(),icon:a()(F.Z,{avatarShouldShowShadow:!0,userStore:o,size:32})}}({intl:s,userStore:e.userStore});default:(0,y.t1)(t)}}),[t,e,s,null==r?void 0:r.id]),I=a()("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},void 0,a()(re,{teamStore:o,memberInfo:n,memberName:k,permissionItem:i,isPermissionOverridden:b,disabled:!c&&!f||"team_level_guest"===n.type&&!m})),P=(0,u.yK)((e=>({row:{minHeight:52},pill:{marginLeft:6,height:17}})),[]);return a()(ue.p,{style:P.row,tag:(0,h.Bc)(l)?a()(E.Z,{desktopStyle:P.pill,mobileStyle:P.pill,role:ge(l)}):"group"===t?a()("div",{style:P.pill},void 0,T):void 0,permissionRoleSelectComponent:I,iconComponent:"group"===t?a()(R.Z,{size:32}):T,name:k,label:C})}function ge(e){switch(e){case"editor":return"admin";case"membership_admin":return"membership_admin";default:(0,y.t1)(e)}}function he(e){let{spaceId:t,permissionGroup:o}=e;const{name:i,user_ids:n,icon:r}=o,s=(null==n?void 0:n.length)??0;return{name:i??a()(w.FormattedMessage,{id:"teamPermissionSettings.unknownGroup",defaultMessage:"Unknown Group",description:"Shown in team members list in team settings when group name is not available."}),label:a()(D.Z,{placement:D.Z.Placement.Bottom,alignment:D.Z.Alignment.Start,disableTooltip:0===s,renderTooltip:()=>a()(L.Y,{group:o,limit:10,noMembersMessage:void 0}),render:e=>c.createElement("div",e,a()(w.FormattedMessage,{id:"teamPermissionSettings.group",defaultMessage:"Group",description:"Indicates a group of members"})," • ",a()(w.FormattedMessage,{id:"teamPermissionSettings.numberOfMembers",defaultMessage:"{groupSize, plural, one {{groupSize} member} other {{groupSize} members}}",description:"Shown in team members list in team settings underneath group name.",values:{groupSize:s}}))}),icon:r&&a()(A.Z,{bucket:"public",disabled:!0,onChange:()=>{},isEmptyPage:!1,title:i,size:18,icon:r&&t?{icon:r,pointer:{table:B.bx,id:t}}:void 0})}}var fe=o(64964),ve=o(21325),ye=o(48426);function be(e){let{teamStore:t,...o}=e;const i=(0,d.O7)(),n=(0,p.VK)((()=>{var e;return null===(e=M.default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),r=(0,w.useIntl)(),s=(0,u.yK)((()=>({container:{display:"flex",flexDirection:"row",lineHeight:1.2,fontSize:14,width:"100%",minHeight:52,justifyContent:"space-between",alignItems:"center"},pill:{marginLeft:6,height:17}})),[]),l=(0,c.useCallback)((e=>{fe.oV({label:a()(w.FormattedMessage,{id:"SpecificTeamMemberToAddRow.team_invite_failure",defaultMessage:"Failed to add {userOrGroupName}",description:"Client side message shown when the team invite fails on the server side.",values:{userOrGroupName:e}})})}),[]),m=(0,c.useCallback)((async(e,o)=>{await O.Uj({environment:i,teamMemberInfos:[e],teamStore:t,isSettingDefaultTeam:!1,createNewTeamFlowId:void 0})?await ve.bi(i):l(o)}),[i,l,t]),g=(0,c.useCallback)(((e,t)=>m({type:"member",entity_type:"user",user_id:e.id},t)),[m]),h=(0,c.useCallback)(((e,t)=>m({type:"member",entity_type:"group",group_id:e.id},t)),[m]);if("memberToAdd"in o){const{memberToAdd:e}=o,t=(0,S.Nz)(r,e);return a()("div",{style:s.container},void 0,a()(ye.p,{icon:a()(F.Z,{userValue:e,size:32}),name:t,label:e.email}),Se((()=>{g(e,t)})))}{if(!n)return c.createElement(c.Fragment,null);const{groupToAdd:e}=o,t=he({spaceId:n,permissionGroup:e});return a()("div",{style:s.container},void 0,a()(ye.p,{icon:a()(R.Z,{size:32}),name:t.name,label:t.label,tag:a()("div",{style:s.pill},void 0,t.icon)}),Se((()=>{h(e,t.name)})))}}const Se=e=>a()(Q.Z,{isBlue:!0,onClick:e,icon:V.Z.plus},void 0,a()(w.FormattedMessage,{id:"SpecificTeamMemberToAddRow.addMemberButton.text",description:"Button to add a member or a group to the team.",defaultMessage:"Add"}));function we(e){let{sortType:t,onChangeSortType:o}=e;const i=(0,u.yK)((e=>({container:{width:"100%",display:"flex",justifyContent:"space-between",borderBottom:`1px solid ${e.regularDividerColor}`}})),[]),n=e=>e===t.column?t.sortedAscending?"ascending":"descending":"none",r=e=>{const i=e===t.column&&!t.sortedAscending;o({column:e,sortedAscending:i})};return c.createElement(c.Fragment,null,a()("div",{style:i.container},void 0,a()(ke,{title:a()(w.FormattedMessage,{id:"TeamPermissionsListHeader.nameColumn",defaultMessage:"Name"}),sortedType:n("name"),onClick:()=>r("name")}),a()(ke,{title:a()(w.FormattedMessage,{id:"TeamPermissionsListHeader.roleColumn",defaultMessage:"Role"}),sortedType:n("role"),onClick:()=>r("role")})))}function ke(e){let{sortedType:t,title:o,onClick:i}=e;window.__c={n:"HeaderLabel"};const n=(0,u.yK)((e=>({button:{color:e.mediumTextColor,fontSize:12,padding:0},buttonHover:{background:"unset"},sortIcon:{width:14,height:14,marginRight:5,fill:e.mediumIconColor}})),[]);return a()(Q.Z,{style:n.button,hoveredStyle:n.buttonHover,onClick:i},void 0,"ascending"===t&&V.Z.arrowUp(n.sortIcon),"descending"===t&&V.Z.arrowDown(n.sortIcon),o)}function Ce(e){var t;let{store:o}=e;window.__c={n:"TeamPermissionsList"};const i=(0,d.O7)(),r=(0,u.yK)((e=>({container:{display:"block",overflow:"hidden"},membersHeader:{marginBottom:8},noResult:{fontSize:b.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor,marginTop:8},showMore:{marginBottom:24,width:"max-content"}})),[]),s=(0,w.useIntl)(),[l,h]=(0,c.useState)({column:"role",sortedAscending:!1}),[f]=(0,p.AF)(I.Z),v=(0,_.ef)(o),C=(0,p.VK)((()=>o.getMembers()),[o]),T=(0,p.VK)((()=>M.default.state.currentSpaceStore),[]),x=(0,p.VK)((()=>M.default.state.currentUserStore),[]),{permissionRowInfos:B,numNotShown:Z}=(0,p.VK)((()=>{const e=function(e){let{permissionRowInfos:t,memberFilterQuery:o,intl:i}=e;if(""===o)return t;return(0,m.ZP)(o,t,(e=>{const{type:t}=e;switch(t){case"group":return e.permissionGroup.name??"";case"user":const{userStore:o}=e,n=o.getFullName(i),r=o.getEmail();return n&&r?(0,S.of)({name:n,email:r}):"";default:(0,y.t1)(t)}}))}({permissionRowInfos:Me({currentUserStore:x,currentSpaceStore:T,teamStore:o,members:C}),memberFilterQuery:f.memberFilterQuery,intl:s}),t=function(e){let{permissionRowInfos:t,sortType:o,intl:i}=e;const{column:n,sortedAscending:r}=o,a={permissionRowInfos:t,sortedAscending:r};if("role"===n)return function(e){let{permissionRowInfos:t,sortedAscending:o}=e;const i=["owner","member","team_level_guest"],n=["group","user"];return[...t].sort(((e,t)=>{const o=e.memberInfo.entity_type,i=t.memberInfo.entity_type;return n.indexOf(o)-n.indexOf(i)})).sort(((e,t)=>{const n=e.memberInfo.type,r=t.memberInfo.type,a=i.indexOf(n)-i.indexOf(r);return o?-a:a}))}(a);if("name"===n)return function(e){let{permissionRowInfos:t,sortedAscending:o,intl:i}=e;return[...t].sort(((e,t)=>{const n=Te(e,i)??"",r=Te(t,i)??"";if(n===r)return 0;const a=n<r?-1:1;return o?-a:a}))}({...a,intl:i});(0,y.t1)(n)}({permissionRowInfos:e,sortType:l,intl:s}),i=f.limitMembers?t.slice(0,50):t;return{permissionRowInfos:i,numNotShown:e.length-i.length}}),[T,x,C,o,l,f.memberFilterQuery,f.limitMembers,s]),[E]=(0,g.r5)((async()=>{var e;if(!v||null===(e=f.memberFilterQuery)||void 0===e||!e.trim().length)return[];const t=(await k.Yu({environment:i,query:f.memberFilterQuery,membersOnly:!0})).map((e=>({type:"user",value:e}))),o=k.$w({query:f.memberFilterQuery,intl:s}).map((e=>({type:"group",value:e}))),n=new Set(B.map(Pe));return[...t,...o].filter((e=>!n.has(e.value.id))).slice(0,5)}),[v,f.memberFilterQuery,i,s,B]),R=Boolean(null===(t=f.memberFilterQuery)||void 0===t?void 0:t.trim().length),A=B.length>0,D="resolved"===E.status?E.value:[];return a()("div",{style:r.container},void 0,a()(Ie,{title:R?a()(w.FormattedMessage,{id:"TeamPermissionsList.search.inThisTeam",defaultMessage:"In this team",description:"Label for a list of users who are currently in the team"}):a()(we,{sortType:l,onChangeSortType:h}),rows:B,renderRow:e=>c.createElement(me,n()({store:o},e))}),Z>0&&a()(P.Z,{style:r.showMore,onClick:()=>{I.Z.setState({...f,limitMembers:!1})}},void 0,a()(w.FormattedMessage,{defaultMessage:"Show {numNotShown} more",id:"teamPermissionSettings.member.showMore",description:"Show more button when not all members can be shown at once. Clicking on it will show remaining members in the team.",values:{numNotShown:Z}})),D.length>0&&a()(Ie,{title:a()(w.FormattedMessage,{id:"TeamPermissionsList.search.notInTeam",defaultMessage:"Not in team",description:"Label for a list of users who are currently not in the team"}),rows:D,renderRow:e=>"user"===e.type?a()(be,{teamStore:o,memberToAdd:e.value}):a()(be,{teamStore:o,groupToAdd:e.value})}),!A&&0===D.length&&a()("div",{style:r.noResult},void 0,a()(w.FormattedMessage,{id:"TeamPermissionsList.search.zeroState",defaultMessage:"No members or groups found",description:"Label when no members or groups are found matching the search query"})))}function _e(e){let{teamStore:t,member:o}=e;const i=t.getPermissionItems();if(!i)return"none";const n=function(e){let{permissions:t,member:o}=e;const i=null==t?void 0:t.find((e=>(0,h.hV)(e)&&"group"===o.entity_type&&e.group_id===o.group_id||(0,h.jg)(e)&&"user"===o.entity_type&&o.user_id===e.user_id));return null==i?void 0:i.role}({permissions:i,member:o});return n||(0,v.xC)({id:t.id,permissions:t.getPermissionItems()})}function Me(e){let{currentUserStore:t,currentSpaceStore:o,teamStore:i,members:n}=e;return l().compact(n.map((e=>{const{entity_type:n}=e;return"user"===n?function(e){let{currentUserStore:t,teamStore:o,member:i}=e;if(!t)return;const n=_e({teamStore:o,member:i}),r=T.U6.createChildStore(t,{table:f.KJ,id:i.user_id});return{type:"user",memberInfo:i,permissionItem:{type:"user_permission",user_id:i.user_id,role:n},userStore:r}}({currentUserStore:t,teamStore:i,member:e}):"group"===n?function(e){let{currentSpaceStore:t,teamStore:o,member:i}=e;const n=(0,C.TC)({spaceStore:t,groupId:i.group_id});if(!n)return;const r=_e({teamStore:o,member:i});return{type:"group",memberInfo:i,permissionItem:{type:"group_permission",group_id:n.id,role:r},permissionGroup:n}}({currentSpaceStore:o,teamStore:i,member:e}):void(0,y.t1)(n)})))}function Te(e,t){const{type:o}=e;if("user"===o){const{userStore:o}=e;return o.getDisplayName(t)}if("group"===o){const{permissionGroup:t}=e;return t.name}(0,y.t1)(o)}function Ie(e){let{rows:t,renderRow:o,title:i}=e;const n=(0,u.yK)((e=>({membersList:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",width:"100%",marginBottom:12},memberDivider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[]);return t.length?c.createElement(c.Fragment,null,i&&a()(x.Z,{isSmall:!0},void 0,i),a()("div",{style:n.membersList},void 0,t.map(((e,t)=>c.createElement(c.Fragment,null,t>0&&a()("div",{style:n.memberDivider}),o(e)))))):null}function Pe(e){switch(e.type){case"user":return e.memberInfo.user_id;case"group":return e.memberInfo.group_id;default:(0,y.t1)(e)}}},13380:(e,t,o)=>{o.d(t,{s:()=>u});var i=o(77094),n=o.n(i),r=o(97464),a=o.n(r),s=o(67294),l=o(480),c=o(24405),d=o(82990);var p=o(58032);function u(e){let{children:t,style:o}=e;window.__c={n:"TextOverflowWithTooltip"};const{isSafari:i}=(0,l.Fy)(),r=(0,s.useRef)(null),u=function(e){const[t,o]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const i="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;o(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==i||i.observe(t),()=>null==i?void 0:i.unobserve(t)}),[]),t}(r),m=(0,c.yK)((()=>({overflowText:{...d.Z.textOverflowStyle,...o}})),[o]);return n()(p.Z,{delayThreshold:500,placement:p.Z.Placement.Bottom,forceVisibleState:!(i||!u)&&void 0,renderTooltip:()=>u?t:void 0,render:e=>s.createElement("div",a()({ref:r,style:m.overflowText},e),t)})}},71424:(e,t,o)=>{o.d(t,{G5:()=>i,EZ:()=>n,FD:()=>r,rK:()=>a});const i=220,n=24,r=-7,a=-3},11028:(e,t,o)=>{o.d(t,{z:()=>g});var i=o(77094),n=o.n(i),r=o(67294),a=o(24405),s=o(3779),l=o(5366),c=o(97880),d=o(82990),p=o(70693),u=o(4308),m=o(49616);function g(e){window.__c={n:"VerificationPropertyLabel"};const{verificationValue:t,fontSize:o,showLabelIfEmpty:i}=e,g=(0,l.useIntl)(),h=(0,r.useMemo)((()=>u.WN(t)),[t]),f=h.type,v=(0,a.yK)((e=>({icon:{width:"expired"===f?8:14,height:"expired"===f?9:14,fill:"verified"===f?e.blueColor:e.mediumIconColor},caption:{fontVariantNumeric:"normal",fontWeight:d.Z.fontWeight.regular,color:e.regularTextColor,textTransform:"none",letterSpacing:0,marginLeft:6,marginRight:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"large"===o?m.Kt:12},emptyTextCaption:{color:e.lightTextColor,marginLeft:2,marginRight:2},expiredIconContainer:{width:14,height:14,borderRadius:6,border:"1px dashed",borderColor:e.mediumIconColor,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0}})),[f,o]);let y=null,b=null,S=v.caption;switch(f){case"verified":y=s.Z.typesVerification({...v.icon}),b=h.isIndefinite?n()(l.FormattedMessage,{defaultMessage:"Verified",id:"VerificationPropertyButton.verifiedIndefinitely",description:"Label for button indicating that a page is verifed for an indefinite amount of time."}):n()(l.FormattedMessage,{defaultMessage:"Until {date}",id:"VerificationPropertyButton.verifiedUntil",description:"Label for button indicating that a page is verifed until the specified date.",values:{date:p.mb({dateTime:h.dateTimeRange.end,intl:g})}});break;case"expired":y=n()("div",{style:v.expiredIconContainer},void 0,s.Z.verificationCheck({...v.icon})),b=n()(l.FormattedMessage,{defaultMessage:"Expired {timeFromMoment}",id:"VerificationPropertyButton.expired",description:"Label indicating that verification for a page expired some specified amount of time ago.",values:{timeFromMoment:u.kY(h.dateTimeRange.end)}});break;case"none":i&&(b=n()(l.FormattedMessage,{defaultMessage:"Empty",id:"VerificationPropertyButton.empty",description:"Label for when the verification property is empty (the page is not verified)."}),S={...v.caption,...v.emptyTextCaption});break;default:(0,c.t1)(f)}return n()("div",{style:{display:"flex",alignItems:"center",width:"100%"}},void 0,y,n()("div",{style:S},void 0,b))}},95477:(e,t,o)=>{let i;o.d(t,{Z:()=>n}),i="undefined"!=typeof window&&window.CONFIG?window.CONFIG:{};const n=i},66890:(e,t,o)=>{o.d(t,{xm:()=>l,L1:()=>c,Y$:()=>d,DK:()=>p});var i=o(67294),n=o(67381);const r="collectionContextStore",a=(0,n.Q)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),s=a.context,l=a.legacyPropTypes,c=a.Provider;function d(){const e=i.useContext(s);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function p(){return i.useContext(s)}},26198:(e,t,o)=>{o.d(t,{uf:()=>r,Lr:()=>a,jo:()=>l});var i=o(67294),n=o(67381);const r={track(e,t){t(!0)},untrack(e){}},a=(0,n.Q)({modernContextDefaultValue:r,displayName:"IFrameManagerContext",legacyContextKey:"iFrameManagerContext"}),s=(a.legacyPropTypes,a.context);function l(){const e=(0,i.useContext)(s),[t,o]=(0,i.useState)(!1),n=(0,i.useRef)(null);return[(0,i.useCallback)((t=>{n.current&&(e.untrack(n.current),n.current=null),t&&(n.current=t,e.track(t,o))}),[e]),t]}},66213:(e,t,o)=>{o.d(t,{LF:()=>n,wK:()=>r,ZO:()=>a});const i=(0,o(67381).Q)({modernContextDefaultValue:void 0,displayName:"OverrideLinkClickContext",legacyContextKey:"overrideLinkClick"}),n=i.Provider,r=i.legacyPropTypes,a=i.context},11368:(e,t,o)=>{o.d(t,{zR:()=>n,I3:()=>r,Ue:()=>a});const i=(0,o(67381).Q)({displayName:"ScrollerContext",legacyContextKey:"scrollerContext",modernContextDefaultValue:void 0}),n=i.Provider,r=i.legacyPropTypes,a=i.context},84064:(e,t,o)=>{o.d(t,{aT:()=>a,Tf:()=>s,ld:()=>l});const i={selectableContainer:void 0,closestSelectable:void 0},n="selectable",r=(0,o(67381).Q)({modernContextDefaultValue:i,displayName:n,legacyContextKey:n}),a=r.context,s=r.legacyPropTypes,l=r.Provider},58026:(e,t,o)=>{o.d(t,{a:()=>m,Z:()=>v});var i=o(67231),n=o(96486),r=o.n(n),a=o(16691),s=o(45953),l=o(68626),c=o(21202),d=o(97880),p=o(66504),u=o(21830);async function m(){try{await(0,i.Lj)("LocalRecordStore3")}catch(e){}}const g="Entry",h="Entry2",f=[100,1e3,1e4];const v=class{constructor(e,t,o){this.maxSize=void 0,this.debug=!1,this.inMemoryCache=new p.o(void 0),this.inMemoryRecordsToDelete=new Set,this.recordToMaybeStale=new Map,this.debouncedFlushToDisk=r().debounce((()=>this.flushInMemoryCacheToDisk()),200,{maxWait:2e3}),this.db=void 0,this.upgraded=void 0,this.previousDbVersion=void 0,this.deleteToSizeInTransaction=(0,u.zp)((async(e,t)=>{const o=e.objectStore(g),i=await o.count();if(this.log("deleteToSizeTransaction",`target size ${t}, current size ${i}`),i<=t)return i;const n=i-t;return i-await this.deleteOldestInTransaction(e,n)})),this.deleteOldestInTransaction=(0,u.zp)((async(e,t)=>{const o=e.objectStore(g);let i=0,n=await o.index("byTimestamp").openCursor();for(;n&&i<t;)n.delete(),i++,n=await n.continue();return i})),this.batchedDeleteInTransaction=(0,u.zp)((async(e,t)=>{const o=e.objectStore(g);t.forEach((0,u.zp)((async e=>{const t=await o.openCursor(e);return!!t&&(t.delete(),!0)})))})),this.batchedSetInTransaction=(0,u.zp)((async(e,t)=>{const o=e.objectStore(g),i=await(0,u.qv)(t.map((0,u.zp)((async e=>{const t=await o.openCursor(e.id);return!!t&&(this.recordToMaybeStale.get(e)&&t.value.value.value&&e.value.value&&e.value.value.version<=t.value.value.value.version?(this.recordToMaybeStale.delete(e),!0):(t.update(e),!0))})))),n=t.filter(((e,t)=>!1===i[t])).length;if(0===n)return this.log("batchedSet","only writing updates to records"),"ok";const r=Math.max(this.maxSize-n,0),a=await this.deleteToSizeInTransaction(e,r),s=n-(this.maxSize-a);let l=!1;return t.forEach(((e,t)=>{i[t]||(t<s?l=!0:(o.put(e),this.recordToMaybeStale.has(e)&&this.recordToMaybeStale.delete(e)))})),l?"full":"ok"})),this.maxSize=o,this.upgraded=!1,this.previousDbVersion=0,this.db=new u.pz(e,t,5,{upgrade:(e,t,o,i)=>{this.upgraded=!0,this.previousDbVersion=t;const n=()=>{const t=e.createObjectStore(g,{keyPath:d.MN("id")});return t.createIndex("byTimestamp",d.MN("timestamp")),t.createIndex("byParentTableAndId",[[d.MN("value"),d.MN("value"),d.MN("parent_table")].join("."),[d.MN("value"),d.MN("value"),d.MN("parent_id")].join(".")]),t};if(t<1&&n(),t<4){const t=e.createObjectStore(h,{keyPath:[d.MN("table"),d.MN("id"),d.MN("userId")]});t.createIndex("byTimestamp",d.MN("timestamp")),t.createIndex("byParentTableAndId",[[d.MN("value"),d.MN("value"),d.MN("parent_table")].join("."),[d.MN("value"),d.MN("value"),d.MN("parent_id")].join(".")]),t.createIndex("byUserId",d.MN("userId"))}if(t<5){(()=>Array.from(i.objectStoreNames).includes(g)?i.objectStore(g):n())().createIndex("byUserId",d.MN("userId"))}}})}async initialize(e){const t=this.getUserId(e);await this.db.startTransaction({storeNames:[g,h],mode:"readwrite",name:"IndexedDBRecordCache.initialize",timeoutMs:void 0},(async e=>{const o=this.previousDbVersion;if(this.upgraded&&o<5){const o=e.objectStore(g),i=e.objectStore(h);let n=await o.openCursor();for(;n;){const e=n.value;if(e.id.split(":").length>2){n=await n.continue();continue}const i=(0,a.jl)({combinedId:e.id}),r=this.getEntryKey({pointer:i,userId:t});await n.delete(),await o.put({...e,id:r,userId:t}),n=await n.continue()}let r=await i.openCursor();for(;r;){const e=r.value,t=this.getEntryKey({pointer:s.dr.fromPointerLike({table:e.table,id:e.id}),userId:e.userId});o.put({...e,id:t,userId:e.userId}),await r.delete(),r=await r.continue()}}return{value:void 0}}))}set(e,t,o,i,n){const r=this.getUserId(i),a={id:this.getEntryKey({pointer:e,userId:r}),table:e.table,userId:r,value:t,timestamp:Date.now()};this.setInMemory({userId:r,pointer:e,record:a,maybeStaleRecord:n}),this.inMemoryRecordsToDelete.delete(e.id),this.debouncedFlushToDisk()}async get(e,t){if(this.inMemoryRecordsToDelete.has(e.id))return;t=this.getUserId(t);const o=this.getInMemory({userId:t,pointer:e})||await this.getEntryFromDisk(e,t);return o?(this.setInMemory({userId:t,pointer:e,record:{...o,timestamp:Date.now()}}),this.debouncedFlushToDisk(),o.value):void 0}deleteRecord(e,t){this.inMemoryRecordsToDelete.add(e.id),t=this.getUserId(t),this.deleteFromMemory({pointer:e,userId:t})}async getBlocksWithParent(e){const{parent:t}=e,o=this.getUserId(e.userId),i=await this.db.startTransaction({storeNames:[g],mode:"readonly",name:"IndexedDBRecordCache.getBlocksWithParent",timeoutMs:void 0},(async e=>{const i=[],n=e.objectStore(g);let r=await n.index("byParentTableAndId").openCursor([t.table,t.id]);for(;r;){const{pointer:e}=this.getEntryKeyParts(r.value.id);if(e.table===c.iU){const n=(this.getInMemory({userId:o,pointer:e})||r.value).value;n.value&&n.value.parent_id===t.id&&n.value.parent_table===t.table&&i.push(n)}r=await r.continue()}return{value:i}})),n=l.x.unwrap(i);for(const r of n)r.value&&this.set(s.dr.fromPointerLike({table:c.iU,id:r.value.id}),r,void 0,o);return this.log("getRecordsWithParent",{parent:t,found:n.length}),n}getPageBlocksByParent(e){return Promise.resolve([])}async reset(){await this.db.reset()}log(e,t){this.debug&&console.log(e,t)}async getEntryFromDisk(e,t){const o=await this.db.startTransaction({storeNames:[g],mode:"readonly",name:"IndexedDBRecordCache.getEntryFromDisk",timeoutMs:void 0},(async o=>({value:await o.objectStore(g).get(this.getEntryKey({pointer:e,userId:t}))})));return l.x.unwrap(o)}async deleteOldest(e){return l.x.unwrap(await this.db.startTransaction({storeNames:[g],mode:"readwrite",name:"IndexedDBRecordCache.deleteOldest",timeoutMs:void 0},(async t=>({value:await this.deleteOldestInTransaction(t,e)}))))}async flushInMemoryCacheToDisk(){const e=[];for(const i of this.inMemoryCache)i.value&&e.push(i.value);const t=Array.from(this.inMemoryRecordsToDelete);this.inMemoryCache=new p.o(void 0),this.inMemoryRecordsToDelete=new Set;const o=Date.now();for(let i=0;i<=f.length;i++){const n=await this.db.startTransaction({storeNames:[g],mode:"readwrite",name:"IndexedDBRecordCache.flushInMemoryCacheToDisk",timeoutMs:void 0},(async o=>{0===i&&await this.batchedDeleteInTransaction(o,t);return{value:await this.batchedSetInTransaction(o,e)}}));if(!(n.error&&"QuotaFull"===n.error.type&&i<f.length))return this.log("flushInMemoryCacheToDisk",`took ${Date.now()-o}ms to write ${e.length} entries`),l.x.unwrap(n);await this.deleteOldest(f[i])}throw new Error("IndexedDBRecordCache: All attempts to write failed.")}getEntryKey(e){const{pointer:t,userId:o}=e;return[t.id,t.table,o].join(":")}getEntryKeyParts(e){const[t,o,i]=e.split(":");return{pointer:s.dr.fromPointerLike({id:t,table:o}),userId:i}}getUserId(e){return e||p.I}setInMemory(e){const{userId:t,pointer:o,record:i,maybeStaleRecord:n}=e;this.inMemoryCache.set({pointer:o,userId:t},i),n&&!this.recordToMaybeStale.has(i)?this.recordToMaybeStale.set(i,n):!n&&this.recordToMaybeStale.has(i)&&this.recordToMaybeStale.delete(i)}getInMemory(e){const{userId:t,pointer:o}=e;return this.inMemoryCache.get({userId:t,pointer:o})}deleteFromMemory(e){const{userId:t,pointer:o}=e;return this.inMemoryCache.delete({pointer:o,userId:t})}}},21830:(e,t,o)=>{o.d(t,{vZ:()=>u,zp:()=>g,qv:()=>h,pz:()=>f,XH:()=>b});var i=o(67231),n=o(88108),r=o(7406),a=o(65917),s=o(2911),l=o(29477),c=o(63143),d=o(5366),p=o(33929);const u="NotionTransactionTimeout",m=(0,d.defineMessages)({ReloadAllTabs:{defaultMessage:"Try closing and re-opening all Notion tabs or windows. Contact support if that doesn’t fix the issue.",id:"localDatabase.errorFixes.reloadAllTabs"},ReloadThisTab:{defaultMessage:"Try reloading Notion. Contact support if that doesn’t fix the issue.",id:"localDatabase.errorFixes.reloadThisTab"},AppProfileCorrupted:{defaultMessage:"Notion's local storage may be damaged. See (?) > Help & documentation > Reset Notion. Contact support if that doesn’t fix the issue.",id:"localDatabase.errorFixes.helpAndSupportPrompt",description:"Local storage refers to the available data storage space on the user's computer."},FirefoxProfileCorrupted:{defaultMessage:"Your Firefox profile may be damaged. Visit https://firefox-storage-test.glitch.me/ to diagnose. Contact support if that doesn’t fix the issue.",id:"localDatabase.errorFixes.firefoxSettingsDamaged",description:"A Firefox profile is a user's logged in profile on the Firefox browser."},ChromeProfileCorrupted:{defaultMessage:"Your Chrome profile may be damaged. If you changed any chrome://flags then please reset them, then restart your browser. If issues persist, try making a new Chrome user. Contact support if that doesn’t fix the issue.",id:"localDatabase.errorFixes.chromeSettingsDamaged",description:"A Chrome profile is a user's logged in profile on the Chrome browser."},ChromeIndexedDBBucketError:{defaultMessage:"Your Chrome profile may be damaged. For a more consistent experience download the Notion desktop app: https://notion.so/desktop",id:"localDatabase.errorFixes.chromeUpgradeCorruptedSettings",description:"A Chrome profile is a user's logged in profile on the Chrome browser."},noDiskSpace:{defaultMessage:"No disk space remaining. Contact support if that doesn’t fix the issue.",id:"localDatabase.erroMessages.noDiskSpaceRemaining",description:"Disk space refers to the amount of data storage space on the user's computer."},noDiskSpaceBrowserLimit:{defaultMessage:"No disk space remaining. Your browser settings may restrict the storage Notion can use. Contact support if that doesn’t fix the issue.",id:"localDatabase.erroMessages.noDiskSpaceRemainingBrowserLimit",description:"Disk space refers to the amount of data storage space on the user's computer."}});function g(e){return e}function h(e){return Promise.all(e)}class f{constructor(e,t,o,i){this.databaseName=void 0,this.databaseVersion=void 0,this.debugLogger=new a.BatchedLogger({from:"IndexedDBWrapper",type:"BulkDebug",level:"info",maxLength:100,logToConsole:false}),this.latestTransactionId=0,this.openDbCallbacks=void 0,this.db=void 0,this.getDBPromise=void 0,this.environment=e,this.databaseName=t,this.databaseVersion=o,this.openDbCallbacks=i}async reset(){try{return await(0,i.Lj)(this.databaseName),{value:void 0}}catch(e){return{error:v({environment:this.environment,error:(0,r.tg)(e),details:`Failed to reset database ${this.databaseName}`,closed:!1,aborted:!1})}}finally{this.teardown()}}async startTransaction(e,t){const o="startTransaction";let i,n=0;const r=`${e.name}.${this.latestTransactionId++}`;do{try{const s=`${r} attempt #${n+1}`;if(this.debugLogInfo(o,`${s} starting`),i=await this.startTransactionAttempt({...e,name:r},t),!i.error){this.debugLogInfo(o,`${s} succeeded`);break}const c=`${s} errored, type=${i.error.type}`;if(!i.error.closed){this.debugLogInfo(o,`${c}, closed=false`);break}if(this.debugLogInfo(o,`${c}, closed=true`),this.db)try{this.db.close()}catch(a){this.debugLogInfo(o,`db.close() threw ${a}`)}if(this.teardown(),4===n)break;await l.Vs(250)}catch(a){return{error:a}}n++}while(n<5);return i}async startTransactionAttempt(e,t){const{storeNames:o,name:i,mode:n,timeoutMs:l}=e,c=`${i} failed`,d="startTransactionAttempt",p=await this.getDB();if(p.error)return p;const u=p.value,m=[];let g;try{g=u.transaction(o,n);const e=Date.now(),t=window.setTimeout((()=>{const t=Date.now()-e,o=`${i} has not completed after ${t} ms, which may prevent other transactions from running.`;this.debugLogInfo(d,o),a.log({from:"IndexedDBWrapper",type:"LongRunningTransactionWarning",level:"warning",data:{message:o,miscDataToConvertToString:{transactionLog:m}}})}),f.longRunningTimeoutMs);g.addEventListener("complete",(function(){window.clearTimeout(t)}));const r=e=>{e.stopPropagation(),window.clearTimeout(t)};g.addEventListener("error",r),g.addEventListener("abort",r)}catch(y){const e=(0,r.tg)(y);return{error:v({environment:this.environment,details:`Failed to create ${n} transaction on ${this.databaseName}.${o}`,error:e,aborted:!0,closed:"InvalidStateError"===e.name})}}const h=await this.runTransaction(g,t,i,l,(e=>{a.pushWithMaxLength(m,e,100)}));if("error"in h||h.abort){this.debugLogInfo(d,`${i} command returned failed/aborted status`);try{g.abort()}catch(b){this.debugLogInfo(d,`transaction.abort() threw ${b}`)}return g.done.catch((e=>{e&&a.log({from:"IndexedDBWrapper",type:"TransactionFailure",level:"error",error:(0,s.Ui)(v({environment:this.environment,details:c,error:e,aborted:!0,closed:!1}))})})),h}if(this.debugLogInfo(d,`${i} command returned successful status`),"readwrite"===n)try{await g.done}catch(b){return{error:v({environment:this.environment,error:(0,r.tg)(b),details:`In await transaction.done: ${c}`,aborted:null===b,closed:!1})}}else g.done.catch((e=>{a.log({from:"IndexedDBWrapper",type:"ReadOnlyTransactonFailureIgnored",level:"error",error:(0,s.Ui)(v({environment:this.environment,error:e,details:c,aborted:null===e,closed:!1}))})}));return{value:h.value}}freezeListener(){Boolean(this.db)&&(this.debugLogInfo("freezeListener"),a.log({level:"warning",from:"IndexedDBWrapper",type:"document.freeze",data:{dbName:this.databaseName,dbVersion:this.databaseVersion}}))}teardown(){this.debugLogInfo("teardown"),this.db=void 0,this.getDBPromise=void 0,document.removeEventListener("freeze",this.freezeListener)}debugLogInfo(e,t){this.debugLogger.log({from:"IndexedDBWrapper",level:"info",type:e,data:{message:t}})}async initDB(){try{this.debugLogInfo("initDB","Starting openDB()");const e=await(0,i.X3)(this.databaseName,this.databaseVersion,this.openDbCallbacks);return this.debugLogInfo("initDB","Completed openDB()"),document.addEventListener("freeze",this.freezeListener),e.addEventListener("close",(e=>{a.log({level:"warning",from:"IndexedDBWrapper",type:"db.onclose",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:(0,s.Ui)(y(e))}),this.teardown()})),e.addEventListener("abort",(e=>{a.log({level:"warning",from:"IndexedDBWrapper",type:"db.onabort",data:{dbName:this.databaseName,dbVersion:this.databaseVersion}})})),e.addEventListener("error",(e=>{a.log({level:"error",from:"IndexedDBWrapper",type:"db.onerror",data:{dbName:this.databaseName,dbVersion:this.databaseVersion},error:(0,s.Ui)(y(e))})})),e.addEventListener("versionchange",(()=>{a.log({level:"warning",from:"IndexedDBWrapper",type:"db.onversionchange",data:{dbName:this.databaseName,dbVersion:this.databaseVersion}}),e.close(),this.teardown()})),{value:e}}catch(e){return{error:v({environment:this.environment,details:"Unable to initialize database",error:(0,r.tg)(e),aborted:!1,closed:!1})}}}async getDB(){let e=this.db;if(!e){this.getDBPromise||(this.getDBPromise=this.initDB().then((e=>(e.error?this.teardown():(this.db=e.value,this.getDBPromise=void 0),e)),(e=>(this.teardown(),{error:{type:"InitDBException",message:"An unexpected error occurred trying to create the database.",details:"Exception in initDB",error:e,closed:!1,aborted:!1}}))));const t=await this.getDBPromise;if(t&&t.error)return t;e=t.value}return{value:e}}async runTransaction(e,t,o,i,n){try{const r=Date.now(),a=t(e,(e=>{this.debugLogInfo("runTransaction",`${o} command: ${e}`),n(e)}));if(void 0!==i&&i>=0){const e=await l.aM(a,i);if(e.timeout){const e=Date.now()-r,t=new Error(`Timeout after ${e}ms: exceeded limit ${i}ms by ${e-i}ms`);throw t.name=u,this.debugLogInfo("runTransaction",`${o} ${t.name}: ${t.message}`),this.debugLogger.flush(),t}return e.result}n("Awaiting commandResultPromise.");const s=await a;return n("Done awaiting commandResultPromise."),s}catch(a){return{error:v({environment:this.environment,error:(0,r.tg)(a),details:`In runTransaction catch: ${o} failed`,closed:!1,aborted:!1})}}}}function v(e){const{environment:t,error:o,details:i,closed:n,aborted:r}=e;if(o){if(o.name===u)return{type:u,details:i,message:`Storage operation did not complete. ${p.default.formatMessage(m.ReloadAllTabs)}`,error:o,closed:!1,aborted:!1};if("TimeoutError"===o.name&&"Transaction timed out due to inactivity."===o.message)return{type:"TransactionTimeout",details:i,message:`IndexedDB access attempt timed out. ${p.default.formatMessage(m.ReloadThisTab)}`,error:o,closed:n,aborted:r};if("VersionError"===o.name)return{type:"OutdatedSchemaVersion",details:i,message:`This tab is running an outdated version of Notion. ${p.default.formatMessage(m.ReloadThisTab)}`,error:o,closed:n,aborted:r};if("UnknownError"===o.name&&"Internal error opening backing store for indexedDB.open."===o.message)return{type:"ChromeUnknownInternalError",details:i,message:`Cannot open IndexedDB. ${t.device.isNative?p.default.formatMessage(m.AppProfileCorrupted):p.default.formatMessage(m.ChromeProfileCorrupted)}`,error:o,closed:n,aborted:r};if(t.device.isBrowser&&"UnknownError"===o.name&&"Internal error retrieving bucket data directory."===o.message)return{type:"ChromeUnknownInternalError",details:i,message:p.default.formatMessage(m.ChromeIndexedDBBucketError),error:o,closed:n,aborted:r};if("SecurityError"===o.name&&"IDBFactory.open() called in an invalid security context"===o.message)return{type:"SafariIframeSecurityError",details:i,message:"Cannot access IndexedDB in an iframe in your browser. Try opening Notion in a new window or use a different browser.",error:o,closed:n,aborted:r};if("UnknownError"===o.name&&"Connection to Indexed Database server lost. Refresh the page to try again"===o.message)return{type:"SafariIndexedDatabaseServerLost",details:i,message:`Cannot access IndexedDB due to a bug in Safari/WebKit. ${p.default.formatMessage(m.ReloadThisTab)}`,error:o,closed:n,aborted:r};if("InvalidStateError"===o.name&&"A mutation operation was attempted on a database that did not allow mutations."===o.message)return{type:"FirefoxPrivateBrowsing",details:i,message:"Firefox does not allow IndexedDB in Private Browsing. Try opening Notion in a normal window.",error:o,closed:n,aborted:r};if("NotFoundError"===o.name&&"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened."===o.message)return{type:"FirefoxObjectStoreNotFound",details:i,message:`An IndexedDB object store does not exist. ${p.default.formatMessage(m.ReloadAllTabs)} ${p.default.formatMessage(m.FirefoxProfileCorrupted)}`,error:o,closed:!0,aborted:r};if("QuotaExceededError"===o.name){let e=p.default.formatMessage(m.noDiskSpace);return t.device.isBrowser&&(e=p.default.formatMessage(m.noDiskSpaceBrowserLimit)),{type:"QuotaFull",details:i,message:e,error:o,closed:n,aborted:r}}if(window.navigator.userAgent.includes("WindowsWechat")&&"AbortError"===o.name&&"Version change transaction was aborted in upgradeneeded event handler."===o.message)return{type:"UnsupportedWechat",details:i,message:"This device or application is unsupported.",error:o,closed:n,aborted:r}}return{type:"UnknownIndexedDBError",details:i,message:`An unknown IndexedDB error occurred. ${p.default.formatMessage(m.ReloadThisTab)}`,error:o||new Error("createIndexedDBError: error was falsy"),closed:n,aborted:r}}function y(e){if(e&&e.target&&"error"in e.target){const t=e.target.error;if(!t)return;return`${t.name}: ${t.message}`}}function b(e,t){if(e.stack)return e;try{const o=new Error(`${e.message} (${t})`);throw o.name=e.name,o}catch(o){return e.stack=(0,r.tg)(o).stack,e}}f.longRunningTimeoutMs=5*c.hM,(0,n.exposeDebugValue)("idbUnwrap",i.Wg)},33929:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var i=o(13991),n=o(5366);const r=new class{constructor(){this.intl=void 0;const e=(0,n.createIntlCache)();this.intl=(0,n.createIntl)({locale:i.SP,defaultLocale:"en-US",messages:i.sY},e)}formatMessage(e,t){return this.intl.formatMessage(e,t)}formatNumber(e,t){return this.intl.formatNumber(e,t)}getIntl(){return this.intl}}},11575:(e,t,o)=>{o.d(t,{s:()=>I});var i=o(77897),n=o(91266),r=o(20985),a=o(63143),s=o(16412),l=o(96486),c=o.n(l),d=o(7406),p=o(65917),u=o(2911),m=o(29477),g=o(36054),h=o(74487);const f=["cid","name","type","notnull","dflt_value","pk"],v=["seqno","cid","name"],y=["type","name","tbl_name","sql"],b={db_true:(0,n.Eu)(!0),arg_true:(0,n.Eu)(!0),db_false:(0,n.Eu)(!1),arg_false:(0,n.Eu)(!1),db_float:10.5,arg_float:10.5,db_string:"hello",arg_string:"hello",db_null:null,arg_null:null},S=h.object({required:{db_true:h.literal(b.db_true),arg_true:h.literal(b.arg_true),db_false:h.literal(b.db_false),arg_false:h.literal(b.arg_false),db_float:h.literal(b.db_float),arg_float:h.literal(b.arg_float),db_string:h.literal(b.db_string),arg_string:h.literal(b.arg_string),db_null:h.isNull(),arg_null:h.isNull()},optional:{},exact:!0});async function w(e,t,o){const i=[...t.statements,{sql:`PRAGMA user_version = ${t.id}`,getData:!1}];if("execSqliteBatchV2"in e){const t=e,s=(0,a.A_)(`\n\t\t  SELECT\n\t\t    CASE user_version\n\t\t    WHEN ${o} THEN 1\n\t\t    ELSE 0 END AS precondition_result\n\t\t    FROM pragma_user_version() LIMIT 1\n\t\t`),l=new T(s,t);try{await(0,n.G$)({connection:l,statements:i})}catch(r){if("SqlitePreconditionFail"!==(0,d.tg)(r).name)throw r;await(0,m.Vs)(50)}}else{const[r]=await(0,n.G$)({connection:e,statements:[{sql:"SELECT * from pragma_user_version() LIMIT 1",getData:!0}]}),{user_version:a}=(0,n.RA)(r);if(a!==o)throw new Error(`Cannot apply migration ${t.id}: DB user_version=${a}, expected ${o}`);await(0,n.G$)({connection:e,statements:i})}}async function k(e,t){const{migrations:o,endSchema:i}=t,n=i.pragmas.user_version,r=await C(e),a=r.pragmas.user_version,s=o.filter((e=>e.id>a&&e.id<=n));if(0===s.length)return void M(r,i);for(let p=a+1;p<=n;p++){const e=s[p-a-1];if(!e)throw new Error(`Migrating ${a} -> ${n}: missing migration from ${p-1} to ${p}`);if(e.id!==p)throw new Error(`Migrating ${a} -> ${n}: migration order mismatch: expected id ${p}, had id ${e.id}`)}if(t.fastForward&&0===a&&n===t.fastForward.id&&(l=r,c={pragmas:{user_version:0},tables:{},indexes:{}},!(0,g.Gu)(_(c),l))){p.log({level:"info",from:"sqliteSchemaHelpers",type:"attemptFastForwardMigration",data:{message:`Attempting fast-forward migration to version ${n}`}});try{await w(e,t.fastForward,0)}catch(d){throw p.log({level:"error",from:"sqliteSchemaHelpers",type:"fastForwardMigrationError",error:(0,u.Ui)(d)}),d}p.log({level:"info",from:"sqliteSchemaHelpers",type:"successfulFastForwardMigration",data:{message:`Successfully fast-forward migrated to version ${n}`}})}else{p.log({level:"info",from:"sqliteSchemaHelpers",type:"attemptMigration",data:{message:`Attempting migration from ${a} to ${n}`}});for(const t of s)try{await w(e,t,t.id-1)}catch(d){throw p.log({level:"error",from:"sqliteSchemaHelpers",type:"migrationError",error:(0,u.Ui)(d)}),d}p.log({level:"info",from:"sqliteSchemaHelpers",type:"successfulMigration",data:{message:`Successfully migrated to ${n}`}})}var l,c;M(await C(e),i)}async function C(e){const t=y.map((e=>`m."${e}" as master_${e}`)),o=[...t,...f.map((e=>`i."${e}" as col_${e}`))].join(", "),i=[...t,...v.map((e=>`i."${e}" as idx_${e}`))].join(", "),r=[{sql:"SELECT\n\t\t\t\t1 as db_true,\n\t\t\t\t? as arg_true,\n\n\t\t\t\t0 as db_false,\n\t\t\t\t? as arg_false,\n\n\t\t\t\t10.5 as db_float,\n\t\t\t\t? as arg_float,\n\n\t\t\t\t'hello' as db_string,\n\t\t\t\t? as arg_string,\n\n\t\t\t\tNULL as db_null,\n\t\t\t\t? as arg_null",args:[b.arg_true,b.arg_false,b.arg_float,b.arg_string,b.arg_null],getData:!0},{sql:`SELECT ${o} FROM sqlite_master AS m, pragma_table_info(m.name) AS i WHERE m.type='table'`,getData:!0},{sql:`SELECT ${i} FROM sqlite_master AS m, pragma_index_info(m.name) AS i WHERE m.type='index'`,getData:!0},{sql:"SELECT * FROM pragma_user_version()",getData:!0}],[a,s,l,d]=await(0,n.G$)({connection:e,statements:r}),p=a.data[0],u=(0,g.Gu)(S,p,{rootVariableName:"sanityRow"});if(u)throw u.name="SqliteTypeSanityError",Object.assign(u,{actual:p,expected:b}),u;return function(e,t,o){const i={pragmas:{user_version:o.user_version},tables:{},indexes:{}};for(const n of e){const e={type:n.master_type,sql:n.master_sql,name:n.master_name,tbl_name:n.master_tbl_name},t={cid:n.col_cid,name:n.col_name,type:n.col_type,notnull:n.col_notnull,dflt_value:n.col_dflt_value,pk:n.col_pk},o=i.tables[e.name]||{info:e,columns:[]};o.columns.push(t),o.columns=c().sortBy(o.columns,(e=>e.cid)),i.tables[e.name]=o}for(const n of t){const e={type:n.master_type,sql:n.master_sql,name:n.master_name,tbl_name:n.master_tbl_name},t={name:n.idx_name,cid:n.idx_cid,seqno:n.idx_seqno},o=i.indexes[e.name]||{info:e,columns:[]};o.columns.push(t),o.columns=c().sortBy(o.columns,(e=>e.seqno)),i.indexes[e.name]=o}return i}(s.data,l.data,(0,n.RA)(d))}function _(e){const t=h.object({required:{user_version:h.literal(e.pragmas.user_version)},optional:{},exact:!0}),o={};for(const[n,r]of Object.entries(e.tables))o[n]=h.object({required:{info:h.object({required:{name:h.literal(r.info.name),type:h.literal(r.info.type),tbl_name:h.literal(r.info.tbl_name),sql:h.string()},optional:{}}),columns:h.tuple(r.columns.map((e=>h.object({required:{cid:h.literal(e.cid),name:h.literal(e.name),type:null===e.type?h.isNull():h.caseInsensitiveLiteral(e.type),notnull:h.literal(e.notnull),dflt_value:null===e.dflt_value?h.isNull():h.literal(e.dflt_value),pk:h.literal(e.pk)},optional:{}}))))},optional:{}});const i={};for(const[n,r]of Object.entries(e.indexes))i[n]=h.object({required:{info:h.object({required:{name:h.literal(r.info.name),type:h.literal(r.info.type),tbl_name:h.literal(r.info.tbl_name),sql:h.union([h.string(),h.isNull()])},optional:{}}),columns:h.tuple(r.columns.map((e=>h.object({required:{seqno:h.literal(e.seqno),cid:h.literal(e.cid),name:null===e.name?h.isNull():h.literal(e.name)},optional:{}}))))},optional:{}});return h.object({required:{pragmas:t,tables:h.object({required:o,optional:{},exact:!1}),indexes:h.object({required:i,optional:{},exact:!1})},optional:{},exact:!0})}function M(e,t){const o=(0,g.Gu)(_(t),e,{rootVariableName:"schema"});if(o)throw o.name="SqliteSchemaMismatch",Object.assign(o,{actual:e,expected:t}),o}class T{constructor(e,t){this.precondition=e,this.connection=t}async execSqliteBatch(e){return await this.connection.execSqliteBatchV2({batch:e,precondition:{sql:this.precondition,getData:!0}})}}class I{constructor(e){this.preconditionSchemaCheck=void 0,this.migrationsCompleted=void 0,this.environment=void 0,this.experimentStore=void 0,this.args=e,this.preconditionSchemaCheck=(0,a.A_)(`\n\t\t\tSELECT\n\t\t\t\tCASE user_version\n\t\t\t\tWHEN ${this.args.migrations.endSchema.pragmas.user_version} THEN 1\n\t\t\t\tELSE 0 END AS precondition_result\n\t\t\t\tFROM pragma_user_version() LIMIT 1\n\t\t`),this.migrationsCompleted=void 0}setEnvironment(e){this.environment=e}setExperimentStore(e){this.experimentStore=e}async ensureMigrated(){this.migrationsCompleted||(this.migrationsCompleted=k(this.args.connection,this.args.migrations)),await this.migrationsCompleted}async optimize(){const e=[r.i6`PRAGMA analysis_limit=40000`.asRead(),r.i6`PRAGMA optimize`.asRead()];await(0,n.G$)({connection:this.args.connection,statements:e,queryName:"optimize"})}async execSqliteBatch(e){switch(this.args.type){case"v1":return await this.ensureMigrated(),await this.batchAndTrack(e,(()=>this.args.connection.execSqliteBatch(e)));case"v2":return await this.ensureMigrated(),await this.batchAndTrack(e,(()=>this.args.connection.execSqliteBatchV2({batch:e,precondition:{sql:this.preconditionSchemaCheck,getData:!0}})))}}async batchAndTrack(e,t){let o;e.queryName&&(0,i.lB)(1)&&(o=s.default.start(e.queryName));const n=await t();return this.environment&&o&&o.finishAndTrack(this.environment,e,n),n}debugSchema(){return C(this.args.connection)}async debugQuery(e,t){const o="debug query round-trip from JS";console.time(o);const i=await(0,n.gU)({connection:this.args.connection,sql:e,args:t});return console.timeEnd(o),i}async debugTransaction(e){const t="debug transaction round-trip from JS";console.time(t);const o=await(0,n.G$)({connection:this.args.connection,statements:e});return console.timeEnd(t),o}async debugDeleteAllDataAndResetDatabase(){console.log("Resetting database");const e=function(e){const t=[];for(const o of Object.values(e.tables))t.push({sql:`DROP TABLE ${o.info.name}`});for(const o of Object.values(e.indexes))t.push({sql:`DROP INDEX IF EXISTS ${o.info.name}`});return t.push({sql:"PRAGMA user_version = 0"}),t}(this.args.migrations.endSchema);await(0,n.G$)({connection:this.args.connection,statements:e})}}},2414:(e,t,o)=>{o.d(t,{h:()=>n});var i=o(29477);class n{constructor(e){this.SCALE=1.5,this.MAX=15,this.waitable=new i.a6,this.failures=0,this.observer=e}getDelay(e){return Math.min(this.MAX,Math.pow(this.SCALE,e))}reset(){this.waitable.trigger(),this.waitable=new i.a6,this.failures=0,this.observer.onReset()}async backOffOnFailure(e,t){const o=this.failures;this.failures++;const n=e*this.getDelay(o)-e;this.observer.onBackoff(n,t),await this.waitable.wait(e,n),this.waitable=new i.a6}}},63037:(e,t,o)=>{o.d(t,{Os:()=>n,Ud:()=>r,V_:()=>a,CE:()=>s,xd:()=>l});var i=o(63143);function n(e,t){t.startsWith("offline -")?t="offline":t.startsWith("mobileNativeError -")&&(t="mobileNativeError");const o=e[t]||0;e[t]=o+1,e._total+=1}const r=1*i.C0,a=.5*i.C0,s=10*i.C0,l=5*i.C0},68204:(e,t,o)=>{o.d(t,{sG:()=>s,E$:()=>l,L1:()=>c,vG:()=>d});var i=o(96486),n=o.n(i),r=o(31942),a=o(95182);function s(e){const{sections:t,context:o,query:i}=e;let a=i.trim().toLowerCase();if(a.startsWith("/")&&(a=a.slice(1)),!a)return c(t,o);const s=function(e){return e.map((e=>({...e,actions:e.actions.map((t=>{const o=t.searchName||t.displayName||"",i=[o,e.searchTitle||e.title||"",o].join(" ");return{...t,searchName:i}}))})))}(c(function(e,t){const o=[];for(const i of e){const e={...i,actions:[]};for(const n of i.actions)if(n.subActions){if(n.collapseSubActionsIntoParent){for(const o of n.subActions(t))for(const t of o.actions)e.actions.push(t);continue}const r=n.subActions(t).map((e=>({...e,key:`${i.key} ${n.key} ${e.key}`,title:e.title||n.displayName,searchTitle:[n.searchName||n.displayName,e.searchTitle||e.title].filter(Boolean).join(" ")})));for(const e of r)o.push(e)}else e.actions.push(n);e.actions.length&&o.push(e)}return o}(t,o),o)),l=[],d=new Map;for(const n of s)for(const e of n.actions)d.set(e,n),l.push(e);const p=(0,r.ZP)(a,l,(e=>e.searchName||""),{minThreshold:25,getSortScore:e=>-e.score*(e.original.sortScoreMultiplier??1)}),u=new Set(p),m=l.filter((e=>Boolean(e.alwaysShowInSearch)&&!u.has(e))),g=m.filter((e=>"start"===e.alwaysShowInSearch)),h=m.filter((e=>"end"===e.alwaysShowInSearch)),f=n().groupBy([...g,...p,...h],(e=>{const t=d.get(e);if(t)return t.title})),v=[];for(const n of Object.keys(f)){const e=f[n],t=d.get(e[0]);t&&v.push({...t,actions:e})}return v}function l(e,t){if(!t)return e;let o=0;const i=[];for(const n of e){if(o>=t)break;const e=n.actions.slice(0,t-o);e.length>0&&(o+=e.length,i.push({...n,actions:e}))}return i}function c(e,t){return(0,a.RP)(e,(e=>d(e,t)))}function d(e,t){if(e.validators){return e.validators.every((e=>e(t)))}return!0}},617:(e,t,o)=>{o.d(t,{or:()=>pe,xD:()=>ue,ff:()=>me,U7:()=>ge,EC:()=>he,sz:()=>fe,M:()=>ve,KE:()=>ye,lQ:()=>be,J5:()=>Se,U_:()=>we,k5:()=>ke,K5:()=>Ce,LH:()=>_e,zz:()=>Me,RF:()=>Te,nW:()=>Ie,X:()=>Pe,c2:()=>xe,ry:()=>Be,xk:()=>Ze,p1:()=>Re,_z:()=>Ae,fI:()=>De,JF:()=>Fe,FS:()=>Le,Vf:()=>Ve,lA:()=>Ne,b4:()=>Oe,$H:()=>Ue,KJ:()=>He,Cj:()=>ze,VB:()=>We,W2:()=>je,l$:()=>Ke,zX:()=>Ye,FY:()=>Ge,wF:()=>Xe,P9:()=>qe,ro:()=>$e,QL:()=>Je,J8:()=>Qe,YB:()=>et,Eo:()=>tt,XQ:()=>ot,IT:()=>it,d:()=>nt,ED:()=>rt,V5:()=>at,gn:()=>st,Dt:()=>lt,Fx:()=>ct,tq:()=>dt,Mn:()=>pt,tY:()=>ut,YZ:()=>mt,_T:()=>gt,jl:()=>ht,Gg:()=>ft,$I:()=>vt,xw:()=>yt,Rg:()=>bt,f7:()=>St,IZ:()=>wt,YG:()=>Ct,vj:()=>_t,Mg:()=>Mt,dM:()=>Tt,TK:()=>It,iJ:()=>Pt,NW:()=>xt,vy:()=>Bt,Kh:()=>Zt,T2:()=>Et,DU:()=>Rt,QY:()=>At,D:()=>Dt,KL:()=>Ft,U4:()=>Lt,KH:()=>Vt,nJ:()=>Nt,O4:()=>Ot,sR:()=>Ut,cW:()=>Ht,Vw:()=>zt,b1:()=>Wt,vd:()=>jt,zl:()=>Yt,_J:()=>Gt,UI:()=>Xt,oY:()=>qt,iK:()=>$t,S4:()=>Jt,lv:()=>Qt,Nn:()=>eo,Tx:()=>to,DF:()=>oo,F6:()=>io,AK:()=>no,ZD:()=>ro,v_:()=>ao,j2:()=>so,I:()=>lo,RO:()=>co,Kb:()=>po,Jl:()=>mo,Zk:()=>go,eM:()=>ho,OO:()=>fo,uq:()=>vo,wT:()=>yo,$c:()=>bo,wU:()=>So,k6:()=>wo,tJ:()=>ko,YP:()=>Co,OF:()=>_o,ur:()=>Mo,Rd:()=>To,Id:()=>Io,_n:()=>Po,W5:()=>xo,US:()=>Bo,OT:()=>Zo,z2:()=>Eo,p4:()=>Ro,W3:()=>Ao,EJ:()=>Do,zO:()=>Fo,vM:()=>Lo,fy:()=>Vo,pl:()=>No,KS:()=>Oo,jp:()=>Uo,P5:()=>Ho,HB:()=>zo,p5:()=>Wo,IC:()=>jo,Vc:()=>Ko,OX:()=>Yo,lr:()=>Go});var i=o(96486),n=o.n(i),r=o(41432),a=o(80951),s=o(42509),l=o(43593),c=o(74181),d=o(26825),p=o(27006),u=o(21202),m=o(6287),g=o(70279),h=o(55514),f=o(29369),v=o(90965),y=o(64684),b=o(70203),S=o(95371),w=o(95477),k=o(28020),C=o(4708),_=o(78429),M=o(40544),T=o(85957),I=o(67669),P=o(33665),x=o(69645),B=o(77505),Z=o(23537),E=o(58202),R=o(81844),A=o(79315),D=o(88632),F=o(24042),L=o(64233),V=o(88833),N=o(10161),O=o(19111),U=o(88923),H=o(96026),z=o(81236),W=o(3815),j=(o(49557),o(27724)),K=o(52543),Y=o(10743),G=o(99757),X=o(24666),q=o(23223),$=o(78316),J=o(77181),Q=o(99417),ee=o(12955),te=o(11599),oe=o(92783),ie=o(68056),ne=o(35026),re=o(98165),ae=o(28187),se=o(38755),le=o(8323),ce=o(89086),de=o(85644);const pe=function(e){return t=>e.some((e=>e(t)))},ue=function(e){return t=>e.every((e=>e(t)))},me=function(e){return t=>!e(t)},ge=e=>e.blocks&&1===e.blocks.length,he=e=>e.blocks&&e.blocks.length>1,fe=e=>!!(0,_.H)()&&e.blocks.every((e=>{const t=e.getParentId(),o=e.recordStoreUIParentStore,i=null==o?void 0:o.id;return t&&i&&t!==i})),ve=e=>e.blocks.every((t=>{const o=t.recordStoreUIParentStore;if(!o)return!1;const i=e.publicEditMode?e.publicEditMode:(0,re.n3)(o)&&H.Z.getMode(e.environment,o);return!I.YF(i)&&o.canEdit()})),ye=e=>{const{environment:t}=e;return e.blocks.every((e=>I.KE({environment:t,block:e})))},be=e=>{const{environment:t,blocks:o}=e;return M.lQ({environment:t,blocks:o})||(0,C.vI)()},Se=e=>!G.n.state&&e.blocks.every((t=>!I.YF(e.publicEditMode)&&t.canEdit())),we=e=>!G.n.state&&e.blocks.every((t=>{if(I.YF(e.publicEditMode))return!1;const o=te.$0();return o?o.canEditCollection():t.canEdit()})),ke=e=>!G.n.state&&e.blocks.every((t=>!I.YF(e.publicEditMode)&&(t.isCollectionView()?t.canEditCollection():t.canEdit()))),Ce=e=>{if(e.blocks&&1===e.blocks.length){const[o]=e.blocks;if(o.isCollectionView()){var t;const e=null===(t=o.getCollectionViewCollectionStore())||void 0===t?void 0:t.getValue();if(e)return(0,s.Gq)(e)||(0,s.Ev)(e)||(0,s.OY)(e)}}return!1},_e=e=>{if(e.blocks&&1===e.blocks.length){const[o]=e.blocks;if(o.isCollectionView()){var t;const e=null===(t=o.getCollectionViewCollectionStore())||void 0===t?void 0:t.getValue();if(e)return(0,s.Ev)(e)}}return!1},Me=e=>!G.n.state&&e.blocks.every((e=>e.canAdmin())),Te=e=>!G.n.state&&e.blocks.every((e=>e.canComment())),Ie=e=>e.blocks.some((e=>Boolean(E.R.findBlockFromStoreWithMethod(e,"activate")))),Pe=e=>e.blocks.every((e=>e.isRestricted())),xe=e=>{const{currentSpaceStore:t}=A.default.state,{currentUser:o}=e.environment;return(t?t.getPermissionItems():[]).some((e=>p.jg(e)&&e.user_id===o.id&&p.zz(e.role)))},Be=function(){const e=k.np();return!e||!e.isLocked()},Ze=()=>{const e=k.np();return Ee(e)},Ee=e=>{if(!e)return!1;return!!e.getParentCollectionStore()},Re=e=>e.blocks.length>0&&e.blocks.some((e=>e.isLocked())),Ae=e=>e.blocks.length>0,De=e=>e.blocks.some((e=>{const t=k.np();return!!(t&&t.isPageBlock()&&t.isLocked()&&t.uiContains(e)&&t!==e)})),Fe=e=>e.blocks.some((e=>{const{mainEditorCurrentBlockStore:t}=A.default.state;return Boolean(t&&t.isCollectionView()&&t.isLocked()&&t.uiContains(e)&&t!==e)})),Le=e=>e.blocks.every((e=>{const t=e.getType();return Boolean(t&&(0,r.XD)(t)&&!(0,r.S9)(t))})),Ve=e=>{var t;const o=null===(t=A.default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id;if(e.blocks[0]){const t=e.blocks[0].getType(),i=e.blocks[0].id;return Boolean(t&&i===o&&(0,r.XD)(t))}return!1},Ne=e=>e.blocks.every((e=>{const t=e.getRecordStoreUIParent();return Boolean(t&&e.isDefined()&&e.getParentId()!==t.id)})),Oe=e=>e.blocks.every((e=>{const t=e.getRecordStoreUIParent();return Boolean(t&&t.canEdit()&&e.isDefined()&&e.getParentId()!==t.id)})),Ue=e=>{if(e.blocks){const t=e.blocks[0];return Boolean(t&&t.isDefined()&&t.getType()===r.Ti.file&&t.getProperties().source)}return!1},He=e=>{if(!e.blocks)return!1;const t=e.blocks[0],o=t&&t.getProperties().source;if(!o)return!1;const i=a.zB(o);return!!i&&l.E$(i,w.Z.secureFileS3.url)},ze=e=>{if(e.blocks){const t=e.blocks[0];if(t.isType(r.Ok))return Boolean(t.getProperties())}return!1},We=e=>{if(e.blocks){const t=e.blocks[0],o=t&&t.getType();return Boolean(o&&(0,r.VB)(o))}return!1},je=e=>{if(e.blocks){const t=e.blocks[0].getModel();return Boolean(null==t?void 0:t.isType(r.oe))}return!1},Ke=e=>t=>{if(t.blocks){const o=t.blocks[0];return Boolean(o&&o.getProperties()[e])}return!1},Ye=(Ke("source"),e=>{if(e.blocks){const t=e.blocks[0],o=null==t?void 0:t.getModel();return Boolean(null==o?void 0:o.isType(r.f4))}return!1}),Ge=e=>{if(e.blocks){const t=e.blocks[0];if(t&&t.getType()===r.Ti.transclusionReference){const e=t.getTransclusionReferenceTargetStore();return Boolean(e&&e.canEdit())}return!1}return!1},Xe=e=>e.blocks.every((e=>{const t=e.getModel(),o=e.getRecordStoreUIParent();return Boolean(t&&t.isType(r.Zi)&&t.getType()!==r.Ti.transclusionContainer&&e.getParentTable()!==m.v&&o&&o.id===e.getParentId())})),qe=e=>t=>t.blocks&&t.blocks[0]&&n().isFunction(t.blocks[0].getType)&&t.blocks[0].getType()===e,$e=e=>t=>n().every(t.blocks,(t=>t&&n().isFunction(t.getType)&&t.getType()===e)),Je=e=>()=>N.default.checkGate(e),Qe=e=>t=>{if(1!==t.blocks.length)return!1;const o=t.blocks[0],i=o.getParentBlockStore(),n=null==i?void 0:i.getContentStores(),r=null==n?void 0:n.map((t=>t.getType()===e));if(!r||0===(null==r?void 0:r.length))return!1;const a=null==n?void 0:n.map((e=>e.id)).indexOf(o.id);return void 0!==a&&(0===a||!r[a-1])},et=e=>e.blocks.every((e=>{const t=null==e?void 0:e.getModel();return Boolean((null==t?void 0:t.isType(r.Zj))&&e.getParentTable()!==m.v)})),tt=e=>{const t=k.RM();return!!t&&e.blocks.every((e=>t.uiContains(e)&&t.id!==e.id))},ot=e=>{const t=e.blocks[0],o=null==t?void 0:t.getRecordStoreUIRoot();return!!o&&e.blocks.every((e=>o.uiContains(e)&&o.id!==e.id))},it=e=>e.blocks.every((e=>{const t=E.R.findBlockFromStoreWithMethod(e,"canRenderFullScreen");return Boolean(t&&t.canRenderFullScreen())})),nt=function(e){let{environment:{device:t}}=e;return t.isElectron},rt=function(e){let{environment:{device:t}}=e;return t.isWindows},at=function(e){let{environment:{device:t}}=e;return t.isMac},st=function(e){let{environment:{device:t}}=e;return t.isIOS},lt=function(e){let{environment:{device:t}}=e;return t.isAndroid},ct=function(e){let{environment:{device:t}}=e;return t.isMobileNative},dt=function(e){let{environment:{device:t}}=e;return t.isMobile},pt=function(e){let{environment:{device:t}}=e;return t.isPhone},ut=function(e){let{environment:{device:t}}=e;return t.isNative},mt=function(e){let{environment:{device:t}}=e;return!t.isMobile},gt=()=>w.Z.isAdminMode,ht=e=>{let{environment:t}=e;return Boolean(t.currentUser.isLoggedIn()||(0,ee.getPublicDomainUserId)(t))},ft=function(){return D.Z.state.online},vt=e=>!e.blocks.every((t=>{const o=t.inMemoryRecordCache===e.environment.defaultRecordCache.inMemoryRecordCache,i=t.inMemoryRecordCache.cacheFallbacks.has(e.environment.defaultRecordCache.inMemoryRecordCache);return o||i})),yt=e=>e.blocks.some((e=>e.isTemplate())),bt=e=>e.blocks.some((e=>e.isTypedCollectionViewBlock())),St=e=>e.blocks.some((e=>e.isCollectionViewPageWithContent())),wt=e=>e.blocks.every((()=>!kt()||so("page")(e))),kt=()=>{const e=k.np();return null==e?void 0:e.isCollectionViewPageWithContent()},Ct=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isCollectionView()}return!1},_t=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isType(r.Ti.collectionView)}return!1},Mt=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isType(r.Ti.collectionViewPage)}return!1},Tt=function(e){return t=>{if(t.blocks&&1===t.blocks.length){const[o]=t.blocks,i=E.R.findCollectionViewBlockFromStore(o);return!!i&&i.collectionContextStore.getViewType()===e}return!1}},It=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return 1===t.getCollectionViewStores().length}return!1},Pt=e=>{if(e.blocks&&1===e.blocks.length){const[t]=e.blocks,o=t.getCollectionViewCollectionStore();if(!o)return!1;const i=o.getSchema();return Object.values(i).map((e=>null==e?void 0:e.type)).every((e=>e&&B.k7[e]))}return!0},xt=e=>P.NW(e.environment),Bt=e=>P.vy(e.environment),Zt=function(){return L.Z.state.open},Et=function(){return V.Z.state.open},Rt=function(){return O.Z.state.open},At=function(){return Y.Z.state.open},Dt=function(){return"editing"===X.default.state.mode},Ft=function(){return"empty"!==X.default.state.mode&&!(0,ie.iG)(X.default.state.multiSelection)},Lt=function(){return!((0,ce.J6)(b.GK.User)||(0,ce.J6)(b.GK.Bot)||(0,ce.J6)(b.GK.Date)||(0,ce.J6)(b.GK.Page))},Vt=function(){return j.default.state.stores.length>0},Nt=e=>{const t=A.default.state.currentSpaceStore;return(0,se.Cx)(t)},Ot=e=>e.blocks.every((e=>Boolean(R.Z.findOutlinerItemFromStore(e)))),Ut=e=>e.blocks.every((e=>{const t=R.Z.findOutlinerItemFromStore(e);return Boolean(t&&t.isTopLevelItem&&"bookmarks"===t.type)})),Ht=e=>e.blocks.every((e=>{const t=R.Z.findOutlinerItemFromStore(e);return Boolean(t&&t.isTopLevelItem&&"shared"===t.type)})),zt=e=>{const t=e.blocks[0];if(!t)return!1;const o=t.getParentBlockStore();return!!o&&o.isLocked()},Wt=e=>!jt(e),jt=e=>{if(!(0,Z.bq)())return!0;const t=e.blocks[0];if(t){if(t.getParentTable()===f.e0){const o=(0,re.VP)(t);if(!o||!(0,ne.si)({teamStore:o,environment:e.environment}))return!1}}return!0};function Kt(e){if(!e)return;const t=e.getParentPointer(),o=e.getRecordStoreUIParent();return(null==t?void 0:t.table)===f.e0&&o?W.zX.createChildStore(o,t):Kt(e.getParentBlockStore())}const Yt=e=>{const{id:t}=e.environment.currentUser;return!!t&&e.blocks.every((e=>{const o=e.getPermissionItems();return(0,d.ws)(o,t)}))},Gt=e=>e.blocks.every((e=>{const t=R.Z.findOutlinerItemFromStore(e);return Boolean(t&&t.isTopLevelItem)})),Xt=e=>{const{currentSpaceViewStore:t}=A.default.state,o=e.blocks[0];return Boolean(t&&o&&(0,oe.Z)({spaceViewStore:t,pageId:o.id}))},qt=e=>{const t=k.np();return e.blocks[0]&&e.blocks[0]===t},$t=e=>e.blocks.every((t=>Boolean(I.IJ(e.environment,t)))),Jt=e=>e.blocks.every((e=>I.S4(e))),Qt=e=>Boolean(A.default.state.mainEditorCurrentBlockStore),eo=e=>T.Tx()&&e.blocks[0]&&e.blocks[0]===U.default.peekTarget.state,to=e=>T.Tx(),oo=e=>e.blocks.every((e=>{const t=null==e?void 0:e.getType();return Boolean(t&&(0,r.S9)(t))})),io=e=>e.blocks.every((e=>{const t=e.getType(),o=e.getFormat();return Boolean(t&&(0,r._T)(t,o))})),no=e=>e.blocks.every((e=>Boolean(e.findRecordStoreUIAncestor((e=>e instanceof W.Xr||e instanceof W.G&&e.isCollectionView())).ancestor))),ro=e=>{let{blocks:t}=e;return(0,J.IX)(t[0])},ao=e=>{let{blocks:t}=e;return $.v_(t)};function so(e){return t=>t.blocks.every((t=>{const o=$.fm(t),i=null==o?void 0:o.collectionViewStore();return(null==i?void 0:i.getType())===e}))}const lo=function(){const{currentSpaceStore:e}=A.default.state;return Boolean(e&&e.canRead())},co=function(){const{currentSpaceStore:e}=A.default.state;return Boolean(e&&e.canEdit())},po=e=>{if(w.Z.isAdminMode)return!0;if(Nt(e)&&!Se(e))return!1;const t=uo(e),{environment:o,blocks:i}=e;return i.every((e=>{const i=(0,re.VP)(e);return i?(!o.currentUser.id||!(0,y.s8)({team:{membership:i.getRawMembership()},userId:o.currentUser.id}))&&!i.getDisableExport():t}))},uo=function(e){let{environment:t}=e;const{currentSpaceStore:o}=A.default.state;if(!o)return!1;const i=z.Z.getPublicSpaceData(t,o.id);return o.isDefined()?!o.getDisableExport():i?!i.disableExport:gt()},mo=()=>{const{currentSpaceStore:e}=A.default.state;return!!e&&!e.getDisableMoveToSpace()},go=e=>!G.n.state&&(!!e.blocks.every((e=>e.canEdit()))&&!!$t(e)),ho=e=>e.blocks.every((t=>{var o;return"edit"===(null===(o=H.Z.getMode(e.environment,t))||void 0===o?void 0:o.permission)})),fo=e=>{if(!ve(e))return!1;const t=e.blocks.filter((e=>{const t=e.recordStoreUIParentStore,o=e.getParentStore();return t&&o&&t.id===o.id}));return 0===t.length||Se({...e,blocks:t})},vo=e=>{let{environment:t}=e;const o=(0,k.k_)(t).state;return Boolean(o&&o.showSharedOverflowButton)},yo=e=>{let{blocks:t}=e;return t.some((e=>Boolean(e.findRecordStoreUIAncestor((e=>e instanceof W.G&&e.isTransclusionType())).ancestor)))},bo=e=>{let{environment:t}=e;return"local"===w.Z.env||"development"===w.Z.env||"on"===N.default.getGroup("lucy-in-the-sky-with-tab-blocks")},So=e=>{let{environment:t,publicEditMode:o}=e;return(0,Q.GD)(t,o)},wo=e=>{let{blocks:t}=e;if(!t||0===t.length)return!1;const o=t[0].getType(),i=t[0].getFormat();return Boolean(i.block_width)&&!Boolean(i.block_page_width)&&!Boolean(i.block_full_width)&&Boolean(o&&(0,r._7)(o))},ko=function(e){var t,o;let{blocks:i}=e;return Boolean(null===(t=(0,ae.Jk)(i[0]))||void 0===t||null===(o=t.slackIntegrationStore)||void 0===o?void 0:o.isReady())},Co=function(){var e;const{currentSpaceStore:t}=A.default.state,o=null==t||null===(e=t.getBotSettingsStore())||void 0===e?void 0:e.getValue();return!(0,v.CJ)(o)||Boolean((null==o?void 0:o.integration_approval_statuses)&&o.integration_approval_statuses[c.T0])},_o=function(e){var t;let{blocks:o}=e;const{slackIntegrationStore:i}=(0,ae.Jk)(o[0]);return Boolean(i.isReady()&&!(null!=i&&null!==(t=i.getKeyStore("enabled"))&&void 0!==t&&t.getValue()))},Mo=function(e){var t;let{blocks:o}=e;const{blockStore:i,slackIntegrationStore:n}=(0,ae.Jk)(o[0]);return Boolean(n.isReady()&&(null==n||null===(t=n.getKeyStore("enabled"))||void 0===t?void 0:t.getValue())&&i.id!==o[0].id)},To=function(e){var t;let{blocks:o}=e;const{blockStore:i,slackIntegrationStore:n}=(0,ae.Jk)(o[0]);return Boolean(n.isReady()&&(null==n||null===(t=n.getKeyStore("enabled"))||void 0===t?void 0:t.getValue())&&i.id===o[0].id)},Io=function(e){var t;let{blocks:o}=e;return(null===(t=o[0])||void 0===t?void 0:t.getSpaceId())!==h.N3},Po=e=>1===e.blocks.length&&e.blocks[0].getType()===r.Ti.table,xo=e=>{const t=K.Z.state;return t.isActive&&1===e.blocks.length&&e.blocks[0]===t.simpleTableStore},Bo=e=>{let{blocks:t}=e;return t.some((e=>Boolean(e.isImmediateColumnChild())))},Zo=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o}=t;return B.WN(o)>1},Eo=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o,selection:i}=t,n=0===i.start.row&&i.end.row===(0,B.bm)(o)-1,r=0<=i.start.col&&i.start.col<=i.end.col&&i.start.col<=(0,B.WN)(o)-1;return"column"===i.type&&r&&n},Ro=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o,selection:i}=t,n=0===i.start.row&&i.end.row===(0,B.bm)(o)-1,r=0===i.start.col&&0===i.end.col;return"column"===i.type&&r&&n},Ao=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o}=t;return B.bm(o)>1},Do=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o,selection:i}=t,n=0===i.start.col&&i.end.col===(0,B.WN)(o)-1,r=0<=i.start.row&&i.start.row<=i.end.row&&i.start.row<=(0,B.bm)(o)-1;return"row"===i.type&&r&&n},Fo=e=>{const t=K.Z.state;if(!t.isActive)return!1;const{simpleTableStore:o,selection:i}=t,n=0===i.start.col&&i.end.col===(0,B.WN)(o)-1,r=0===i.start.row&&0===i.end.row;return"row"===i.type&&r&&n},Lo=e=>{let{environment:t}=e;return(0,le.QM)()},Vo=e=>{if(1!==e.blocks.length)return!1;const t=e.blocks[0].getParentStore();return!(!t||t.table!==u.iU)&&t.isType(r.Ti.tab)},No=e=>{const t=e.blocks[0];return Boolean(t&&t.isCollectionView()&&t.getCollectionViewSourceCollectionStore())},Oo=e=>{if(!ge(e))return!1;const t=e.blocks[0];return(0,de.z)(t)},Uo=e=>(e=>{let{environment:t,blocks:o}=e;if(!(0,Z.bq)())return!1;if(!M.lQ({environment:t,blocks:o}))return!1;const i=t.currentUser.id,{currentSpaceStore:n}=A.default.state;if(!i||null==n||!n.isDefined())return!1;if(!Z.Xq({environment:t,spaceStore:n}))return!1;for(const s of o){var r,a;if(!s.isPageBlock())return!1;if("team"!==(null===(r=R.Z.findOutlinerItemFromStore(s))||void 0===r?void 0:r.type))return!1;const e=null===(a=Kt(s))||void 0===a?void 0:a.getMembers();if(!e||!(0,y.pd)({membership:e},i))return!1}return!0})(e)&&mt(e);function Ho(){const{currentSpaceStore:e}=A.default.state,t=null==e?void 0:e.getBotSettingsStore().getValue();return!(0,v.CJ)(t)||Boolean((null==t?void 0:t.integration_approval_statuses)&&t.integration_approval_statuses[c._o])}const zo=e=>Boolean(e.blocks[0].getFormat().is_placeholder),Wo=e=>{var t;return Boolean((null===(t=e.blocks[0].getFormat().alias_pointer)||void 0===t?void 0:t.table)===g.x_)},jo=()=>{const e=k.np();if(!e||0===e.getContentLength())return!1;const t=(0,x.dq)({includeNonSelectableListContainer:!1});return!!t&&(0,S.Yz)(t,(e=>{if(e.store.isPageBlock())return!1;if(!e.store.getPropertyValue("title"))return!1;const t=e.store.getTitleStore();return!Y.Z.state.open||Y.Z.state.textStore!==t||void 0!==Y.Z.state.oldTextValue}))};function Ko(){return Boolean(F.Z.state.isElectronUsingCommandNumber)}const Yo=e=>e.blocks.some(q.td),Go=e=>e.blocks.every((e=>e.isType("page")||e.isType("callout")))},27210:(e,t,o)=>{o.d(t,{It:()=>Se,_c:()=>ye,KC:()=>be,Fr:()=>Te,AA:()=>Pe,H2:()=>Ce,G0:()=>Ie,Cw:()=>ke,v2:()=>we});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294);o(17126);const l={adminPrimaryWorkspaceChange:!0,adminDeleteFileFromS3:!0,adminDescribeDeleteFileFromS3:!0,adminGetSpacesForAllowedEmailDomain:!0,adminDescribeAccountsToReset:!0,adminResetAccounts:!0,adminDescribeSpacesToDelete:!0,adminDescribeRunSpaceConsolidation:!0,adminDeleteSpaces:!0,adminDeleteUser:!0,adminGetOwnership:!1,adminGetUserBillingInformation:!0,adminListData:!0,adminRemoveAllowedEducationEmails:!0,adminBulkAddPromotionCodes:!0,adminCopyPageBetweenEnvironments:!0,adminSetSpaceDomain:!0,adminShowCustomerInvoice:!0,adminSwapUserDomains:!0,adminSwapUserEmails:!0,adminGetPublicPages:!0,adminBlockEmailDomain:!0,adminEditSpacePermissions:!0,adminBanUser:!0,adminRunSpaceConsolidation:!0,adminDowngradeFraudSubscription:!0,adminUpdateIntegrationData:!0,adminJoinSpacesForOauthRedirect:!0,adminGetSamlConfig:!0,adminSetupExperiment:!0,adminUpdateExperiment:!0,adminCancelSubscription:!0,adminEditTeamMembership:!0,adminUpdateTeamMember:!0,adminUpdateUserSettings:!0,adminIsSpaceDomainClaimEligible:!0,adminGetDomainClaimEligibleSpaces:!0,adminGetDomainManagementSettings:!0,adminClaimAndUpgradeForSalesAssisted:!0,adminSamlConfigForSpace:!0,adminDelayClaimSpaceDeletion:!0,adminRemoveChildFromExternalCollection:!0,adminUpdateAddOnSubscription:!0,adminBulkCreateTimedTrials:!0,adminSearchUsers:!1,adminSearchForUsersInSpaces:!1,adminFindDeletedUser:!1,adminWhitelistCreditDomain:!1,adminSearchSpaces:!1,adminSearchBlocks:!1,adminSearchTeams:!1,adminRemoveSpaceUsersAndTransferContent:!1,adminGetRateLimits:!1,adminResetRateLimits:!1,adminViewExperiments:!1,adminGetDataAccessConsent:!1,adminGetBulkSpaceIdsByDomain:!1,adminGetBulkSpaceIdsByEmail:!1,adminGetBulkUserIdsByEmail:!1,adminGetClientExperiments:!1,adminGetStatsigExperiment:!1,adminGetStatsigFeatureGate:!1,adminCheckStatsigSegment:!1,adminUpdateStatsigSegmentIds:!1,adminAddEmailToBypass:!1,adminChangeEmail:!1,adminSetDisableSpacePublicAccess:!1,adminDisableReverifyForUser:!1,adminAddPublicEmailDomains:!1,adminSetPageContentClassification:!1,disableUserAnalytics:!1,revokeUserTokens:!1,recoverSpace:!1,recoverUser:!1,getUserAdminApiLog:!1,getSpaceAdminApiLog:!1,getBlockAdminApiLog:!1,getAdminHistory:!1,adminModifyBlock:!1,adminCreateMarketingRoute:!1,adminCountWordsInPage:!1,adminRestoreBlock:!1,adminDescribeDeletedBlockPermissions:!1,adminRestoreDeletedCollectionProperties:!1,adminViewDeletedCollectionProperties:!1,adminBulkApplyPromotionCodes:!1,adminSearchPermanentlyDeletedPages:!1,adminSearchSpaceActivity:!1,adminDescribeEditSpacePermission:!1,adminGetIntegrationData:!1,adminGetSlackIntegrationData:!1,adminGetSyncedDatabaseData:!1,adminForceResyncExternalObjects:!1,adminUpdateSubscription:!1,adminEditBlockPermissions:!1,adminUpdateNotionAIAvailabilityForSpace:!1,adminAddWebhookSubscriptionWithBot:!1,adminGetSpaceMembershipUpdates:!1,adminOptOutNotionAIDataSharing:!1,adminRecoverMfa:!1},c={"Block Edited":"block-edited",Commented:"commented","Page Locked":"page-locked","Page Unlocked":"page-unlocked","Permissions Edited":"permissions-edited","Page Permanently Deleted":"page-permanently-deleted","Page restored":"page-restored"};var d=o(33728),p=o(12174),u=o(27006),m=o(21202),g=o(77420),h=o(60897),f=o(97715),v=o(9844),y=o(78929),b=o(90468),S=o(29369),w=o(19889),k=o(28182),C=o(3791),_=o(97880),M=o(70411),T=o(66897),I=o(45953),P=o(63408),x=o(66079),B=o(33929),Z=o(8848);function E(e){window.__c={n:"AdminPageLink"};const{table:t,record:o,children:i}=e;return n()("a",{href:`/__admin/${t}/${o.id}`,style:{cursor:"pointer",textDecoration:"none"}},void 0,i||s.createElement(s.Fragment,null,o.name,o.name&&" ",o.id))}function R(e){window.__c={n:"AdminMiniUserLink"};const{user:t,children:o}=e;return t?n()("a",{href:`/__admin/notion_user/${t.id}`,style:{cursor:"pointer",textDecoration:"none"}},void 0,o||s.createElement(s.Fragment,null,t.email," ",t.isBot&&" (bot)")):s.createElement(s.Fragment,null,"Unknown User")}const A={fontWeight:o(82990).Z.fontWeight.bold,fontSize:20,display:"flex",alignItems:"center",marginBottom:6},D={fontSize:12,color:Z.ZP.mediumTextColor};function F(e){const{apiLog:t,adminUser:o}=e,i=o?(0,T.$4)(B.default.getIntl(),(0,T.dp)(o)):t.admin_user_id===w.s$.id?"NotionAdminProcess":`Unknown user: ${t.admin_user_id}`;return s.createElement(s.Fragment,null,`${new Date(t.timestamp).toLocaleString()} by `,n()("i",{},void 0,i)," via ",n()("i",{},void 0,t.event_name))}function L(e){const{opLog:t}=e,{operation:o}=t;return"set"===o.command||"update"===o.command?s.createElement(s.Fragment,null,n()("i",{},void 0,o.command)," ",n()("b",{},void 0,(o.path||[]).join("."))," to"," ",n()("b",{},void 0,JSON.stringify(o.args))):s.createElement(s.Fragment,null,JSON.stringify(t.operation))}function V(e){const{pointer:t,recordMap:o}=e,i=o&&o.get(t),{table:r}=t;if(!i)return s.createElement(s.Fragment,null);if(r===b.bx||r===m.iU)return n()(E,{record:i,table:r},i.id);if(r===k.Sr||r===P.j||r===x.dx){const e=i;return n()(E,{record:e,table:w.KJ},e.id)}return r===w.KJ?n()(E,{record:i,table:r},i.id,(0,T.$4)(B.default.getIntl(),(0,T.dp)(i))):s.createElement(s.Fragment,null,JSON.stringify(i))}function N(e){const{opLogs:t,recordMapJson:o}=e,i=(0,s.useMemo)((()=>o&&I.Ak.create(o)),[o]);return s.createElement(s.Fragment,null,t.map((e=>n()("li",{},e.id,n()(L,{opLog:e}),i&&" on ",n()(V,{pointer:e.operation.pointer,recordMap:i})))))}function O(e){window.__c={n:"AdminApiLogEntryComponent"};const{entry:t}=e;return n()("div",{},void 0,t.apiLog?n()(F,{apiLog:t.apiLog,adminUser:t.adminUser}):"????",n()("ul",{style:{marginTop:"0.1em",marginBottom:"0.5em"}},void 0,t.apiLog&&n()("li",{},"params","with params: ",JSON.stringify(t.apiLog.params)),n()(N,{opLogs:t.opLogs})))}function U(e){const{data:t}=e;return 0===t.changes.length?s.createElement(s.Fragment,null,"No changes"):s.createElement(s.Fragment,null,t.changes.map((e=>n()(O,{entry:e},e.apiLog?e.apiLog.id:"unknown_key"))))}var H=o(13991),z=o(61784),W=o(3104),j=o(36360);function K(e){const{time:t}=e;return t?s.createElement(s.Fragment,null,t):s.createElement(s.Fragment,null,"No time recorded")}const Y=e=>{let{data:t,keyPath:o}=e;return o.includes("permissions")&&"from"===o[0]?{element:n()("span",{},void 0,t.parentLevel),expanded:!1}:null};var G=o(64369);function X(e){const[t,o]=s.useState(!1),{title:i,items:r,renderItem:a}=e;return s.createElement(s.Fragment,null,n()(G.Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4,marginBottom:8}},void 0,i,": ",(r||[]).length,n()("span",{style:{paddingLeft:5,cursor:"pointer",color:"blue",textDecoration:"underline",fontSize:"small"}},void 0,!t&&n()("a",{onClick:()=>o(!0)},void 0,"(show)"),t&&n()("a",{onClick:()=>o(!1)},void 0,"(hide)")),t&&r&&n()("ul",{},void 0,r.map(a))))}function q(e){window.__c={n:"AdminSearchSpacesUserList"};return n()(X,{title:e.title,items:e.users,renderItem:e=>n()("li",{},e.id,n()(R,{user:e}))})}function $(e){window.__c={n:"AdminSearchSpacesBotList"};return n()(X,{title:e.title,items:e.bots,renderItem:e=>{var t;return n()("li",{},e.id,e.name||"unnamed"," created by ",null===(t=e.createdBy)||void 0===t?void 0:t.id," on"," ",e.createdAt,", type: ",e.type)}})}function J(e){let{teams:t}=e;window.__c={n:"AdminSearchSpacesTeamList"};return n()(X,{title:"Teamspaces",items:t,renderItem:e=>n()("li",{},e.id,e.name)})}var Q=o(64684);var ee=o(28121);const te={fillRule:"evenodd",clipRule:"evenodd",fill:"#635BFF"},oe=()=>n()("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 468 222.5",style:{height:"15px"}},void 0,n()("g",{},void 0,n()("path",{style:te,d:"M414,113.4c0-25.6-12.4-45.8-36.1-45.8c-23.8,0-38.2,20.2-38.2,45.6c0,30.1,17,45.3,41.4,45.3 c11.9,0,20.9-2.7,27.7-6.5v-20c-6.8,3.4-14.6,5.5-24.5,5.5c-9.7,0-18.3-3.4-19.4-15.2h48.9C413.8,121,414,115.8,414,113.4z M364.6,103.9c0-11.3,6.9-16,13.2-16c6.1,0,12.6,4.7,12.6,16H364.6z"}),n()("path",{style:te,d:"M301.1,67.6c-9.8,0-16.1,4.6-19.6,7.8l-1.3-6.2h-22v116.6l25-5.3l0.1-28.3c3.6,2.6,8.9,6.3,17.7,6.3 c17.9,0,34.2-14.4,34.2-46.1C335.1,83.4,318.6,67.6,301.1,67.6z M295.1,136.5c-5.9,0-9.4-2.1-11.8-4.7l-0.1-37.1 c2.6-2.9,6.2-4.9,11.9-4.9c9.1,0,15.4,10.2,15.4,23.3C310.5,126.5,304.3,136.5,295.1,136.5z"}),n()("polygon",{style:te,points:"223.8,61.7 248.9,56.3 248.9,36 223.8,41.3 \t"}),n()("rect",{x:"223.8",y:"69.3",style:te,width:"25.1",height:"87.5"}),n()("path",{style:te,d:"M196.9,76.7l-1.6-7.4h-21.6v87.5h25V97.5c5.9-7.7,15.9-6.3,19-5.2v-23C214.5,68.1,202.8,65.9,196.9,76.7z"}),n()("path",{style:te,d:"M146.9,47.6l-24.4,5.2l-0.1,80.1c0,14.8,11.1,25.7,25.9,25.7c8.2,0,14.2-1.5,17.5-3.3V135 c-3.2,1.3-19,5.9-19-8.9V90.6h19V69.3h-19L146.9,47.6z"}),n()("path",{style:te,d:"M79.3,94.7c0-3.9,3.2-5.4,8.5-5.4c7.6,0,17.2,2.3,24.8,6.4V72.2c-8.3-3.3-16.5-4.6-24.8-4.6 C67.5,67.6,54,78.2,54,95.9c0,27.6,38,23.2,38,35.1c0,4.6-4,6.1-9.6,6.1c-8.3,0-18.9-3.4-27.3-8v23.8c9.3,4,18.7,5.7,27.3,5.7 c20.8,0,35.1-10.3,35.1-28.2C117.4,100.6,79.3,105.9,79.3,94.7z"})));function ie(e){window.__c={n:"AdminMiniSpace"};const{space:t,userRole:o}=e;return n()("li",{},t.id,n()(E,{table:"space",record:t})," • role: ",o," ",t.isDeleted&&" (deleted)"," •",n()("a",{href:t.billing.stripeCustomerUrl,style:{cursor:"pointer"}},void 0,n()(oe,{})))}function ne(e){const{spaces:t,title:o}=e;return 0===Object.keys(t).length?null:s.createElement(s.Fragment,null,n()("div",{},void 0,n()("h3",{},void 0,o),n()("b",{},void 0,`Count: ${Object.keys(t).length}`),n()("ol",{},void 0,Object.entries(t).map((e=>{let[t,o]=e;if(!o)return n()("li",{},t,t," (missing?)");const{space:i,userRole:r}=o;return a().isEmpty(o)?n()("li",{},t,"Unknown space: ",t):n()(ie,{space:i,userRole:r})})))))}var re=o(24405),ae=o(3779);function se(e){window.__c={n:"SlackGlobalUser"};const{globalUser:t}=e;return n()("div",{},void 0,n()("h3",{},void 0,"Slack Global User"),t?s.createElement(s.Fragment,null,n()("div",{},void 0,n()("b",{},void 0,"Global User Id: "),t.id),n()("div",{},void 0,n()("b",{},void 0,"Slack Enterprise Id: "),t.slack_enterprise_id||"N/A"),n()("div",{},void 0,n()(ce,{slackGlobalUserPreferences:t.preferences}))):"N/A")}function le(e){window.__c={n:"SlackLocalUser"};const{slackLocalUsers:t}=e,o=t.length;return n()("div",{},void 0,n()("h3",{},void 0,`Slack Local Users (${o})`),o>0?n()("ol",{},void 0,t.map(((e,t)=>n()("li",{},t,n()("div",{},void 0,n()("b",{},void 0,"Slack User Id:")," ",e.slack_local_user_id),n()("div",{},void 0,n()("b",{},void 0,"Slack Workspace Id:")," ",e.slack_workspace_id))))):"N/A")}function ce(e){const{slackGlobalUserPreferences:t}=e;return s.createElement(s.Fragment,null,n()("h3",{},void 0,"User Preferences"),t?n()(W.Z,{data:t,hideHelp:!0}):"N/A")}function de(e){window.__c={n:"SlackIntegrationNotionBotIds"};const{notionTokens:t,spaces:o}=e,i=t.length;return n()("div",{},void 0,n()("h3",{},void 0,`Notion Bot Ids (${i})`),i>0?n()("ol",{},void 0,t.map(((e,t)=>n()("li",{},t,n()("div",{},void 0,n()("b",{},void 0,"Bot Id: "),e.notion_bot_id),n()("div",{},void 0,n()("b",{},void 0,"Bot Creator: "),n()(R,{user:e.botCreator})),n()("div",{},void 0,n()("b",{},void 0,"Notion Workspace: "),o[e.notion_workspace_id]?n()(E,{table:"space",record:{id:o[e.notion_workspace_id].id,name:o[e.notion_workspace_id].name}}):s.createElement(s.Fragment,null,e.notion_workspace_id)),n()("div",{},void 0,n()("b",{},void 0,"Is Token Alive?: "),`${e.alive}`))))):"N/A")}function pe(e){window.__c={n:"AccordionToggle"};const[t,o]=s.useState(!1),i=(0,re.yK)((e=>({accordionItem:{border:`1px ${Z.FN.dark.gray[850]} solid`,borderRadius:4,marginTop:8},accordionItemTitle:{display:"flex",justifyContent:"space-between",padding:"6px 12px",cursor:"pointer",userSelect:"none"},accordionItemHeading:{display:"flex",alignItems:"center"},accordionItemDetails:{paddingLeft:38,paddingRight:24,transition:"all 0.2s ease"},rightStyle:{width:22,height:18}})),[]);return n()("div",{style:i.accordionItem},void 0,n()("div",{style:i.accordionItemTitle,onClick:()=>o(!t)},void 0,n()("div",{style:i.accordionItemHeading},void 0,n()("div",{},void 0,e.title)),e.children&&n()("div",{style:{display:"flex",alignItems:"center"}},void 0,ae.Z.chevronDownThin({width:12,height:12,color:Z.ZP.regularIconColor,transform:t?"rotate(180deg)":void 0,transition:"transform 0.2s ease"}))),n()("div",{style:{...i.accordionItemDetails,opacity:t?1:0,flex:t?1:0,paddingBottom:t?8:0,transform:t?"translate3d(0,-4px,0)":"translate3d(0,-8px,0)"}},void 0,t&&e.children))}var ue=o(77907);var me=o(59730);var ge=o(84076),he=o(95477),fe=o(79315),ve=o(10161);const ye={find:{title:"Find user and workspace information"},pricing:{title:"Pricing and credits"},recovery:{title:"Recovery"},security:{title:"Security"},rateLimits:{title:"Rate limits"},experiments:{title:"Experiments"},findAdminLogs:{title:"Find Admin logs"},utilities:{title:"Utilities"},integrations:{title:"Integrations"},marketing:{title:"Marketing"},domainClaim:{title:"Domain Claim (Management)"},spaceConsolidation:{title:"Workspace Consolidation"},ai:{title:"Notion AI"}},be=Object.keys(ye);let Se;function we(){const e=fe.default.state.currentUserStore,t=null==e?void 0:e.getEmail();if(t){return"makenotion.com"===(0,d.Gd)(t)}return!1}function ke(e,t){for(const o in e.schema){const i=e.schema[o];if(i.type===Se.String&&i.table===t)return{key:o,schema:i}}}function Ce(e,t){if(e.apiName.match(t)||a().startCase(e.apiName).match(t))return!0;if(e.displayName&&e.displayName.match(t))return!0;if("string"==typeof e.description&&e.description.match(t))return!0;for(const[o,i]of Object.entries(e.schema)){if(o.match(t)||a().startCase(o).match(t))return!0;if(i.comment&&i.comment.match(t))return!0}return!1}!function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Boolean=2]="Boolean",e[e.Options=3]="Options",e[e.Csv=4]="Csv",e[e.Image=5]="Image",e[e.Images=6]="Images"}(Se||(Se={}));const _e="local"===he.Z.env?[{sectionName:"utilities",apiName:"adminCopyPageBetweenEnvironments",displayName:"Copy Block between Environments",emoji:"🔁",description:["Copies a page and its descendents between two server environments ","(e.g. development and production). Copied content will become a child ","page under the destination page. Note: internal page links may break ","and user mentions will point to random users in the destination space.","","This tool is only available on the local environment due to our security policies.",`Also, the target must be on this server environment (${he.Z.env}).`].join("\n"),schema:{fromPageUrl:{type:Se.String,comment:"The page to copy. Example: https://www.notion.so/notion/Human-resources-5-bdfc23d160984392bdeea37255d7f95d"},toPageUrl:{type:Se.String,comment:"The page to insert the copied content. Example: https://www.notion.so/notion/Human-resources-5-bdfc23d160984392bdeea37255d7f95d"}},isReadOnly:!1,isDestructive:!0}]:[],Me="production"===he.Z.env?[{sectionName:"integrations",apiName:"adminJoinSpacesForOauthRedirect",displayName:"Add a makenotion.com user to workspaces for OAuth redirect",emoji:"🔀",description:"Adds email as a member to 2 specific workspaces in prod that lets Notinos use certain integrations like Typeform in dev or staging. See guide: https://dev.notion.so/notion/Installing-Integrations-on-Dev-how-to-demo-faa4055c377c47a99a7ba6b2a7cc8c6b",schema:{email:{type:Se.String}},isDestructive:!1,isReadOnly:!1}]:[],Te=[{sectionName:"find",apiName:"adminSearchUsers",displayName:"Find User Information",emoji:"🔎",isReadOnly:!0,description:"Fill out just one of the fields below. Returns information about a user.",schema:{userId:{type:Se.String,table:w.KJ,showByDefaultInSingleRecordMode:!0},email:{type:Se.String}},customResponseRenderer:function(e){const{data:t,singleRecordMode:o}=e;return s.createElement(s.Fragment,null,o&&n()(j.Z,{title:`Notion User Admin: ${(0,T.$4)(B.default.getIntl(),(0,T.dp)({...t,version:0}))}`}),n()(ne,{title:"Current Spaces",spaces:t.spaces}),n()(ne,{title:"Left Spaces",spaces:t.leftSpaces}),n()("h3",{},void 0,"Full Response"),n()(W.Z,{data:t,hideHelp:!0}),n()(ee.Z,{email:t.email}))}},{sectionName:"findAdminLogs",apiName:"getUserAdminApiLog",displayName:"Find Admin Changes to User",emoji:"🔎",description:"Returns information about changes admins have made to a user.",isReadOnly:!0,schema:{userId:{type:Se.String,table:w.KJ,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:U},{sectionName:"findAdminLogs",apiName:"getAdminHistory",displayName:"Find Changes an Admin User has made",emoji:"🔎",description:"Returns information about changes admins have made via admin tools",isReadOnly:!0,schema:{userId:{type:Se.String,table:w.KJ,showByDefaultInSingleRecordMode:!1},destructiveOnly:{type:Se.Boolean,defaultValue:!0}},customResponseRenderer:function(e){const{data:t}=e;return 0===t.changes.length?s.createElement(s.Fragment,null,"No changes"):s.createElement(s.Fragment,null,t.changes.map((e=>{const{apiLog:o,opLogs:i}=e;return n()(s.Fragment,{},o.id,new Date(o.timestamp).toDateString()," via ",o.event_name," - ",i&&i.length>0?n()(N,{opLogs:i,recordMapJson:t.adminRecordMap}):n()(ue.LazyAdminReactJson,{data:o.params}),n()("br",{}))})))}},{sectionName:"find",apiName:"adminSearchSpaces",displayName:"Find Workspace Information",emoji:"🔎",description:"Fill out just one of the fields below. Returns information about a workspace.",isReadOnly:!0,schema:{spaceId:{type:Se.String,table:b.bx,showByDefaultInSingleRecordMode:!0},domain:{type:Se.String},stripeCustomerId:{type:Se.String}},customResponseRenderer:function(e){const{data:t,singleRecordMode:o}=e,i=a().isNumber(t.users)?void 0:a().groupBy(t.users,"role"),r=Array.isArray(t.bots)?t.bots:[];return s.createElement(s.Fragment,null,o&&n()(j.Z,{title:`Notion Space Admin: ${t.name}`}),n()("h2",{},void 0,t.name," ",t.id,t.isDeleted&&n()("span",{style:{color:"red"}},void 0," DELETED")),n()("div",{},void 0,"Created By: ",n()(R,{user:t.createdBy})," on"," ",t.createdTime),t.isDeleted&&n()("div",{},void 0,"Deleted On: ",t.lastEditedTime),n()("div",{},void 0,i&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Users by Role"),n()(q,{title:"Admins",users:i.admin}),n()(q,{title:"Membership admins",users:i.membership_admin}),n()(q,{title:"Members",users:i.member}),n()(q,{title:"Guests",users:i.guest}),n()($,{title:"Bots",bots:r})),t.teams&&n()("div",{},void 0,n()("div",{},void 0,"Teamspaces"),n()(J,{teams:t.teams})),t.billing.isSubscribed&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Billing"),n()(W.Z,{hideHelp:!0,data:t.billing})),t.spaceRequest&&n()("div",{},void 0,n()("div",{style:{marginTop:12,marginBottom:4}},void 0,"Space Request"),n()(W.Z,{hideHelp:!0,data:t.spaceRequest}))),n()("div",{},void 0,"Full Response",n()(W.Z,{data:t,hideHelp:!0})))}},{sectionName:"find",apiName:"adminSearchBlocks",displayName:"Find Block Information",emoji:"🔎",description:"Fill out the block id (can be from a page URL). Returns information about the block.",isReadOnly:!0,schema:{blockId:{type:Se.String,table:m.iU,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:function(e){var t;const{data:o,singleRecordMode:i}=e,r=o.deleted.trashedByParent,a=o.deleted.permanentlyDeletedByParent;return s.createElement(s.Fragment,null,i&&n()(j.Z,{title:`Notion Block Admin: ${o.id}`}),n()("div",{style:{...A,paddingTop:5}},void 0,"Block ",o.id,o.deleted.isPermanentlyDeleted?" (permanently deleted)":o.deleted.isInTrash?" (in trash)":""),n()("div",{style:D},void 0,n()("div",{},void 0,"in space: ",n()(E,{table:"space",record:o.space})),o.createdBy&&n()("div",{},void 0,"created by: ",n()(R,{user:o.createdBy})," on"," ",n()(K,{time:o.createdTime})),o.lastEditedBy&&n()("div",{},void 0,"last edited by: ",n()(R,{user:o.lastEditedBy})," on"," ",n()(K,{time:o.lastEditedTime})),!o.deleted.isPermanentlyDeleted&&o.deleted.isInTrash&&(r?n()("div",{},void 0,"in trash due to: user trashed parent -"," ",n()(E,{table:r.table,record:r}),")"):n()("div",{},void 0,"in trash due to: user trashed this block")),o.deleted.isPermanentlyDeleted&&(a?n()("div",{},void 0,"permanently deleted due to: parent being permanently deleted"," ",a.table,":",a.id):n()("div",{},void 0,"permanently deleted due to: user permanently deleted this block")),(null===(t=o.publicStatus)||void 0===t?void 0:t.isPublic)&&n()("div",{},void 0,"Page made ",n()("b",{},void 0,"public")," on"," ",o.publicStatus.permission.added_timestamp?(0,z.Yx)(o.publicStatus.permission.added_timestamp,"medium",H.SP):"N/A"," ","and"," ",o.publicStatus.isAllowedToBeServedOnBaseUrl?n()("span",{},void 0,"is ",n()("b",{},void 0,"allowed")," to be served on notion.so"):n()("span",{},void 0,"notion.so links will ",n()("b",{},void 0,"redirect")," to notion.site"))),n()("div",{},void 0,"Full Response",n()(W.Z,{data:o,hideHelp:!0,customCollapsedRenderers:[Y]})))}},{sectionName:"find",apiName:"adminSearchTeams",displayName:"Find Teamspace Information",emoji:"🔎",description:"Fill out the teamspace id. Returns information about the teamspace.",isReadOnly:!0,schema:{teamId:{type:Se.String,table:S.e0,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:function(e){const{data:t,singleRecordMode:o}=e;return s.createElement(s.Fragment,null,o&&n()(j.Z,{title:`Notion Teamspace Admin: ${t.name}`}),n()("h2",{},void 0,t.name," ",t.id,t.archivedBy&&n()("span",{style:{color:"red"}},void 0," ARCHIVED")),n()("div",{style:{marginBottom:16}},void 0,n()("div",{},void 0,"Created By: ",n()(R,{user:t.createdBy})," on ",t.createdTime),n()("div",{},void 0,"Access level: ",n()("b",{},void 0,(0,Q.B5)(t.settings)))),n()("div",{},void 0,"Full Response",n()(W.Z,{data:t,hideHelp:!0})))}},{sectionName:"findAdminLogs",apiName:"getSpaceAdminApiLog",displayName:"Find Admin Changes to Space",emoji:"🔎",description:"Returns information about changes admins have made to a space.",isReadOnly:!0,schema:{spaceId:{type:Se.String,table:b.bx,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:U},{sectionName:"findAdminLogs",apiName:"getBlockAdminApiLog",displayName:"Find Admin Changes to Block",emoji:"🔎",description:"Returns information about changes admins have made to a block.",isReadOnly:!0,schema:{blockId:{type:Se.String,table:m.iU,showByDefaultInSingleRecordMode:!0}},customResponseRenderer:U},{sectionName:"find",apiName:"adminSearchForUsersInSpaces",displayName:"Find All Unique Users in Workspaces",emoji:"🔎",description:"Download a CSV with unique users in each workspace",isReadOnly:!0,schema:{spaceIds:{type:Se.String,comment:"Comma-separated space_ids to search through for unique users",table:b.bx},includeGuests:{type:Se.Boolean,comment:"whether to include guests in the response"}}},{sectionName:"find",apiName:"adminGetDataAccessConsent",displayName:"Check data access consent expiry time",isReadOnly:!0,emoji:"🔐",description:"Check if the user has granted access and when that access will expire.",schema:{email:{type:Se.String}}},{sectionName:"find",apiName:"adminSearchPermanentlyDeletedPages",displayName:"Find permanently deleted pages in a workspace",isReadOnly:!0,emoji:"🙏🏽",description:"Find permanently deleted pages in a space. The result set is limited to 1000, please let us know in #eng-team if you need to load more.",schema:{spaceId:{type:Se.String,comment:"Workspace id to search for deleted pages (required)",table:b.bx},query:{type:Se.String,comment:"Return only deleted pages that match content (optional)"}}},(()=>{const e=(0,_.Yd)(c);return{sectionName:"find",apiName:"adminSearchSpaceActivity",displayName:"Search updates on a workspace",isReadOnly:!0,emoji:"🔎",description:"Search updates that have occured on a workspace.",schema:{spaceId:{type:Se.String,comment:"Workspace id to search",table:b.bx},blockId:{type:Se.String,comment:"Block id to search",table:m.iU},activityType:{type:Se.Options,comment:"(optional) Filter by activity type",options:e},startDate:{type:Se.String,comment:"(optional) Date to start search from. Must be in yyyy-mm-dd format."},endDate:{type:Se.String,comment:"(optional) Date to search on or before. Must be in yyyy-mm-dd format."}}}})(),{sectionName:"find",apiName:"adminGetPublicPages",displayName:"Get public pages in a Workspace",isReadOnly:!0,emoji:"🔎",description:"Gets public pages for a workspace. Defaults to fetching a maximum of 1000 pages if no explicit limit is set.",schema:{spaceId:{type:Se.String,table:b.bx},limit:{type:Se.Number,comment:"Optional max number of pages to retrieve. Defaults to 1000 if none is specified."},downloadAsCsv:{type:Se.Boolean,comment:"Download the results as a CSV of public page URLs instead"}},isDestructive:!1},{sectionName:"find",apiName:"adminGetBulkSpaceIdsByDomain",displayName:"Get bulk workspace ids by domain",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of domains, and get back a map and list of space ids. Used for quickly getting spaces for beta user feature flags.",schema:{domains:{type:Se.String}}},{sectionName:"find",apiName:"adminGetBulkSpaceIdsByEmail",displayName:"Get bulk workspace by user emails",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of user emails (up to 100), and get back a map and list of all spaces the users belong to. Used for quickly getting spaces for beta user feature flags.",schema:{emails:{type:Se.String}}},{sectionName:"find",apiName:"adminGetBulkUserIdsByEmail",displayName:"Get bulk user ids by user emails",isReadOnly:!0,emoji:"🚛",description:"Enter a comma-separated list of user emails (up to 100), and get back a map and list of all their user IDs. Used for quickly getting users for beta user feature flags.",schema:{emails:{type:Se.String}}},{sectionName:"pricing",apiName:"adminWhitelistCreditDomain",emoji:"🚩",description:"Add a domain name to allowlist for credits.",isReadOnly:!1,schema:{domain:{type:Se.String}}},{sectionName:"pricing",apiName:"adminUpdateSubscription",emoji:"💵",description:"Only for Tier 2 & 3 access",isReadOnly:!1,schema:{spaceId:{type:Se.String,table:b.bx},plan:{type:Se.Options,options:[...new Set([...h.AO,...h.BV])],comment:"Optional, only fill out if you want to change the plan."},billing:{type:Se.Options,options:[...h.b7],comment:"Required if the user is not upgraded yet. Otherwise optional, only fill out if you want to change the billing type."},billingEmail:{type:Se.String,comment:"This field is required if you are selecting Billing=send_invoice and the subscription has no email currently. Otherwise, it is optional."},dontProrate:{type:Se.Boolean,comment:"If checked, changing the subscription will not affect the account balance."},dontResetBillingCycle:{type:Se.Boolean,comment:"If checked, upgrading the subscription to a higher tier mid-term will not reset its billing cycle."}},isDestructive:!0},{sectionName:"pricing",apiName:"adminCancelSubscription",isReadOnly:!1,emoji:"😢",schema:{spaceId:{type:Se.String,table:b.bx},cancelImmediately:{type:Se.Boolean,comment:"If unchecked, the user will still be subscribed until the end of the current billing period. If checked, the user will lose access to their subscription immediately"}},isDestructive:!0},{sectionName:"pricing",apiName:"adminUpdateAddOnSubscription",emoji:"🤖",isReadOnly:!1,schema:{spaceId:{type:Se.String,table:b.bx},addOn:{type:Se.Options,options:[...new Set([...C.YD])],comment:"Optional, only fill out if you want to change the add-on."},isCancellation:{type:Se.Boolean,comment:"Optional, only check if you want to remove this add-on."},coupon:{type:Se.String,comment:"Optional, only fill out if you want to apply a coupon."}},isDestructive:!0},{sectionName:"pricing",apiName:"adminDowngradeFraudSubscription",displayName:"Downgrade Fraud Subscription",description:"This tool will downgrade a subscription to a free subscription, clear their balance if they have a negative balance, and ensure they aren't using send_invoice as a billing method. Please be careful when using this and make sure you have gotten approval to downgrade a customer.",isReadOnly:!1,emoji:"⬇️",schema:{spaceId:{type:Se.String,table:b.bx},reason:{type:Se.String,comment:"Reason for downgrading the customer, e.g. ach_abuse, credit_abuse, or other"},description:{type:Se.String,comment:"Any additional info that might be helpful if we need to investigate this subscription."}},isDestructive:!0},{sectionName:"pricing",apiName:"getBillingHistory",emoji:"📜",isReadOnly:!0,schema:{spaceId:{type:Se.String,table:b.bx},limit:{type:Se.Number,defaultValue:100}}},{sectionName:"pricing",apiName:"adminGetUserBillingInformation",displayName:"Find User's Billing Information",emoji:"🔎",description:"Fill out just one of the fields below. Returns the open invoices and billing info for the user.",isReadOnly:!0,schema:{userId:{type:Se.String,table:w.KJ},email:{type:Se.String}}},{sectionName:"pricing",apiName:"adminBulkApplyPromotionCodes",displayName:"Bulk apply promotion codes",emoji:"🎁",description:"",isReadOnly:!1,schema:{csv:{type:Se.Csv,name:"csv",comment:"columns must be DOMAIN and PROMO_CODE"}}},{sectionName:"pricing",apiName:"adminBulkCreateTimedTrials",displayName:"Startup Program Only: TTs",emoji:"🕰️",description:"Only authorized Startup Program members should use this tool to provision 3m or 6m TTs. Spaces must not be on a paid plan already.",isReadOnly:!1,schema:{period:{type:Se.Options,options:["3m","6m"],defaultValue:"6m"},csv:{type:Se.Csv,name:"csv",comment:"Startup Workspace CSVs. List of domains, csv should have a single column DOMAIN"}}},{sectionName:"security",apiName:"disableUserAnalytics",emoji:"👻",description:s.createElement(s.Fragment,null,n()("p",{},void 0,"Disable/Enable Intercom, Amplitude and Event Trail for a user. The user may need to log out/log in to see changes."),n()("p",{},void 0,"If analytics are disabled, the user will no longer see Intercom, so they will have to reach out to team@makenotion.com for support. These emails route to Intercom."," ")),isReadOnly:!1,schema:{userId:{type:Se.String,table:w.KJ},enableAnalytics:{type:Se.Boolean}},isDestructive:!0},{sectionName:"security",apiName:"adminSetDisableSpacePublicAccess",emoji:"🙅‍♀️",description:"Disable public pages for a workspace. Use this for DMCA takedowns or phishing scammers. Disabling public pages is silent: users will still be able to click the button in the UI, but their pages will not appear publicly.",isReadOnly:!1,schema:{spaceId:{type:Se.String,table:b.bx},disabled:{type:Se.Boolean,defaultValue:!0},intercomLink:{type:Se.String},explanation:{type:Se.String,comment:"Why are you changing this setting?"}},isDestructive:!0},{sectionName:"security",apiName:"adminSetPageContentClassification",emoji:"🏛",description:"",isReadOnly:!1,schema:{pageId:{type:Se.String,table:m.iU},contentClassification:{type:Se.Options,options:m.XO},url:{comment:"External link url (optional). Use this if the notion page links to a malicious site outside of notion.so - all pages containing this url will be flagged if this is set.",type:Se.String},intercomLink:{type:Se.String},overrideVerified:{comment:"Only required if page is currently verified",type:Se.Boolean},reason:{comment:"Required. Why are you classifying this page?",type:Se.String}},isDestructive:!0},{sectionName:"security",apiName:"adminDisableReverifyForUser",emoji:"️♻️",description:"Disables the reverification flow for users who no longer have access to their email account. Use sparingly (and ideally only for education accounts).",isReadOnly:!1,schema:{userId:{type:Se.String,table:w.KJ}},isDestructive:!0},{sectionName:"security",apiName:"adminAddPublicEmailDomains",emoji:"📪",description:"Add domains as a comma-separated list to disallow them from being used as allowed email domains, e.g. domains that are email providers. This will also remove the domain from any workspace that currently has the domain set as an allowed email domain.",isReadOnly:!1,schema:{domains:{type:Se.String}},isDestructive:!0},{sectionName:"security",apiName:"adminDeleteSpaces",confirmationApiName:"adminDescribeSpacesToDelete",emoji:"❌",description:"Delete spaces as a comma-separated list. Use this for deleting spaces of churned users or to quickly remove malicious workspaces.",isReadOnly:!1,schema:{spaceIds:{type:Se.String,table:b.bx}},isDestructive:!0},{sectionName:"security",apiName:"adminResetAccounts",confirmationApiName:"adminDescribeAccountsToReset",emoji:"🧹",description:"Logs out users and optionally resets their passwords.",isReadOnly:!1,schema:{userIds:{type:Se.String,table:w.KJ},emails:{type:Se.String},resetPassword:{type:Se.Boolean,comment:"Check this box if you want to reset users' passwords as well."}},isDestructive:!0},{sectionName:"pricing",apiName:"createReferral",emoji:"🗣",description:'Manually create a referral from one user to another. This will automatically apply credits to both user accounts. Check in "Find User Information" to confirm.',isReadOnly:!1,schema:{fromEmail:{type:Se.String},toEmail:{type:Se.String}},isDestructive:!0},{sectionName:"pricing",apiName:"isEmailEducation",emoji:"👩🏻‍🎓",description:"Is this email or domain an education email or domain?",isReadOnly:!0,schema:{email:{type:Se.String,comment:"E.g. name@school.edu or school.edu"}}},{sectionName:"pricing",apiName:"allowEducationEmails",emoji:"📚",description:"Add email domains and/or addresses that are allowed to get free Education plan.",isReadOnly:!1,schema:{allow:{type:Se.String,comment:"Comma-separated emails and domains to allow, e.g. clownschool.ca, imastudent@gmail.com, strandford.edu, student4eva@hotmail.com"}}},{sectionName:"pricing",apiName:"adminRemoveAllowedEducationEmails",displayName:"Remove Allowed Education Emails",emoji:"🧑‍🎓",description:"Remove email domains and/or addresses that are allowed to get free Education plan.",isReadOnly:!1,schema:{toRemove:{type:Se.String,comment:"Comma-separated emails and domains to remove, e.g. clownschool.ca, imastudent@gmail.com, strandford.edu, student4eva@hotmail.com"}}},{sectionName:"pricing",apiName:"getPromoCode",emoji:"🆓",description:"Get information on a Stripe coupon code.",isReadOnly:!0,schema:{code:{type:Se.String}}},{sectionName:"pricing",apiName:"adminBulkAddPromotionCodes",emoji:"🆓",description:"Adds Promotion codes to an existing Stripe coupon.",isReadOnly:!1,schema:{coupon:{type:Se.String,comment:"The id of the coupon in Stripe"},codes:{type:Se.String,comment:"Comma-separated list of promotion codes"},expirationDate:{type:Se.String,comment:"Should be in the format Month-Day-Year (eg. 03-30-1993)"}}},{sectionName:"pricing",apiName:"adminGetSpaceMembershipUpdates",displayName:"View Space Membership Updates",emoji:"🔍",description:"View log of membership updates to paid workspaces. This includes teamspace guests in addition to members. Used by the daily prorations cron.",isReadOnly:!0,schema:{spaceId:{type:Se.String,comment:"Space Id to lookup"},date:{type:Se.String,comment:"(Optional) Date to filter on, defaults to show everything starting from today. ISO format e.g. 2023-03-24"}}},{sectionName:"recovery",apiName:"adminRemoveSpaceUsersAndTransferContent",displayName:"Remove Users and Transfer Content",emoji:"⚠️",description:"For enterprise customers, provide a comma-separated list of emails for users to remove from the space and transfer ownership to a workspace admin. If customer users SCIM, make sure they have already removed these users through SCIM.",isReadOnly:!1,schema:{spaceId:{type:Se.String},emails:{type:Se.String,comment:"Emails of users to remove and transfer content from."},usersAlreadyRemoved:{type:Se.Boolean,comment:"Check this box if customer uses SCIM, and users have already been removed through SCIM."},adminEmail:{type:Se.String,comment:"Must be an admin of the workspace. The permission change to the content will be performed as this user."},transferMemberEmail:{type:Se.String,comment:"Optional. If filled in, private pages of the removed accounts will be transferred into this account's private pages."}}},{sectionName:"recovery",apiName:"recoverSpace",emoji:"👩‍👩‍👧‍👧",description:s.createElement(s.Fragment,null,n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Recovery-Accounts-Workspaces-Pages-Content-de4ef68179e441f4a720eb345c72cdee#03ca1aa5a662491097fa1802263a4a53"},void 0,"Usage Guide"),n()("br",{}),n()("br",{}),"Recover a deleted workspace. The workspace will be restored to the user who deleted it. The email of this user will be shown in a popup after you restore."),isReadOnly:!1,schema:{spaceId:{type:Se.String,table:b.bx}},isDestructive:!0},{sectionName:"recovery",apiName:"adminFindDeletedUser",emoji:"😵",description:"Find deleted accounts associated with an email address. You can recover any of the resulting accounts using the userId.",isReadOnly:!1,schema:{email:{type:Se.String}},isDestructive:!0,customResponseRenderer:function(e){const{data:t}=e;return s.createElement(s.Fragment,null,n()("div",{style:A},void 0,t.users.length," deleted users found"),t.users.map((e=>n()("div",{},void 0,n()(E,{table:"notion_user",record:e},void 0,e.id)))),n()(W.Z,{data:t}))}},{sectionName:"recovery",apiName:"recoverUser",emoji:"❤",description:"Recover a deleted account. Any workspaces that got deleted when they deleted their account will be restored, with them as the only admin. Shared workspaces will not be restored – users have to ask a current admin to add them back.",isReadOnly:!1,schema:{userId:{type:Se.String,table:w.KJ}},isDestructive:!0},{sectionName:"recovery",apiName:"adminRecoverMfa",emoji:"📱",description:"Reset MFA on an account. All existing MFA methods will be disabled, and a single recovery backup code will be emailed to the user.",isReadOnly:!1,schema:{userId:{type:Se.String,table:w.KJ}},isDestructive:!0},{sectionName:"recovery",apiName:"adminChangeEmail",emoji:"🔷",description:s.createElement(s.Fragment,null,n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Change-Account-Emails-f547667d52e3473081eab9f62e3a52e3"},void 0,"Usage Guide"),n()("br",{}),n()("br",{}),"Change a user's email. This tool has serious security implications so please follow the process closely."),isReadOnly:!1,schema:{oldEmail:{type:Se.String},newEmail:{type:Se.String}},isDestructive:!0},{sectionName:"recovery",apiName:"adminSwapUserEmails",emoji:"✉️",description:s.createElement(s.Fragment,null,"Change multiple users emails from a CSV.",n()("br",{}),n()("br",{}),"This tool has serious security implications. Please make sure you got prior approval to do this. The maximum number of rows allowed for the CSV is 100.",n()("br",{})),isReadOnly:!1,schema:{spaceId:{type:Se.String,table:b.bx},csv:{type:Se.Csv,name:"csv",comment:"columns must be OLD_EMAIL and NEW_EMAIL"},previewChanges:{type:Se.Boolean,defaultValue:!0}},isDestructive:!0},{sectionName:"recovery",apiName:"adminSwapUserDomains",emoji:"✉️",description:s.createElement(s.Fragment,null,"Change the email domains of all the users for an enterprise customer to a new email domain.",n()("br",{}),n()("br",{}),"This tool has serious security implications. Please make sure you got prior approval to do this.",n()("br",{}),n()("br",{}),"Example:",n()("br",{}),"Old Email Domain: makenotion.com",n()("br",{}),"New Email Domain: notion.so"),isReadOnly:!1,schema:{oldEmailDomain:{type:Se.String},newEmailDomain:{type:Se.String}},isDestructive:!0},{sectionName:"recovery",apiName:"adminModifyBlock",emoji:"👩‍👩‍👧‍👧",description:s.createElement(s.Fragment,null,"Trash or recover a block"),schema:{blockId:{type:Se.String,table:m.iU},action:{type:Se.Options,options:["Send to Trash","Restore from Trash"],defaultValue:"Restore from Trash"}},isReadOnly:!1,isDestructive:!0},{sectionName:"recovery",apiName:"adminRestoreBlock",confirmationApiName:"adminDescribeDeletedBlockPermissions",emoji:"♻️",description:s.createElement(s.Fragment,null,"Restore a trashed or permanently deleted block."),schema:{blockId:{type:Se.String,table:m.iU}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminDeleteUser",emoji:"🗑",description:"Delete user data from Notion's internal databases. By default, users will be permanently purged 30 days after the deletion request. If 'Purge Immediately for GDPR' is checked, user data will be permanently purged at once, rather than in 30 days. Use this option with care, as user data cannot be recovered. 'Purge Immediately for GDPR' will also delete from Segment and Amplitude.",schema:{userId:{type:Se.String,table:w.KJ},purgeImmediatelyForGDPR:{type:Se.Boolean}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"revokeUserTokens",displayName:"Log user out of active sessions",emoji:"🖥",description:"Revoke all user tokens. This will sign users out of all active sessions, and they'll have to log in again.",schema:{userId:{type:Se.String,table:w.KJ}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"revokeBotToken",emoji:"🤖",description:"Revoke a bot's token. A new token will automatically be generated for the bot.",schema:{botId:{type:Se.String,table:g.cZ}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminSamlConfigForSpace",emoji:"🔐",description:"Add email domain(s) to a workspace for SAML SSO. If they already have a domain configured, this will overwrite it. Leave email domains blank to see the current SAML configuration for a space. To delete SAML config, just provide spaceId of space that needs config to be deleted.",schema:{spaceId:{type:Se.String,table:b.bx},emailDomains:{type:Se.String,comment:"Comma-separated list of email domains you want to add or remove from this workspace. Ownership of domain must be verified."},spaceIds:{type:Se.String,comment:"Comma-separated list of workspace IDs you want to add or remove from this workspace's SAML configuration. Ownership of the workspaces must be verified."},action:{type:Se.Options,options:[...y.BA],defaultValue:"view",comment:"View the current configuration, add/remove the specified email domain(s) and/or additional workspace ID(s), or delete the current configuration."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminDeleteFileFromS3",confirmationApiName:"adminDescribeDeleteFileFromS3",displayName:"Delete S3 file",emoji:"🗄️",description:"Enterprise ONLY. Mark an S3 file as deleted and make it no longer accessible by any user (it might still be available in user's browser cache). File will be permanently deleted after 7 days.",schema:{spaceId:{type:Se.String,table:b.bx,comment:"The space ID that is requesting this file be deleted."},fileUrl:{type:Se.String,comment:"(optional) The URL to the file in S3 if you have it."},fileId:{type:Se.String,comment:"(optional) The ID of the file that is to be deleted from S3."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminPrimaryWorkspaceChange",displayName:"Swap SAML primary workspace",emoji:"🧀",description:"Swap the primary workspace of a SAML config to one of the secondary workspaces on the same SAML config. Note: The Assertion Consumer Service (ACS) URL must be updated in the customer's IDP for the change to take effect.",schema:{currentPrimarySpaceId:{type:Se.String,table:b.bx},newPrimarySpaceId:{type:Se.String,table:b.bx,comment:"The ID of the secondary workspace that will become the new primary workspace."}},isReadOnly:!1,isDestructive:!0},{sectionName:"security",apiName:"adminGetSamlConfig",displayName:"Find SAML config using email domain",emoji:"🔎",description:"Returns the SAML config for the provided email domain, if found.",schema:{emailDomain:{type:Se.String}},customResponseRenderer:function(e){const{data:t}=e;return s.createElement(s.Fragment,null,n()("h2",{},void 0,"SAML config for ",t.emailDomain),t.samlConfig?n()("div",{},void 0,n()(W.Z,{data:t.samlConfig,hideHelp:!0})):n()("div",{},void 0,"No SAML config found"))},isReadOnly:!0},{sectionName:"security",apiName:"adminGetSpacesForAllowedEmailDomain",displayName:"Find spaces with the allowed email domain",emoji:"🔎",description:"Returns spaces with the provided email domain in the allowed email domains list.",schema:{domain:{type:Se.String,comment:"Example: makenotion.com"},limit:{type:Se.Number,defaultValue:10,comment:"Limit the number of spaces returned. Optional."}},customResponseRenderer:function(e){let{data:{domain:t,spaces:o}}=e;return s.createElement(s.Fragment,null,n()("h2",{},void 0,"Spaces with allowed email domain ",t),n()("div",{},void 0,n()(W.Z,{data:o,hideHelp:!0})))},isReadOnly:!0},{sectionName:"security",displayName:"Add Email to Bypass",apiName:"adminAddEmailToBypass",emoji:"📧",description:"Add a list of emails seperated by ',' to validation bypass list. Emails in this list will not be validated by Zerobounce during sign up.",schema:{emails:{type:Se.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"experiments",apiName:"adminGetStatsigExperiment",displayName:"Statsig - Get Experiment Group",emoji:"🔎",description:"Get Statsig Experiments As an User, Device or Space",schema:{experimentId:{type:Se.Options,options:[...p.XY],comment:"Must pick an experiment"},userId:{type:Se.String,comment:"Optional for experiments not targeting userId."},deviceId:{type:Se.String,comment:"Optional for experiments not targeting deviceId."},spaceId:{type:Se.String,comment:"Optional for experiments not targeting spaceId."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminGetStatsigFeatureGate",displayName:"Statsig - Get Feature Gate",emoji:"🔎",description:"Get Statsig Feature Gate As an User, Device or Space",schema:{gateName:{type:Se.Options,options:[...p.dn],comment:"Must pick a feature gate"},userId:{type:Se.String,comment:"Optional for experiments not targeting userId."},deviceId:{type:Se.String,comment:"Optional for experiments not targeting deviceId."},spaceId:{type:Se.String,comment:"Optional for experiments not targeting spaceId."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminCheckStatsigSegment",displayName:"Statsig - Check Segment",emoji:"🕵️",description:s.createElement(s.Fragment,null,"Check information about a single Statsig Segment.",n()("br",{}),n()("br",{}),n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://docs.statsig.com/segments#:~:text=%E2%80%8B,or%20simply%20using%20user%20IDs."},void 0,"What are Statsig Segments?"),n()("br",{}),n()("br",{}),'You can use the "count" information to check how many Ids exist in the Segment before and after updating. Note that updating Segment can take up to a couple of minutes to take effect.'),schema:{segmentId:{type:Se.String,comment:"Segment Id"}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminUpdateStatsigSegmentIds",displayName:"Statsig - Add or Delete IDs to Segment",emoji:"🖊️",description:s.createElement(s.Fragment,null,"Add or Delete Ids (userId, deviceId, spaceId) to Statsig ID List type Segment.",n()("br",{}),n()("br",{}),"Notice this does not apply to Conditional type Segment.",n()(ge.Z,{underline:!0,inline:!0,external:!0,href:"https://dev.notion.so/notion/Setup-Experiments-and-Feature-Gates-in-Statsig-01bc0c59680c4cea96229aeae2354e09#37875afd56424f4d8ce0a1dfd82f2391"},void 0,"Segment types: conditional vs ID list"),n()("br",{}),n()("br",{}),"Use the Check Segment tool to check the number of Ids (count) before and after updating. Note that updating Segment can take up to a couple of minutes to take effect."),schema:{segmentId:{type:Se.String,comment:"Segment Id"},idsToAdd:{type:Se.String,comment:"Comma-separated ids to add to Segment. Accept dash or dashless IDs, dashless IDs will be transformed into dash IDs. Doesn't matter if space is provided between ids."},idsToDelete:{type:Se.String,comment:"Comma-separated ids to delete from Segment Accept dash or dashless IDs, dashless IDs will be transformed into dash IDs. Doesn't matter if space is provided between ids."},emailsToAdd:{type:Se.String,comment:"Comma-separated list of user emails (up to 100) to add to user Id level Segment. Emails will be converted to user ids (uuid with dash) before getting inserted."},emailsToDelete:{type:Se.String,comment:"Comma-separated list of user emails (up to 100) to delete from user Id level Segment. Emails will be converted to user ids (uuid with dash) before getting deleted."},domainsToAdd:{type:Se.String,comment:"Comma-separated list of domains (short domain, e.g makenotion) to add to space Id level Segment. Domains will be converted to space ids (uuid with dash) before getting inserted."},domainsToDelete:{type:Se.String,comment:"Comma-separated list of domains (short domain, e.g makenotion) to delete from space Id level Segment. Domains will be converted to space ids (uuid with dash) before getting deleted."}},isReadOnly:!1},{sectionName:"experiments",apiName:"adminGetClientExperiments",displayName:"[Deprecating] Get Experiments As User or Device",emoji:"🤔",description:"Get all experiments and experiment groups for the given user or device ID. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{userId:{type:Se.String},deviceId:{type:Se.String,comment:"Optional. If left blank, experiments that target deviceId will not return a group."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminViewExperiments",displayName:"[Deprecating] View All Experiments",emoji:"🔬",description:"View all experiments with groups and overridden users. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{active:{type:Se.Boolean},experimentId:{type:Se.String,comment:"Optional. If left blank, we'll show all experiments."}},isReadOnly:!0},{sectionName:"experiments",apiName:"adminUpdateExperiment",displayName:"[Deprecating] Update Experiment",emoji:"📄",description:"For a given experiment group, put users, devices, or spaces into that group OR update the population. If you try to add individuals into groups AND update the population percentage you will get an 'Invalid input' error. This is the in-house framework. Please use Statsig for Experiments instead.",schema:{experimentTarget:{comment:"Can be by users, devices, or workspaces. Will throw an error if target does not match experiment.",type:Se.Options,options:[...f.bt]},identifiers:{comment:"As a comma-separated list. Can be user ids, user emails, device ids, workspace ids, or workspace domains.",type:Se.String},percentage:{comment:"A percentage between 0 and 100. Any increase or decrease in percentage will be taken from/ given back to the control group. Cannot update control's percentage directly.",type:Se.Number},experimentId:{type:Se.String},experimentGroup:{type:Se.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"experiments",apiName:"adminSetupExperiment",displayName:"[Deprecating] Set up an experiment",emoji:"👩‍🔬",description:"Set up the experiment in the current environment. Don't forget to set it up in other environments too! This is the in-house framework. Please use Statsig for Experiments instead.",schema:{experimentId:{type:Se.String},targetType:{type:Se.Options,options:[...f.bt],comment:"Must pick a type"}},isDestructive:!0,isReadOnly:!1},{sectionName:"rateLimits",apiName:"adminGetRateLimits",displayName:"Get rate limits by email",emoji:"⚠️",description:"Fetch rate limits via a given email.",schema:{email:{type:Se.String,comment:"Fetch rate limits which are enforced via the email."}},isReadOnly:!0},{sectionName:"rateLimits",apiName:"adminResetRateLimits",displayName:"Reset rate limits for email key",emoji:"⚠️",description:"Reset common rate limits for email keys.",schema:{email:{type:Se.String,comment:"The target email for which the rate limits are to be reset."},resetSendTemporaryPassword:{type:Se.Boolean,comment:"Reset the send_temporary_password ratelimit for this user. This is hit when the user attempts to make too many login requests within a short time"},resetSendTemporaryPasswordPerDay:{type:Se.Boolean,comment:"Reset the send_temporary_password_per_day ratelimit for this user. This is hit when the user exceeds the total number of login requests per day"},resetLoginWithEmail:{type:Se.Boolean,comment:"Reset the login_with_email ratelimit for this user. This is hit when the user attempts to make too many login requests with an email"},resetLoginWithPassword:{type:Se.Boolean,comment:"Reset the login_with_password ratelimit for this user. This is hit when the user attempts to make too many login requests with an incorrect password"}},isReadOnly:!1},..._e,{sectionName:"utilities",apiName:"adminCountWordsInPage",displayName:"Count words in page",emoji:"🔢",description:"Counts the words in a page and its descendents",schema:{blockUrl:{type:Se.String,comment:"The link to the page"}},isDestructive:!1,isReadOnly:!0},{sectionName:"recovery",apiName:"adminSetSpaceDomain",emoji:"️🌌",description:"Sets the domain of a workspace without checking reserved or badWords list",schema:{spaceId:{type:Se.String,table:b.bx},domain:{type:Se.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"recovery",apiName:"adminViewDeletedCollectionProperties",displayName:"View deleted properties to a database",emoji:"♻️",description:"View any properties that were deleted in a database on or after September 2021.",schema:{collectionViewPageId:{type:Se.String,table:m.iU,comment:"The ID of the database when opened as a full page."},rowsToCheck:{type:Se.Number,defaultValue:100,comment:"Select number of rows to check if a property has actual content （max: 5000）"}},isDestructive:!1,isReadOnly:!0},{sectionName:"recovery",apiName:"adminRestoreDeletedCollectionProperties",displayName:"Restore deleted properties to a database",emoji:"♻️",description:"Restores any properties that were deleted in a database on or after September 2021.",schema:{collectionViewPageId:{type:Se.String,table:m.iU,comment:"The ID of the database when opened as a full page."},propertyName:{type:Se.String,table:m.iU,comment:"The property name to recover."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminEditBlockPermissions",displayName:"Edit block permission for a user",emoji:"👀",description:"Updates the the permission for a user on a block. Block must be a navigable block type (page, collection view, or collection).",schema:{blockId:{type:Se.String,table:m.iU},userId:{type:Se.String,table:w.KJ},role:{type:Se.Options,options:u.Av,defaultValue:"none",comment:"Set role to none if you want to remove the user's permission(s) on the block."},force:{type:Se.Boolean,defaultValue:!1,comment:"Set to true to add permissions regardless of space plan type."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",confirmationApiName:"adminDescribeEditSpacePermission",apiName:"adminEditSpacePermissions",displayName:"Edit space permission for a user",emoji:"👀",description:"Updates the the permission for a user on a space.",schema:{spaceId:{type:Se.String,table:b.bx},userId:{type:Se.String,table:w.KJ},role:{type:Se.Options,options:u.Av,defaultValue:"none",comment:"Set role to none if you want to remove the user's permission(s) on the space. Set to editor to make them an admin."},force:{type:Se.Boolean,defaultValue:!1,comment:"Set to true to add permissions regardless of space plan type."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminEditTeamMembership",displayName:"Add or remove a user from a teamspace",emoji:"👀",description:"Teamspace must not be a default teamspace.",schema:{teamId:{type:Se.String,table:S.e0,comment:"You can find the team ID from the 'teams' list in 'Find Space Information'."},userIdToAdd:{type:Se.String,table:w.KJ,comment:"Can be empty. User will be added as teamspace member."},addedUserRole:{type:Se.Options,options:["member","owner"],defaultValue:"member",comment:"Will give the user the specified role on the teamspace."},userIdToRemove:{type:Se.String,table:w.KJ,comment:"Can be empty."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminUpdateTeamMember",displayName:"Update a teamspace member's role",emoji:"👀",description:"Change a user from member to admin or vice-versa. If the user is not a member of the team, this will not do anything.",schema:{teamId:{type:Se.String,table:S.e0,comment:"You can find the team ID from the 'teams' list in 'Find Space Information'."},userIdToUpdate:{type:Se.String,table:w.KJ,comment:"User to be modified with the specified role."},userRole:{type:Se.Options,options:["member","owner"],defaultValue:"member",comment:"Will give the user the specified role on the teamspace."}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminUpdateUserSettings",displayName:"Update a user's settings",emoji:"⚙",description:"This allows us to retrigger onboarding material like modals and tooltip tours that only happen once. Use for testing and QA only!",schema:{userId:{type:Se.String,table:w.KJ,comment:"User whose settings will be modified."},settingsToUpdate:{type:Se.String,table:k.Sr,comment:'A JSON object with the keys and corresponding values to be updated. e.g. { "seen_views_intro_modal": false }'}},isDestructive:!0,isReadOnly:!1},{sectionName:"utilities",apiName:"adminShowCustomerInvoice",emoji:"🧾",description:s.createElement(s.Fragment,null,"View the notion invoice we show to our customers.",n()("br",{}),n()("br",{}),"Please input the stripe invoice id of the customer below."),schema:{invoiceId:{type:Se.String}},isDestructive:!1,isReadOnly:!0,customResponseRenderer:function(e){window.__c={n:"AdminShowCustomerInvoice"};const{data:t}=e;return(0,me.Zw)(t)||t instanceof me.jc?null:t.upcoming?n()(ue.LazyInvoice,{route:{name:"upcomingInvoice",spaceId:t.spaceId}}):n()(ue.LazyInvoice,{route:{name:"invoiceById",invoiceId:t.invoiceId}})}},{sectionName:"security",apiName:"adminBlockEmailDomain",displayName:"Block email domain",emoji:"🚷",description:"Block or unblock an email domain",schema:{domain:{type:Se.String},action:{type:Se.Options,options:["block","unblock"],defaultValue:"block"},scope:{type:Se.Options,options:["signup","signup and login"],defaultValue:"signup"}},isDestructive:!0,isReadOnly:!1},{sectionName:"security",apiName:"adminBanUser",displayName:"Ban or unban user",emoji:"🚷",description:s.createElement(s.Fragment,null,"Ban users from using Notion. Users will be logged out and lose all access to Notion. Unbanning will allow them to login again.",n()("br",{}),n()("br",{}),"Possible options for Ban or Unban field are: 'ban' or 'unban'."),schema:{email:{type:Se.String},banOrUnban:{type:Se.String},category:{type:Se.Options,options:[...M.Jm],comment:"(required on ban)"},subcategory:{type:Se.Options,options:[...M.nh],comment:"(optional)"},other:{type:Se.String,comment:"If you selected 'other' as the category, please give a description. (optional)"}},isDestructive:!0,isReadOnly:!1},{sectionName:"integrations",apiName:"adminGetIntegrationData",displayName:"Get integration",emoji:"🤖",description:"Get information about an integration",schema:{integrationId:{type:Se.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"integrations",apiName:"adminGetSlackIntegrationData",displayName:"Get Slack integration information for user",emoji:"🤖",description:"Get information about a user's Slack integration",schema:{userId:{type:Se.String,comment:"A user's Notion or Slack user id"}},isDestructive:!1,isReadOnly:!0,customResponseRenderer:function(e){const{data:t}=e,{globalUserInformation:o}=t;return s.createElement(s.Fragment,null,n()("h3",{},void 0,"Slack Global Users (",o.length,")"),o.map((e=>s.createElement(s.Fragment,null,n()(pe,{title:n()("h4",{style:{margin:"10px"}},void 0,e.slackGlobalUser.id)},void 0,n()(se,{globalUser:e.slackGlobalUser}),n()(le,{slackLocalUsers:e.slackLocalUsers}),n()(de,{notionTokens:e.slackNotionTokens,spaces:e.spaces}))))),n()("h3",{},void 0,"Full Response"),n()(W.Z,{data:t,hideHelp:!0}))}},{sectionName:"integrations",apiName:"adminUpdateIntegrationData",displayName:"Update integration",emoji:"🤖",description:"Update an integration",schema:{integrationId:{type:Se.String},ownerId:{type:Se.String,comment:"Transfer ownership of this integration by passing in the user ID of the new owner."},status:{type:Se.Options,options:v.ZU},email:{type:Se.String},icon:{type:Se.Image},websiteUrl:{type:Se.String},privacyPolicyUrl:{type:Se.String},termsOfUseUrl:{type:Se.String},developerName:{type:Se.String},developerIcon:{type:Se.String},installationUrl:{type:Se.String,comment:"The URL a user would visit to install an integration directly via an 'Install Now' button."},installationInfoUrl:{type:Se.String,comment:"The URL a user would visit to learn more about installing an integration via a 'Learn More' button."},tagline:{type:Se.String},tags:{type:Se.String,comment:"Tags are used in the Integration Gallery to allow for quick filtering."},description:{type:Se.String},screenshots:{type:Se.Images}},isDestructive:!0,isReadOnly:!1},{sectionName:"integrations",apiName:"adminGetSyncedDatabaseData",displayName:"Get synced database information",emoji:"🤖",description:"Get information about a synced database",schema:{uri:{type:Se.String},spaceId:{type:Se.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"integrations",apiName:"adminForceResyncExternalObjects",displayName:"Force sync on external object blocks",emoji:"🤖",description:"When manual re-syncing isn't restoring/updating blocks, use this tool to get them back in sync. You can provide a list of known problematic urls OR input a collectionId to update all problematic collection child pages.",schema:{urls:{type:Se.String,comment:"A list of urls separated by a comma (e.g. https://github.com/makenotion/notion-next/pull/28176) **Leave blank if using collectionId"},collectionId:{type:Se.String,comment:"Id of collection. **Leave blank if using uris"},botId:{type:Se.String,comment:"Bot id that is associated with collection. **Required"},spaceId:{type:Se.String,comment:"Space id of the user. **Required"}},isDestructive:!1,isReadOnly:!1},{sectionName:"integrations",apiName:"adminRemoveChildFromExternalCollection",displayName:"Remove a child from a externally synced database",emoji:"⛑️",description:"For various reasons synced databases may end up with false duplicates. This tools will remove a child from a synced database. Be careful because this will remove the child in ALL instances of this synced collection. For synced databases, the URI should be the original link of the child page. It matters which of the duplicates you delete, if you are unsure which page is the false duplicate please consult the oncall engineer.",schema:{uris:{type:Se.String,comment:"A list of urls separated by a comma (e.g. https://github.com/makenotion/notion-next/pull/28176)"},botId:{type:Se.String},parent_collection_uri:{type:Se.String},spaceId:{type:Se.String}},isDestructive:!0,isReadOnly:!1},...Me,{sectionName:"marketing",apiName:"adminCreateMarketingRoute",displayName:"Create a Marketing Route",emoji:"🛣️",description:"Manually create a 302 redirection from 'https://notion.com${source}' to '${target}'. 'source' must start with '/', 'target' must be a valid url started with 'https://'.",schema:{source:{type:Se.String},target:{type:Se.String}},isDestructive:!0,isReadOnly:!1},{sectionName:"domainClaim",apiName:"adminGetDomainManagementSettings",displayName:"Get Domain Management Settings",emoji:"❓",description:"Retrieve domain management settings given a space or domain. Input only spaceId or domain.",schema:{spaceId:{type:Se.String},domain:{type:Se.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminIsSpaceDomainClaimEligible",displayName:"Check domain claim eligibility",emoji:"❓",description:"Check whether the target space ('Target Space Id') is eligible for domain claim actions by the enterprise space ('Enterprise Space Id').",schema:{enterpriseSpaceId:{type:Se.String},targetSpaceId:{type:Se.String}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminGetDomainClaimEligibleSpaces",displayName:"Get all domain claim eligible spaces",emoji:"⚙️",description:"Returns all domain claim eligible spaces given an enterprise space and email domain. The enterprise space must have these domains verified. By default returns up to 1000 spaces. You can specify a different limit.",schema:{spaceId:{type:Se.String},emailDomains:{type:Se.String,comment:"Comma separated list of email domains verified by the enterprise workspace."},limit:{type:Se.Number,comment:"Optional. By default returns up to 1000 spaces."}},isDestructive:!1,isReadOnly:!0},{sectionName:"domainClaim",apiName:"adminClaimAndUpgradeForSalesAssisted",displayName:"** Sales Assisted Customer Only** Claim and upgrade workspaces",emoji:"⬇️",description:"On the target workspace, downgrade existing workspace owners and add requesting EnterpriseWO as new workspace owner. Upgrade the target workspace to enterprise_free plan.",schema:{targetSpaceId:{type:Se.String,comment:"Space id of the workspace that should be claimed. Note, paid workspaces can only be claimed by the Finance team."},enterpriseSpaceId:{type:Se.String,comment:"Space id of the workspace that requested the claim"}},isDestructive:!1,isReadOnly:!1},{sectionName:"domainClaim",apiName:"adminDelayClaimSpaceDeletion",displayName:"Delay permanent deletion of deleted claimable space",emoji:"⏰",description:"For a workspace that was deleted using domain management, delay permanent deletion by 30 days from the time the delay is requested. The workspace will remain in a deleted state, and the workspace owners of the Enterprise space that initiated this deletion will be notified.",schema:{spaceId:{type:Se.String,comment:"Space id of the workspace that is pending permanent deletion."}},isDestructive:!0,isReadOnly:!1},{sectionName:"spaceConsolidation",apiName:"adminRunSpaceConsolidation",confirmationApiName:"adminDescribeRunSpaceConsolidation",displayName:"Run workspace consolidation",emoji:"🧩",description:"Consolidates a source workspace into a target enterprise workspace.",schema:{sourceSpaceId:{type:Se.String,comment:"Space id of the workspace whose content will be consolidated into the target space."},targetSpaceId:{type:Se.String,comment:"Space id of the workspace that is the destination for the contents of source space."},requestingUserId:{type:Se.String,comment:"ID for the user requesting this consolidation."},contactEmail:{type:Se.String,comment:"Contact email provided by the requestor to be used in communications. For example, if a user in this source space wants to reach out to someone about."}},isDestructive:!0,isReadOnly:!1,isHidden:!ve.default.checkGate("space_consolidation_ga")},{sectionName:"ai",apiName:"adminUpdateNotionAIAvailabilityForSpace",displayName:"Add/Remove Notion AI from a space",description:"Notion AI can only be disabled by Enterprise admins, but this tool allows support to remove AI from a spaces by request.",emoji:"🤖",schema:{spaceIds:{type:Se.String,comment:"Comma-separated space_ids to add/remove AI from",table:b.bx},action:{type:Se.Options,comment:"This setting will be applied to all spaces in the list",options:["turn_off_ai","turn_on_ai"],defaultValue:"turn_off_ai"}},isDestructive:!0,isReadOnly:!1},{sectionName:"ai",apiName:"adminOptOutNotionAIDataSharing",displayName:"Opt out users from Notion AI Data Sharing",description:"Opt out users that previously enrolled in Notion AI Data Sharing",emoji:"🛑",schema:{email:{type:Se.String,comment:"User email to opt out"}},isDestructive:!0,isReadOnly:!1},{sectionName:"integrations",apiName:"adminAddWebhookSubscriptionWithBot",displayName:"Add a DLP/SIEM integration to a workspace",emoji:"⏰",description:"This tool adds an allowed DLP/SIEM integration to a given workspace. Specifically, it adds a webhook subscription & bot for a given space & partner. The webhook subscription will subscribe to all currently eligible events. The partner options include: datadog, nightfall, panther, polymer, splunk, and sumologic.",schema:{spaceId:{type:Se.String,comment:"Space id of the workspace that wants to subscribe to webhooks.",table:b.bx},dlpPartnerName:{type:Se.String,comment:"Partner name. Accepted partners include: datadog, nightfall, panther, polymer, splunk, and sumologic."},webhookUrl:{type:Se.String,comment:"Webhook URL obtained from the customer and/or partner."},token:{type:Se.String,comment:"(optional) token provided by the customer and/or partner."}},isDestructive:!1,isReadOnly:!1}].filter((e=>!e.isHidden));function Ie(e){return e in l&&l[e]}const Pe=Te.filter((e=>!Ie(e.apiName)))},51456:(e,t,o)=>{o.r(t),o.d(t,{bucketizeBrowserVersion:()=>ge,deidentifyCurrentUser:()=>J,getAcceptLanguagePreference:()=>Be,getAcceptLanguageRaw:()=>xe,getAnalyticsUserPlanType:()=>Me,getClientEventTracker:()=>le,getCurrentEnvironmentData:()=>ue,getCurrentUserData:()=>fe,getCurrentUserIdentityData:()=>ve,getDeviceIdForAnalytics:()=>Pe,getIfAtLeastOneFreePlanType:()=>_e,getTeamEventData:()=>Ee,getUniqueEventMarker:()=>ne,identifyDevice:()=>q,identifyUser:()=>$,identifyWorkspace:()=>Q,initializeAnalyticsSettings:()=>we,isZendeskEnabled:()=>Ze,track:()=>se,trackSampled:()=>pe,trackThrottled:()=>de,updateSegmentUserTraits:()=>te});var i=o(96486),n=o.n(i),r=o(82496),a=o(65680);function s(e){let t=[];if(e.length>0){if(t=e.filter((e=>{let{code:t}=e;return(0,a.Qh)(t)})),0===t.length)return"en-US";const o=t[0].quality,i=t.filter((e=>{let{quality:t}=e;return t===o}));let n=i.find((e=>"en"===e.code));return n||(n=i[0]),function(e){let t=a.vi[e.code];return"es"===e.code?t="ES"===e.region?"es-ES":"es-LA":"zh"===e.code&&(t="TW"===e.region||"HK"===e.region?"zh-TW":"zh-CN"),t}(n)}return"en-US"}function l(e){return`v2/${function(e){return s(r.parse(e))}(e)}`}var c=o(15145),d=o(29450),p=o(46826),u=o(33728),m=o(47779),g=o(65917),h=o(77897),f=o(27006),v=o(29477),y=o(90850),b=o(4615),S=o(9852),w=o(47425),k=o(64684),C=o(10482),_=o(7250),M=o(64002),T=o(54642),I=o(95477),P=o(28020),x=o(33929),B=o(98165),Z=o(85957),E=o(12252),R=o(58455),A=o(51),D=o(79315),F=o(10161),L=o(88923),V=o(81236),N=o(3815),O=o(87956),U=o(78291),H=o(12955),z=o(57491);var W=o(67669),j=o(38755),K=o(21115),Y=o(8323),G=o(36867);const X="not_defined";async function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=R.default.verboseAnalytics;if(await m.fK({traits:e}),t)for(const o of e)console.log("track:%c identify","font-weight: bold;",o)}async function $(e){var t;const{environment:o,userId:i,traits:n}=e,r=R.default.shouldRefresh(i)?await we(o):R.default.state,a=function(e){const t=ve();if(!t.user_id)return;const{user_id:o,email:i,name:n,...r}=e;return{...r,user_id:t.user_id,email:t.email,name:t.name}}(n);if(!a)return void g.rateLimitedLog({level:"warning",from:"analyticsHelpers",type:"noCleanAnalyticsUser"});const s=(0,b.F9)(a.user_id),l=oe(),c=await ye(o),d=await ue(o);ee({environment:o,userId:s,traits:{...a,...d,space_has_paid_nonzero:!(!c||!("space_has_paid_nonzero"in c))&&c.space_has_paid_nonzero}});const u=x.default.getIntl(),h=null===(t=D.default.state.currentUserStore)||void 0===t?void 0:t.getFullName(u);if(_.$A({userId:s,userName:h,traits:a,settings:r}),null!=r&&r.isAmplitudeEnabled){const{accept_language_raw:e,accept_language_preference:t}=d,o=(0,p.Z)({accept_language_raw:e,accept_language_preference:t}),i={...a,user_email:a.email,...o};m.$A({userId:s,traits:i,spaceIds:l})}R.default.verboseAnalytics&&console.log("identify:",JSON.stringify(n))}const J=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.default.verboseAnalytics;await m.HX(),e&&console.log("deidentify user")};async function Q(e){const t=await ye(e);if(R.default.state.isIntercomEnabled){const e=await async function(e){const{currentUserRootStore:t,currentUserStore:o}=D.default.state;if(o&&t&&e){await Promise.all([t.load(),o.load()]);const i=t.getSpaceViewStores();await Promise.all(i.map((e=>e.load())));const r=n().compact(i.map((e=>e.getSpaceStore())));return await Promise.all(r.map((e=>e.load()))),n().compact(r.map((t=>{const i=t.isDefined()?{id:t.id,plan_type:t.getPlanType(),beta_enabled:t.getBetaEnabled()}:void 0;if(i){const n=(0,b.F9)(i.id);if(n===e.space_id){const n=U.default.state.data,r=K.XX(n),a={id:e.space_id,name:Ce(o,i.plan_type),size:(0,j.jv)(t).length,is_subscribed:"space_is_subscribed"in e&&e.space_is_subscribed,is_beta:Boolean(i.beta_enabled)};return r&&(a.plan=r.plan),"space_data_not_loaded"!==e.space_analytics_data_type&&e.space_created_time&&(a.company_created_at=e.space_created_time),a}return{id:n,name:Ce(o,i.plan_type),size:(0,j.jv)(t).length}}})))}return[]}(t);_.Jq({companiesData:e})}if(t){const o=await ue(e),i=ve(),n={...t,...o,...i};m.Jq({spaceId:t.space_id,spaceData:t}),async function(e){if(!R.default.state.isSegmentEnabled)return;const{environment:t,spaceId:o,spaceData:i}=e;if(!o)return;await T.identifySegmentWorkspace(t,{spaceData:i,spaceId:o,context:{page:{path:window.location.pathname,referrer:window.document.referrer,search:window.location.search,title:window.document.title,url:ncd.href()}}})}({environment:e,spaceId:t.space_id,spaceData:n})}}async function ee(e){if(!R.default.state.isSegmentEnabled)return;const t=oe(),{environment:o,userId:i,traits:r}=e,a={...r,...await async function(e){if(await(0,H.hasPermissionForThirdPartyServiceClient)("mutiny",e)){const e="mutiny.user.token",t=(0,d.getCookie)(e)||window.localStorage.getItem(e);if(t)return{mutinyVisitorId:t}}return{}}(o),integrations:{All:!0}};await T.identifySegmentUser(o,{userId:i,attributes:{...a,groups:t?n().uniq(t).slice(0,50):null}})}async function te(e,t){const o=e.currentUser.id;o&&await ee({environment:e,userId:(0,b.F9)(o),traits:t})}function oe(){return P.VU().map(b.F9)}const ie={};function ne(e){const{spaceId:t,userId:o,deviceId:i,eventName:n}=e,r=(0,b.Ul)(`${t}:${o}:${i}:${n}`),a=ie[r],s=Date.now();if(!a)return ie[r]=s,!0;const l=new Date(a),c=new Date(s);return l.getUTCDate()!==c.getUTCDate()?(ie[r]=s,!0):void 0}function re(){const e=O.Z.state;if(!e)return;return(0,P.zj)()===e.pageId?{queryId:e.queryId}:void 0}async function ae(e,t,o){const i=await ue(e),{preboot:r,dontWait:a}=o||{};a||r||await async function(e){e.currentUser.isLoggedIn()&&D.default.state.mainEditorCurrentBlockStore&&(await D.default.waitUntil((()=>Boolean(D.default.state.mainEditorCurrentBlockStore&&D.default.state.mainEditorCurrentBlockStore.isReady))),D.default.state.currentSpaceStore&&await U.default.waitUntilLoaded()),R.default.shouldRefresh(e.currentUser.id)&&await we(e)}(e);const s=a?void 0:await ye(e),l=ve(),{currentUserRootStore:c}=D.default.state,d=c&&c.isReady()?n().uniq(c.getSpaceViewStores().map((e=>e.getSpaceId()))).length:null;let p;F.default.state.isLoaded&&(p=F.default.getStatsigExperimentsMap());const{width:u,height:m}=e.WindowSizeStore.state,g=(0,z.getMobileNativeDeviceInfo)(),h=window.__mobileNativeSessionInfo??{},f=(null==s?void 0:s.space_id)||void 0;return{data:{...he(),...i,...s,...be(),...fe(),...re(),...g,...h,...l,experiments:p,experimentStoreLoaded:F.default.state.isLoaded,current_space_view_count:d,appSource:"client",windowWidth:u,windowHeight:m,unique_event_marker:ne({spaceId:f,userId:Te(),deviceId:i.device_id,eventName:t}),isActive:E.Z.state.active},spaceId:null==s?void 0:s.space_id}}async function se(e,t,o,i){try{const r=R.default.verboseAnalytics,{data:a,spaceId:s}=await ae(e,t,i),l=(0,p.Z)(n().cloneDeep({...o,...a}));_.j({eventName:t,eventData:l});const d={eventName:t,eventData:{...c.ni(l),sharedUUID:(0,b.ZP)()},spaceId:s};m.j(d),async function(e,t){if(!R.default.state.isSegmentEnabled)return;const{eventName:o,eventData:i,spaceId:n}=t,r=Te(),a=await Pe(e),s=c.Zk(a),l={...i,group:n};await T.trackSegmentEvent(e,{eventName:o,anonymousId:s,userId:r&&(0,b.F9)(r),properties:l,context:{locale:l.preferred_locale,page:{referrer:window.document.referrer,search:window.location.search}}})}(e,d),r&&console.log(`track:%c ${t}`,"font-weight: bold;",o)}catch(r){if(g.log({level:"error",from:"analyticsHelpers",type:"track",data:{eventName:t,miscDataToConvertToString:{e:r}}}),"local"===I.Z.env||"development"===I.Z.env)throw r}}function le(e){return{trackEvent:t=>{se(e,t.eventName,t.properties)}}}const ce={};function de(e,t,o,i,n){const r=ce[o],a=Date.now();return(!r||a-r>1e3*i)&&(ce[o]=a,se(e,t,n),!0)}function pe(e,t,o,i){(0,h.lB)(o)&&se(e,t,i)}async function ue(e){var t,o,i,r,a,s,l;const{device:c,RouterStore:d}=e,p=null===(t=d.getState())||void 0===t||null===(o=t.route)||void 0===o?void 0:o.name,u=Te(),m=(0,y.wo)(u),g=await Pe(e),{pathname:h,...f}=(0,M.nx)(null===(i=document.location)||void 0===i?void 0:i.href,(0,S.getUrlAnalyticsFromSessionStorage)())||{},v={app_version:c.version,desktop_app_version:c.desktopAppVersion,mobile_app_version:c.mobileAppVersion,is_desktop_app_or_browser:!c.isMobile,is_desktop:c.isElectron,is_mobile:c.isMobile,is_tablet:c.isTablet,is_react_native:c.isMobileNative,is_ios:c.isIOS,is_logged_in:Ie(e),deviceType:c.os,device_type:c.deviceType,device_os:c.os,platform:c.platform,browser:c.browserName,browser_version:c.browserVersion,browser_version_bucketized:ge(c.browserVersion,c.browserName),dnt:c.doNotTrackEnabled,device_id:g&&(0,b.F9)(g),tags:(0,S.getSessionAnalyticsTags)(),referral_user_id:m?(0,b.F9)(m):void 0,host:null===(r=document.location)||void 0===r?void 0:r.host,route_name:p,notion_top_level_domain:null===(a=document.location)||void 0===a||null===(s=a.host)||void 0===s||null===(l=s.split(".notion."))||void 0===l?void 0:l[1],referrer:document.referrer||"none",accept_language_raw:xe(),accept_language_preference:Be(),...f};return n().omitBy(v,n().isUndefined)}const me=new Set(["Safari","Mobile Safari"]);function ge(e,t){const o=e.split(".");return me.has(t)?o.slice(0,2).join("."):o[0]}const he=function(){const{currentSpaceViewStore:e}=D.default.state;return e&&e.isDefined()?{notify_desktop:e.getNotifyDesktop(),notify_email:e.getNotifyEmail(),notify_mobile:e.getNotifyMobile()}:{}},fe=function(){const{currentUserSettingsStore:e}=D.default.state;if(e&&e.isDefined()){let t={};const o=e.getSettings();return o&&(t={user_persona:o.persona,user_source:o.source,user_type:o.type,user_use_case:o.use_case,time_zone:o.time_zone,locale:o.locale,preferred_locale:o.preferred_locale,signup_time:o.signup_time,used_desktop_web_app:o.used_desktop_web_app,used_mobile_web_app:o.used_mobile_web_app,used_mac_app:o.used_mac_app,used_windows_app:o.used_windows_app,used_ios_app:o.used_ios_app,used_android_app:o.used_android_app,user_session_count:(0,G.g)(e.id)}),n().omitBy(t,n().isUndefined)}},ve=function(){const e={user_id:Te(),user_email:R.default.state.user_email,email:R.default.state.user_email,name:R.default.state.user_name};return n().omitBy(e,n().isUndefined)};async function ye(e){var t;await(0,v.OI)(2e3,[Promise.all([U.default.waitUntilLoaded(),A.Z.waitUntilLoaded()])]);const{data:o}=U.default.state,{currentUserStore:i,currentSpaceStore:r}=D.default.state,{publicPageData:a}=A.Z.state,s=(0,P.zj)(),l=s?(0,b.F9)(s):void 0,{mainEditorCurrentBlockStore:c}=D.default.state,d=null!=r&&r.isDefined()?{id:null==r?void 0:r.id,settings:null==r?void 0:r.getSettings(),email_domains:null==r?void 0:r.getEmailDomains(),plan_type:null==r?void 0:r.getPlanType(),initial_use_cases:null==r?void 0:r.getInitialUseCases(),invite_link_enabled:null==r?void 0:r.getInviteLinkEnabled(),created_by_id:null==r?void 0:r.getCreatedById(),created_time:r.getCreatedTime()}:void 0,p=(null==r?void 0:r.id)||(null==a?void 0:a.spaceId)||(null==c?void 0:c.getSpaceId()),u=Boolean(null==d||null===(t=d.settings)||void 0===t?void 0:t.is_teams_enabled);if(p&&i&&r&&o){const t=V.Z.getPublicSpaceData(e,p),i=K.YK(o),a=K.CM(o).length||0,s=K.su(o),c=K.lk(o),m=o.hasPaidNonzero,g=t?t.domain:void 0,h=d&&d.email_domains?d.email_domains:void 0,f=K.zl(e,o),v=d&&d.plan_type,y=n().isNumber(f)&&!Number.isNaN(f)&&f!==1/0?f:0;return{space_analytics_data_type:"space_member_data",subscription_tier:(0,Y.zt)(),page_id:l,space_id:(0,b.F9)(p),space_is_subscribed:i,space_visible_total:a,space_visible_members:s,space_visible_guests:c,space_block_usage:K.Lz(e,o),space_block_usage_over_limit:K.Ln(e,o),space_role:r.getRole(),space_block_usage_percent:y,space_timeline_view_usage:K._9(o)?o.timelineViewUsage:void 0,space_created_time:t?t.createdTime:void 0,available_credit:o.availableCredit,space_domain:g,space_email_domains:h,space_has_paid_nonzero:m,space_plan_type:v,space_initial_use_cases:d?d.initial_use_cases:void 0,space_invite_link_enabled:null==d?void 0:d.invite_link_enabled,space_created_by:null!=d&&d.created_by_id?(0,b.F9)(d.created_by_id):void 0,teams_is_enabled:u}}if(a){const t=a.spaceId?V.Z.getPublicSpaceData(e,a.spaceId):void 0;return{space_analytics_data_type:"space_nonmember_data",space_id:p?(0,b.F9)(p):void 0,space_domain:a.spaceDomain,page_id:l,subscription_tier:(0,Y.zt)(),space_created_time:t?t.createdTime:void 0,space_plan_type:t?t.planType:void 0,space_invite_link_enabled:null==d?void 0:d.invite_link_enabled,space_created_by:null!=d&&d.created_by_id?(0,b.F9)(d.created_by_id):void 0,teams_is_enabled:u}}return d?{space_analytics_data_type:"base_space_data",space_id:(0,b.F9)(d.id),space_created_time:d.created_time,space_plan_type:d.plan_type,space_invite_link_enabled:d.invite_link_enabled,space_created_by:d.created_by_id?(0,b.F9)(d.created_by_id):void 0,teams_is_enabled:u}:{space_analytics_data_type:"space_data_not_loaded",space_id:null!=r&&r.id?(0,b.F9)(null==r?void 0:r.id):void 0}}const be=function(){const e=L.default.state,t=Z.mH(),o=P.np();if(o){const i=W.YO(o).map((e=>{let{permissionItem:t}=e;return t})),r=i.find((e=>"public_permission"===e.type)),a=i.find((e=>"space_permission"===e.type)),s=i.filter((e=>"user_permission"===e.type&&(0,f.rz)(e.role))),l=i.filter((e=>"user_permission"===e.type&&(0,f.J5)(e.role))),c=function(e){const t=B.uJ(e),o=[];return n().flatten(t.map((e=>{if(e instanceof N.zX)return;const t=e.getCopiedFromPointer();return t&&C.JY(t)&&o.push(t.id),o})))}(o),d=Boolean(c)&&c.length>0,p=e.open?void 0:D.default.state.currentCollectionViewStore,{publicPageData:u}=A.Z.state,m=o.getCopiedFromPointer();return{page_id:o.id,page_public_role:r?r.role:X,page_space_role:a?a.role:X,page_all_collaborator_count:l.length+s.length,page_editor_collaborator_count:l.length,page_read_only_collaborator_count:s.length,page_content_count:o.getContentLength(),page_current_user_role:o.getRole(),page_is_peek:t,page_copied_from:m?(0,b.F9)(m.id):void 0,page_is_notion_template:!!m&&C.JY(m),page_is_template:o.isTemplate(),page_is_prepopulated:d,page_prepopulated_template_ids:c,page_is_database:o.isCollectionView(),page_view_type:p?p.getType():void 0,page_user_has_explicit_access:u?u.userHasExplicitAccess:X}}};const Se=new Map;async function we(e){const t=Te();if(t){if(!Se.has(t)){const o=ke(e,{loggedIn:!0});Se.set(t,o),o.then((()=>{Se.delete(t)})).catch((e=>{throw Se.delete(t),e}))}return Se.get(t)}return ke(e,{loggedIn:!1})}async function ke(e,t){t.loggedIn&&await D.default.waitUntilRendered();const{device:o}=e,i=await T.getUserAnalyticsSettings(e,{platform:o.isElectron?"desktop":o.isMobileNative?"mobile":"web"});if("success"!==i.type)return void g.log({level:"warning",from:"analyticsHelpers",type:"fetchAnalyticsSettings",data:{miscDataToConvertToString:{response:i}}});const n=i.data;return R.default.setState(n),n}const Ce=function(e,t){const o=e.getEmail();return o&&"team"===t?(0,u.Gd)(o):o||void 0};function _e(e){for(const t of e)if(t&&w.QM(t.subscriptionTier))return!0;return!1}function Me(e){const t=new Set;return e.forEach((e=>{e&&t.add(e.subscriptionTier)})),t.has("enterprise")?"enterprise":t.has("business")?"business":t.has("plus")?"plus":t.has("team")?"team":t.has("personal")?"personal_pro":t.has("team_free")?"team_free":t.has("personal_free")?"personal_free":t.has("free")?"free":"none"}function Te(){const e=R.default.state.user_id;return e?(0,b.F9)(e):void 0}function Ie(e){const t=function(e){var t;return(null==e||null===(t=e.currentUser)||void 0===t?void 0:t.id)||(0,H.getPublicDomainUserId)(e)}(e);return Boolean(t)}async function Pe(e){const t=await(0,H.getBrowserId)(e);return t&&(0,b.F9)(t)}function xe(){return F.default.getAcceptLanguageHeader()}function Be(){return l(xe()||"")}function Ze(){return"on"===F.default.getEligibleGroup({experimentId:"zendesk",defaultGroup:"unassigned"})}function Ee(e){var t;const o=e.id,i=e.isDefined()?{membership:e.getMembers(),settings:e.getSettingsStore().getValue(),is_default:e.isDefault(),description:e.getDescription(),icon:e.getIcon(),team_pages:e.getTeamPagesStore().getValue()}:void 0;if(!i||!i.settings)return{team_id:(0,b.cj)(o),no_team_value:!0};const n=i.membership||[];return{team_id:(0,b.cj)(o),team_current_size:n.length,team_current_num_users:n.filter((e=>"user"===e.entity_type)).length,team_current_num_groups:n.filter((e=>"group"===e.entity_type)).length,team_access_level:(0,k.B5)(i.settings),team_is_default:i.is_default,team_has_description:Boolean(i.description),team_has_icon:Boolean(i.icon),team_top_pages:(null===(t=i.team_pages)||void 0===t?void 0:t.length)??0}}},29350:(e,t,o)=>{o.d(t,{y:()=>a,t:()=>s});var i=o(11342),n=o(95477);function r(e){const{device:t}=e,o={};return t.version&&(o[i.ClientVersionHeader]=t.version),t.desktopAppVersion&&(t.isMac?o[i.MacVersionHeader]=t.desktopAppVersion:t.isWindows&&(o[i.WindowsVersionHeader]=t.desktopAppVersion)),t.mobileAppVersion&&(t.isIOS?o[i.IOSVersionHeader]=t.mobileAppVersion:t.isAndroid&&(o[i.AndroidVersionHeader]=t.mobileAppVersion)),t.auditLogPlatform&&(o["notion-audit-log-platform"]=t.auditLogPlatform),o}function a(e){return s({...e,format:"json"})}function s(e){const{environment:t,eventName:o,data:i,activeUserId:a,tracking:s,abortSignal:l,format:c}=e;return{environment:t,url:`${n.Z.api.http}/${o}${function(e){if(e)return`?${Object.keys(e).map((t=>"queuedTimestamp"===t?"throttledMs="+(Date.now()-e.queuedTimestamp):`${t}=${e[t]}`)).join("&")}`;return""}(s)}`,method:"POST",data:i,format:c,headers:{...r(t),"x-notion-active-user-header":a||""},abortSignal:l}}},28020:(e,t,o)=>{o.d(t,{Fv:()=>X,np:()=>q,zj:()=>$,_H:()=>J,B7:()=>Q,RM:()=>ee,xe:()=>te,h1:()=>ie,tu:()=>ne,Xb:()=>re,_u:()=>ae,hq:()=>se,k_:()=>le,kw:()=>ce,yn:()=>de,ui:()=>pe,CC:()=>ue,CP:()=>me,qQ:()=>ge,JE:()=>he,VV:()=>fe,VU:()=>ve,o:()=>ye,wU:()=>be,AK:()=>Se,Zy:()=>we,p5:()=>ke});var i=o(96486),n=o.n(i),r=o(14577),a=o(41432),s=o(89837),l=o(27006),c=o(98459),d=o(80984),p=o(21202),u=o(19889),m=o(53323),g=o(49427),h=o(34859),f=o(51),v=o(79315),y=o(80641),b=o(33784),S=o(55367),w=o(64233),k=o(73329),C=o(3418),_=o(42653),M=o(94416),T=o(48863),I=o(22294),P=o(19111),x=o(39218),B=o(19671),Z=o(13023),E=o(88923),R=o(3815),A=o(69784),D=o(13105),F=o(82187),L=o(55320),V=o(27724),N=o(10743),O=o(24666),U=o(16194),H=o(78316),z=o(85957),W=o(67669),j=o(65598),K=o(77546),Y=o(38755),G=o(23537);function X(){if(v.default.state.mainEditorCurrentBlockStore)return{id:v.default.state.mainEditorCurrentBlockStore.id,spaceId:(0,c.CG)(v.default.state.mainEditorCurrentBlockStore.pointer.spaceId)}}function q(){const e=E.default.state,t=z.mH();return e.open&&t?e.target:v.default.state.mainEditorCurrentBlockStore}function $(){if(v.default.state.mainEditorCurrentBlockStore)return v.default.state.mainEditorCurrentBlockStore.id}function J(){return z.Tx()?Z.Z:B.Z}function Q(e){let t;return v.default.state.currentUserStore?t=v.default.state.currentUserStore:e.currentUser.id&&(t=new R.U6(e,{table:u.KJ,id:e.currentUser.id})),t}function ee(){const e=V.default.getCurrentRootStore();if(e&&e instanceof R.G)return e}function te(e){const t=function(){var e;const t=v.default.state.currentSpaceViewStore;if(!t)return;const o=null===(e=t.getSettings())||void 0===e?void 0:e.home_page;return o?{table:p.iU,id:o,spaceId:t.getSpaceId()}:void 0}();return!!t&&e===t.id}const oe=new D.P({debugName:"getAppRenderState",memoizeRecursion:!0,deepEquals:!1,compute:function(e){var t;const{mainEditorCurrentBlockStore:o,initialized:i}=v.default.state,n=e.currentUser.isLoggedIn(),r=e.RouterStore.state.route,a=Boolean(o&&o.canRead()&&o.isDefined()),s=Boolean(o&&o.canEdit()&&o.isDefined()),c=Boolean(o&&(0,j.Oh)(o)),p=o&&a&&(0,W.IJ)(e,o),u=Boolean(p),m=p&&(0,l.J5)(p.permissionItem.role),g=s&&!m,h=(null==o||null===(t=o.getModel())||void 0===t?void 0:t.isNonverifiedContentClassification())&&!(o&&y.Z.bypassedPage(o.id))&&!g,{publicPageData:b}=f.Z.state,S=Boolean(n&&(!i||(0,d.wO)(r)||a&&(s&&!u||c&&!u)&&!h&&!(null!=b&&b.requireInterstitial))),w=Boolean((0,d.HK)(r)&&(!(0,d.wO)(r)&&!o||o&&o.isReady()&&!a||h||(null==b?void 0:b.requireInterstitial)||(null==b?void 0:b.requireLogin)&&!n));return{shouldShowSidebar:S,shouldShowFrame:!w,shouldShowError:w}}}),ie=e=>oe.getStateFor(e),ne=new r.Z((()=>{const{mainEditorCurrentBlockStore:e}=v.default.state,t=e&&e.isCollectionView();return I.Z.state.isKeyboardMode&&!U.Z.state&&!F.Z.isActive()&&!t&&!L.default.state.open&&!M.Z.state.open&&!(0,m.n)()&&0===k.Z.state.banners.length}),{debugName:"appHelpers.shouldHideTopbarStore"});function re(e){const{currentSpaceViewStore:t}=v.default.state;if(t){return n().union(t.getWorkspacePages(),(0,Y.KA)(e,t),t.getPrivatePages(e)).filter((e=>e.isNavigableBlock()))}return[]}function ae(e){const{currentSpaceViewStore:t}=v.default.state;return t?n().uniqBy([...t.getBookmarkedPages(),...t.getWorkspacePages(),...(0,Y.KA)(e,t),...t.getPrivatePages(e)],"id"):[]}function se(e){return e.getType()===a.Ti.copyIndicator&&!x.transactionQueue.isPendingTransactionForRecord(e.pointer)}const le=n().memoize((e=>new r.Z((()=>function(e){const{currentSpaceStore:t,currentSpaceViewStore:o,currentUserRootStore:i,currentUserSettingsStore:n}=v.default.state;if(!(o&&i&&t&&n))return;const r=(0,Y.jv)(t),a=o.getBookmarkedPages(),s=o.getWorkspacePages(),l=o.getTeamsStores(),{allSharedPagesStores:c,visibleSharedPagesStores:d}=(0,Y.MC)({environment:e,spaceViewStore:o,userSettingsStore:n}).state,p=o.getPrivatePages(e),u=(0,Y.Cx)(t),m=1===r.length&&0===s.length&&"personal"===t.getPlanType(),g=a.length>0,h=(0,G.XL)()?!u&&!(0,G.bq)()&&s.length>0:!u&&!m&&!(0,G.bq)(),f=c.length>0,y=n.hasUserPinnedToOutliner({spaceId:t.id,type:"shared"}),b=(0,G.XL)()?(0,G.bq)():(0,G.bq)()&&!m;return{isGuest:u,isPersonalSpace:m,showBookmarksSection:g,showWorkspaceSection:h,showSharedSection:f,showPrivateSection:!u,showOnlyPrivateSection:!(g||h||f||b),showSharedOverflowButton:c.length>Y.G$||y,stickTemplateItemsToBottom:a.length+c.length+s.length+p.length>=8,allSharedPagesStores:c,visibleSharedPagesStores:d,showTeamSection:b,userJoinedTeamsStores:l}}(e)),{useDeepEqual:!0,debugName:"sidebarStateStore"}))),ce=new r.Z((()=>I.Z.state.isKeyboardMode||A.Z.state.isActive||S.ZP.state.isDragging||N.Z.state.open||P.Z.state.open||w.Z.state.open||T.Z.state.open||C.Z.hasOpenMouseCapturePopup()||B.Z.state.isOpen&&!E.default.isMiniOrCenterPeekOpen()||Z.Z.state.isOpen||b.Z.state.open||_.Z.state.isPinned),{debugName:"menuIsOpenStore"}),de=new r.Z((()=>{const{currentSpaceViewStore:e,currentUserStore:t}=v.default.state,o=new Set;if(!e||!t)return o;for(const i of e.getTeamsStores()){i.getMembers().find((e=>"user"===e.entity_type&&e.user_id===t.id))&&o.add(i.id)}return o}),{useDeepEqual:!0,debugName:"userTeamsInCurrentSpace"});function pe(e){return e.device.isMobile&&!e.device.isTablet?24:96}const ue=900;function me(e){return e.device.isMobile&&!e.device.isTablet?0:96}function ge(e){const t=V.default.getCurrentDefaultContainer(),o=ue-2*pe(e);if(t){const e=g.Z.find((e=>e.props.store===t.props.store));if(e){const t=e.getContentInnerWidth();if(t)return Math.min(o,t)}}return o}function he(){const e=q(),t=O.default.state;if("editing"!==t.mode)return!1;const o=t.multiSelection.start.store;return e&&e.id===o.id&&o.path.includes("title")||!1}function fe(){const e=O.default.state;if("editing"!==e.mode)return!1;const t=e.multiSelection.start.store,o="collection"===t.table;return t.path.includes("name")&&o||!1}function ve(){const{currentUserRootStore:e}=v.default.state;if(e){const t=e.getSpaceViewStores();return n().compact(t.map((e=>e.getSpaceId())))}return[]}function ye(e){return n().uniqBy(e.getSpaceViewStores(),(e=>e.getSpaceId())).filter((e=>{const t=e.getSpaceStore();return e.isDefined()&&t&&t.canEdit()}))}async function be(e){await e.load();const t=e.getSpaceViewStores();await Promise.all(t.map((async e=>{await e.load();const t=e.getSpaceStore();t&&await t.load()})))}const Se=new r.Z((function(){const{currentUserSettingsStore:e}=v.default.state,t=(0,s.aN)();if(e){const o=e.getSettings();return void 0===(null==o?void 0:o.start_day_of_week)?t:null==o?void 0:o.start_day_of_week}return t}),{debugName:"userSettingsStartOfWeek"});function we(e){const{environment:t,store:o}=e;return o.isCollectionView()?(0,K.eA)(t)?h.Z.All:h.Z.Y:!(0,H.en)(o)&&E.default.isSidePeekOpen()?h.Z.All:h.Z.Y}function ke(e){const{isFullScreen:t,environment:o}=e;return t&&(0,K.eA)(o)?h.Z.None:h.Z.X}},77373:(e,t,o)=>{o.d(t,{p:()=>m});var i=o(96486),n=o.n(i),r=o(5366),a=o(10161),s=o(68821),l=o(93959),c=o(5575),d=o(28410),p=o(70538),u=o(54258);(0,r.defineMessages)({namePropertyTitle:{defaultMessage:"Name",description:"Name property",id:"appTemplates.namePropertyTitle"}});const m=n().memoize((()=>[(0,p.Y8)(),(0,d.Rt)(),(0,c.zX)(),(0,u.po)()]),(()=>{const e={proj_management_sprints:(0,l.wY)(),proj_management_sprints_upgrade:(0,l.Ru)(),github_integration:a.default.checkGate("github_integration"),better_asana_importer:(0,s.c)(),proj_management_sprint_page_add_on:(0,l.Fk)()};return JSON.stringify(e)}))},93959:(e,t,o)=>{o.d(t,{VL:()=>y,fJ:()=>S,pP:()=>w,yM:()=>k,ED:()=>C,SP:()=>_,F0:()=>M,vi:()=>T,KC:()=>I,oX:()=>x,_3:()=>Z,Mi:()=>E,Zu:()=>R,K5:()=>A,AG:()=>D,TD:()=>F,h7:()=>L,cR:()=>V,Hw:()=>N,EE:()=>O,$Q:()=>U,FQ:()=>j,hZ:()=>K,rC:()=>Y,K8:()=>G,wY:()=>X,Fk:()=>q,Ru:()=>$,Z0:()=>J,jH:()=>Q,FD:()=>ee});var i=o(96486),n=o.n(i),r=o(76205),a=o(10070),s=o(67219),l=o(18955),c=o(42875),d=o(89837),p=o(23014),u=o(97880),m=o(10161),g=o(26991),h=o(77373),f=o(5575),v=o(28410);const y=16803324e5,b="notion://projects/projects_preset",S={"notion://projects/simple_tasks_preset":"simple_tasks",[b]:"projects_and_tasks","notion://projects/agile_preset":"agile",[f.r]:"docs",[v.KW]:"meetings"},w=[b,"notion://wiki/company_home_preset",f.r,v.KW],k={project:b,wikis:"notion://wiki/company_home_preset",docs:f.r,notes:f.r,goals:"notion://wiki/company_home_preset"};function C(e){return(0,h.p)().find((t=>t.uri===e))}function _(e){return(0,h.p)().find((t=>t.presets.some((t=>t.uri===e))))}function M(e){return(0,h.p)().flatMap((e=>e.presets)).find((t=>t.uri===e))}function T(e){if(!e)return;return(0,h.p)().find((t=>t.allFeatures.find((t=>{if(x(t))for(const o of t.dependencies)if("collection"===o.type&&o.uri===e)return!0}))))}function I(e){const t=_(e.uri);if(!t)return[];return[...e.requiredFeatures,...e.defaultOnFeatures].filter((e=>{const o=t.allFeatures.find((t=>t.uri===e.featureUri));if(!o)return!1;const{type:i}=e;return"simple"===i?"dependencies"in o:"with_variant"===i?"variants"in o:void(0,u.t1)(i)}))}function P(e){return"variants"in e}function x(e){return"dependencies"in e}function B(e){const t=T(e);if(t)for(const o of t.allFeatures)if(x(o)){const t=o.dependencies.find((t=>"collection"===t.type&&t.uri===e));if(t)return t.value.schema??{}}}function Z(e){let{featurePointers:t,appPackage:o}=e;const i=n().compact(t.map((e=>{const{type:t}=e;return"simple"===t?e.featureUri:"with_variant"===t?e.defaultVariantUri:void(0,u.t1)(t)}))),r={};for(const n of o.allFeatures)r[n.uri]=n;const a=i.map((e=>r[e])),s={};for(const n of a)for(const e of n.dependencies)s[e.uri]=e;return Object.values(s)}function E(e){return e.endsWith(s.WN)}function R(e,t){return e.presets.find((e=>e.uri===`${t}${s.WN}`))}function A(e,t){const o=e=>{var o,i;const n=null===(o=t.format)||void 0===o?void 0:o.app_config_uri,r=a.aQ.deriveTypeUris(t.schema??{},null===(i=t.format)||void 0===i?void 0:i.app_uri_map);if(e.collectionUri!==n)return!1;const s=e.dependencies.some((e=>"property"===e.type&&e.collectionUri===n&&!r.has(e.uri)));return m.default.checkGate("suggested_relational_property")?s:s&&e.dependencies.every((e=>"collection"!==e.type))},i={};e.allFeatures.forEach((t=>{P(t)&&t.variants.every((t=>Boolean(e.allFeatures.find((e=>e.uri===t&&x(e)&&o(e))))))&&(i[t.uri]=t.variants)}));const n=Object.values(i).flat();return e.allFeatures.filter((e=>x(e)&&!n.find((t=>t===e.uri))?o(e):!!P(e)&&Boolean(i[e.uri]))).sort(((e,t)=>P(e)?-1:P(t)?1:e.dependencies.length-t.dependencies.length))}function D(e,t,o){const i=e.allFeatures.filter((e=>(e=>{var i,n,a,s,l,c,d,p;if(!x(e)||1!==e.dependencies.length||"view"!==e.dependencies[0].type)return!1;const m=e.dependencies[0],h=o.getFormat().app_config_uri,f=t.getFormat().app_config_uri,v=o.getFormat().app_uri_map??{};if(!h||!f)return!1;if(m.blockUri!==h||m.collectionUri!==f)return!1;if(m.uri in v)return!1;const y=m.value;switch(y.type){case"table":case"list":case"gallery":case"timeline":if(null!==(i=y.format)&&void 0!==i&&i.collection_group_by){const e=y.format.collection_group_by.property;if(!t.isTypedProperty(e))return!1}if(null!==(n=y.query2)&&void 0!==n&&n.timeline_by){const e=y.query2.timeline_by;if(!t.isTypedProperty(e))return!1}break;case"board":if(null!==(a=y.format)&&void 0!==a&&a.board_columns_by){const e=y.format.board_columns_by.property;if(!t.isTypedProperty(e))return!1}if(null!==(s=y.format)&&void 0!==s&&s.collection_group_by){const e=y.format.collection_group_by.property;if(!t.isTypedProperty(e))return!1}break;case"calendar":if(null!==(l=y.query2)&&void 0!==l&&l.calendar_by){const e=y.query2.calendar_by;if(!t.isTypedProperty(e))return!1}break;case"page":return!1;default:(0,u.t1)(y.type)}const b=e=>!!(0,r.Oo)(e)||t.isTypedProperty(e.property);if(null!==(c=y.format)&&void 0!==c&&c.property_filters)for(const o of y.format.property_filters){if(!H(o.filter,b))return!1;if(X()&&!(0,g.qf)(o.filter,t))return!1}if(null!==(d=y.query2)&&void 0!==d&&d.filter){const e=y.query2.filter;if(e.filters)for(const t of e.filters)if(!z(t,b))return!1}if(null!==(p=y.query2)&&void 0!==p&&p.sort)for(const o of y.query2.sort)if(!t.isTypedProperty(o.property))return!1;return!0})(e)));return n().uniqBy(i,"uri")}function F(e,t){const o=n().flatten(n().compact(t.allFeatures.map((e=>{if(x(e))return e.dependencies}))));return n().uniqBy(o.filter((t=>e.includes(t.uri))),(e=>e.uri))}function L(e){return"app_container"===e.getFormatStore().getKeyStore("collection_view_sub_type").getValue()}function V(e,t,o){const i=a.aQ.deriveTypeUri(t,o.getPropertyMapping());if(!i)return!1;if(e===s.GZ)return i===s.dE;const n=function(e){const t=B(e);if(t)return Object.keys(t)}(e);return!!n&&n.includes(i)}function N(e,t,o){return(0,p.un)(e,t,o)}function O(e){return e===s.Kk}function U(e,t){const o=[];for(const n of t)"property"===n.type||"database_template"===n.type?e.has(n.collectionUri)&&o.push(n):"block"===n.type?e.has(n.parentUri)&&o.push(n):"blockUri"in n&&e.has(n.blockUri)&&o.push(n);let i=[];return o.length>0&&(i=U(new Set(o.map((e=>e.uri))),t)),[...o,...i]}function H(e,t){return!!t(e)}function z(e,t){if((0,r.aN)(e)){if(!H(e,t))return!1}else{if((0,r.Mm)(e))return!0;if(e.filters)for(const o of e.filters){if(!z(o,t))return!1}}return!0}function W(e,t,o){const i=t.getQuery(o.getSchema()),n=t.getFormat(),a=null==i?void 0:i.sort;if(a){if(a.some((t=>e.uri===t.property)))return!0}const s=t.getFormat().property_filters;if(s){const t=t=>!(0,r.Oo)(t)&&t.property===e.uri;if(s.some((e=>H(e.filter,t))))return!0}const l=null==i?void 0:i.filter;if(void 0!==l&&l.filters){const t=t=>!!(0,r.Oo)(t)||t.property!==e.uri;for(const e of l.filters){if(!z(e,t))return!0}}switch(t.getType()){case"table":case"list":case"gallery":case"timeline":if(n.collection_group_by){if(n.collection_group_by.property===e.uri)return!0}if(null!=i&&i.timeline_by){if(i.timeline_by===e.uri)return!0}break;case"board":if(n.board_columns_by){if(n.board_columns_by.property===e.uri)return!0}if(n.collection_group_by){if(n.collection_group_by.property===e.uri)return!0}break;case"calendar":if(null!=i&&i.calendar_by){if(i.calendar_by===e.uri)return!0}}return!1}function j(e,t){const o=(0,c.r)(),i=(0,d.em)(e,1,o);return(0,d.fZ)(i.valueOf(),i.plus({weeks:t}).minus({days:1}).valueOf(),o)}function K(e,t){const o=(0,d.DF)(e,(0,c.r)()).plus({days:t});return(0,d.ME)(o)}const Y=[s.TZ,s.k$,s.pz];function G(e){var t;const{dependencies:o,collectionStore:i,collectionViewBlockStore:n,viewStores:r,validDependencies:s}=e,c=o.filter((e=>"property"===e.type)),d=[...c.filter((e=>"rollup"===e.propertySchema.type)),...c.filter((e=>"formula"===e.propertySchema.type))],p=o.filter((e=>"view"===e.type)),u=a.aQ.deriveTypeUris(i.getSchema(),i.getPropertyMapping()),m=null===(t=n.getFormat())||void 0===t?void 0:t.app_uri_map,g={validDependencies:s,propertyDeps:[],viewDeps:[]};if(!u||!m)return g;for(const a of d){if(!u.has(a.uri))continue;const e=i.getSchema()[a.uri];if(e){if("rollup"===e.type){s.some((t=>t.uri===e.relation_property))&&(s.push(a),g.propertyDeps.push(e))}if("formula"===e.type){(0,l.pV)(e.formula).some((e=>{for(const t of s)if(t.uri===e)return!0}))&&(s.push(a),g.propertyDeps.push(e))}}}for(const a of p){if(!m[a.uri])continue;const e=r.find((e=>e.id===m[a.uri]));if(!e)continue;s.some((t=>"property"===t.type&&W(t,e,i)))&&(s.push(a),g.viewDeps.push(e))}return g.validDependencies=s,g}function X(){return m.default.checkGate("proj_management_sprints")}function q(){return m.default.getEligibleGroup({experimentId:"proj_management_sprint_page_add_on",defaultGroup:"control"})}function $(){return m.default.checkGate("proj_management_sprints_upgrade")}function J(){return m.default.checkGate("proj_management_tooltip_tour")}function Q(e,t){var o,i;return null==e||null===(o=e.getSettings())||void 0===o||null===(i=o.proj_management_tooltip_tour_v1_phase_per_space)||void 0===i?void 0:i[t.id]}const ee={create_a_task:"assign_to_someone",assign_to_someone:"change_task_status",change_task_status:"click_view_settings",click_view_settings:"complete"}},5575:(e,t,o)=>{o.d(t,{r:()=>x,zX:()=>Z,sY:()=>y});var i=o(3657),n=o(27848),r=o(41892),a=o(67219),s=o(4615),l=o(10482),c=o(70203),d=o(5366),p=o(33929),u=o(40652);function m(){const e="notion://docs/tutorial/getting_started",t=(0,d.defineMessages)({statusNew:{defaultMessage:"New",description:"New",id:"appTemplates.docs.statusNew"},notionDocsTutorialSimpleDocsGettingStarted_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_0",defaultMessage:"Getting started with docs",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_0_0_0_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_0_0_0_0",defaultMessage:"This Docs template helps you organize your team’s shared knowledge so you can all stay on the same page.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_1_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_1_0",defaultMessage:"You can use Notion pages to collaborate on docs with your team, such as technical specs, architecture overviews, and project kickoff notes. Each doc can be stored in this database, to help your team stay organized. ",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_2_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_2_0",defaultMessage:"How to use this template",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_3_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_3_0",defaultMessage:"This is your team’s documentation database. You can click on each item to open it up to its own page where you can add important information — strategy memos, product requirement docs, and design critiques.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_3_0_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_3_0_0",defaultMessage:"Frame 4.png",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_4_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_4_0",defaultMessage:"Click “+ New” to add a new entry into the database.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_4_0_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_4_0_0",defaultMessage:"Frame 7.png",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_5_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_5_0",defaultMessage:"Use the view tabs to visualize your docs in different ways — like by creator, or last edited date.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_6_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_6_0",defaultMessage:"Frame 5.png",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_7_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_7_0",defaultMessage:"Customize this template",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_8_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_8_0",defaultMessage:"This template is pre-populated with the most common fields for docs (like creator and last edited info), but you can add your own when you add a new field.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_9_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_9_0",defaultMessage:"Database Templates",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_10_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_10_0",defaultMessage:"To make it easier to create docs of the same type (such as project kickoffs or design docs), database templates let you define and replicate certain page elements with just one click.",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_11_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_11_0",defaultMessage:"To edit, install more, or create your own, click on the dropdown next to the blue “New” button: ",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_12_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_12_0",defaultMessage:"Views, filters, and sorts",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_13_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_13_0",defaultMessage:"Views are customizable, flexible layouts to visualize your databases and properties as a table, board, calendar, timeline, or list. This template comes with several views of docs — you can customize each or create your own! ",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_14_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_14_0",defaultMessage:"Frame 6.png",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_15_0:{id:"notionDocsTutorialSimpleDocsGettingStarted_15_0",defaultMessage:"Learn more about Notion’s database layouts, including when to use each type of database view in this guide: ",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_15_1:{id:"notionDocsTutorialSimpleDocsGettingStarted_15_1",defaultMessage:"https://www.notion.so/help/guides/when-to-use-each-type-of-database-view",description:"Page template's content"},notionDocsTutorialSimpleDocsGettingStarted_15_2:{id:"notionDocsTutorialSimpleDocsGettingStarted_15_2",defaultMessage:".",description:"Page template's content"}});return[{uri:`${e}`,type:"block",parentUri:"notion://docs_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_0)]],"notion://docs/doc_tags_property":(0,c.TP)(p.default.formatMessage(y.tagsPropertyGuidesOption))},format:{page_icon:"/icons/document_blue.svg",copied_from_pointer:{id:"4ab31a8d-60d5-46b7-b990-e1b6dd8f8af4",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"column_list",format:{copied_from_pointer:{id:"06ce4c3d-44a9-4930-9dd7-d164ed84992f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/0/0`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5,copied_from_pointer:{id:"f34f2a62-70e2-4772-914a-9032ebf8d699",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/0/0/0`,type:"block",parentUri:`${e}/0/0`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_0_0_0_0)]]},format:{page_icon:"👋",block_color:"gray_background",copied_from_pointer:{id:"701fe7d4-ba21-4e2d-be7c-17a4edea05de",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/0/1`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5,copied_from_pointer:{id:"35375d2b-2d96-4ce2-a11b-25bb91fea02d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/0/1/0`,type:"block",parentUri:`${e}/0/1`,parentType:"block",blockValue:{type:"table_of_contents",format:{block_color:"gray",copied_from_pointer:{id:"3555d49b-2720-44f2-ac72-11194ffcacb1",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_1_0)]]},format:{copied_from_pointer:{id:"c0e72f3f-a43f-4e1f-90a4-36f86fafbad3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_2_0)]]},format:{copied_from_pointer:{id:"ceefa47e-0ab5-4ddf-9be9-0fb242311340",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_3_0)]]},format:{copied_from_pointer:{id:"8584f598-035b-4387-9013-c7ee8e9b7094",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3/0`,type:"block",parentUri:`${e}/3`,parentType:"block",blockValue:{type:"image",properties:{size:[["181.8KB"]],title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_3_0_0)]],source:[[r.Z.images.appPackages.docsGettingStarted1Png]]},format:{block_width:672,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.4835390946502058,block_preserve_scale:!0}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_4_0)]]},format:{copied_from_pointer:{id:"c5ebf872-1967-41cb-b1ef-dcb7da2751d3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4/0`,type:"block",parentUri:`${e}/4`,parentType:"block",blockValue:{type:"image",properties:{size:[["179.8KB"]],title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_4_0_0)]],source:[[r.Z.images.appPackages.docsGettingStarted2Png]]},format:{block_width:1920,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.4895833333333333,block_preserve_scale:!0}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_5_0)]]},format:{copied_from_pointer:{id:"8171a2a2-5ae3-4a67-b665-66e8a22775f2",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["303.1KB"]],title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_6_0)]],source:[[r.Z.images.appPackages.docsGettingStarted3Png]]},format:{block_width:432,block_height:320,block_full_width:!1,block_page_width:!1,block_aspect_ratio:.7912578055307761,block_preserve_scale:!0}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_7_0)]]},format:{copied_from_pointer:{id:"ca6f1c37-17e1-4871-9f68-9af92ac2b887",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_8_0)]]},format:{copied_from_pointer:{id:"edc4707a-9550-4a2f-bc52-ff5961473cbe",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_9_0)]]},format:{copied_from_pointer:{id:"0598428f-dfbc-46c4-9378-cc992921c773",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_10_0)]]},format:{copied_from_pointer:{id:"a46c1127-40d4-4ead-88f0-20000c24392a",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_11_0)]]},format:{copied_from_pointer:{id:"280a36ef-8b91-43ee-8445-3ee894800a21",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_12_0)]]},format:{copied_from_pointer:{id:"5c20f9e1-9bd7-465d-8891-dc53da175188",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_13_0)]]},format:{copied_from_pointer:{id:"c8701752-bd81-4b02-972c-d442a9fc9e94",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/14`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["319.8KB"]],title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_14_0)]],source:[[r.Z.images.appPackages.docsGettingStarted4Png]]},format:{block_width:432,block_height:320,block_full_width:!1,block_page_width:!1,block_aspect_ratio:.7774891774891775,block_preserve_scale:!0}}},{uri:`${e}/15`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_15_0)],[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_15_1),[["a","https://www.notion.so/help/guides/when-to-use-each-type-of-database-view"]]],[p.default.formatMessage(t.notionDocsTutorialSimpleDocsGettingStarted_15_2)]]},format:{page_icon:"📎",block_color:"brown_background",copied_from_pointer:{id:"e8a90b03-b60e-419e-9c48-cc6edb157d41",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/16`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"0176cc96-3ac0-4511-a698-f36c5942cab9",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}function g(e){const t=(0,d.defineMessages)({notionDocsTutorialExampleBrainstorm_0:{id:"notionDocsTutorialExampleBrainstorm_0",defaultMessage:"Example Brainstorm",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_0_0:{id:"notionDocsTutorialExampleBrainstorm_0_0",defaultMessage:"Notion Tip: ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_0_1:{id:"notionDocsTutorialExampleBrainstorm_0_1",defaultMessage:"Use this template to source ideas from your team even when you're not in the same room. Articulate a question you'd like to have answered. At the same time, people can add their bulleted ideas below that question and tag themselves. Click New topic to generate a new question to answer.",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_0:{id:"notionDocsTutorialExampleBrainstorm_2_0",defaultMessage:"Add a new topic",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_0_0:{id:"notionDocsTutorialExampleBrainstorm_2_0_0",defaultMessage:"[Question to answer]",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_1_0:{id:"notionDocsTutorialExampleBrainstorm_2_1_0",defaultMessage:"First idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_2_0:{id:"notionDocsTutorialExampleBrainstorm_2_2_0",defaultMessage:"Second idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_3_0:{id:"notionDocsTutorialExampleBrainstorm_2_3_0",defaultMessage:"Third idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_2_4_0:{id:"notionDocsTutorialExampleBrainstorm_2_4_0",defaultMessage:"Fourth idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_3_0:{id:"notionDocsTutorialExampleBrainstorm_3_0",defaultMessage:"[Question to answer]",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_4_0:{id:"notionDocsTutorialExampleBrainstorm_4_0",defaultMessage:"First idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_4_1:{id:"notionDocsTutorialExampleBrainstorm_4_1",defaultMessage:"‣",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_4_2:{id:"notionDocsTutorialExampleBrainstorm_4_2",defaultMessage:" ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_5_0:{id:"notionDocsTutorialExampleBrainstorm_5_0",defaultMessage:"Second idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_5_1:{id:"notionDocsTutorialExampleBrainstorm_5_1",defaultMessage:"‣",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_5_2:{id:"notionDocsTutorialExampleBrainstorm_5_2",defaultMessage:" ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_6_0:{id:"notionDocsTutorialExampleBrainstorm_6_0",defaultMessage:"Third idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_6_1:{id:"notionDocsTutorialExampleBrainstorm_6_1",defaultMessage:"‣",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_6_2:{id:"notionDocsTutorialExampleBrainstorm_6_2",defaultMessage:" ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_7_0:{id:"notionDocsTutorialExampleBrainstorm_7_0",defaultMessage:"Fourth idea ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_7_1:{id:"notionDocsTutorialExampleBrainstorm_7_1",defaultMessage:"‣",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_7_2:{id:"notionDocsTutorialExampleBrainstorm_7_2",defaultMessage:" ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_8_0:{id:"notionDocsTutorialExampleBrainstorm_8_0",defaultMessage:"Whiteboard",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_9_0:{id:"notionDocsTutorialExampleBrainstorm_9_0",defaultMessage:"Notion Tip: ",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_9_1:{id:"notionDocsTutorialExampleBrainstorm_9_1",defaultMessage:"Notion makes it easy to pull in brainstorming resources from other apps so you all stay focused on the same doc. For instance, you can embed mind-mapping boards from Miro and files from Figma that will update in real time.",description:"Page template's content"},notionDocsTutorialExampleBrainstorm_10_0:{id:"notionDocsTutorialExampleBrainstorm_10_0",defaultMessage:"↓ Embed examples below",description:"Page template's content"}});return{collection:{uri:`${e}`,type:"block",parentUri:"notion://docs_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_0)]],"notion://docs/doc_tags_property":(0,c.TP)(p.default.formatMessage(y.tagsPropertyProductOption))},format:{page_icon:"/icons/document_orange.svg",block_locked:!1,block_locked_by:"c62621c6-e8ec-40f6-9ab7-334f43db12b4",copied_from_pointer:{id:"6b38ea1f-5535-4007-91d6-7c782eb1fcfa",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},blocks:[{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_0_0),[["b"]]],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_0_1)]]},format:{page_icon:"💡",block_color:"gray_background",copied_from_pointer:{id:"499d8212-5853-49c9-ba12-bc58b43cf647",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"afc992cd-5c86-4bbe-9046-c1add57c821f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"factory",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_0)]]},format:{copied_from_pointer:{id:"73bf208d-93fc-4142-93dc-0a2bea4d7473",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/0`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_0_0)]]},format:{copied_from_pointer:{id:"6483f408-9340-4a1e-9207-d94f09c6814d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/1`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_1_0)]]},format:{copied_from_pointer:{id:"68787a5c-e094-4acd-b022-64a75f10e89f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/2`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_2_0)]]},format:{copied_from_pointer:{id:"b8b3db92-d5eb-45d6-97c9-9ed0a83cc38e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/3`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_3_0)]]},format:{copied_from_pointer:{id:"d7ae42d0-6e2f-414b-a97e-a8080f6e1804",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/4`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_2_4_0)]]},format:{copied_from_pointer:{id:"7e265836-e26b-4592-8a28-b9db6b2fa1f9",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_3_0)]]},format:{copied_from_pointer:{id:"70a14d99-62d2-45a8-ab51-922608a86980",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_4_0)],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_4_2)]]},format:{copied_from_pointer:{id:"c4b6d199-4d06-4d97-8b17-2e114b635f01",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_5_0)],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_5_2)]]},format:{copied_from_pointer:{id:"6c8909e0-0a67-4ca9-936c-0dcfe8f69106",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_6_0)],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_6_2)]]},format:{copied_from_pointer:{id:"74eb7aef-0301-4481-8831-588ec5ad41e1",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_7_0)],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_7_2)]]},format:{copied_from_pointer:{id:"e65da9d1-85b9-4b4c-9deb-252af4085cc0",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_8_0)]]},format:{copied_from_pointer:{id:"1a54e2e4-758a-4bd4-8cf8-6f1389ebab3f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_9_0),[["b"]]],[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_9_1)]]},format:{page_icon:"💡",block_color:"gray_background",copied_from_pointer:{id:"8b63027d-7fa5-4696-ad6d-4a54b01eec5a",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleBrainstorm_10_0),[["h","gray"]]]]},format:{copied_from_pointer:{id:"05af586d-26eb-4261-97f2-295f638dfa4d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"miro",format:{copied_from_pointer:{id:"bd2f6d06-da95-491d-87a4-77cfd2ad3eb9",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"figma",format:{copied_from_pointer:{id:"1188a2b6-a9de-4f0e-9670-a7fd5dded393",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"whimsical",format:{copied_from_pointer:{id:"fa8fa94a-0cbd-48a2-88a9-9b6c9951b6a2",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}}function h(e){const t=(0,d.defineMessages)({notionDocsTutorialExampleTechSpec_0:{id:"notionDocsTutorialExampleTechSpec_0",defaultMessage:"Example Tech Spec",description:"Page template's content"},notionDocsTutorialExampleTechSpec_0_0:{id:"notionDocsTutorialExampleTechSpec_0_0",defaultMessage:"Problem statement",description:"Page template's content"},notionDocsTutorialExampleTechSpec_1_0:{id:"notionDocsTutorialExampleTechSpec_1_0",defaultMessage:"What problem are you trying to solve? If there is a PRD, this can be a sync’ed block from the PRD. Link to any other documents that are relevant for background or context.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_2_0:{id:"notionDocsTutorialExampleTechSpec_2_0",defaultMessage:"Goals",description:"Page template's content"},notionDocsTutorialExampleTechSpec_3_0:{id:"notionDocsTutorialExampleTechSpec_3_0",defaultMessage:"What should be true after this project is implemented?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_4_0:{id:"notionDocsTutorialExampleTechSpec_4_0",defaultMessage:"Non-goals",description:"Page template's content"},notionDocsTutorialExampleTechSpec_5_0:{id:"notionDocsTutorialExampleTechSpec_5_0",defaultMessage:"What is explicitly not in scope and why?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_6_0:{id:"notionDocsTutorialExampleTechSpec_6_0",defaultMessage:"Proposed solution",description:"Page template's content"},notionDocsTutorialExampleTechSpec_7_0:{id:"notionDocsTutorialExampleTechSpec_7_0",defaultMessage:"What changes are required to solve this problem and achieve the project goals?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_9_0:{id:"notionDocsTutorialExampleTechSpec_9_0",defaultMessage:"What are the high level architectural changes?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_10_0:{id:"notionDocsTutorialExampleTechSpec_10_0",defaultMessage:"Diagrams can be very helpful here.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_12_0:{id:"notionDocsTutorialExampleTechSpec_12_0",defaultMessage:"What are the high level data model changes?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_13_0:{id:"notionDocsTutorialExampleTechSpec_13_0",defaultMessage:"These should include any database schema changes, or any changes to structured fields, e.g. an existing JSON column.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_15_0:{id:"notionDocsTutorialExampleTechSpec_15_0",defaultMessage:"What are the main changes to the UI?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_17_0:{id:"notionDocsTutorialExampleTechSpec_17_0",defaultMessage:"Risks",description:"Page template's content"},notionDocsTutorialExampleTechSpec_18_0:{id:"notionDocsTutorialExampleTechSpec_18_0",defaultMessage:"What risks might be introduced by this set of changes? Consider running a ",description:"Page template's content"},notionDocsTutorialExampleTechSpec_18_1:{id:"notionDocsTutorialExampleTechSpec_18_1",defaultMessage:"pre-mortem",description:"Page template's content"},notionDocsTutorialExampleTechSpec_18_2:{id:"notionDocsTutorialExampleTechSpec_18_2",defaultMessage:" to raise risks. Be sure to capture mitigating these risks in the Implementation and Rollout Plans.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_20_0:{id:"notionDocsTutorialExampleTechSpec_20_0",defaultMessage:"Are there any backwards-incompatible changes?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_22_0:{id:"notionDocsTutorialExampleTechSpec_22_0",defaultMessage:"Does this project have special implications for security and data privacy?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_24_0:{id:"notionDocsTutorialExampleTechSpec_24_0",defaultMessage:"Could this change significantly increase load on any of our backend systems?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_26_0:{id:"notionDocsTutorialExampleTechSpec_26_0",defaultMessage:"Does this project have any dependencies?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_28_0:{id:"notionDocsTutorialExampleTechSpec_28_0",defaultMessage:"Alternative solutions",description:"Page template's content"},notionDocsTutorialExampleTechSpec_29_0:{id:"notionDocsTutorialExampleTechSpec_29_0",defaultMessage:"What alternatives did you consider? Describe the evaluation criteria for how you chose the proposed solution. ",description:"Page template's content"},notionDocsTutorialExampleTechSpec_30_0:{id:"notionDocsTutorialExampleTechSpec_30_0",defaultMessage:"Implementation and rollout plan",description:"Page template's content"},notionDocsTutorialExampleTechSpec_31_0:{id:"notionDocsTutorialExampleTechSpec_31_0",defaultMessage:"Fill this section out based on what is relevant for the size and scope of this project. This section can also be TBD as the project is started, but you should gradually fill this in as the project progresses towards launch. ",description:"Page template's content"},notionDocsTutorialExampleTechSpec_33_0:{id:"notionDocsTutorialExampleTechSpec_33_0",defaultMessage:"Does this project require a migration?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_34_0:{id:"notionDocsTutorialExampleTechSpec_34_0",defaultMessage:"If an extensive migration is necessary, write a separate tech spec for it, and link it here. Describe how to rollback in the event of an unsuccessful migration.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_36_0:{id:"notionDocsTutorialExampleTechSpec_36_0",defaultMessage:"Is this project in an experiment or feature flagged?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_37_0:{id:"notionDocsTutorialExampleTechSpec_37_0",defaultMessage:"Describe how to support an incremental release if needed.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_39_0:{id:"notionDocsTutorialExampleTechSpec_39_0",defaultMessage:"Success Criteria",description:"Page template's content"},notionDocsTutorialExampleTechSpec_40_0:{id:"notionDocsTutorialExampleTechSpec_40_0",defaultMessage:"How will you validate the solution is working correctly?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_41_0:{id:"notionDocsTutorialExampleTechSpec_41_0",defaultMessage:"Describe what automated and/or manual testing you will do. Does this project need load or stress testing? This can also be a separate Testing Plan doc that is shared with QA, and linked here.",description:"Page template's content"},notionDocsTutorialExampleTechSpec_43_0:{id:"notionDocsTutorialExampleTechSpec_43_0",defaultMessage:"What monitoring and alerting will you do to ensure this project doesn’t decrease performance and reliability?",description:"Page template's content"},notionDocsTutorialExampleTechSpec_44_0:{id:"notionDocsTutorialExampleTechSpec_44_0",defaultMessage:"E.g. Increased requests, latency, and error rates.",description:"Page template's content"}});return{collection:{uri:`${e}`,type:"block",parentUri:"notion://docs_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_0)]],"notion://docs/doc_tags_property":(0,c.TP)(p.default.formatMessage(y.tagsPropertyEngineeringOption))},format:{page_icon:"/icons/document_yellow.svg",block_locked:!1,block_locked_by:"c62621c6-e8ec-40f6-9ab7-334f43db12b4",copied_from_pointer:{id:"ee057f0a-3715-47cf-8019-1a39659bc7e2",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},blocks:[{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_0_0)]]},format:{copied_from_pointer:{id:"6f322b90-5874-4f42-8864-6e0664a21d92",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_1_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"907c04fa-0e02-4031-92c5-a2c24601abc9",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_2_0)]]},format:{copied_from_pointer:{id:"44bf788b-9561-412a-8ba3-195e382c11f6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_3_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"b5f7e558-7efa-4273-b69a-7d3a9d03212c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_4_0)]]},format:{copied_from_pointer:{id:"2525da68-67f7-4cdd-abd2-327a7bf34b49",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_5_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"dba080a2-1ef4-4261-bd05-63a578e8a203",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_6_0)]]},format:{copied_from_pointer:{id:"1bbb53f6-6d86-4df3-b66d-b8641f58f10d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_7_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"7bcd8d0d-dc4e-4969-aa0d-db2b7ae24de7",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"fcbaefd9-9498-49c0-b860-29276a2392f8",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_9_0),[["b"]]]]},format:{copied_from_pointer:{id:"92e54982-2946-490b-a3f2-7969e445d4a4",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_10_0),[["h","gray"]]]]},format:{block_color:"gray",copied_from_pointer:{id:"27be6bfc-307d-45fd-9d16-15eefd8b316b",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"31a6e49a-55fa-4456-9976-8e98809e5232",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_12_0),[["b"]]]]},format:{copied_from_pointer:{id:"f31feaf4-c2e4-4a3b-acda-01a1b73e739e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_13_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"93b5aaef-4bc2-44a0-96ab-a74e9b937386",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/14`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"d795aa7d-d8f7-4468-ab0c-2291e01f8ea3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/15`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_15_0),[["b"]]]]},format:{copied_from_pointer:{id:"99687877-58f5-4153-85c4-837844aad990",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/16`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"a68004ba-61d4-4a6d-93c5-b4147d727f98",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/17`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_17_0)]]},format:{copied_from_pointer:{id:"4d32473d-6b22-4cc3-9155-442a731e0b9c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/18`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_18_0)],[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_18_1),[["a","https://www.notion.so/templates/pre-mortem-template"]]],[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_18_2)]]},format:{block_color:"gray",copied_from_pointer:{id:"2ec40019-9d44-40f3-a761-d14767a768c8",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/19`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"6b031317-a255-42a1-8c17-ce7a30bc6ba0",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/20`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_20_0),[["b"]]]]},format:{copied_from_pointer:{id:"9dd6fca1-ee45-44f4-bfc4-736be3688c52",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/21`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"ba74c495-9668-42c6-8b23-230d25253c0d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/22`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_22_0),[["b"]]]]},format:{copied_from_pointer:{id:"4e38475a-9d24-45c3-a91b-331d19334506",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/23`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"ed37d5f3-42a4-40d6-b804-b439c62b4fee",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/24`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_24_0),[["b"]]]]},format:{copied_from_pointer:{id:"9d88ad27-00fe-49dc-adc0-496902532112",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/25`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"fc51aabb-2c05-49ac-8e57-93beb8e158b6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/26`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_26_0),[["b"]]]]},format:{copied_from_pointer:{id:"3ed4dab3-d9fe-4940-baa9-91223105cfb8",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/27`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"4b32d7ca-5bec-41ec-aa8b-2cb4a562ce52",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/28`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_28_0)]]},format:{copied_from_pointer:{id:"843dc79a-aec4-445d-afe0-c1b28e1ea20e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/29`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_29_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"629c9caf-6cff-4865-8a9d-59a70ac73847",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/30`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_30_0)]]},format:{copied_from_pointer:{id:"1401391e-beb3-4227-a97f-d3746ab53604",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/31`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_31_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"fad9db78-e629-4b1b-992a-a18c7467b6b3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/32`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"ffe0fa5d-fe50-43fe-b61f-d69981ed9c8d",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/33`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_33_0),[["b"]]]]},format:{copied_from_pointer:{id:"8b9bbce4-4b68-4634-b0c3-c14993915037",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/34`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_34_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"41238bfe-db8f-4e9b-b024-fe012aed7f61",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/35`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"e8b12e12-e997-46bb-87f7-17646a140054",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/36`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_36_0),[["b"]]]]},format:{copied_from_pointer:{id:"ef168d0b-c6f7-4044-8095-8398fcfa5a53",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/37`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_37_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"2c2ac91f-66fa-4790-a863-566a79ba8476",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/38`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"cb7fa6b9-15dd-4060-b85e-c61b74f7535f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/39`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_39_0)]]},format:{copied_from_pointer:{id:"8419747e-5118-419d-b48a-af21beee0df3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/40`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_40_0),[["b"]]]]},format:{copied_from_pointer:{id:"3a664deb-ab8a-44c5-af6c-c1694583c736",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/41`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_41_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"88e02f44-6511-4d5d-858e-a85f8269ef57",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/42`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"a2f24f41-d243-4922-a437-e98673ab8e59",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/43`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_43_0),[["b"]]]]},format:{copied_from_pointer:{id:"090b73a1-811f-491e-bfc7-ca51fd0099c8",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/44`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExampleTechSpec_44_0)]]},format:{block_color:"gray",copied_from_pointer:{id:"f1ed0a4b-9de0-4cc3-9ef3-f5a47599d65c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}}function f(e){const t=(0,d.defineMessages)({notionDocsTutorialExamplePrd_0:{id:"notionDocsTutorialExamplePrd_0",defaultMessage:"Example PRD",description:"Page template's content"},notionDocsTutorialExamplePrd_1_0:{id:"notionDocsTutorialExamplePrd_1_0",defaultMessage:"Notion Tip: ",description:"Page template's content"},notionDocsTutorialExamplePrd_1_1:{id:"notionDocsTutorialExamplePrd_1_1",defaultMessage:"Here at Notion we use this template to help teams plan, design and develop products with the greatest chance for success. It helps teams think through their work more deeply, improves asynchronous communication with other teams, and creates space for collaboration.",description:"Page template's content"},notionDocsTutorialExamplePrd_2_0:{id:"notionDocsTutorialExamplePrd_2_0",defaultMessage:"👀 Problem",description:"Page template's content"},notionDocsTutorialExamplePrd_3_0:{id:"notionDocsTutorialExamplePrd_3_0",defaultMessage:"Example questions to answer: ",description:"Page template's content"},notionDocsTutorialExamplePrd_3_1:{id:"notionDocsTutorialExamplePrd_3_1",defaultMessage:"\nWhat problem are we solving? For whom? When do they experience this issue?\nWhat data, research and feedback do we have that explains this problem?\nWhich customers are we working with, or hearing from, to better understand this problem?\nWhy is solving this problem urgent? Why is it important? ",description:"Page template's content"},notionDocsTutorialExamplePrd_6_0:{id:"notionDocsTutorialExamplePrd_6_0",defaultMessage:"💭 Proposal",description:"Page template's content"},notionDocsTutorialExamplePrd_7_0:{id:"notionDocsTutorialExamplePrd_7_0",defaultMessage:"Example questions to answer:",description:"Page template's content"},notionDocsTutorialExamplePrd_7_1:{id:"notionDocsTutorialExamplePrd_7_1",defaultMessage:"\nHow are we solving this issue? What alternatives did we consider? Why did we land with this?\nWhat is the general shape of this solution? Do you have any mocks, prototypes, relevant comparisons in the market?\nHow will we know that we’ve solved this issue? What will we measure?\nHave we considered how we’re building this to be fast, performant, scalable and/or relatively low-cost on our services? ",description:"Page template's content"},notionDocsTutorialExamplePrd_10_0:{id:"notionDocsTutorialExamplePrd_10_0",defaultMessage:"🛫 Plan",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0:{id:"notionDocsTutorialExamplePrd_11_0",defaultMessage:"Example questions to answer:",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1:{id:"notionDocsTutorialExamplePrd_11_1",defaultMessage:"\nWhat are we building? How does it work? How do we know that it works? What are we measuring? When will it be ready? ",description:"Page template's content"},notionDocsTutorialExamplePrd_11_2:{id:"notionDocsTutorialExamplePrd_11_2",defaultMessage:"Then, answer these questions:",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_0:{id:"notionDocsTutorialExamplePrd_11_0_0",defaultMessage:"Question 1: Does everyone know what are we launching?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_0_0:{id:"notionDocsTutorialExamplePrd_11_0_0_0",defaultMessage:"Internal alignment",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_0_0_0:{id:"notionDocsTutorialExamplePrd_11_0_0_0_0",defaultMessage:"Can we explain what this change is?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_0_1_0:{id:"notionDocsTutorialExamplePrd_11_0_0_1_0",defaultMessage:"Have you shared details of this change with other functions?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_1_0:{id:"notionDocsTutorialExamplePrd_11_0_1_0",defaultMessage:"External messaging",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_1_0_0:{id:"notionDocsTutorialExamplePrd_11_0_1_0_0",defaultMessage:"How are we going to communicate our launch to customers?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_0_1_1_0:{id:"notionDocsTutorialExamplePrd_11_0_1_1_0",defaultMessage:"How will customers understand changes due to this launch?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0:{id:"notionDocsTutorialExamplePrd_11_1_0",defaultMessage:"Question 2: Are we sure this is going to work?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_0:{id:"notionDocsTutorialExamplePrd_11_1_0_0",defaultMessage:"Quality",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_0_0:{id:"notionDocsTutorialExamplePrd_11_1_0_0_0",defaultMessage:"Has this product been tested appropriately?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_1_0:{id:"notionDocsTutorialExamplePrd_11_1_0_1_0",defaultMessage:"Have we checked for effects on other products?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_1_1:{id:"notionDocsTutorialExamplePrd_11_1_0_1_1",defaultMessage:" ",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_2_0:{id:"notionDocsTutorialExamplePrd_11_1_0_2_0",defaultMessage:"Have we done capacity planning?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_0_3_0:{id:"notionDocsTutorialExamplePrd_11_1_0_3_0",defaultMessage:"Do we have a contingency plan if the launch doesn’t go well?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_1_0:{id:"notionDocsTutorialExamplePrd_11_1_1_0",defaultMessage:"Measurement",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_1_0_0:{id:"notionDocsTutorialExamplePrd_11_1_1_0_0",defaultMessage:"Do we know how to tell if this launch is a success or not? ",description:"Page template's content"},notionDocsTutorialExamplePrd_11_1_1_1_0:{id:"notionDocsTutorialExamplePrd_11_1_1_1_0",defaultMessage:"Can others see how this launch is going?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_2_0:{id:"notionDocsTutorialExamplePrd_11_2_0",defaultMessage:"Question 3: What are our launch steps?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_2_0_0:{id:"notionDocsTutorialExamplePrd_11_2_0_0",defaultMessage:"Plan",description:"Page template's content"},notionDocsTutorialExamplePrd_11_2_0_0_0:{id:"notionDocsTutorialExamplePrd_11_2_0_0_0",defaultMessage:"Have you agreed on launch audiences with PMM?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_2_0_1_0:{id:"notionDocsTutorialExamplePrd_11_2_0_1_0",defaultMessage:"Did we agree on launch steps with PMM?",description:"Page template's content"},notionDocsTutorialExamplePrd_11_3_0:{id:"notionDocsTutorialExamplePrd_11_3_0",defaultMessage:"🚀 It’s go time!",description:"Page template's content"},notionDocsTutorialExamplePrd_12_0:{id:"notionDocsTutorialExamplePrd_12_0",defaultMessage:"\n... and feel free to link to other more detailed documents",description:"Page template's content"},notionDocsTutorialExamplePrd_12_1:{id:"notionDocsTutorialExamplePrd_12_1",defaultMessage:"\n",description:"Page template's content"}});return{collection:{uri:`${e}`,type:"block",parentUri:"notion://docs_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_0)]],"notion://docs/doc_tags_property":(0,c.TP)(p.default.formatMessage(y.tagsPropertyProductOption))},format:{page_icon:"/icons/document_blue.svg",block_locked:!1,block_locked_by:"c62621c6-e8ec-40f6-9ab7-334f43db12b4",copied_from_pointer:{id:"e61a7c57-a43f-4e08-80f8-64e164d6eda7",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},blocks:[{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"b6aa564e-4ea9-45d9-adfc-ebf19cb38ed6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_1_0),[["b"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_1_1)]]},format:{page_icon:"💡",block_color:"gray_background",copied_from_pointer:{id:"7997f0f5-e788-4190-a2af-01a5295f84f7",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_2_0)]]},format:{copied_from_pointer:{id:"5b7e5c68-2e35-436e-a498-58e7f2e6836c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"quote",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_3_0),[["b"],["h","gray"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_3_1),[["h","gray"]]]]},format:{copied_from_pointer:{id:"89eb57c7-2512-426c-86ed-f102c7caab69",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"c706d5aa-e759-4484-9e90-ac6f05539143",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"divider",format:{copied_from_pointer:{id:"40fc6f8a-aeb0-40ff-9fa7-7577165a7fdd",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_6_0)]]},format:{copied_from_pointer:{id:"c7059854-faba-44c4-9cb4-7f2dac8ca3c8",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"quote",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_7_0),[["b"],["h","gray"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_7_1),[["h","gray"]]]]},format:{copied_from_pointer:{id:"de8eefb1-f6ae-4041-9e37-8b4e29ab2870",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"91169e41-34dc-40d0-a943-9e319b4744fd",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"divider",format:{copied_from_pointer:{id:"293794cf-c571-4eef-9cc5-61708efca2be",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_10_0)]]},format:{copied_from_pointer:{id:"641e805f-4c8c-459d-9666-8e756d143888",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"quote",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0),[["b"],["h","gray"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1),[["h","gray"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_2),[["h","gray"],["b"]]]]},format:{copied_from_pointer:{id:"ba350339-e79c-44df-ac83-cdd341bb27d4",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0`,type:"block",parentUri:`${e}/11`,parentType:"block",blockValue:{type:"toggle",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_0),[["h","gray"]]]]},format:{toggleable:!0,copied_from_pointer:{id:"6503ac86-0d14-4fa3-9f3b-76911141e3c6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/0`,type:"block",parentUri:`${e}/11/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_0_0),[["b"]]]]},format:{copied_from_pointer:{id:"1f880e43-5ca8-4998-b397-9490bdb97bf9",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/0/0`,type:"block",parentUri:`${e}/11/0/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_0_0_0)]],checked:[["No"]]},format:{copied_from_pointer:{id:"14ea1d9c-3895-4309-9fca-ab0c05bde520",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/0/1`,type:"block",parentUri:`${e}/11/0/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_0_1_0)]]},format:{copied_from_pointer:{id:"43f8f781-db5a-4e7a-aabb-59597e1e7a57",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/1`,type:"block",parentUri:`${e}/11/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_1_0),[["b"]]]]},format:{copied_from_pointer:{id:"6f781636-6b4d-496f-8177-81534fd05c9e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/1/0`,type:"block",parentUri:`${e}/11/0/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_1_0_0)]]},format:{copied_from_pointer:{id:"200652cf-6e1e-478b-856e-feb17447b08c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/0/1/1`,type:"block",parentUri:`${e}/11/0/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_0_1_1_0)]]},format:{copied_from_pointer:{id:"d8ee4a5d-f8a9-490b-980c-de0be66a7d80",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1`,type:"block",parentUri:`${e}/11`,parentType:"block",blockValue:{type:"toggle",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0),[["h","gray"]]]]},format:{toggleable:!0,copied_from_pointer:{id:"74250693-770b-45cc-ab13-f0341695af3a",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/0`,type:"block",parentUri:`${e}/11/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_0),[["b"]]]]},format:{copied_from_pointer:{id:"87d64fb0-8b8c-432d-8f2a-9ff2be364699",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/0/0`,type:"block",parentUri:`${e}/11/1/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_0_0)]]},format:{copied_from_pointer:{id:"372e5e09-11f8-4d72-8e82-51da04e40272",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/0/1`,type:"block",parentUri:`${e}/11/1/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_1_0)],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_1_1),[["h","gray"]]]]},format:{copied_from_pointer:{id:"e17124c1-4112-4666-8bba-4c9f00a50bf2",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/0/2`,type:"block",parentUri:`${e}/11/1/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_2_0)]]},format:{copied_from_pointer:{id:"1e19aa7d-255b-4331-9721-80a402975b10",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/0/3`,type:"block",parentUri:`${e}/11/1/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_0_3_0)]]},format:{copied_from_pointer:{id:"0f7ce174-1cac-4e56-b0ca-6269b09544e3",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/1`,type:"block",parentUri:`${e}/11/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_1_0),[["b"]]]]},format:{copied_from_pointer:{id:"313a70b7-5a34-4412-9c23-e30a2c90739b",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/1/0`,type:"block",parentUri:`${e}/11/1/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_1_0_0)]]},format:{copied_from_pointer:{id:"e9f48d0f-cb0b-4e26-abeb-ff868d69b68f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/1/1/1`,type:"block",parentUri:`${e}/11/1/1`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_1_1_1_0)]]},format:{copied_from_pointer:{id:"72e8e660-7024-4197-a102-d76962a0c104",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/2`,type:"block",parentUri:`${e}/11`,parentType:"block",blockValue:{type:"toggle",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_2_0),[["h","gray"]]]]},format:{toggleable:!0,copied_from_pointer:{id:"8ff28a92-5fee-4fb9-bdc6-67c61b7e55b1",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/2/0`,type:"block",parentUri:`${e}/11/2`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_2_0_0),[["b"]]]]},format:{copied_from_pointer:{id:"ba128835-a425-4dc4-9325-81fe4cd91275",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/2/0/0`,type:"block",parentUri:`${e}/11/2/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_2_0_0_0)]]},format:{copied_from_pointer:{id:"b41c73ee-33b2-4221-b85c-3ed1be5c1367",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/2/0/1`,type:"block",parentUri:`${e}/11/2/0`,parentType:"block",blockValue:{type:"to_do",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_2_0_1_0)]]},format:{copied_from_pointer:{id:"58b404ed-f6cf-4ec4-b138-f07ffbec100e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11/3`,type:"block",parentUri:`${e}/11`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_11_3_0),[["h","gray"],["i"]]]]},format:{copied_from_pointer:{id:"d2a2a1da-7082-4a2e-bdf5-6eda300fc70e",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionDocsTutorialExamplePrd_12_0),[["i"],["h","gray"]]],[p.default.formatMessage(t.notionDocsTutorialExamplePrd_12_1),[["h","gray"],["b"]]]]},format:{copied_from_pointer:{id:"ff10f374-ea32-4ee0-a005-b2b984d8f273",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}}function v(){const e=f("notion://docs/tutorial/example_prd"),t=g("notion://docs/tutorial/example_brainstorm"),o=h("notion://docs/tutorial/example_tech_spec");return{uri:`notion://docs/docs_${u.Pf}`,name:"Tutorial content",description:"Prefill the template with tutorial content on how to get started.",dependencies:[...m(),t.collection,...t.blocks,o.collection,...o.blocks,e.collection,...e.blocks],collectionUri:u.zU}}const y=(0,d.defineMessages)({docsCreatedTimeProperty:{defaultMessage:"Created time",description:"Created time property",id:"appTemplates.docs.docsCreatedTimeProperty"},docsCollectionName:{defaultMessage:"Docs",description:"Docs database",id:"appTemplates.docs.docsCollectionName"},docsCollectionEmptyTitle:{defaultMessage:"No docs",description:"The title when adding an entry in the app's database",id:"appTemplates.docs.docsCollectionEmptyTitle"},docsCollectionEmptyDescription:{defaultMessage:"Docs help your team organize and collaborate on team documents.",description:"The description when adding an entry in the app's database",id:"appTemplates.docs.docsCollectionEmptyDescription"},docsCollectionEmptyButtonTitle:{defaultMessage:"New doc",description:"The button text when adding an entry in the app's database",id:"appTemplates.docs.docsCollectionEmptyButtonTitle"},docsListViewName:{defaultMessage:"List",description:"Show all docs",id:"appTemplates.docs.docsListViewName"},docsTableViewName:{defaultMessage:"All",description:"Show all docs",id:"appTemplates.docs.docsTableViewName"},docsTableViewDescription:{id:"appTemplates.docs.docsTableViewDescription",defaultMessage:"Table of all docs",description:"Table view of all docs in database"},simpleDocsPresetName:{defaultMessage:"Docs",description:"Docs app",id:"appTemplates.docs.simpleDocsPresetName"},simpleDocsPresetShortName:{defaultMessage:"Docs",description:"Simple docs app",id:"appTemplates.docs.simpleDocsPresetShortName"},createdTimeProperty:{defaultMessage:"Created time",description:"Created time property",id:"appTemplates.docs.createdTimePropertyTitle"},simpleDocsPresetDescription:{id:"appTemplates.docs.simpleDocsPresetDescription",defaultMessage:"Organize and collaborate on team documents in one place.",description:"Description of Docs template shown in template library"},preview1Description:{id:"appTemplates.docs.preview1Description",defaultMessage:"Some description about this template preview image..."},preview2Description:{id:"appTemplates.docs.preview2Description",defaultMessage:"Some description about this template preview video..."},createdByProperty:{id:"appTemplates.docs.createdByProperty",defaultMessage:"Created by"},lastEditedTimeProperty:{id:"appTemplates.docs.lastEditedTimeProperty",defaultMessage:"Last edited time"},lastEditedByProperty:{id:"appTemplates.docs.lastEditedByProperty",defaultMessage:"Last edited by"},myDocsListViewName:{id:"appTemplates.docs.myDocsListViewName",defaultMessage:"Mine"},myDocsListViewDescription:{id:"appTemplates.docs.myDocsListViewDescription",defaultMessage:"List of docs created by me"},recentlyEditedViewName:{id:"appTemplates.docs.recentlyEditedViewName",defaultMessage:"Recently edited"},recentlyEditedViewDescription:{id:"appTemplates.docs.recentlyEditedViewDescription",defaultMessage:"List of docs sorted by most recently edited"},docTypeFeature:{id:"appTemplates.docs.docTypeFeature",defaultMessage:"Doc Type"},docTypeFeatureDescription:{id:"appTemplates.docs.docTypeFeatureDescription",defaultMessage:"Types of doc: documentation, product spec, eng design doc, marketing brief, etc."},statusFeatureDescription:{id:"appTemplates.docs.statusFeatureDescription",defaultMessage:"Draft, New, In Review, Approved, Archived."},simpleDocsFeatureDescription:{id:"appTemplates.docs.simpleDocsFeatureDescription",defaultMessage:"A docs database with properties of created time, created by, last created time, last created by."},myDocsFeatureDescription:{id:"appTemplates.docs.myDocsFeatureDescription",defaultMessage:"A list view of docs created by me."},recentlyEditedFeatureDescription:{id:"appTemplates.docs.recentlyEditedFeatureDescription",defaultMessage:"A list view of docs sorted by last edit time."},docsWelcomeTitle:{id:"appTemplates.docs.docsWelcomeTitle",defaultMessage:"Welcome to Docs"},docsWelcomeSubtitle:{id:"appTemplates.docs.docsWelcomeSubtitle",defaultMessage:"Simple Docs template, with a single Docs database."},gettingStartedWithDocs:{id:"appTemplates.docs.gettingStartedWithDocs",defaultMessage:"Getting started with Docs"},paragraph1:{id:"appTemplates.docs.paragraph1",defaultMessage:"👋 Welcome to Docs!"},paragraph2:{id:"appTemplates.docs.paragraph2",defaultMessage:"Use this template to organize documents like technical specs, architecture overviews, and project kickoff notes."},tagsProperty:{defaultMessage:"Tags",description:"multi select labels/tags",id:"appTemplates.docs.tagsProperty"},tagsPropertyProductOption:{defaultMessage:"Product",description:"Product option for multi select labels/tags",id:"appTemplates.docs.tagsProperty.product"},tagsPropertyEngineeringOption:{defaultMessage:"Engineering",description:"Engineering option for multi select labels/tags",id:"appTemplates.docs.tagsProperty.engineering"},tagsPropertyGuidesOption:{defaultMessage:"Guides",description:"Guides option for multi select labels/tags",id:"appTemplates.docs.tagsProperty.guides"},docsTitleProperty:{id:"appTemplates.docs.docsTitleProperty",defaultMessage:"Title",description:"title property for docs"},statusProperty:{defaultMessage:"Doc stage",description:"Status property with options describing stage of doc",id:"appTemplates.docs.statusProperty"},statusDraft:{defaultMessage:"Draft",description:"Draft",id:"appTemplates.docs.statusDraft"},statusInReview:{defaultMessage:"In Review",description:"In Review",id:"appTemplates.docs.statusInReview"},statusNew:{defaultMessage:"New",description:"New",id:"appTemplates.docs.statusNew"},statusApproved:{defaultMessage:"Approved",description:"Approved",id:"appTemplates.docs.statusApproved"},statusArchived:{defaultMessage:"Archived",description:"Archived",id:"appTemplates.docs.statusArchived"},byCategoryTableViewName:{defaultMessage:"Table by category",id:"appTemplates.docs.byCategoryTableViewName"},byCategoryTableViewDescription:{defaultMessage:"Table of docs grouped by doc category",id:"appTemplates.docs.byCategoryTableViewDescription"},productSpec:{defaultMessage:"Product Spec",id:"appTemplates.docs.productSpec"},engDesignDoc:{defaultMessage:"Eng Design Doc",id:"appTemplates.docs.engDesignDoc"},documentation:{defaultMessage:"Documentation",id:"appTemplates.docs.documentation"},marketingBrief:{defaultMessage:"Marketing Brief",id:"appTemplates.docs.marketingBrief"}});function b(){return[{uri:"notion://docs_block",type:"collection_view_block",name:p.default.formatMessage(y.docsCollectionName),defaultViewsOrder:["notion://docs/recently_edited_list_view","notion://docs/by_category_table_view","notion://docs/docs_table_view","notion://docs/my_docs_list_view"]},{uri:a.zU,type:"collection",value:{name:(0,c.TP)(p.default.formatMessage(y.docsCollectionName)),schema:(e=p.default.intl,{title:{type:"title",name:e.formatMessage(y.docsTitleProperty)}}),format:{property_visibility:[{property:"notion://docs/doc_tag_property",visibility:"show"},{property:"notion://docs/created_by_property",visibility:"show"},{property:"notion://docs/created_time_property",visibility:"show"},{property:"notion://docs/last_edited_by_property",visibility:"hide"},{property:"notion://docs/last_edited_time_property",visibility:"hide"}],collection_page_properties:[{visible:!1,property:"notion://docs/doc_tag_property"},{visible:!1,property:"notion://docs/created_by_property"},{visible:!1,property:"notion://docs/created_time_property"},{visible:!1,property:"notion://docs/last_edited_by_property"},{visible:!1,property:"notion://docs/last_edited_time_property"}]},icon:r.Z.images.appPackages.docsIconSvg},blockUri:"notion://docs_block",emptyIcon:r.Z.images.appPackages.projectsProjectsEmptyIconPng,emptyTitle:p.default.formatMessage(y.docsCollectionEmptyTitle),emptyDescription:p.default.formatMessage(y.docsCollectionEmptyDescription),emptyButtonTitle:p.default.formatMessage(y.docsCollectionEmptyButtonTitle)},{uri:"notion://docs/created_time_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.simpleDocsPresetName),description:p.default.formatMessage(y.simpleDocsFeatureDescription),propertySchema:{type:"created_time",name:p.default.formatMessage(y.createdTimeProperty)}},{uri:"notion://docs/created_by_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.simpleDocsPresetName),description:p.default.formatMessage(y.simpleDocsFeatureDescription),propertySchema:{type:"created_by",name:p.default.formatMessage(y.createdByProperty)}}];var e}function S(){return[{uri:"notion://docs/docs_table_view",type:"view",collectionUri:a.zU,description:p.default.formatMessage(y.docsTableViewDescription),value:{type:"table",name:p.default.formatMessage(y.docsTableViewName),format:{table_wrap:!0,property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://docs/created_by_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_contains"},property:"notion://docs/doc_tags_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:"notion://docs/docs_status_property"}}],table_properties:[{width:100,visible:!0,property:"notion://docs/docs_status_property"},{width:284,visible:!0,property:"title"},{width:200,visible:!0,property:"notion://docs/doc_tags_property"},{width:200,visible:!0,property:"notion://docs/created_by_property"},{width:200,visible:!0,property:"notion://docs/last_edited_by_property"},{width:200,visible:!0,property:"notion://docs/last_edited_time_property"},{visible:!1,property:"notion://docs/created_time_property"}],hide_linked_collection_name:!0},query2:{aggregations:[{property:"title",aggregator:"count"}]}},blockUri:"notion://docs_block"}]}function w(){const e=(0,d.defineMessages)({newPrdTitle:{id:"appTemplate.docs.newPrdTitle",defaultMessage:"New Product Spec (PRD)",description:"Template for a new product spec"},newTechSpecTitle:{id:"appTemplate.docs.newTechSpecTitle",defaultMessage:"New Technical Spec",description:"Template for a new technical spec"},newBrainstormTitle:{id:"appTemplate.docs.newBrainstormTitle",defaultMessage:"New Brainstorm",description:"Template for a new brainstorm"}});return[[f("notion://docs/docs_template/new_prd"),e.newPrdTitle],[g("notion://docs/docs_template/new_brainstorm"),e.newBrainstormTitle],[h("notion://docs/docs_template/new_tech_spec"),e.newTechSpecTitle]].flatMap((e=>{let[t,o]=e;const{collection:i,blocks:n}=t,r={type:"database_template",blockValue:i.blockValue,collectionUri:i.parentUri,uri:i.uri,isDefault:!1};r.blockValue.properties&&(r.blockValue.properties.title=(0,c.TP)(p.default.formatMessage(o)));return[r,...n.map((e=>e.parentUri===i.uri?{...e,parentType:"database_template"}:e))]}))}function k(){return{uri:"notion://docs/doc_tags_feature",name:p.default.formatMessage(y.tagsProperty),dependencies:[{uri:"notion://docs/doc_tags_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.tagsProperty),icon:r.Z.images.appPackages.featureReleasesSvg,propertySchema:{type:"multi_select",name:p.default.formatMessage(y.tagsProperty),options:[{id:"product",value:p.default.formatMessage(y.tagsPropertyProductOption),color:"yellow"},{id:"engineering",value:p.default.formatMessage(y.tagsPropertyEngineeringOption),color:"pink"},{id:"guides",value:p.default.formatMessage(y.tagsPropertyGuidesOption),color:"orange"}]}},{uri:"notion://docs/by_category_table_view",type:"view",collectionUri:a.zU,description:p.default.formatMessage(y.byCategoryTableViewDescription),value:{type:"table",name:p.default.formatMessage(y.byCategoryTableViewName),format:{property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_contains"},property:"notion://docs/doc_tags_property"}}],table_properties:[{width:280,visible:!0,property:"title"},{width:120,visible:!0,property:"notion://docs/created_by_property"},{width:200,visible:!0,property:"notion://docs/created_time_property"},{width:146,visible:!0,property:"notion://docs/last_edited_by_property"},{width:200,visible:!1,property:"notion://docs/last_edited_time_property"},{width:200,visible:!1,property:"notion://docs/doc_tags_property"}],collection_groups:[{value:{type:"multi_select",value:"Engineering"},property:"notion://docs/doc_tags_property"},{value:{type:"multi_select",value:"Guides"},property:"notion://docs/doc_tags_property"},{value:{type:"multi_select",value:"Product"},property:"notion://docs/doc_tags_property"},{value:{type:"multi_select",value:void 0},property:"notion://docs/doc_tags_property"}],collection_group_by:{sort:{type:"manual"},type:"multi_select",property:"notion://docs/doc_tags_property"}}},blockUri:"notion://docs_block"}],collectionUri:a.zU}}function C(){return{uri:"notion://docs/doc_type_feature",name:p.default.formatMessage(y.docTypeFeature),description:p.default.formatMessage(y.docTypeFeatureDescription),dependencies:[{uri:"notion://docs/type_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.docTypeFeature),description:p.default.formatMessage(y.docTypeFeatureDescription),icon:r.Z.images.appPackages.featureTypeSvg,propertySchema:{name:"Type",type:"select",options:[{id:(0,s.ZP)(),color:"yellow",value:p.default.formatMessage(y.productSpec)},{id:(0,s.ZP)(),color:"green",value:p.default.formatMessage(y.engDesignDoc)},{id:(0,s.ZP)(),color:"purple",value:p.default.formatMessage(y.documentation)},{id:(0,s.ZP)(),color:"red",value:p.default.formatMessage(y.marketingBrief)}]}}],collectionUri:a.zU}}function _(){return{uri:"notion://docs/status_feature",name:p.default.formatMessage(y.statusProperty),description:p.default.formatMessage(y.statusFeatureDescription),dependencies:[{uri:"notion://docs/docs_status_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.statusProperty),description:p.default.formatMessage(y.statusFeatureDescription),icon:r.Z.images.appPackages.featureStatusSvg,propertySchema:{name:p.default.formatMessage(y.statusProperty),type:"status",groups:[{id:"todo-status-group",name:"To-do",color:"gray",optionIds:["new"]},{id:"in-progress-status-group",name:"In progress",color:"blue",optionIds:["draft","in-review"]},{id:"completed-status-group",name:"Complete",color:"green",optionIds:["archived","approved"]}],options:[{id:"draft",color:"yellow",value:p.default.formatMessage(y.statusDraft)},{id:"new",value:p.default.formatMessage(y.statusNew)},{id:"in-review",color:"blue",value:p.default.formatMessage(y.statusInReview)},{id:"approved",color:"green",value:p.default.formatMessage(y.statusApproved)},{id:"archived",color:"default",value:p.default.formatMessage(y.statusArchived)}],defaultOption:p.default.formatMessage(y.statusNew)}}],collectionUri:a.zU}}function M(){return{uri:"notion://docs/simple_docs_feature",name:p.default.formatMessage(y.simpleDocsPresetName),description:p.default.formatMessage(y.simpleDocsFeatureDescription),dependencies:[...b(),...S(),{uri:"notion://docs/last_edited_time_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.simpleDocsPresetName),description:p.default.formatMessage(y.simpleDocsFeatureDescription),propertySchema:{type:"last_edited_time",name:p.default.formatMessage(y.lastEditedTimeProperty)}},{uri:"notion://docs/last_edited_by_property",type:"property",collectionUri:a.zU,name:p.default.formatMessage(y.simpleDocsPresetName),description:p.default.formatMessage(y.simpleDocsFeatureDescription),propertySchema:{type:"last_edited_by",name:p.default.formatMessage(y.lastEditedByProperty)}},...w()],collectionUri:a.zU}}function T(){return{uri:"notion://docs/my_docs_feature",name:p.default.formatMessage(y.myDocsListViewName),description:p.default.formatMessage(y.myDocsFeatureDescription),dependencies:[{uri:"notion://docs/my_docs_list_view",type:"view",collectionUri:a.zU,description:p.default.formatMessage(y.myDocsListViewDescription),value:{type:"list",name:p.default.formatMessage(y.myDocsListViewName),format:{table_wrap:!0,list_properties:[{visible:!1,property:"notion://docs/docs_status_property"},{visible:!0,property:"notion://docs/last_edited_time_property"},{visible:!0,property:"notion://docs/doc_tags_property"},{visible:!0,property:"notion://docs/created_by_property"},{visible:!1,property:"notion://docs/last_edited_by_property"},{visible:!1,property:"notion://docs/created_time_property"}],property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_contains"},property:"notion://docs/doc_tags_property"}}],hide_linked_collection_name:!0},query2:{sort:[{property:"notion://docs/last_edited_time_property",direction:"descending"}],filter:{filters:[{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:"notion://docs/created_by_property"},{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:"notion://docs/last_edited_by_property"}],operator:"or"}}},blockUri:"notion://docs_block"}],collectionUri:a.zU}}function I(){return{uri:"notion://docs/recently_edited_feature",name:p.default.formatMessage(y.recentlyEditedViewName),description:p.default.formatMessage(y.recentlyEditedFeatureDescription),dependencies:[{uri:"notion://docs/recently_edited_list_view",type:"view",collectionUri:a.zU,description:p.default.formatMessage(y.recentlyEditedViewDescription),value:{type:"list",name:p.default.formatMessage(y.recentlyEditedViewName),format:{table_wrap:!0,list_properties:[{visible:!1,property:"notion://docs/created_time_property"},{visible:!1,property:"notion://docs/docs_status_property"},{visible:!0,property:"notion://docs/last_edited_time_property"},{visible:!1,property:"notion://docs/last_edited_by_property"},{visible:!0,property:"notion://docs/docs_status_property"},{visible:!0,property:"notion://docs/created_by_property"},{visible:!0,property:"notion://docs/doc_tags_property"}],property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_is"},property:"notion://docs/docs_status_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://docs/created_by_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_contains"},property:"notion://docs/doc_tags_property"}}],hide_linked_collection_name:!0},query2:{sort:[{property:"notion://docs/last_edited_time_property",direction:"descending"}]}},blockUri:"notion://docs_block"}],collectionUri:a.zU}}function P(){return{uri:`${a.zU}_type`,name:p.default.formatMessage(y.simpleDocsPresetName),dependencies:[...b(),...S()],collectionUri:a.zU}}const x="notion://docs/simple_docs_preset";function B(){const e=x,t=i.tz[e]?(0,l.BL)(i.tz[e],p.default.getIntl()):{url:r.Z.images.appPackages.projectsProjectsTasksPresetPng,description:p.default.formatMessage(y.preview1Description)};return{type:"core",uri:e,name:p.default.formatMessage(y.simpleDocsPresetName),shortName:p.default.formatMessage(y.simpleDocsPresetShortName),icon:r.Z.images.appPackages.docsIconSvg,description:p.default.formatMessage(y.simpleDocsPresetDescription),previews:[t],requiredFeatures:[{type:"simple",featureUri:M().uri}],defaultOnFeatures:[{type:"simple",featureUri:T().uri},{type:"simple",featureUri:I().uri},{type:"simple",featureUri:v().uri},{type:"simple",featureUri:k().uri}],allToggleFeatures:[M().uri,_().uri,C().uri,T().uri,I().uri,k().uri,v().uri]}}function Z(){return{uri:n.gr,name:p.default.formatMessage(y.docsCollectionName),presets:[B(),{type:"custom",uri:`${a.zU}${a.WN}`,shortName:p.default.formatMessage(y.docsCollectionName),name:p.default.formatMessage(y.docsCollectionName),requiredFeatures:[{type:"simple",featureUri:P().uri}],defaultOnFeatures:[],allToggleFeatures:[]}],allFeatures:[_(),M(),C(),T(),I(),k(),v(),P()],logo:r.Z.images.appPackages.docsIconSvg,welcomeTitle:p.default.formatMessage(y.docsWelcomeTitle),welcomeSubtitle:p.default.formatMessage(y.docsWelcomeSubtitle)}}},28410:(e,t,o)=>{o.d(t,{KW:()=>R,Rt:()=>D,sY:()=>w});var i=o(3657),n=o(27848),r=o(41892),a=o(67219),s=o(4615),l=o(10482),c=o(70203),d=o(5366),p=o(33929),u=o(80951),m=o(40652),g=o(42875),h=o(89837);const f=(0,d.defineMessages)({gettingStartedWithMeetings:{id:"appTemplates.meetings.gettingStartedWithMeetings",defaultMessage:"Getting started with Meetings"},teamStandupPageName:{id:"appTemplates.meetings.teamStandupPageName",defaultMessage:"Team Standup",description:"Name of the page for the team standup meeting"},teamWeeklyPageName:{id:"appTemplates.meetings.teamWeeklyPageName",defaultMessage:"Team Weekly",description:"Name of the page for the team weekly meeting"},gettingStartedWith1on1s:{id:"appTemplates.meetings.gettingStartedWith1on1s",defaultMessage:"Getting started with 1:1s"},notionMeetingsTutorialMeetingsTeamWeeklyPage_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_0",defaultMessage:"Team Weekly ",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_0_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_0_0",defaultMessage:"📚 Pre-read",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0",defaultMessage:"Docs",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0_0",defaultMessage:"Add your docs here ...",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0",defaultMessage:"Team updates & gut checks",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0_0",defaultMessage:"Add your team members updates and gut checks here ...",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_3_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_3_0",defaultMessage:"📣 Agenda items",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamWeeklyPage_5_0:{id:"notionMeetingsTutorialMeetingsTeamWeeklyPage_5_0",defaultMessage:"☑️ Action items",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_0:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_0",defaultMessage:"Team Standup ",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_2:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_2",defaultMessage:" ",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_0_0:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_0_0",defaultMessage:"Discussion Topics",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_1_0:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_1_0",defaultMessage:"…",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_3_0:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_3_0",defaultMessage:"Team Updates",description:"Page template's content"},notionMeetingsTutorialMeetingsTeamStandupPage_4_0:{id:"notionMeetingsTutorialMeetingsTeamStandupPage_4_0",defaultMessage:"Add my update",description:"Page template's content"}});function v(){const e="notion://meetings/tutorial/meetings/getting_started_with_meetings",t=(0,d.defineMessages)({notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0",defaultMessage:"Getting started with meeting notes",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0_0_0_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0_0_0_0",defaultMessage:"This Meetings template helps you organize your meetings in Notion, such as setting agendas and taking notes. ",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_1_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_1_0",defaultMessage:"You can use Notion pages to collaborate on meeting notes with your team, such as 1:1s, stand-ups, and team meetings. Each meeting can be stored in this database, to help your team stay organized. ",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_2_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_2_0",defaultMessage:"How to use this template",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_3_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_3_0",defaultMessage:"This is your team’s meeting notes database. You can click on each item to open it up to its own page where you can add categorical information, create an agenda, and record action items — right alongside your teammates. ",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_4_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_4_0",defaultMessage:"Click “+ New” to add an upcoming meeting into the database.",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_5_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_5_0",defaultMessage:"Use the view tabs to visualize your meeting notes in different ways — like by date, by type, or filtered to only include the ones that you’ve attended.",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_6_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_6_0",defaultMessage:"Customize this template",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_7_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_7_0",defaultMessage:"This template is pre-populated with the most common meeting notes fields (like attendees and meeting date), but you can add your own when you add in a new field/column.",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_8_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_8_0",defaultMessage:"Database Templates",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_9_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_9_0",defaultMessage:"To make it easier to create meetings of the same type (such as bug reports, design specs), database templates let you define and replicate certain page elements with just one click.",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_10_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_10_0",defaultMessage:"To edit, install more, or create your own, click on the dropdown next to the blue “New” button: ",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_11_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_11_0",defaultMessage:"Views, filters, and sorts",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_12_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_12_0",defaultMessage:"Views are customizable, flexible layouts to visualize your databases and properties as a table, board, calendar, timeline, or list. This template comes with several views of meeting notes — you can customize each or create your own! ",description:"Page template's content"},notionMeetingsTutorialMeetingsGettingStartedWithMeetings_14_0:{id:"notionMeetingsTutorialMeetingsGettingStartedWithMeetings_14_0",defaultMessage:"Learn more about Notion’s database layouts, including when to use each type of database view in this guide: ",description:"Page template's content"}});return[{uri:`${e}`,type:"block",parentUri:"notion://meetings_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0)]],"notion://meetings/meeting_time_property":[["‣",[["d",(0,h.LH)((0,h.Uu)((0,g.r)()).minus({days:1}).set({hour:6}))]]]],"notion://meetings/meeting_type_property":[[p.default.formatMessage(w.training)]],"notion://meetings/last_edited_time_property":(0,u.d7)((0,h.Cv)((0,g.r)()))},format:{page_icon:"/icons/groups_blue.svg"}}},{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"column_list"}},{uri:`${e}/0/0`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/0/0`,type:"block",parentUri:`${e}/0/0`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_0_0_0_0)]]},format:{page_icon:"👋",block_color:"gray_background"}}},{uri:`${e}/0/1`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/1/0`,type:"block",parentUri:`${e}/0/1`,parentType:"block",blockValue:{type:"table_of_contents",format:{block_color:"gray"}}},{uri:`${e}/0/1/1`,type:"block",parentUri:`${e}/0/1`,parentType:"block",blockValue:{type:"text"}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_1_0)]]}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_2_0)]]},format:{copied_from_pointer:{id:"ceb5b0f8-cf7e-4e10-87c1-c5705b49bdda",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_3_0)]]}}},{uri:`${e}/3/0`,type:"block",parentUri:`${e}/3`,parentType:"block",blockValue:{type:"image",properties:{size:[["178.9KB"]],title:[["Frame 8.png"]],source:[[r.Z.images.appPackages.meetingsGettingStarted1Png]]},format:{block_width:2132,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.4324577861163227,block_preserve_scale:!0}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_4_0)]]}}},{uri:`${e}/4/0`,type:"block",parentUri:`${e}/4`,parentType:"block",blockValue:{type:"image",properties:{size:[["177.0KB"]],title:[["Frame 13 (1).png"]],source:[[r.Z.images.appPackages.meetingsGettingStarted2Png]]},format:{block_width:2104,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.438212927756654,block_preserve_scale:!0}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_5_0)]]}}},{uri:`${e}/5/0`,type:"block",parentUri:`${e}/5`,parentType:"block",blockValue:{type:"image",properties:{size:[["163.0KB"]],title:[["Frame 10.png"]],source:[[r.Z.images.appPackages.meetingsGettingStarted3Png]]},format:{block_width:2228,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6651705565529623,block_preserve_scale:!0}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_6_0)]]}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_7_0)]]}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_8_0)]]},format:{copied_from_pointer:{id:"f0d48c39-0252-47e0-8d8a-8b233f6c1dd6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_9_0)]]},format:{copied_from_pointer:{id:"82f52e0b-8a63-4929-bd8f-6575a0385f68",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_10_0)]]},format:{copied_from_pointer:{id:"eab961bb-23f0-45dc-934d-5c23436a67f0",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_11_0)]]}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_12_0)]]}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["197.9KB"]],title:[["Frame 11.png"]],source:[[r.Z.images.appPackages.meetingsGettingStarted4Png]]},format:{block_width:1962,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6197757390417941,block_preserve_scale:!0}}},{uri:`${e}/14`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[p.default.formatMessage(t.notionMeetingsTutorialMeetingsGettingStartedWithMeetings_14_0)],["https://www.notion.so/help/guides/when-to-use-each-type-of-database-view",[["a","https://www.notion.so/help/guides/when-to-use-each-type-of-database-view"]]]]},format:{page_icon:"📎",block_color:"brown_background",copied_from_pointer:{id:"fddc26ad-e301-4ac3-a2b3-9ca10ec35f70",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/15`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text"}}]}function y(e){return{collection:{uri:`${e}`,type:"block",parentUri:"notion://meetings_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamStandupPage_0)],["‣",[["d",{...(0,h.hT)(Date.now(),(0,g.r)()),date_format:"relative"}]]],[" "]],"notion://meetings/meeting_time_property":[["‣",[["d",(0,h.hT)(Date.now(),(0,g.r)())]]]],"notion://meetings/meeting_type_property":[[p.default.formatMessage(w.standup)]]},format:{page_icon:"/icons/conversation_lightgray.svg",block_locked:!1,block_locked_by:"c62621c6-e8ec-40f6-9ab7-334f43db12b4",copied_from_pointer:{id:"30c39698-67d3-4545-918b-6e6f6f97fcae",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},blocks:[{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamStandupPage_0_0)]]},format:{copied_from_pointer:{id:"df1fb075-caa3-4fb5-8101-c4049b117bd6",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamStandupPage_1_0)]]},format:{copied_from_pointer:{id:"82cae7aa-f0e2-43b5-a367-ecd63e9c0475",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"635debf7-b00b-49a2-a1a5-f24e55167e9c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamStandupPage_3_0)]]},format:{copied_from_pointer:{id:"4b895af5-4596-4dca-8b5c-79fc142b9493",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"factory",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamStandupPage_4_0)]]},format:{copied_from_pointer:{id:"5a1bc82d-329f-4484-9a96-ec223b21b411",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4/0`,type:"block",parentUri:`${e}/4`,parentType:"block",blockValue:{type:"toggle",properties:{title:[["‣",[["tv",{type:"me"}]]],[" "]]},format:{copied_from_pointer:{id:"f18b612e-8935-46b6-94e9-c9e403fe05b2",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{copied_from_pointer:{id:"02f2dde3-1f65-4b93-8f05-917477e87369",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}}function b(e){return{collection:{uri:`${e}`,type:"block",parentUri:"notion://meetings_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_0)],["‣",[["d",{...(0,h.ME)((0,h.Uu)((0,g.r)()).minus({days:1})),date_format:"relative"}]]],[" "]],"notion://meetings/meeting_time_property":[["‣",[["d",(0,h.LH)((0,h.Uu)((0,g.r)()).minus({days:1}).set({hour:6}))]]]],"notion://meetings/meeting_type_property":[[p.default.formatMessage(w.teamWeekly)]]},format:{page_icon:"/icons/calendar-week_lightgray.svg",block_locked:!1,block_locked_by:"c62621c6-e8ec-40f6-9ab7-334f43db12b4",copied_from_pointer:{id:"e9782378-e499-446e-ad19-ed6bbfef1422",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},blocks:[{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_0_0)]]},format:{copied_from_pointer:{id:"2042f583-5062-4ffd-a84e-41bde8474868",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"toggle",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0)]]},format:{copied_from_pointer:{id:"892ec984-2d15-4d15-beac-a3003a088ebd",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/1/0`,type:"block",parentUri:`${e}/1`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_1_0_0),[["h","gray"]]]]},format:{copied_from_pointer:{id:"3ad07360-6e77-4400-b964-52a63d40be5c",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"toggle",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0)]]},format:{copied_from_pointer:{id:"2ef8a3ee-a0fc-4900-b4fa-bc5d181bcc92",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/2/0`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"text",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_2_0_0),[["h","gray"]]]]},format:{copied_from_pointer:{id:"bffbae84-9c45-4f08-ad15-5a5cb433590f",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_3_0)]]},format:{copied_from_pointer:{id:"9128fe0d-1f18-46b1-b0f0-d974f48c25f5",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"bulleted_list",format:{copied_from_pointer:{id:"6451760c-7b9f-4e2b-8b38-3196faaacda0",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[p.default.formatMessage(f.notionMeetingsTutorialMeetingsTeamWeeklyPage_5_0)]]},format:{copied_from_pointer:{id:"d422251f-50ee-4a7d-ba76-1f32957c5333",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"to_do",format:{copied_from_pointer:{id:"264a0346-78c4-4018-96c6-8b6faa41a326",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}}]}}function S(){const e=y("notion://meetings/tutorial/meetings/team_standup_page"),t=b("notion://meetings/tutorial/meetings/team_weekly_page");return{uri:`notion://meetings/meetings_${m.Pf}`,name:"Tutorial content",description:"Prefill the template with tutorial content on how to get started.",dependencies:[...v(),e.collection,...e.blocks,t.collection,...t.blocks],collectionUri:m.Fi}}const w=(0,d.defineMessages)({meetingsCollectionName:{defaultMessage:"Meetings",description:"Meetings database",id:"appTemplates.meetings.meetingsCollectionName"},meetingsCollectionEmptyTitle:{defaultMessage:"No meetings",description:"The title when adding an entry in the app's database",id:"appTemplates.mettings.meetingsCollectionEmptyTitle"},meetingsCollectionEmptyDescription:{defaultMessage:"Meetings help your team organize meetings, share agendas, and take meeting notes.",description:"The description when adding an entry in the app's database",id:"appTemplates.mettings.meetingsCollectionEmptyDescription"},meetingsCollectionEmptyButtonTitle:{defaultMessage:"New meeting",description:"The button text when adding an entry in the app's database",id:"appTemplates.mettings.meetingsCollectionEmptyButtonTitle"},tagProperty:{defaultMessage:"Tag",description:"multi select labels/tags",id:"appTemplates.meetings.tagProperty"},meetingsPresetName:{defaultMessage:"Meetings",description:"meetings",id:"appTemplates.meetings.meetingsPresetName"},meetingsPresetShortName:{defaultMessage:"Meetings",description:"meetings",id:"appTemplates.meetings.meetingsPresetShortName"},createdTimeProperty:{defaultMessage:"Created time",description:"Created time property",id:"appTemplates.meetings.createdTimePropertyTitle"},meetingAttendeesProperty:{defaultMessage:"Attendees",description:"Meetings attendee",id:"appTemplates.meetings.meetingAttendeesProperty"},meetingsPresetDescription:{id:"appTemplates.meetings.meetingsPresetDescription",defaultMessage:"Organize team meetings in one place, with agendas, notes, and a calendar view. ",description:"Description of Meetings template shown in template library"},preview1Description:{id:"appTemplates.meetings.preview1Description",defaultMessage:"Some description about this template preview image..."},preview2Description:{id:"appTemplates.meetings.preview2Description",defaultMessage:"Some description about this template preview video..."},meetingTimeProperty:{id:"appTemplates.meetings.meetingTimeProperty",defaultMessage:"Event time"},lastEditedByAndTimeFeature:{id:"appTemplates.meetings.lastEditedByAndTimeFeature",defaultMessage:"Last edited time & by"},lastEditedByAndTimeFeatureDescription:{id:"appTemplates.meetings.lastEditedByAndTimeFeatureDescription",defaultMessage:"When and by whom the meeting notes are last edited"},lastEditedByProperty:{id:"appTemplates.meetings.lastEditedByProperty",defaultMessage:"Last edited by"},lastEditedTimeProperty:{id:"appTemplates.meetings.lastEditedTimeProperty",defaultMessage:"Last edited time"},meetingTypeProperty:{id:"appTemplates.meetings.meetingTypeProperty",defaultMessage:"Type"},meetingTypeFeatureDescription:{id:"appTemplates.meetings.meetingTypeFeatureDescription",defaultMessage:"Types of meetings: standup, brainstorm, team weekly, etc"},standup:{id:"appTemplates.meetings.standup",defaultMessage:"Standup"},brainstorm:{id:"appTemplates.meetings.brainstorm",defaultMessage:"Brainstorm"},teamWeekly:{id:"appTemplates.meetings.teamWeekly",defaultMessage:"Team weekly"},training:{id:"appTemplates.meetings.training",defaultMessage:"Training",description:"Training tag"},myMeetingViewName:{id:"appTemplates.meetings.myMeetingViewName",defaultMessage:"Mine"},myMeetingViewDescription:{id:"appTemplates.meetings.myMeetingViewDescription",defaultMessage:"List of my meetings"},myMeetingViewFeatureDescription:{id:"appTemplates.meetings.myMeetingViewFeatureDescription",defaultMessage:"A view of all meetings created or attended by me."},calendarViewFeature:{id:"appTemplates.meetings.calendarViewFeature",defaultMessage:"Calendar view"},calendarViewFeatureDescription:{id:"appTemplates.meetings.calendarViewFeatureDescription",defaultMessage:"Display meetings in a calendar view."},calendarViewDescription:{id:"appTemplates.meetings.calendarViewDescription",defaultMessage:"Calendar of meetings"},calendarViewName:{id:"appTemplates.meetings.calendarViewName",defaultMessage:"Calendar"},byTypeViewFeature:{id:"appTemplates.meetings.byTypeViewFeature",defaultMessage:"Meetings by type"},byTypeViewName:{id:"appTemplates.meetings.byTypeViewName",defaultMessage:"List by type"},byTypeViewDescription:{id:"appTemplates.meetings.byTypeViewDescription",defaultMessage:"List of meetings grouped by type"},byTypeViewFeatureDescription:{id:"appTemplates.meetings.byTypeViewFeatureDescription",defaultMessage:"A view of meetings categorized by meeting types."},allMeetingsViewDescription:{id:"appTemplates.meetings.allMeetingsViewDescription",defaultMessage:"Table of all meetings",description:"Table view of all meetings"},allMeetingsViewName:{id:"appTemplates.meetings.allMeetingsViewName",defaultMessage:"All",description:"All meetings view name"},meetingsViewDescription:{id:"appTemplates.meetings.meetingsViewDescription",defaultMessage:"List of all meetings",description:"List view of all meetings"},allMeetingsViewFeatureDescription:{id:"appTemplates.meetings.allMeetingsViewFeatureDescription",defaultMessage:"A view of all meetings.",description:"feature description for a all-meetings view"},createdByAndTimeFeature:{id:"appTemplates.meetings.createdByAndTimeFeature",defaultMessage:"Created by / time"},createdByAndTimeFeatureDescription:{id:"appTemplates.meetings.createdByAndTimeFeatureDescription",defaultMessage:"When and by whom the meeting notes are created."},createdByProperty:{id:"appTemplates.meetings.createdByProperty",defaultMessage:"Created by"},meetingsWelcomeTitle:{id:"appTemplates.meetings.meetingsWelcomeTitle",defaultMessage:"Welcome to Meetings"},meetingsWelcomeSubtitle:{id:"appTemplates.meetings.meetingsWelcomeSubtitle",defaultMessage:"Capture meeting notes, create action items, and connect your Calendar events with everything else in Notion."},paragraph1:{id:"appTemplates.meetings.paragraph1",defaultMessage:"👋 Welcome to Meetings!"},paragraph2:{id:"appTemplates.meetings.paragraph2",defaultMessage:"Use this template to organize meetings, share agendas, and take meeting notes. "},meetingsTitleProperty:{id:"appTemplates.meetings.meetingsTitleProperty",defaultMessage:"Name",description:"Name for the title property of a meeting"},newWeeklyTemplateTitle:{id:"appTemplates.meetings.newWeeklyTemplateTitle",defaultMessage:"New Weekly",description:"The title of the new weekly template"},newStandupTemplateTitle:{id:"appTemplates.meetings.newStandupTemplateTitle",defaultMessage:"New Standup",description:"The title of the new Standup template"}});function k(){return[{uri:"notion://meetings_block",type:"collection_view_block",name:p.default.formatMessage(w.meetingsCollectionName),defaultViewsOrder:["notion://meetings/meetings_view","notion://meetings/calendar_view","notion://meetings/meeting_by_type_view","notion://meetings/my_meeting_view","notion://meetings/all_meetings_view"]},{uri:a.Fi,type:"collection",value:{name:(0,c.TP)(p.default.formatMessage(w.meetingsCollectionName)),schema:(e=p.default.intl,{title:{type:"title",name:e.formatMessage(w.meetingsTitleProperty)},"notion://meetings/meeting_time_property":{type:"date",name:e.formatMessage(w.meetingTimeProperty)},"notion://meetings/attendees_property":{type:"person",name:e.formatMessage(w.meetingAttendeesProperty)}}),icon:r.Z.images.appPackages.meetingsIconSvg,format:{property_visibility:[{property:"notion://meetings/attendees_property",visibility:"show"},{property:"notion://meetings/meeting_type_property",visibility:"show"},{property:"notion://meetings/meeting_time_property",visibility:"show"},{property:"notion://meetings/created_by_property",visibility:"hide"},{property:"notion://meetings/last_edited_time_property",visibility:"hide"},{property:"notion://meetings/created_time_property",visibility:"hide"},{property:"notion://meetings/last_edited_by_property",visibility:"hide"}]}},blockUri:"notion://meetings_block",emptyIcon:r.Z.images.appPackages.projectsProjectsEmptyIconPng,emptyTitle:p.default.formatMessage(w.meetingsCollectionEmptyTitle),emptyDescription:p.default.formatMessage(w.meetingsCollectionEmptyDescription),emptyButtonTitle:p.default.formatMessage(w.meetingsCollectionEmptyButtonTitle)},{uri:"notion://meetings/meetings_view",type:"view",collectionUri:a.Fi,description:p.default.formatMessage(w.meetingsViewDescription),value:{type:"list",name:p.default.formatMessage(w.meetingsCollectionName),format:{table_wrap:!0,list_properties:[{visible:!0,property:"notion://meetings/attendees_property"},{visible:!0,property:"notion://meetings/meeting_type_property"},{visible:!0,property:"notion://meetings/last_edited_time_property"},{visible:!1,property:"notion://meetings/meeting_tags_property"},{visible:!1,property:"notion://meetings/meeting_time_property"},{visible:!1,property:"notion://meetings/created_by_property"},{visible:!1,property:"notion://meetings/created_time_property"},{visible:!1,property:"notion://meetings/last_edited_by_property"}],hide_linked_collection_name:!0,property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://meetings/attendees_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_is"},property:"notion://meetings/meeting_type_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://meetings/created_by_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:"notion://meetings/meeting_time_property"}}]}},blockUri:"notion://meetings_block"}];var e}function C(){return{uri:"notion://meetings/meetings_feature",name:p.default.formatMessage(w.meetingsPresetName),dependencies:[...k(),...[[p.default.formatMessage(w.newStandupTemplateTitle),y("notion://meetings/new_standup_template")],[p.default.formatMessage(w.newWeeklyTemplateTitle),b("notion://meetings/new_weekly_template")]].flatMap((e=>{let[t,o]=e;const{collection:i,blocks:n}=o,r={type:"database_template",blockValue:i.blockValue,collectionUri:i.parentUri,uri:i.uri,isDefault:!1};return r.blockValue.properties&&(r.blockValue.properties.title=(0,c.TP)(t)),[r,...n.map((e=>e.parentUri===i.uri?{...e,parentType:"database_template"}:e))]}))],collectionUri:a.Fi}}function _(){return{uri:"notion://meetings/created_by_and_time_feature",name:p.default.formatMessage(w.createdByAndTimeFeature),description:p.default.formatMessage(w.createdByAndTimeFeatureDescription),dependencies:[{uri:"notion://meetings/created_by_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.createdByAndTimeFeature),description:p.default.formatMessage(w.createdByAndTimeFeatureDescription),propertySchema:{type:"created_by",name:p.default.formatMessage(w.createdByProperty)}},{uri:"notion://meetings/created_time_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.createdByAndTimeFeature),description:p.default.formatMessage(w.createdByAndTimeFeatureDescription),propertySchema:{type:"created_time",name:p.default.formatMessage(w.createdTimeProperty)}}],collectionUri:a.Fi}}function M(){return{uri:"notion://meetings/last_edited_by_and_time_feature",name:p.default.formatMessage(w.lastEditedByAndTimeFeature),description:p.default.formatMessage(w.lastEditedByAndTimeFeatureDescription),dependencies:[{uri:"notion://meetings/last_edited_by_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.lastEditedByAndTimeFeature),description:p.default.formatMessage(w.lastEditedByAndTimeFeatureDescription),propertySchema:{type:"last_edited_by",name:p.default.formatMessage(w.lastEditedByProperty)}},{uri:"notion://meetings/last_edited_time_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.lastEditedByAndTimeFeature),description:p.default.formatMessage(w.lastEditedByAndTimeFeatureDescription),propertySchema:{type:"last_edited_time",name:p.default.formatMessage(w.lastEditedTimeProperty)}}],collectionUri:a.Fi}}function T(){return{uri:"notion://meetings/meeting_type_feature",name:p.default.formatMessage(w.meetingTypeProperty),description:p.default.formatMessage(w.meetingTypeFeatureDescription),dependencies:[{uri:"notion://meetings/meeting_type_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.meetingTypeProperty),description:p.default.formatMessage(w.meetingTypeFeatureDescription),icon:r.Z.images.appPackages.featureTypeSvg,propertySchema:{type:"select",name:p.default.formatMessage(w.meetingTypeProperty),options:[{id:"standup",value:p.default.formatMessage(w.standup),color:"yellow"},{id:"brainstorm",value:p.default.formatMessage(w.brainstorm),color:"blue"},{id:"team_weekly",value:p.default.formatMessage(w.teamWeekly),color:"green"},{id:"training",value:p.default.formatMessage(w.training),color:"pink"}]}}],collectionUri:a.Fi}}function I(){return{uri:"notion://meetings/meetings_tag_feature",name:p.default.formatMessage(w.tagProperty),dependencies:[{uri:"notion://meetings/meeting_tags_property",type:"property",collectionUri:a.Fi,name:p.default.formatMessage(w.tagProperty),icon:r.Z.images.appPackages.featureReleasesSvg,propertySchema:{type:"multi_select",name:p.default.formatMessage(w.tagProperty)}}],collectionUri:a.Fi}}function P(){return{uri:"notion://meetings/meeting_by_type_view_feature",name:p.default.formatMessage(w.byTypeViewFeature),description:p.default.formatMessage(w.byTypeViewFeatureDescription),dependencies:[{uri:"notion://meetings/meeting_by_type_view",type:"view",collectionUri:a.Fi,description:p.default.formatMessage(w.byTypeViewDescription),value:{type:"list",name:p.default.formatMessage(w.byTypeViewName),format:{table_wrap:!0,list_properties:[{visible:!0,property:"notion://meetings/attendees_property"},{visible:!1,property:"notion://meetings/meeting_type_property"},{visible:!0,property:"notion://meetings/last_edited_time_property"},{visible:!1,property:"notion://meetings/meeting_tags_property"},{visible:!0,property:"notion://meetings/meeting_time_property"},{visible:!1,property:"notion://meetings/created_by_property"},{visible:!1,property:"notion://meetings/created_time_property"},{visible:!1,property:"notion://meetings/last_edited_by_property"}],property_filters:[{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://meetings/attendees_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"enum_is"},property:"notion://meetings/meeting_type_property"}},{id:(0,s.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:"notion://meetings/last_edited_by_property"}}],collection_groups:[{value:{type:"select",value:void 0},property:"notion://meetings/meeting_type_property"},{value:{type:"select",value:"Brainstorm"},property:"notion://meetings/meeting_type_property"},{value:{type:"select",value:"Standup"},property:"notion://meetings/meeting_type_property"},{value:{type:"select",value:"Team weekly"},property:"notion://meetings/meeting_type_property"}],collection_group_by:{sort:{type:"manual"},type:"select",property:"notion://meetings/meeting_type_property"},hide_linked_collection_name:!0}},blockUri:"notion://meetings_block"}],collectionUri:a.Fi}}function x(){return{uri:"notion://meetings/my_meeting_view_feature",name:p.default.formatMessage(w.myMeetingViewName),description:p.default.formatMessage(w.myMeetingViewFeatureDescription),dependencies:[{uri:"notion://meetings/my_meeting_view",type:"view",collectionUri:a.Fi,description:p.default.formatMessage(w.myMeetingViewDescription),value:{type:"list",name:p.default.formatMessage(w.myMeetingViewName),format:{table_wrap:!0,list_properties:[{visible:!0,property:"notion://meetings/attendees_property"},{visible:!0,property:"notion://meetings/meeting_type_property"},{visible:!0,property:"notion://meetings/last_edited_time_property"},{visible:!1,property:"notion://meetings/meeting_tags_property"},{visible:!0,property:"notion://meetings/meeting_time_property"},{visible:!1,property:"notion://meetings/created_by_property"},{visible:!1,property:"notion://meetings/created_time_property"},{visible:!1,property:"notion://meetings/last_edited_by_property"}],hide_linked_collection_name:!0},query2:{filter:{filters:[{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:"notion://meetings/created_by_property"},{filters:[{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:"notion://meetings/attendees_property"}],operator:"or"}],operator:"or"}}},blockUri:"notion://meetings_block"}],collectionUri:a.Fi}}function B(){return{uri:"notion://meetings/calendar_view_feature",name:p.default.formatMessage(w.calendarViewFeature),description:p.default.formatMessage(w.calendarViewFeatureDescription),dependencies:[{uri:"notion://meetings/calendar_view",type:"view",collectionUri:a.Fi,description:p.default.formatMessage(w.calendarViewDescription),value:{name:p.default.formatMessage(w.calendarViewName),type:"calendar",format:{hide_linked_collection_name:!0},query2:{calendar_by:"notion://meetings/meeting_time_property"}},blockUri:"notion://meetings_block"}],collectionUri:a.Fi}}function Z(){return{uri:"notion://meetings/all_meetings_view_feature",name:p.default.formatMessage(w.myMeetingViewName),description:p.default.formatMessage(w.allMeetingsViewFeatureDescription),dependencies:[{uri:"notion://meetings/all_meetings_view",type:"view",collectionUri:a.Fi,description:p.default.formatMessage(w.allMeetingsViewDescription),value:{type:"table",name:p.default.formatMessage(w.allMeetingsViewName),format:{table_properties:[{width:280,visible:!0,property:"title"},{width:200,visible:!0,property:"notion://meetings/attendees_property"},{width:200,visible:!0,property:"notion://meetings/meeting_time_property"},{width:142,visible:!0,property:"notion://meetings/meeting_type_property"},{width:200,visible:!0,property:"notion://meetings/created_time_property"},{width:200,visible:!0,property:"notion://meetings/created_by_property"},{width:200,visible:!0,property:"notion://meetings/last_edited_time_property"},{width:200,visible:!0,property:"notion://meetings/last_edited_by_property"}]}},blockUri:"notion://meetings_block"}],collectionUri:a.Fi}}function E(){return{uri:`${a.Fi}_type`,name:p.default.formatMessage(w.meetingsPresetName),dependencies:[...k()],collectionUri:a.Fi}}const R="notion://meetings/meetings_preset";function A(){const e=R,t=i.Bq[e]?(0,l.BL)(i.Bq[e],p.default.getIntl()):{url:r.Z.images.appPackages.projectsProjectsTasksPresetPng,description:p.default.formatMessage(w.preview1Description)};return{type:"core",uri:e,name:p.default.formatMessage(w.meetingsPresetName),shortName:p.default.formatMessage(w.meetingsPresetShortName),icon:r.Z.images.appPackages.meetingsIconSvg,description:p.default.formatMessage(w.meetingsPresetDescription),previews:[t],requiredFeatures:[{type:"simple",featureUri:C().uri}],defaultOnFeatures:[{type:"simple",featureUri:_().uri},{type:"simple",featureUri:M().uri},{type:"simple",featureUri:T().uri},{type:"simple",featureUri:P().uri},{type:"simple",featureUri:x().uri},{type:"simple",featureUri:B().uri},{type:"simple",featureUri:Z().uri},{type:"simple",featureUri:S().uri}],allToggleFeatures:[C().uri,_().uri,M().uri,I().uri,T().uri,B().uri,P().uri,x().uri,Z().uri,S().uri]}}function D(){return{uri:n.nX,name:p.default.formatMessage(w.meetingsCollectionName),presets:[A(),{type:"custom",uri:`${a.Fi}${a.WN}`,shortName:p.default.formatMessage(w.meetingsCollectionName),name:p.default.formatMessage(w.meetingsCollectionName),requiredFeatures:[{type:"simple",featureUri:E().uri}],defaultOnFeatures:[],allToggleFeatures:[]}],allFeatures:[C(),_(),M(),I(),T(),P(),x(),B(),Z(),{uri:`notion://meetings/1On1_${m.Pf}`,name:"Tutorial content",description:"Prefill the template with tutorial content on how to get started.",dependencies:[{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",type:"block",parentUri:"notion://meetings_collection",parentType:"collection",blockValue:{type:"page",format:{page_icon:"👋"},properties:{title:(0,c.TP)(p.default.formatMessage(f.gettingStartedWith1on1s))}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/0",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"header",properties:{title:[["👋 Welcome to 1:1s!"]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/1",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"quote",properties:{title:[["This Meetings template helps you organize your 1:1 meetings in Notion, such as setting agendas and taking notes. "]]},format:{quote_size:"large"}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/2",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"text"}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/3",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[["1:1s"]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/4",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"text",properties:{title:[["You can use Notion pages to collaborate on meeting notes for your 1:1s with a team member. Each 1:1 can be stored in this database, to help you stay organized. "]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/6",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"divider"}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/7",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[["Properties"]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"text",properties:{title:[["Each page in 1:1s comes with several properties: "]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8/0",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8",parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[["Created By and Created Time, which show who created the page, and when it was created"]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8/1",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8",parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[["Lasted Edited By and Last Edited Time, which shows who most recently edited the page, and when "]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8/2",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/8",parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[["Attendees, which reflects team members attending a meeting"]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/9",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"text",properties:{title:[["You can customize your setup by adding or editing more properties - see "],["https://www.notion.so/help/database-properties",[["a","https://www.notion.so/help/database-properties"]]],[" to learn more. "]]}}},{uri:"notion://meetings/tutorial/meetings/getting_started_with_1on1/10",type:"block",parentUri:"notion://meetings/tutorial/meetings/getting_started_with_1on1",parentType:"block",blockValue:{type:"text"}}],collectionUri:m.Fi},S(),E()],logo:r.Z.images.appPackages.meetingsIconSvg,welcomeTitle:p.default.formatMessage(w.meetingsWelcomeTitle),welcomeSubtitle:p.default.formatMessage(w.meetingsWelcomeSubtitle)}}},70538:(e,t,o)=>{o.d(t,{Ll:()=>w,Yb:()=>C,_F:()=>M,tt:()=>I,Y8:()=>x});var i=o(3657),n=o(27848),r=o(41892),a=o(67219),s=o(10482),l=o(5366),c=o(10161),d=o(68821),p=o(33929),u=o(93959),m=o(17201),g=o(48747),h=o(73352),f=o(29637);const v=(0,l.defineMessages)({projectsWelcomeTitle:{defaultMessage:"Projects",description:"Projects app welcome title",id:"appTemplates.projects.welcomeTitle"},projectsWelcomeSubtitle:{defaultMessage:"Track to-dos and team projects. Start by picking a template below.",description:"Projects app welcome subtitle",id:"appTemplates.projects.welcomeSubtitle"},simpleTasksPresetName:{defaultMessage:"To-do list",description:"Simple tasks app",id:"appTemplates.projects.simpleTasksPresetName"},simpleTasksPresetShortName:{defaultMessage:"Tasks",id:"appTemplates.projects.simpleTasksPresetShortName"},projectsAndTasksAppName:{defaultMessage:"Projects",description:"Projects app",id:"appTemplates.projects.projectsAndTasksAppName"},projectsAndTasksPresetName:{defaultMessage:"Projects & tasks",description:"Projects & tasks app",id:"appTemplates.projects.projectsAndTasksPresetName"},projectsAndTasksPresetShortName:{defaultMessage:"Projects",id:"appTemplates.projects.projectsAndTasksPresetShortName"},tasksViewName:{defaultMessage:"All tasks",description:"Tasks database",id:"appTemplates.projects.tasksViewName"},tableViewName:{defaultMessage:"Table",description:"Table view",id:"appTemplates.projects.tableViewName"},taskStatus:{defaultMessage:"Task Status",description:"Task/Project's status",id:"appTemplates.projects.taskStatus"},projectStatus:{defaultMessage:"Project Status",description:"Task/Project's status",id:"appTemplates.projects.projectStatus"},doing:{defaultMessage:"Doing",description:"Task is ongoing",id:"appTemplates.projects.doing"},simpleStatusName:{defaultMessage:"To-do, Done",id:"appTemplates.projects.simpleTaskProjectStatus.name"},advancedStatusName:{defaultMessage:"Not Started, In Progress, Done, Archived",id:"appTemplates.projects.advancedTaskProjectStatus.name"},agilePresetName:{defaultMessage:"Projects, tasks & sprints",id:"appTemplates.projects.agilePresetName"},agilePresetShortName:{defaultMessage:"Projects",id:"appTemplates.projects.agilePresetShortName"},statusFeatureDescription:{defaultMessage:"Track status for Tasks/Projects.",id:"appTemplates.projects.statusFeatureDescription"},advancedTaskFeatureDescription:{defaultMessage:"Kanban view of tasks.",id:"appTemplates.projects.advancedTaskFeatureDescription"},taskDueDateFeatureDescription:{defaultMessage:"Add a due date to Tasks.",id:"appTemplates.projects.taskDueDateFeatureDescription"},startDateProperty:{defaultMessage:"Start Date",id:"appTemplates.projects.startDateProperty"},endDateProperty:{defaultMessage:"End Date",id:"appTemplates.projects.endDateProperty"},simpleTasksPresetDescription:{id:"appTemplates.tasks.simpleTasksPresetDescription",defaultMessage:"Simple task management — create, organize, and track your tasks. ",description:"Description of todo list preset shown in projects template welcome screen"},projectsAndTasksPresetDescription:{id:"appTemplates.tasks.projectsAndTasksPresetDescription",defaultMessage:"Project management for teams. Organize tasks by project, and track progress across your team.",description:"Description of Projects & Tasks preset shown in projects template welcome screen"},agilePresetDescription:{id:"appTemplates.tasks.agilePresetDescription",defaultMessage:"Project and issue tracking for engineering teams. Organize tasks and projects with time-boxed sprints.",description:"Description of Projects, Tasks & Sprints preset shown in projects template welcome screen"},preview1Description:{id:"appTemplates.tasks.preview1Description",defaultMessage:"Some description about this template preview image..."},preview2Description:{id:"appTemplates.tasks.preview2Description",defaultMessage:"Breakdown projects into tasks, organize work from high-level initiatives down to individual task."},tasksCollectionName:{defaultMessage:"Tasks",description:"Tasks database",id:"appTemplates.projectManagement.tasksCollectionName"},projectsCollectionName:{defaultMessage:"Projects",description:"Projects database",id:"appTemplates.projectManagement.projectsCollectionName"},sprintsCollectionName:{defaultMessage:"Sprints",description:"sprints collection",id:"appTemplates.projectManagement.sprintsCollectionName"}});function y(){return{uri:`${a.wW}_type`,name:p.default.formatMessage(v.projectsCollectionName),dependencies:[...(0,g.wo)(),...(0,g.Vh)()],collectionUri:a.wW}}function b(){return{uri:`${a.p$}_type`,name:p.default.formatMessage(v.sprintsCollectionName),dependencies:[...(0,h.N8)(),...(0,h.xR)()],collectionUri:a.p$}}function S(){const e=`${a.iS}${a.WN}`,t=(0,f.Gz)();return{type:"custom",uri:e,shortName:p.default.formatMessage(v.tasksCollectionName),name:p.default.formatMessage(v.tasksCollectionName),requiredFeatures:[{type:"simple",featureUri:t.uri}],defaultOnFeatures:[],allToggleFeatures:[]}}const w="notion://projects/simple_tasks_preset";function k(){const e=(0,f.Gz)(),t=w,o=i.W_[t]?(0,s.BL)(i.W_[t],p.default.getIntl()):{url:r.Z.images.appPackages.projectsProjectsTasksPresetPng,description:p.default.formatMessage(v.preview1Description)},n=c.default.checkGate("ai_property_autofill_v2");return{type:"core",uri:t,name:p.default.formatMessage(v.simpleTasksPresetName),shortName:p.default.formatMessage(v.simpleTasksPresetShortName),icon:r.Z.images.appPackages.taskDbIconSvg,description:p.default.formatMessage(v.simpleTasksPresetDescription),previews:[o],requiredFeatures:[{type:"simple",featureUri:e.uri},{type:"simple",featureUri:(0,m.gE)(!1).uri},{type:"simple",featureUri:(0,f.yt)().uri},...n?[{type:"simple",featureUri:(0,f.fr)().uri}]:[]],defaultOnFeatures:[],allToggleFeatures:[e.uri,(0,m.gE)(!1).uri,(0,f.PW)().uri,(0,g.LO)().uri,(0,f.yt)().uri,(0,f.EG)().uri,(0,f.FK)().uri,(0,f.tQ)().uri,(0,f.GT)().uri]}}const C="notion://projects/projects_preset";function _(){const e=(0,f.$X)(),t=(0,f.Mw)(),o=C,n=i.W_[o]?(0,s.BL)(i.W_[o],p.default.getIntl()):{url:r.Z.images.appPackages.projectsProjectsTasksPresetPng,description:p.default.formatMessage(v.preview1Description)},a=c.default.checkGate("ai_property_autofill_v2");return{type:"core",uri:o,name:p.default.formatMessage(v.projectsAndTasksPresetName),shortName:p.default.formatMessage(v.projectsAndTasksPresetShortName),icon:r.Z.images.appPackages.projectsIconSvg,description:p.default.formatMessage(v.projectsAndTasksPresetDescription),previews:[n],requiredFeatures:[{type:"simple",featureUri:e.uri},{type:"simple",featureUri:(0,f._p)().uri},{type:"simple",featureUri:(0,m.gE)(!1).uri},{type:"simple",featureUri:(0,f.ye)().uri},{type:"simple",featureUri:(0,m.AP)(!1).uri},{type:"simple",featureUri:(0,f.bJ)().uri},{type:"simple",featureUri:(0,f.EG)().uri},{type:"simple",featureUri:(0,f.yt)().uri},{type:"simple",featureUri:(0,f.rl)().uri},{type:"simple",featureUri:(0,f.fu)().uri},...a?[{type:"simple",featureUri:(0,f.fr)().uri}]:[],{type:"simple",featureUri:t.uri},{type:"simple",featureUri:(0,g.LM)().uri},{type:"simple",featureUri:(0,g.f3)().uri},{type:"simple",featureUri:(0,g.pY)().uri},{type:"simple",featureUri:(0,g.CT)().uri},{type:"simple",featureUri:(0,m.kB)().uri},...a?[{type:"simple",featureUri:(0,g.BZ)().uri}]:[]],defaultOnFeatures:[{type:"simple",featureUri:(0,g.xU)().uri}],allToggleFeatures:[(0,m.gE)(!1).uri,(0,f.fu)().uri,(0,m.AP)(!1).uri,(0,g.f3)().uri,(0,f._p)().uri,(0,f.Mw)().uri,(0,f.PW)().uri,(0,g.LO)().uri,(0,f.eu)().uri,(0,g.xU)().uri,(0,f.EG)().uri,(0,f.FK)().uri,(0,g.CT)().uri,(0,g.QN)().uri,(0,f.tQ)().uri,(0,f.GT)().uri,(0,f.yt)().uri,(0,f.rl)().uri,(0,g.LM)().uri]}}const M="notion://projects/asana_preset";function T(){const e=(0,f.$X)(),t=(0,f.Mw)();return{type:"custom",uri:M,name:p.default.formatMessage(v.projectsAndTasksPresetName),shortName:p.default.formatMessage(v.projectsAndTasksPresetShortName),icon:r.Z.images.appPackages.projectsIconSvg,description:p.default.formatMessage(v.projectsAndTasksPresetDescription),requiredFeatures:[{type:"simple",featureUri:e.uri},{type:"simple",featureUri:(0,f._p)().uri},{type:"simple",featureUri:(0,f.ye)().uri},{type:"simple",featureUri:(0,f.bJ)().uri},{type:"simple",featureUri:(0,f.EG)().uri},{type:"simple",featureUri:(0,f.yt)().uri},{type:"simple",featureUri:(0,f.rl)().uri},{type:"simple",featureUri:(0,f.fu)().uri},{type:"simple",featureUri:(0,f.tQ)().uri},{type:"simple",featureUri:(0,f.iB)().uri},{type:"simple",featureUri:t.uri},{type:"simple",featureUri:(0,g.LM)().uri},{type:"simple",featureUri:(0,g.f3)().uri},{type:"simple",featureUri:(0,g.CT)().uri},{type:"simple",featureUri:(0,g.pc)().uri}],defaultOnFeatures:[{type:"simple",featureUri:(0,g.xU)().uri}],allToggleFeatures:[(0,m.gE)(!1).uri,(0,f.fu)().uri,(0,m.AP)(!1).uri,(0,g.f3)().uri,(0,f._p)().uri,(0,f.Mw)().uri,(0,f.PW)().uri,(0,g.LO)().uri,(0,f.eu)().uri,(0,g.xU)().uri,(0,f.EG)().uri,(0,f.FK)().uri,(0,g.CT)().uri,(0,g.QN)().uri,(0,f.tQ)().uri,(0,f.GT)().uri,(0,f.yt)().uri,(0,f.rl)().uri,(0,g.LM)().uri]}}const I="notion://projects/agile_preset";function P(){const e=I,t=i.W_[e]?(0,s.BL)(i.W_[e],p.default.getIntl()):{url:r.Z.images.appPackages.projectsProjectsTasksPresetPng,description:p.default.formatMessage(v.preview1Description)},o=[{type:"simple",featureUri:(0,m.UD)().uri},{type:"simple",featureUri:(0,m._i)().uri}],n=[{type:"simple",featureUri:(0,m.kB)().uri},{type:"simple",featureUri:(0,m.C$)().uri}],a=c.default.checkGate("github_integration"),l=c.default.checkGate("ai_property_autofill_v2"),d=[{type:"simple",featureUri:(0,f.GT)().uri}];return{type:"core",uri:e,name:p.default.formatMessage(v.agilePresetName),shortName:p.default.formatMessage(v.agilePresetShortName),icon:r.Z.images.appPackages.sprintsDbIconSvg,description:p.default.formatMessage(v.agilePresetDescription),previews:[t],requiredFeatures:[{type:"simple",featureUri:(0,f.$X)().uri},{type:"simple",featureUri:(0,f.Mw)().uri},{type:"simple",featureUri:(0,f.eu)().uri},{type:"simple",featureUri:(0,f.rl)().uri},{type:"simple",featureUri:(0,f.ye)().uri},{type:"simple",featureUri:(0,f.bJ)().uri},{type:"simple",featureUri:(0,f.EG)().uri},{type:"simple",featureUri:(0,f.Lt)().uri},...l?[{type:"simple",featureUri:(0,f.fr)().uri}]:[],{type:"simple",featureUri:(0,g.f3)().uri},{type:"simple",featureUri:(0,f._p)().uri},{type:"simple",featureUri:(0,g.xU)().uri},{type:"simple",featureUri:(0,m.gE)(!0).uri},{type:"simple",featureUri:(0,m.AP)(!0).uri},{type:"simple",featureUri:(0,g.Np)().uri},{type:"simple",featureUri:(0,g.CT)().uri},{type:"simple",featureUri:(0,g.pY)().uri},...a?d:[],...l?[{type:"simple",featureUri:(0,g.BZ)().uri}]:[],...(0,u.wY)()?o:n],defaultOnFeatures:[{type:"simple",featureUri:(0,g.xU)().uri}],allToggleFeatures:[(0,g.f3)().uri,(0,f.Lt)().uri,(0,m.gE)(!0).uri,(0,m.AP)(!0).uri,(0,m.kB)().uri,(0,m.C$)().uri,(0,g.Np)().uri,(0,f.jJ)().uri,(0,f.Mw)().uri,(0,f.PW)().uri,(0,g.LO)().uri,(0,g.CT)().uri,(0,f.eu)().uri,(0,g.xU)().uri,(0,f.EG)().uri,(0,f.FK)().uri,(0,g.QN)().uri,(0,f.tQ)().uri,(0,f.oL)().uri,(0,f._p)().uri,(0,f.GT)().uri]}}function x(){const e=c.default.checkGate("github_integration"),t=c.default.checkGate("ai_property_autofill_v2"),o=(0,d.c)();return{uri:n.Zv,name:p.default.formatMessage(v.projectsAndTasksAppName),presets:[k(),_(),P(),S(),{type:"custom",uri:`${a.wW}${a.WN}`,shortName:p.default.formatMessage(v.projectsCollectionName),name:p.default.formatMessage(v.projectsCollectionName),requiredFeatures:[{type:"simple",featureUri:y().uri}],defaultOnFeatures:[],allToggleFeatures:[]},{type:"custom",uri:`${a.p$}${a.WN}`,shortName:p.default.formatMessage(v.sprintsCollectionName),name:p.default.formatMessage(v.sprintsCollectionName),requiredFeatures:[{type:"simple",featureUri:b().uri}],defaultOnFeatures:[],allToggleFeatures:[]},T()],allFeatures:[(0,f.Gz)(),(0,f.$X)(),(0,f.Lt)(),(0,f.fu)(),(0,f.rl)(),(0,f.Mw)(),(0,f.PW)(),(0,f.ye)(),(0,f.Z2)(),(0,g.LO)(),(0,g.CT)(),(0,g.qi)(),(0,f.tQ)(),(0,f.EG)(),(0,f.FK)(),(0,f.Tk)(),(0,f.cK)(),(0,f.bJ)(),(0,f.$r)(),(0,g.vK)(),(0,g.xU)(),(0,f._p)(),(0,f.jJ)(),(0,f.oK)(),(0,f.iB)(),(0,f.AE)(),(0,g.QN)(),(0,g.xU)(),(0,g.pY)(),(0,g.pc)(),(0,g.LM)(),(0,h.Ez)(),(0,h.DI)(),(0,g.f3)(),(0,f.oL)(),(0,f.yt)(),(0,m.gE)(!0),(0,m.gE)(!1),(0,m.kB)(),(0,m.C$)(),(0,g.Np)(),(0,g.N3)(),(0,h.Pm)(),(0,m.AP)(!0),(0,m.AP)(!1),y(),b(),...e?[(0,f.GT)()]:[],...o?[(0,f.tQ)(),(0,f.EG)()]:[],...t?[(0,g.BZ)(),(0,f.fr)()]:[],(0,f.eu)(),...(0,u.wY)()?[(0,f.CT)(),(0,f.XJ)(),(0,f.oD)(),(0,f.Qo)(),(0,m.UD)(),(0,m._i)()]:[(0,h.ey)()]],logo:r.Z.images.appPackages.projectsIconSvg,welcomeTitle:p.default.formatMessage(v.projectsWelcomeTitle),welcomeSubtitle:p.default.formatMessage(v.projectsWelcomeSubtitle)}}},17201:(e,t,o)=>{o.d(t,{i2:()=>S,cs:()=>w,gE:()=>M,kB:()=>T,UD:()=>I,AP:()=>P,C$:()=>x,_i:()=>B});var i=o(41892),n=o(80951),r=o(67219),a=o(74548),s=o(42875),l=o(89837),c=o(4615),d=o(19889),p=o(70203),u=o(5366),m=o(33929),g=o(93959),h=o(29637);const f=(0,u.defineMessages)({notionProjectsTutorialProjectsGettingStartedWithProjects_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_0",defaultMessage:"Getting started with Projects & tasks",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_0_0_0_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_0_0_0_0",defaultMessage:"Learn how to organize tasks by project, coordinate with your team, and track progress.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_1_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_1_0",defaultMessage:"How to use this template",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_2_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_2_0",defaultMessage:"This is your sample project tracker. It contains projects and tasks — you can click on the name of the project or task to open it up to its own page where you can add new detail.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_3_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_3_0",defaultMessage:"Click “+ New” below the sample tasks to add a new task. ",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_4_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_4_0",defaultMessage:"Navigate views using tabs at the top of the database — each one uses the same underlying data but displays it in different ways so that you can quickly and easily keep track of all your team’s happenings.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_5_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_5_0",defaultMessage:"Tasks and Projects",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_6_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_6_0",defaultMessage:"We’ve pre-populated your template with different types of information housed in databases. Databases in Notion are collections of pages. In our case, projects and tasks are each their own ",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_6_1:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_6_1",defaultMessage:"database",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_6_2:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_6_2",defaultMessage:". Learn more about the general structure of a database, walk through the different menus and options, and deep dive into how to open and edit pages within a database ",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_6_3:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_6_3",defaultMessage:"here.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_7_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_7_0",defaultMessage:"Tasks",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_8_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_8_0",defaultMessage:"Tasks are the smallest unit of work in your project management tracker. A Task represents a more granular piece of work, often assigned to just one person. Many Tasks can be organized into a Project.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_9_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_9_0",defaultMessage:"Projects",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_10_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_10_0",defaultMessage:"Projects are typically made up of tasks. A Project represents a large body of work, such as a product launch, or a team milestone. A Project can be broken down into many Tasks, and contain customizable properties such as Status. ",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_11_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_11_0",defaultMessage:"Adding custom fields",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_12_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_12_0",defaultMessage:"We’ve pre-populated this template with the most common project management fields (like task status and assignee), but you can add your own when you are creating a new field. You’ll have options like priority, estimates, and task type.",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_14_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_14_0",defaultMessage:"Learn more about database properties here:",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_15_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_15_0",defaultMessage:"Views, filters, and sorts",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_16_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_16_0",defaultMessage:"Views are customizable, flexible layouts to visualize your databases and properties as a table, board, calendar, timeline, or list. This template comes with several views of Projects and Tasks — you can customize each or create your own! ",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_18_0:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_18_0",defaultMessage:"Learn more about Notion’s database layouts, including when to use each type of database view in this guide:",description:"Page template's content"},notionProjectsTutorialProjectsGettingStartedWithProjects_18_2:{id:"notionProjectsTutorialProjectsGettingStartedWithProjects_18_2",defaultMessage:".",description:"Page template's content"},project1:{id:"notionProjectsTutorial_project1",defaultMessage:"Project 1"},project2:{id:"notionProjectsTutorial_project2",defaultMessage:"Project 2"},task1:{id:"notionProjectsTutorial_task1",defaultMessage:"Write project proposal"},task1_epd:{id:"notionProjectsTutorial_task1_epd",defaultMessage:"Mobile app performance"},task2:{id:"notionProjectsTutorial_task2",defaultMessage:"Schedule kick-off meeting"},task2_epd:{id:"notionProjectsTutorial_task2_epd",defaultMessage:"Enable emoji reactions"},task3:{id:"notionProjectsTutorial_task3",defaultMessage:"Review research results"},task3_epd:{id:"notionProjectsTutorial_task3_epd",defaultMessage:"Better error handling"},sprint1:{id:"notionProjectsTutorial_sprint1",defaultMessage:"Sprint 1"},sprint2:{id:"notionProjectsTutorial_sprint2",defaultMessage:"Sprint 2"},sprint3:{id:"notionProjectsTutorial_sprint3",defaultMessage:"Sprint 3"},task4:{id:"notionProjectsTutorial_task4",defaultMessage:"Re-design website"},task4_epd:{id:"notionProjectsTutorial_task4_epd",defaultMessage:"Write unit tests"},done:{id:"notionProjectsTutorial_done",defaultMessage:"Done"},planning:{id:"notionProjectsTutorial_planning",defaultMessage:"Planning"},inProgress:{id:"notionProjectsTutorial_inProgress",defaultMessage:"In Progress"},getStartedTasksPage1:{id:"notionProjectsTutorial_getStartedTasksPage1",defaultMessage:"Add Projects templates"},getStartedTasksPage2:{id:"notionProjectsTutorial_getStartedTasksPage2",defaultMessage:"Invite team members"},notionProjectsTutorialAgileGettingStartedWithProjects_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_0",defaultMessage:"Getting started with Projects, tasks & sprints",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_0_0_0_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_0_0_0_0",defaultMessage:"Learn how to organize tasks by project, coordinate with your team, and track progress.",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_1_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_1_0",defaultMessage:"How to use this template",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_2_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_2_0",defaultMessage:"This is your sample project tracker. It contains projects, tasks, and sprints — you can click on the name of the project or task to open it up to its own page where you can add new detail.",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_3_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_3_0",defaultMessage:"Click “+ New” below the sample tasks to add a new task. ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_4_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_4_0",defaultMessage:"Navigate views using tabs at the top of the database — each one uses the same underlying data but displays it in different ways so that you can quickly and easily keep track of all your team’s happenings.",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_5_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_5_0",defaultMessage:"Tasks, Sprints, and Projects ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_6_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_6_0",defaultMessage:"We’ve pre-populated your template with different types of information housed in databases. Databases in Notion are collections of pages. In our case, projects and tasks are each their own ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_6_1:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_6_1",defaultMessage:"database",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_6_2:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_6_2",defaultMessage:". Learn more about the general structure of a database, walk through the different menus and options, and deep dive into how to open and edit pages within a database ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_7_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_7_0",defaultMessage:"Tasks",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_8_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_8_0",defaultMessage:"Tasks are the smallest unit of work in your project management tracker. A Task represents a more granular piece of work, often assigned to just one person. Many Tasks can be organized into a Project, or added to a Sprint. ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_9_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_9_0",defaultMessage:"Projects",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_10_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_10_0",defaultMessage:"Projects are typically made up of tasks. A Project represents a large body of work, such as a product launch, or a team milestone. A Project can be broken down into many Tasks, and contain customizable properties such as Status. ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_11_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_11_0",defaultMessage:"Sprints",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_12_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_12_0",defaultMessage:"Sprints are another dimension by which you can organize tasks and projects, commonly used in Agile workflows. A sprint represents a discrete cycle of time in which tasks will be completed. You can configure start and end dates per Sprint, and assign each Task to a Sprint.",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_13_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_13_0",defaultMessage:"Adding custom fields ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_14_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_14_0",defaultMessage:"We’ve pre-populated this template with the most common project management fields (like task status and assignee), but you can add your own when you are creating a new field. You’ll have options like priority, estimates, and task type."},notionProjectsTutorialAgileGettingStartedWithProjects_16_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_16_0",defaultMessage:"Template settings really just toggle on and off different database properties. Learn more about database properties here: ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_17_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_17_0",defaultMessage:"Views, filters, and sorts",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_18_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_18_0",defaultMessage:"Views are customizable, flexible layouts to visualize your databases and properties as a table, board, calendar, timeline, or list. This template comes with several views of Projects, Tasks, and Sprints — you can customize each or create your own! ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_20_0:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_20_0",defaultMessage:"Learn more about Notion’s database layouts, including when to use each type of database view in this guide: ",description:"Page template's content"},notionProjectsTutorialAgileGettingStartedWithProjects_20_2:{id:"notionProjectsTutorialAgileGettingStartedWithProjects_20_2",defaultMessage:".",description:"Page template's content"},future:{id:"appTemplatesSprintsV2.sprints.future",description:"Status property for all future sprint items",defaultMessage:"Future"},current:{id:"appTemplatesSprintsV2.sprints.current",description:"Status property for the current sprint item",defaultMessage:"Current"},backlog:{id:"appTemplatesSprintsV2.projects.backlog",description:"Sprint status for backlog items.",defaultMessage:"Backlog"},next:{id:"appTemplatesSprintsV2.sprints.next",description:"Status property for next sprint item",defaultMessage:"Next"}});function v(e){return[{uri:"notion://projects/tutorial/tasks/task1",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(e?m.default.formatMessage(f.task1_epd):m.default.formatMessage(f.task1)),"notion://tasks/status_property":(0,n.Is)(m.default.formatMessage(f.done)),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[r.gq]:(0,n.d7)((0,l.Oo)((0,s.r)())),"notion://tasks/priority_property":(0,n.O2)("Low"),"notion://tasks/tags_property":(0,n.zq)(["Mobile"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project1"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint1"}])}}},{uri:"notion://projects/tutorial/tasks/task2",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(e?m.default.formatMessage(f.task2_epd):m.default.formatMessage(f.task2)),"notion://tasks/status_property":(0,n.Is)(m.default.formatMessage(f.inProgress)),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[r.gq]:(0,n.d7)((0,l.Ro)((0,s.r)())),"notion://tasks/priority_property":(0,n.O2)("Medium"),"notion://tasks/tags_property":(0,n.zq)(["Mobile"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project1"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint1"}])}}},{uri:"notion://projects/tutorial/tasks/task3",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(e?m.default.formatMessage(f.task3_epd):m.default.formatMessage(f.task3)),"notion://tasks/due_date_property":(0,n.d7)((0,g.hZ)((0,l.Dp)((0,s.r)()),2)),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),"notion://tasks/priority_property":(0,n.O2)("Medium"),"notion://tasks/tags_property":(0,n.zq)(["Website","Improvement"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project2"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint2"}])}}}]}function y(e){return[{uri:"notion://projects/tutorial/tasks/task4",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(e?m.default.formatMessage(f.task4_epd):m.default.formatMessage(f.task4)),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[r.gq]:(0,n.d7)((0,g.hZ)((0,l.Dp)((0,s.r)()),5)),"notion://tasks/priority_property":(0,n.O2)("Medium"),"notion://tasks/tags_property":(0,n.zq)(["Website"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project2"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint2"}])}}}]}function b(e){return[{uri:"notion://projects/tutorial/tasks/create_a_task",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(m.default.formatMessage(f.getStartedTasksPage1)),"notion://tasks/status_property":(0,n.Is)(m.default.formatMessage(f.done)),[r.gq]:(0,n.d7)((0,l.Dp)((0,s.r)())),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),"notion://tasks/priority_property":(0,n.O2)("High"),"notion://tasks/tags_property":(0,n.zq)(["Improvement"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:e?"notion://projects/tutorial/agile/getting_started_with_projects":"notion://projects/tutorial/projects/getting_started_with_projects"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint3"}])}}},{uri:"notion://projects/tutorial/tasks/create_a_project",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)(m.default.formatMessage(f.getStartedTasksPage2)),[r.gq]:(0,n.d7)((0,l.Dp)((0,s.r)())),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),"notion://tasks/priority_property":(0,n.O2)("High"),"notion://tasks/tags_property":(0,n.zq)(["Improvement"]),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:e?"notion://projects/tutorial/agile/getting_started_with_projects":"notion://projects/tutorial/projects/getting_started_with_projects"}]),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/sprint3"}])}}}]}function S(){return[{uri:"notion://projects/tutorial/sprints/sprint1",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint1)),[r.Et]:(0,n.d7)((0,g.FQ)(Date.now(),2))}}},{uri:"notion://projects/tutorial/sprints/sprint2",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint2)),[r.Et]:(0,n.d7)((0,g.FQ)((0,l.Xz)({date:Date.now(),daysToAdd:14}),2))}}},{uri:"notion://projects/tutorial/sprints/sprint3",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint3)),[r.Et]:(0,n.d7)((0,g.FQ)((0,l.Xz)({date:Date.now(),daysToAdd:28}),2))}}}]}function w(){return[{uri:"notion://projects/tutorial/sprints/sprint1",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint1)),[r.Et]:(0,n.d7)((0,g.FQ)(Date.now(),2)),[r.Zb]:(0,n.Is)(m.default.formatMessage(f.current))}}},{uri:"notion://projects/tutorial/sprints/sprint2",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint2)),[r.Et]:(0,n.d7)((0,g.FQ)((0,l.Xz)({date:Date.now(),daysToAdd:14}),2)),[r.Zb]:(0,n.Is)(m.default.formatMessage(f.next))}}},{uri:"notion://projects/tutorial/sprints/sprint3",type:"block",parentUri:r.p$,parentType:"collection",blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg},properties:{title:(0,p.TP)(m.default.formatMessage(f.sprint3)),[r.Et]:(0,n.d7)((0,g.FQ)((0,l.Xz)({date:Date.now(),daysToAdd:28}),2)),[r.Zb]:(0,n.Is)(m.default.formatMessage(f.future))}}}]}function k(){return[...[{uri:"notion://projects/tutorial/projects/project1",type:"block",parentUri:r.wW,parentType:"collection",blockValue:{type:"page",format:{page_icon:"🚀"},properties:{title:(0,p.TP)("Project X"),[a.Yi]:(0,n.Is)(m.default.formatMessage(f.planning)),[a.O3]:(0,n.d7)((0,g.FQ)((0,l.em)(Date.now(),1,(0,s.r)()).valueOf(),1)),"notion://projects/project_to_task_relation":(0,n.ow)([{id:"notion://projects/tutorial/tasks/task1",table:"block"},{id:"notion://projects/tutorial/tasks/task2",table:"block"}]),"notion://projects/priority_property":(0,n.O2)("Low"),"notion://projects/people_property":(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[r.eJ]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/agile/getting_started_with_projects"}]),[r.j5]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project2"}])}}},{uri:"notion://projects/tutorial/projects/project1_header_block_0",type:"block",parentUri:"notion://projects/tutorial/projects/project1",parentType:"block",blockValue:{type:"sub_header",properties:{title:(0,p.TP)("About this project")}}},{uri:"notion://projects/tutorial/projects/project1_header_block_1",type:"block",parentUri:"notion://projects/tutorial/projects/project1",parentType:"block",blockValue:{type:"bulleted_list"}},{uri:"notion://projects/tutorial/projects/project1_header_block_3",type:"block",parentUri:"notion://projects/tutorial/projects/project1",parentType:"block",blockValue:{type:"text"}},{uri:"notion://projects/tutorial/projects/project1_header_block_4",type:"block",parentUri:"notion://projects/tutorial/projects/project1",parentType:"block",blockValue:{type:"sub_header",properties:{title:(0,p.TP)("Project tasks")}}},{uri:"notion://projects/tutorial/projects/project1_tasks_block",type:"block",parentType:"block",parentUri:"notion://projects/tutorial/projects/project1",blockValue:{type:"collection_view",properties:{title:(0,p.TP)("Tasks")}}},{uri:"notion://projects/tutorial/projects/project1_tasks_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/tutorial/projects/project1_tasks_block",value:{type:"table",name:"All tasks",format:{table_wrap:!0,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/tutorial/projects/project1"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],table_properties:h.zz,hide_linked_collection_name:!0}}},{uri:"notion://projects/tutorial/projects/project1_tasks_board_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/tutorial/projects/project1_tasks_block",value:{type:"board",name:"Board",format:{table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:"Not started"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"In progress"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"Done"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"Archived"}},hidden:!0,property:"notion://tasks/status_property"}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:"notion://tasks/status_property",disableBoardColorColumns:!1},board_properties:[{visible:!0,property:"title"},{visible:!1,property:"notion://tasks/task_to_project_relation"},{visible:!1,property:r.oG},{visible:!1,property:r.MM},{visible:!1,property:"notion://tasks/status_property"},{visible:!0,property:r.Fr},{visible:!0,property:r.gq}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/tutorial/projects/project1"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],hide_linked_collection_name:!0}}}],...[{uri:"notion://projects/tutorial/projects/project2",type:"block",parentUri:r.wW,parentType:"collection",blockValue:{type:"page",format:{page_icon:"🍏"},properties:{title:(0,p.TP)("Project Y"),[a.Yi]:(0,n.Is)(m.default.formatMessage(f.planning)),[a.O3]:(0,n.d7)((0,g.FQ)((0,l.em)(Date.now(),1,(0,s.r)()).plus({week:2}).valueOf(),4)),"notion://projects/priority_property":(0,n.O2)("Medium"),"notion://projects/people_property":(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),"notion://projects/project_to_task_relation":(0,n.ow)([{id:"notion://projects/tutorial/tasks/task3",table:"block"},{id:"notion://projects/tutorial/tasks/task4",table:"block"}]),[r.eJ]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project1"}])}}},{uri:"notion://projects/tutorial/projects/project2_header_block_0",type:"block",parentUri:"notion://projects/tutorial/projects/project2",parentType:"block",blockValue:{type:"sub_header",properties:{title:(0,p.TP)("About this project")}}},{uri:"notion://projects/tutorial/projects/project2_header_block_1",type:"block",parentUri:"notion://projects/tutorial/projects/project2",parentType:"block",blockValue:{type:"bulleted_list"}},{uri:"notion://projects/tutorial/projects/project2_header_block_3",type:"block",parentUri:"notion://projects/tutorial/projects/project2",parentType:"block",blockValue:{type:"text"}},{uri:"notion://projects/tutorial/projects/project2_header_block_4",type:"block",parentUri:"notion://projects/tutorial/projects/project2",parentType:"block",blockValue:{type:"sub_header",properties:{title:(0,p.TP)("Project tasks")}}},{uri:"notion://projects/tutorial/projects/project2_tasks_block",type:"block",parentType:"block",parentUri:"notion://projects/tutorial/projects/project2",blockValue:{type:"collection_view",properties:{title:(0,p.TP)("Tasks")}}},{uri:"notion://projects/tutorial/projects/project2_tasks_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/tutorial/projects/project2_tasks_block",value:{type:"table",name:"All tasks",format:{table_wrap:!0,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/tutorial/projects/project2"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],table_properties:h.zz,hide_linked_collection_name:!0}}},{uri:"notion://projects/tutorial/projects/project2_tasks_board_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/tutorial/projects/project2_tasks_block",value:{type:"board",name:"Board",format:{table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:"Not started"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"In progress"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"Done"}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:"Archived"}},hidden:!0,property:"notion://tasks/status_property"}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:"notion://tasks/status_property",disableBoardColorColumns:!1},board_properties:[{visible:!0,property:"title"},{visible:!1,property:"notion://tasks/task_to_project_relation"},{visible:!1,property:r.oG},{visible:!1,property:r.MM},{visible:!1,property:"notion://tasks/status_property"},{visible:!0,property:r.Fr},{visible:!0,property:r.gq}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/tutorial/projects/project2"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],hide_linked_collection_name:!0}}}]]}function C(){const e="notion://projects/tutorial/projects/getting_started_with_projects";return[{uri:`${e}`,type:"block",parentUri:"notion://projects_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_0)]],"notion://projects/project_dates_property":(0,n.d7)((0,g.FQ)((0,l.em)(Date.now(),1,(0,s.r)()).plus({week:-2}).valueOf(),1)),"notion://projects/people_property":(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),"notion://projects/priority_property":(0,n.O2)("High"),[r.j5]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project1"}]),[a.Yi]:(0,n.Is)(m.default.formatMessage(f.inProgress))},format:{page_icon:"/icons/arrow-right_blue.svg"}}},{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"column_list"}},{uri:`${e}/0/0`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/0/0`,type:"block",parentUri:`${e}/0/0`,parentType:"block",blockValue:{type:"callout",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_0_0_0_0)]]},format:{page_icon:"👋",block_color:"brown_background"}}},{uri:`${e}/0/1`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/1/0`,type:"block",parentUri:`${e}/0/1`,parentType:"block",blockValue:{type:"table_of_contents",format:{block_color:"gray"}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_1_0)]]}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_2_0)]]}}},{uri:`${e}/2/0`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"image",properties:{size:[["381.8KB"]],title:[["better templates 4 (4).png"]],source:[[i.Z.images.appPackages.projectsGuideImage1Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/2/1`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"text"}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_3_0)]]}}},{uri:`${e}/3/0`,type:"block",parentUri:`${e}/3`,parentType:"block",blockValue:{type:"image",properties:{size:[["366.3KB"]],title:[["better templates 5 (1).png"]],source:[[i.Z.images.appPackages.projectsGuideImage2Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_4_0)]]}}},{uri:`${e}/4/0`,type:"block",parentUri:`${e}/4`,parentType:"block",blockValue:{type:"image",properties:{size:[["365.8KB"]],title:[["better templates 1 (1).png"]],source:[[i.Z.images.appPackages.projectsGuideImage3Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_5_0)]]}}},{uri:`${e}/6`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_6_0)],[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_6_1),[["b"]]],[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_6_2)],[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_6_3),[["a","https://www.notion.so/help/intro-to-databases"]]]]}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_7_0)]]}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_8_0)]]}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_9_0)]]}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_10_0)]]}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_11_0)]]}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_12_0)]]}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["104.1KB"]],title:[["image 8.png"]],source:[[i.Z.images.appPackages.projectsGuideImage4Png]]},format:{block_width:192,block_height:1236,block_full_width:!1,block_page_width:!1,block_aspect_ratio:1.889908256880734,block_preserve_scale:!0}}},{uri:`${e}/15`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_15_0)]]}}},{uri:`${e}/16`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_16_0)]]}}},{uri:`${e}/17`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["405.4KB"]],title:[["better templates 2.png"]],source:[[i.Z.images.appPackages.projectsGuideImage5Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/18`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_18_0)],["https://www.notion.so/help/guides/when-to-use-each-type-of-database-view",[["a","https://www.notion.so/help/guides/when-to-use-each-type-of-database-view"]]],[m.default.formatMessage(f.notionProjectsTutorialProjectsGettingStartedWithProjects_18_2)]]},format:{page_icon:"📎",block_color:"brown_background"}}}]}function _(){const e="notion://projects/tutorial/agile/getting_started_with_projects";return[{uri:`${e}`,type:"block",parentUri:"notion://projects_collection",parentType:"collection",blockValue:{type:"page",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_0)]],"notion://projects/project_dates_property":(0,n.d7)((0,g.FQ)((0,l.em)(Date.now(),1,(0,s.r)()).plus({week:-2}).valueOf(),1)),"notion://projects/priority_property":(0,n.O2)("High"),"notion://projects/people_property":(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[a.Yi]:(0,n.Is)(m.default.formatMessage(f.inProgress)),[r.j5]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project1"}])},format:{page_icon:"/icons/arrow-right_blue.svg"}}},{uri:`${e}/0`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"column_list",format:{}}},{uri:`${e}/0/0`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/0/0`,type:"block",parentUri:`${e}/0/0`,parentType:"block",blockValue:{type:"callout",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_0_0_0_0)]]},format:{page_icon:"👋",block_color:"brown_background"}}},{uri:`${e}/0/1`,type:"block",parentUri:`${e}/0`,parentType:"block",blockValue:{type:"column",format:{column_ratio:.5}}},{uri:`${e}/0/1/0`,type:"block",parentUri:`${e}/0/1`,parentType:"block",blockValue:{type:"table_of_contents",format:{block_color:"gray"}}},{uri:`${e}/1`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_1_0)]]},format:{}}},{uri:`${e}/2`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_2_0)]]},format:{}}},{uri:`${e}/2/0`,type:"block",parentUri:`${e}/2`,parentType:"block",blockValue:{type:"image",properties:{size:[["381.8KB"]],title:[["better templates 4 (5).png"]],source:[[i.Z.images.appPackages.agileGuideImage1Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/3`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_3_0)]]},format:{}}},{uri:`${e}/3/0`,type:"block",parentUri:`${e}/3`,parentType:"block",blockValue:{type:"image",properties:{size:[["366.3KB"]],title:[["better templates 5 (2).png"]],source:[[i.Z.images.appPackages.agileGuideImage2Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/4`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"numbered_list",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_4_0)]]},format:{}}},{uri:`${e}/4/0`,type:"block",parentUri:`${e}/4`,parentType:"block",blockValue:{type:"image",properties:{size:[["365.8KB"]],title:[["better templates 1 (2).png"]],source:[[i.Z.images.appPackages.agileGuideImage3Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/5`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_5_0)]]},format:{}}},{uri:`${e}/7`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_7_0)]]},format:{}}},{uri:`${e}/8`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_8_0)]]},format:{}}},{uri:`${e}/9`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_9_0)]]},format:{}}},{uri:`${e}/10`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_10_0)]]},format:{}}},{uri:`${e}/11`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"sub_sub_header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_11_0)]]},format:{}}},{uri:`${e}/12`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_12_0)]]},format:{}}},{uri:`${e}/13`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_13_0)]]},format:{}}},{uri:`${e}/14`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_14_0)]]},format:{}}},{uri:`${e}/15`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["104.1KB"]],title:[["image 8 (1).png"]],source:[[i.Z.images.appPackages.agileGuideImage4Png]]},format:{block_width:192,block_height:1236,block_full_width:!1,block_page_width:!1,block_aspect_ratio:1.889908256880734,block_preserve_scale:!0}}},{uri:`${e}/17`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"header",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_17_0)]]},format:{}}},{uri:`${e}/18`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_18_0)]]},format:{}}},{uri:`${e}/19`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"image",properties:{size:[["405.4KB"]],title:[["better templates 2 (1).png"]],source:[[i.Z.images.appPackages.agileGuideImage5Png]]},format:{block_width:2016,block_full_width:!1,block_page_width:!0,block_aspect_ratio:.6428571428571429,block_preserve_scale:!0}}},{uri:`${e}/20`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"callout",properties:{title:[[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_20_0)],["https://www.notion.so/help/guides/when-to-use-each-type-of-database-view",[["a","https://www.notion.so/help/guides/when-to-use-each-type-of-database-view"]]],[m.default.formatMessage(f.notionProjectsTutorialAgileGettingStartedWithProjects_20_2)]]},format:{page_icon:"📎",block_color:"brown_background",copied_from_pointer:{id:"d5f0a4c6-d3bc-42cc-b65a-3afcb4e081da",table:"block",spaceId:"415fc269-e68f-4da0-b3e3-b1273b741a7f"}}}},{uri:`${e}/21`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{}}},{uri:`${e}/22`,type:"block",parentUri:`${e}`,parentType:"block",blockValue:{type:"text",format:{}}}]}function M(e){return{uri:`notion://projects/tasks${r.Pf}`,name:"Tasks tutorial content",description:"Prefill the tasks db with tutorial content.",dependencies:v(e),collectionUri:r.iS}}function T(){return{uri:`notion://projects/projects${r.Pf}`,name:"Projects tutorial content",description:"Prefill the projects db with tutorial content.",dependencies:[...k(),...y(!1)],collectionUri:r.wW}}function I(){return{uri:`notion://projects/projects${r.Pf}`,name:"Projects tutorial content",description:"Prefill the projects db with tutorial content.",dependencies:[...k(),...y(!0),{uri:"notion://projects/tutorial/tasks/task5",type:"block",parentUri:r.iS,parentType:"collection",blockValue:{type:"page",format:{page_icon:"/icons/checkmark_lightgray.svg"},properties:{title:(0,p.TP)("Design mental health app"),[r.Fr]:(0,n.C1)([{table:d.KJ,id:"replace_with_current_user"}]),[r.gq]:(0,n.d7)((0,g.hZ)((0,l.Dp)((0,s.r)()),6)),"notion://tasks/task_to_project_relation":(0,n.ow)([{table:"block",id:"notion://projects/tutorial/projects/project2"}]),"notion://tasks/tags_property":(0,n.zq)(["Website","Mobile"]),"notion://tasks/priority_property":(0,n.O2)("Low"),[r.oG]:(0,n.ow)([{table:"block",id:"notion://projects/tutorial/sprints/backlog"}])}}}],collectionUri:r.wW}}function P(e){return{uri:`notion://projects/${e?"projects":"agile"}_get_started_data_feature`,name:"Get started content",description:"Prefill the projects db with tutorial content.",dependencies:[...b(e),...e?_():C()],collectionUri:r.wW}}function x(){return{uri:`notion://projects/sprints${r.Pf}`,name:"Sprints tutorial content",description:"Prefill the sprints db with tutorial content.",dependencies:S(),collectionUri:r.p$}}function B(){return{uri:`notion://projects/sprints${r.Pf}`,name:"Sprints tutorial content",description:"Prefill the sprints db with tutorial content.",dependencies:w(),collectionUri:r.p$}}},48747:(e,t,o)=>{o.d(t,{Vh:()=>f,wo:()=>v,cR:()=>y,JJ:()=>b,Np:()=>w,QN:()=>k,BZ:()=>C,LM:()=>_,xU:()=>M,f3:()=>T,pc:()=>I,vK:()=>P,CT:()=>x,qi:()=>B,LO:()=>Z,pY:()=>E,N3:()=>R});var i=o(41892),n=o(80951),r=o(67219),a=o(74548),s=o(42875),l=o(89837),c=o(4615),d=o(6287),p=o(70203),u=o(5366),m=o(33929),g=o(29637);const h=(0,u.defineMessages)({projectTitleProperty:{id:"appTemplates.tasks.projectTitleProperty",defaultMessage:"Project name"},projectOwner:{defaultMessage:"Owner",description:"Owner of a project",id:"appTemplates.projects.projectOwner"},projectsCollectionName:{defaultMessage:"Projects",description:"Projects database",id:"appTemplates.projects.projectsCollectionName"},tasksCollectionName:{defaultMessage:"Tasks",description:"Tasks database",id:"appTemplates.projects.tasksCollectionName"},projectsCollectionEmptyTitle:{defaultMessage:"No projects",description:"The title when adding an entry in the app's database",id:"appTemplates.projects.projectsCollectionEmptyTitle"},projectsCollectionEmptyDescription:{defaultMessage:"Projects help your team organize tasks and view the bigger picture.",description:"The description when adding an entry in the app's database",id:"appTemplates.projects.projectsCollectionEmptyDescription"},projectsCollectionEmptyButtonTitle:{defaultMessage:"New project",description:"The button text when adding an entry in the app's database",id:"appTemplates.projects.projectsCollectionEmptyButtonTitle"},projectsTableViewName:{defaultMessage:"All",description:"Projects table view",id:"appTemplates.projects.projectsTableViewName"},projectTimelineFeatureDescription:{defaultMessage:"Keep your team in sync with high level project roadmap.",id:"appTemplates.projects.projectTimelineFeatureDescription"},myProjectsView:{id:"appTemplates.tasks.myProjectsView",defaultMessage:"Mine"},myProjectsFeature:{id:"appTemplates.tasks.myProjectsFeature",defaultMessage:"My projects"},myProjectsFeatureDescription:{id:"appTemplates.tasks.myProjectsFeatureDescription",defaultMessage:"A view of projects related to me."},projectsBoardViewDescription:{defaultMessage:"Board of projects",description:"Board view of projects",id:"appTemplates.projects.projectsBoardViewDescription"},projectCalendarFeature:{id:"appTemplates.tasks.projectCalendarFeature",defaultMessage:"Calendar"},projectCalendarViewDescription:{defaultMessage:"Calendar of projects",description:"Calendar view of projects",id:"appTemplates.projects.projectCalendarFeature"},projectCalendarFeatureDescription:{id:"appTemplates.tasks.projectCalendarFeatureDescription",defaultMessage:"Schedule projects in a shared calendar."},projectsBoardFeature:{id:"appTemplates.tasks.projectsBoardFeature",defaultMessage:"Projects board"},projectsBoardFeatureDescription:{id:"appTemplates.tasks.projectsBoardFeatureDescription",defaultMessage:"A board view for projects"},activeProjectsView:{id:"appTemplates.tasks.activeProjectsView",defaultMessage:"Active"},activeProjectsViewDescription:{defaultMessage:"Board of projects in progress",description:"Board view of projects currently in progress",id:"appTemplates.tasks.activeProjectsViewDescription"},completionRollupName:{id:"appTemplates.projects.completionRollupName",defaultMessage:"Completion"},completionRollupDescription:{id:"appTemplates.projects.completionRollupDescription",description:"Description of completion rollup property which shows progress bar of percentage of tasks complete for each project",defaultMessage:"Visualize progress of tasks completed for each project."},myProjectsViewDescription:{defaultMessage:"Board of my projects",description:"Board view of my projects",id:"appTemplates.projects.myProjectsViewDescription"},projectsTimelineView:{id:"appTemplates.tasks.projectsTimelineView",defaultMessage:"Timeline"},projectsTimelineViewDescription:{defaultMessage:"Timeline of projects",description:"Timeline view of projects",id:"appTemplates.tasks.projectsTimelineViewDescription"},datesProperty:{defaultMessage:"Dates",description:"Project's start to end date",id:"appTemplates.projects.timelineProperty"},projectTimelineFeature:{defaultMessage:"Timeline",description:"Project's start to end date",id:"appTemplates.projects.projectTimelineFeature"},projectsOwnersAndMembers:{defaultMessage:"Projects' Owners & Members",description:"Owners and members of a project",id:"appTemplates.projects.projectsOwnersAndMembers"},todo:{defaultMessage:"To-do",description:"Task is to be done",id:"appTemplates.projects.todo"},inProgress:{defaultMessage:"In Progress",description:"Task/Project is in progress",id:"appTemplates.projects.inProgress"},complete:{defaultMessage:"Complete",description:"Task/Project is completed",id:"appTemplates.projects.completed"},notStarted:{defaultMessage:"Not Started",description:"Task/Project hasn't been started",id:"appTemplates.projects.notStarted"},done:{defaultMessage:"Done",description:"Task is done",id:"appTemplates.projects.done"},backlog:{id:"appTemplates.projects.backlog",defaultMessage:"Backlog"},planned:{id:"appTemplates.projects.planned",defaultMessage:"Planning"},paused:{defaultMessage:"Paused",description:"Task/Project is paused",id:"appTemplates.projects.paused"},status:{defaultMessage:"Status",description:"Task/Project's status",id:"appTemplates.projects.status"},archived:{id:"appTemplates.projects.archived",defaultMessage:"Archived"},cancelled:{defaultMessage:"Canceled",description:"Task/Project is cancelled",id:"appTemplates.projects.cancelled"},allProjectsViewDescription:{defaultMessage:"Table of all projects",description:"Table view of all projects",id:"appTemplates.tasks.allProjectsViewDescription"},allProjectsViewName:{defaultMessage:"All",description:"All Projects view name",id:"appTemplates.projects.allProjectsViewName"},projectsBoardViewName:{defaultMessage:"Board",description:"Board view",id:"appTemplates.projects.projectsBoardViewName"},projectTemplate:{id:"appTemplates.projects.projectTemplate",defaultMessage:"New Project"},aboutThisProject:{id:"appTemplates.projects.aboutThisProject",defaultMessage:"About this project"},projectTasks:{id:"appTemplates.projects.projectTasks",defaultMessage:"Project tasks"},activeProjectsTableFeature:{id:"appTemplates.tasks.activeProjectsGalleryFeature",defaultMessage:"Active projects gallery"},activeProjectsTableFeatureDescription:{id:"appTemplates.tasks.activeProjectsGalleryFeatureDescription",defaultMessage:"A gallery view for projects in progress."},priorityProperty:{defaultMessage:"Priority",description:"Priority property",id:"appTemplates.projects.priorityProperty"},projectPriorityFeatureDescription:{defaultMessage:"Mark which project to do first.",id:"appTemplates.projects.projectPriorityFeatureDescription"},description:{defaultMessage:"Description",description:"Description",id:"appTemplates.projects.description"},hmlPriority:{defaultMessage:"High, Medium, Low",description:"High, medium, low priority",id:"appTemplates.tasks.hmlPriority"},projectSummaryFeature:{defaultMessage:"Summary",description:"Project summary",id:"appTemplates.projects.summary"},projectSummaryFeatureDescription:{defaultMessage:"Automatically summarize projects with Notion AI",description:"A description for the AI project summary property",id:"appTemplates.projects.summaryDescription"},projectSummaryProperty:{defaultMessage:"Summary",description:"Project summary",id:"appTemplates.projects.summaryProperty"},tasksFeatureDescription:{defaultMessage:"Database for more granular pieces of work. Add tasks to projects to keep track of what needs to be done.",description:"Tooltip for the suggested Tasks feature to Projects",id:"appTemplates.projects.tasksFeatureDescription"},collaborators:{defaultMessage:"Collaborators",description:"Collaborators property",id:"appTemplates.projects.collaborators"},projectDependenciesName:{defaultMessage:"Dependencies",description:"Project dependencies",id:"appTemplates.projects.projectDependenciesName"},projectDependenciesFeatureDescription:{defaultMessage:"Mark a project as blocked by another project.",id:"appTemplates.projects.projectDependenciesFeatureDescription"},projectBlockingName:{defaultMessage:"Is Blocking",description:"Task is blocking another task",id:"appTemplates.projects.projectBlockingName"},projectBlockedByName:{defaultMessage:"Blocked By",description:"Project is blocked by another project",id:"appTemplates.projects.projectBlockedByName"}});function f(){return[{uri:r.k$,type:"collection_view_block",name:m.default.formatMessage(h.projectsCollectionName),defaultViewsOrder:["notion://projects/active_projects_gallery_view","notion://projects/projects_timeline_view","notion://projects/projects_board_view","notion://projects/projects_table_view"]},{uri:r.wW,type:"collection",value:{name:(0,p.TP)(m.default.formatMessage(h.projectsCollectionName)),schema:(e=m.default.intl,{title:{type:"title",name:e.formatMessage(h.projectTitleProperty)},"notion://projects/people_property":{type:"person",name:e.formatMessage(h.projectOwner)},"notion://projects/project_dates_property":{type:"date",name:e.formatMessage(h.datesProperty)},"notion://projects/status_property":{name:e.formatMessage(h.status),type:"status",groups:[{id:"todo-status-group",name:e.formatMessage(h.todo),color:"gray",optionIds:["backlog"]},{id:"in-progress-status-group",name:e.formatMessage(h.inProgress),color:"blue",optionIds:["planned","in-progress","paused"]},{id:"complete-status-group",name:e.formatMessage(h.complete),color:"green",optionIds:["canceled","done"]}],options:[{id:"planned",color:"blue",value:e.formatMessage(h.planned)},{id:"in-progress",color:"yellow",value:e.formatMessage(h.inProgress)},{id:"paused",color:"purple",value:e.formatMessage(h.paused)},{id:"backlog",value:e.formatMessage(h.backlog)},{id:"done",color:"green",value:e.formatMessage(h.done)},{id:"canceled",color:"red",value:e.formatMessage(h.cancelled)}],defaultOption:"Backlog"}}),format:{uri:"notion://projects_collection",property_visibility:[{property:a.Yi,visibility:"show"},{property:a.om,visibility:"show"},{property:"notion://projects/completion_rollup",visibility:"hide_if_empty"},{property:a.O3,visibility:"show"},{property:"notion://projects/project_to_task_relation",visibility:"hide"}],collection_page_sections:[{section:"notion://projects/project_to_task_relation",visibility:"inline"}],collection_page_properties:[{visible:!1,property:a.Yi},{visible:!1,property:a.om},{visible:!1,property:"notion://projects/completion_rollup"},{visible:!1,property:a.O3}],collection_relation_options:{"notion://projects/project_to_task_relation":{related_properties:[{visible:!0,property:"title"},{visible:!0,property:"notion://tasks/status_property"},{visible:!0,property:"notion://tasks/assign_property"},{visible:!0,property:"notion://tasks/due_date_property"},{visible:!1,property:"notion://tasks/task_to_github_prs_relation"},{visible:!0,property:"notion://tasks/priority_property"},{visible:!0,property:"notion://tasks/task_sprint_relation"},{visible:!1,property:"notion://tasks/tags_property"},{visible:!1,property:"notion://tasks/task_sprint_status_rollup"},{visible:!1,property:"notion://tasks/task_to_project_relation"}]}}},icon:i.Z.images.appPackages.projectsIconSvg},blockUri:r.k$,emptyIcon:i.Z.images.appPackages.projectsProjectsEmptyIconPng,emptyTitle:m.default.formatMessage(h.projectsCollectionEmptyTitle),emptyDescription:m.default.formatMessage(h.projectsCollectionEmptyDescription),emptyButtonTitle:m.default.formatMessage(h.projectsCollectionEmptyButtonTitle)}];var e}function v(){return[{uri:"notion://projects/projects_table_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.allProjectsViewDescription),value:{type:"table",name:m.default.formatMessage(h.allProjectsViewName),format:{table_wrap:!1,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:a.Yi}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:a.om}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:a.O3}}],table_properties:[{width:197,visible:!0,property:"title"},{width:121,visible:!0,property:a.Yi},{width:143,visible:!0,property:a.om},{width:182,visible:!0,property:"notion://projects/collaborators_property"},{width:200,visible:!0,property:a.O3},{width:100,visible:!0,property:"notion://projects/priority_property"},{width:125,visible:!0,property:"notion://projects/completion_rollup"},{width:191,visible:!0,property:"notion://projects/project_to_task_relation"},{width:128,visible:!0,property:r.eJ},{width:125,visible:!1,property:r.j5},{width:312,visible:!1,property:a.vP}],collection_groups:[{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.todo)}},property:a.Yi},{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.inProgress)}},property:a.Yi},{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.complete)}},property:a.Yi}]},page_sort:["notion://projects/tutorial/projects/getting_started_with_projects","notion://projects/tutorial/agile/getting_started_with_projects","notion://projects/tutorial/projects/project1","notion://projects/tutorial/projects/project2"],query2:{aggregations:[{property:a.Yi,aggregator:{operator:"count_per_group",groupName:m.default.formatMessage(h.complete)}}]}},blockUri:r.k$}]}function y(){return[{uri:"notion://projects/project_template",type:"database_template",collectionUri:r.wW,isDefault:!0,blockValue:{type:"page",format:{page_icon:"/icons/target_lightgray.svg"},properties:{title:(0,p.TP)(m.default.formatMessage(h.projectTemplate)),[a.Yi]:(0,n.Is)(m.default.formatMessage(h.planned))}}},{uri:"notion://projects/project_template/header_block_0",type:"block",parentUri:"notion://projects/project_template",parentType:"database_template",blockValue:{type:"sub_header",properties:{title:(0,p.TP)(m.default.formatMessage(h.aboutThisProject))}}},{uri:"notion://projects/project_template/header_block_1",type:"block",parentUri:"notion://projects/project_template",parentType:"database_template",blockValue:{type:"bulleted_list"}},{uri:"notion://projects/project_template/header_block_3",type:"block",parentUri:"notion://projects/project_template",parentType:"database_template",blockValue:{type:"text"}},{uri:"notion://projects/project_template/header_block_4",type:"block",parentUri:"notion://projects/project_template",parentType:"block",blockValue:{type:"sub_header",properties:{title:(0,p.TP)(m.default.formatMessage(h.projectTasks))}}},{uri:"notion://projects/project_template/project_tasks_block",type:"block",parentType:"database_template",parentUri:"notion://projects/project_template",blockValue:{type:"collection_view",properties:{title:(0,p.TP)(m.default.formatMessage(h.tasksCollectionName))}}},{uri:"notion://projects/project_template/project_tasks_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/project_template/project_tasks_block",value:{type:"table",name:m.default.formatMessage(h.tasksCollectionName),format:{table_wrap:!0,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/project_template"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],table_properties:g.zz,collection_view_subitem:{property:r.Yg},hide_linked_collection_name:!0}}},{uri:"notion://projects/project_template/project_tasks_board_view",type:"view",collectionUri:r.iS,blockUri:"notion://projects/project_template/project_tasks_block",value:{type:"board",name:m.default.formatMessage(h.projectsBoardViewName),format:{table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.notStarted)}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.inProgress)}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.done)}},property:"notion://tasks/status_property"},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.archived)}},hidden:!0,property:"notion://tasks/status_property"}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:"notion://tasks/status_property",disableBoardColorColumns:!1},board_properties:[{visible:!0,property:"title"},{visible:!1,property:"notion://tasks/task_to_project_relation"},{visible:!1,property:r.oG},{visible:!1,property:r.MM},{visible:!1,property:"notion://tasks/status_property"},{visible:!0,property:"notion://tasks/assign_property"},{visible:!0,property:"notion://tasks/due_date_property"},{visible:!1,property:a.vP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:"notion://projects/project_template"},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],hide_linked_collection_name:!0}}}]}function b(){return[{uri:"notion://projects/completion_rollup",type:"property",collectionUri:r.wW,propertySchema:{type:"rollup",icon:"/icons/activity_gray.svg",name:m.default.formatMessage(h.completionRollupName),show_as:{type:"bar",color:"green",maxValue:1,showValue:!0},aggregation:{operator:"percent_per_group",groupName:m.default.formatMessage(h.complete)},target_property:"notion://tasks/status_property",relation_property:"notion://projects/project_to_task_relation",target_property_type:"status"},name:m.default.formatMessage(h.completionRollupName),description:m.default.formatMessage(h.completionRollupDescription),icon:i.Z.images.appPackages.featureRoadmapSvg}]}function S(e){return[{uri:"notion://projects/priority_property",type:"property",collectionUri:r.wW,name:m.default.formatMessage(h.priorityProperty),description:m.default.formatMessage(h.projectPriorityFeatureDescription),icon:i.Z.images.appPackages.featurePrioritySvg,propertySchema:e()}]}function w(){return{uri:"notion://projects/my_projects_feature",name:m.default.formatMessage(h.myProjectsFeature),description:m.default.formatMessage(h.myProjectsFeatureDescription),icon:i.Z.images.appPackages.featureWorkloadSvg,dependencies:[{uri:"notion://projects/my_projects_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.myProjectsViewDescription),value:{type:"board",name:m.default.formatMessage(h.myProjectsView),format:{table_wrap:!1,board_columns:[{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.planned)}},hidden:!1,property:a.Yi,emptyHidden:!0},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.inProgress)}},hidden:!1,property:a.Yi,emptyHidden:!0},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.done)}},hidden:!1,property:a.Yi,emptyHidden:!0},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.backlog)}},hidden:!0,property:a.Yi,emptyHidden:!0},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.paused)}},hidden:!0,property:a.Yi,emptyHidden:!0},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.cancelled)}},hidden:!0,property:a.Yi,emptyHidden:!0}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:a.Yi,hideEmptyGroups:!0},board_properties:[{visible:!0,property:"title"},{visible:!0,property:a.Yi},{visible:!0,property:"notion://projects/completion_rollup"},{visible:!0,property:a.O3},{visible:!1,property:a.om},{visible:!1,property:"notion://projects/project_to_task_relation"},{visible:!1,property:a.vP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:a.om}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:a.Yi}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:a.O3}}],table_properties:[{wrap:!1,width:226,visible:!0,property:"title"},{wrap:!1,width:140,visible:!0,property:a.Yi},{wrap:!1,width:200,visible:!0,property:a.om},{wrap:!0,width:200,visible:!0,property:a.O3},{wrap:!1,width:138,visible:!0,property:"notion://projects/completion_rollup"},{wrap:!0,width:219,visible:!0,property:"notion://projects/project_to_task_relation"},{wrap:!0,width:312,visible:!1,property:a.vP}],collection_groups:[{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.todo)}},property:a.Yi},{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.inProgress)}},property:a.Yi},{value:{type:"status",value:{type:"by_group",group:m.default.formatMessage(h.complete)}},property:a.Yi}]},query2:{aggregations:[{property:a.Yi,aggregator:{operator:"count_per_group",groupName:m.default.formatMessage(h.complete)}}]},page_sort:["notion://projects/tutorial/projects/getting_started_with_projects","notion://projects/tutorial/agile/getting_started_with_projects","notion://projects/tutorial/projects/project1","notion://projects/tutorial/projects/project2"]},blockUri:r.k$}],collectionUri:r.wW}}function k(){return{uri:"notion://projects/project_calendar_feature",name:m.default.formatMessage(h.projectCalendarFeature),description:m.default.formatMessage(h.projectCalendarFeatureDescription),dependencies:[{uri:"notion://projects/projects_calendar_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.projectCalendarViewDescription),value:{type:"calendar",name:m.default.formatMessage(h.projectCalendarFeature),query2:{calendar_by:a.O3}},blockUri:r.k$}],icon:i.Z.images.appPackages.featureCalendarSvg,collectionUri:r.wW}}function C(){return{uri:a.mr,name:m.default.formatMessage(h.projectSummaryFeature),description:m.default.formatMessage(h.projectSummaryFeatureDescription),icon:"/icons/stars_purple.svg",tooltipImage:{img:i.Z.images.tooltips.properties.aiAutofillSummaryPng,scale:.5},isNew:!0,collectionUri:r.wW,dependencies:[{uri:a.vP,type:"property",name:m.default.formatMessage(h.projectSummaryProperty),collectionUri:r.wW,propertySchema:{type:"text",name:m.default.formatMessage(h.projectSummaryProperty),ai_inference:{type:"summarize"}}}]}}function _(){return{uri:"notion://projects/projects_board_feature",name:m.default.formatMessage(h.projectsBoardFeature),description:m.default.formatMessage(h.projectsBoardFeatureDescription),dependencies:[{uri:"notion://projects/projects_board_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.projectsBoardViewDescription),value:{type:"board",name:m.default.formatMessage(h.projectsBoardViewName),format:{board_columns:[{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.backlog)}},hidden:!1,property:a.Yi},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.planned)}},hidden:!1,property:a.Yi},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.inProgress)}},hidden:!1,property:a.Yi},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.done)}},hidden:!1,property:a.Yi},{value:{type:"status",value:{type:"by_option",option:m.default.formatMessage(h.cancelled)}},hidden:!1,property:a.Yi}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:a.Yi,disableBoardColorColumns:!1},board_properties:[{visible:!0,property:"title"},{visible:!0,property:a.O3},{visible:!0,property:"notion://projects/oweners_property"},{visible:!0,property:a.Yi},{visible:!1,property:a.vP}],hide_linked_collection_name:!0}},blockUri:r.k$}],icon:i.Z.images.appPackages.featureBoardSvg,collectionUri:r.wW}}function M(){return{uri:"notion://projects/project_timeline_feature",name:m.default.formatMessage(h.projectTimelineFeature),description:m.default.formatMessage(h.projectTimelineFeatureDescription),dependencies:[{uri:"notion://projects/projects_timeline_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.projectsTimelineViewDescription),value:{type:"timeline",name:m.default.formatMessage(h.projectsTimelineView),format:{timeline_arrows_by:{property:r.j5},property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:a.Yi}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:a.om}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:a.O3}}],collection_group_by:{sort:{type:"ascending"},type:"status",groupBy:"group",property:a.Yi},timeline_preference:{zoomLevel:"quarter",centerTimestamp:(0,l.uO)((0,l.Lg)((0,s.r)()),(0,s.r)())},timeline_properties:[{visible:!0,property:"title"},{visible:!0,property:a.Yi},{visible:!0,property:a.om},{visible:!0,property:"notion://projects/completion_rollup"},{visible:!1,property:a.O3},{visible:!1,property:"notion://projects/project_to_task_relation"},{visible:!1,property:a.vP}],timeline_show_table:!1,timeline_table_properties:[{width:192,visible:!0,property:"title"},{width:200,visible:!1,property:"notion://projects/completion_rollup"},{width:200,visible:!1,property:a.O3},{width:200,visible:!1,property:a.om},{width:200,visible:!1,property:"notion://projects/project_to_task_relation"},{width:129,visible:!0,property:a.Yi},{width:200,visible:!1,property:a.vP}]},page_sort:["notion://projects/tutorial/projects/getting_started_with_projects","notion://projects/tutorial/agile/getting_started_with_projects","notion://projects/tutorial/projects/project1","notion://projects/tutorial/projects/project2"],query2:{timeline_by:a.O3,aggregations:[{property:"title",aggregator:"count"}]}},blockUri:r.k$}],icon:i.Z.images.appPackages.featureTimeSvg,collectionUri:r.wW}}function T(){return{uri:"notion://projects/active_projects_gallery_feature",name:m.default.formatMessage(h.activeProjectsTableFeature),description:m.default.formatMessage(h.activeProjectsTableFeatureDescription),dependencies:[{uri:"notion://projects/active_projects_gallery_view",type:"view",collectionUri:r.wW,description:m.default.formatMessage(h.activeProjectsViewDescription),value:{type:"table",name:m.default.formatMessage(h.activeProjectsView),format:{uri:"notion://projects/projects_table_view",table_wrap:!0,collection_view_icon:"/icons/token_gray.svg",property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:"In Progress"},operator:"status_is"},property:a.Yi}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:a.om}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:a.O3}}],collection_group_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:"notion://projects/status_property",hideEmptyGroups:!0},table_properties:[{width:197,visible:!0,property:"title"},{width:121,visible:!0,property:a.Yi},{width:143,visible:!0,property:a.om},{width:182,visible:!0,property:"notion://projects/collaborators_property"},{width:200,visible:!0,property:a.O3},{width:100,visible:!0,property:"notion://projects/priority_property"},{width:125,visible:!0,property:"notion://projects/completion_rollup"},{width:191,visible:!0,property:"notion://projects/project_to_task_relation"},{width:128,visible:!0,property:r.eJ},{width:125,visible:!1,property:r.j5},{width:312,visible:!1,property:a.vP}],collection_peek_mode:"side_peek",hide_linked_collection_name:!0},page_sort:["notion://projects/tutorial/projects/getting_started_with_projects","notion://projects/tutorial/agile/getting_started_with_projects","notion://projects/tutorial/projects/project1","notion://projects/tutorial/projects/project2"]},blockUri:r.k$}],icon:i.Z.images.appPackages.featureGanttSvg,collectionUri:r.wW}}function I(){return{uri:"notion://projects/project_collaborators_feature",name:m.default.formatMessage(h.collaborators),dependencies:[{uri:"notion://projects/collaborators_property",type:"property",collectionUri:r.wW,name:m.default.formatMessage(h.collaborators),propertySchema:{type:"person",name:m.default.formatMessage(h.collaborators)}}],collectionUri:r.wW}}function P(){return{uri:"notion://projects/project_description_feature",name:m.default.formatMessage(h.description),icon:i.Z.images.appPackages.featureUpdatesSvg,dependencies:[{uri:"notion://projects/description_property",type:"property",collectionUri:r.wW,name:m.default.formatMessage(h.description),icon:i.Z.images.appPackages.featureUpdatesSvg,propertySchema:{type:"text",name:m.default.formatMessage(h.description)}}],collectionUri:r.wW}}function x(){return{uri:"notion://projects/project_hml_priority_feature",name:m.default.formatMessage(h.hmlPriority),icon:i.Z.images.appPackages.featurePrioritySvg,dependencies:[...S(g.zy)],collectionUri:r.wW}}function B(){return{uri:"notion://projects/project_p012_priority_feature",name:"P0, P1, P2",icon:i.Z.images.appPackages.featurePrioritySvg,dependencies:[...S(g.Tz)],collectionUri:r.wW}}function Z(){return{uri:"notion://projects/project_priority_feature",name:m.default.formatMessage(h.priorityProperty),description:m.default.formatMessage(h.projectPriorityFeatureDescription),icon:i.Z.images.appPackages.featurePrioritySvg,variants:[x().uri,B().uri],collectionUri:r.wW}}function E(){return{uri:"notion://projects/projects_dependencies_feature",name:m.default.formatMessage(h.projectDependenciesName),description:m.default.formatMessage(h.projectDependenciesFeatureDescription),icon:i.Z.images.appPackages.featureDependenciesSvg,dependencies:[{uri:r.j5,type:"property",collectionUri:r.wW,name:m.default.formatMessage(h.projectDependenciesName),description:m.default.formatMessage(h.projectDependenciesFeatureDescription),icon:i.Z.images.appPackages.featureDependenciesSvg,propertySchema:{type:"relation",name:m.default.formatMessage(h.projectBlockingName),collection_pointer:{table:d.v,id:r.wW},property:r.eJ,version:"v2"}},{uri:r.eJ,type:"property",collectionUri:r.wW,name:m.default.formatMessage(h.projectDependenciesName),description:m.default.formatMessage(h.projectDependenciesFeatureDescription),icon:i.Z.images.appPackages.featureDependenciesSvg,propertySchema:{type:"relation",icon:"/icons/no-entry_gray.svg",name:m.default.formatMessage(h.projectBlockedByName),collection_pointer:{table:d.v,id:r.wW},property:r.j5,version:"v2"}}],collectionUri:r.wW}}function R(){return{uri:"notion://projects/projects_and_tasks_feature",name:m.default.formatMessage(h.tasksCollectionName),description:m.default.formatMessage(h.tasksFeatureDescription),icon:i.Z.images.appPackages.taskDbIconSvg,dependencies:[...(0,g.mQ)(),...b(),...(0,g.F)(),...(0,g.n$)(),...(0,g.s)()],collectionUri:r.wW}}},73352:(e,t,o)=>{o.d(t,{sY:()=>h,ey:()=>M,T1:()=>w,N8:()=>v,kj:()=>S,eK:()=>f,DI:()=>_,Gr:()=>b,Ez:()=>C,xR:()=>y,Pm:()=>T});var i=o(41892),n=o(67219),r=o(42875),a=o(89837),s=o(70203),l=o(5366),c=o(33929),d=o(93959),p=o(80951);const u=(0,l.defineMessages)({notionTasksNewSprintTemplate_0:{id:"notionTasksNewSprintTemplate_0",defaultMessage:"New sprint",description:"New sprint database template title"},notionTasksNewSprintTemplate_0_0:{id:"notionTasksNewSprintTemplate_0_0",defaultMessage:"Sprint Planning Agenda",description:"New sprint template content"},notionTasksNewSprintTemplate_1_0:{id:"notionTasksNewSprintTemplate_1_0",defaultMessage:"Team availability",description:"New sprint template content"},notionTasksNewSprintTemplate_2_0:{id:"notionTasksNewSprintTemplate_2_0",defaultMessage:"PTOs",description:"New sprint template content"},notionTasksNewSprintTemplate_3_0:{id:"notionTasksNewSprintTemplate_3_0",defaultMessage:"Other commitments",description:"New sprint template content"},notionTasksNewSprintTemplate_4_0:{id:"notionTasksNewSprintTemplate_4_0",defaultMessage:"Last Sprint Review",description:"New sprint template content"},notionTasksNewSprintTemplate_5_0:{id:"notionTasksNewSprintTemplate_5_0",defaultMessage:"What went well",description:"New sprint template content"},notionTasksNewSprintTemplate_6_0:{id:"notionTasksNewSprintTemplate_6_0",defaultMessage:"What could have gone differently",description:"New sprint template content"},notionTasksNewSprintTemplate_7_0:{id:"notionTasksNewSprintTemplate_7_0",defaultMessage:"Demos",description:"New sprint template content"},notionTasksNewSprintTemplate_8_0:{id:"notionTasksNewSprintTemplate_8_0",defaultMessage:"Sprint Goal",description:"New sprint template content"},notionTasksNewSprintTemplate_9_0:{id:"notionTasksNewSprintTemplate_9_0",defaultMessage:"[Add the goal of this sprint here]",description:"New sprint template content"},notionTasksNewSprintTemplate_10_0:{id:"notionTasksNewSprintTemplate_10_0",defaultMessage:"Sprint Planning",description:"New sprint template content"},notionTasksNewSprintTemplate_11_0:{id:"notionTasksNewSprintTemplate_11_0",defaultMessage:"Review backlog",description:"New sprint template content"},notionTasksNewSprintTemplate_12_0:{id:"notionTasksNewSprintTemplate_12_0",defaultMessage:"Commit tasks to sprint",description:"New sprint template content"}}),m="notion://sprints/new_sprint_template";var g=o(29637);const h=(0,l.defineMessages)({sprintsCollectionName:{defaultMessage:"Sprints",description:"sprints collection",id:"appTemplates.sprints.sprintsCollectionName"},tasksCollectionName:{defaultMessage:"Tasks",description:"Tasks database",id:"appTemplates.sprints.tasksCollectionName"},sprintsCollectionEmptyTitle:{defaultMessage:"No sprints",description:"The title when adding an entry in the app's database",id:"appTemplates.projects.sprintsCollectionEmptyTitle"},sprintsCollectionEmptyDescription:{defaultMessage:"Sprints define periods of time, that you can organize Tasks and Projects into.",description:"The description when adding an entry in the app's database",id:"appTemplates.projects.sprintsCollectionEmptyDescription"},sprintsCollectionEmptyButtonTitle:{defaultMessage:"New sprint",description:"The button text when adding an entry in the app's database",id:"appTemplates.projects.sprintsCollectionEmptyButtonTitle"},sprintsTimelineView:{id:"appTemplates.sprints.sprintsTimelineView",defaultMessage:"Timeline"},sprintsTimelineViewDescription:{defaultMessage:"Timeline of sprints",description:"Timeline view of sprints",id:"appTemplates.tasks.sprintsTimelineViewDescription"},sprint1:{id:"appTemplates.sprints.sprint1",defaultMessage:"Sprint 1"},sprint2:{id:"appTemplates.sprints.sprint2",defaultMessage:"Sprint 2"},sprint3:{id:"appTemplates.sprints.sprint3",defaultMessage:"Sprint 3"},sprintTitleProperty:{id:"appTemplates.tasks.sprintTitleProperty",defaultMessage:"Sprint name"},datesProperty:{defaultMessage:"Dates",description:"Project's start to end date",id:"appTemplates.sprints.timelineProperty"},uniqueIdProperty:{defaultMessage:"Sprint ID",description:"Sprint ID",id:"appTemplatesSprintsV2.sprints.uniqueIdProperty"},sprintStatus:{id:"appTemplatesSprintsV2.sprints.sprintStatus",description:"Property name of sprint status property.",defaultMessage:"Sprint status"},sprintStatusDescription:{id:"appTemplates.sprints.sprintStatusDescription",defaultMessage:"Track if a sprint is the current active sprint."},isCurrentSprintProperty:{defaultMessage:"Is Current Sprint",description:"Is this sprint the current sprint",id:"appTemplates.sprints.isCurrentSprintProperty"},allSprintsViewDescription:{defaultMessage:"Table of all sprints",description:"Table view of all sprints",id:"appTemplates.tasks.allSprintsViewDescription"},allSprintsViewName:{defaultMessage:"All",description:"Tasks database",id:"appTemplates.sprints.allTasksViewName"},notStarted:{defaultMessage:"Not Started",description:"Task/Project hasn't been started",id:"appTemplatesSprintsV2.projects.notStarted"},complete:{defaultMessage:"Complete",description:"Task/Project is completed",id:"appTemplatesSprintsV2.projects.completed"},next:{id:"appTemplatesSprintsV2.sprints.next",description:"Status property for next sprint item",defaultMessage:"Next"},past:{id:"appTemplatesSprintsV2.sprints.past",description:"Status property for all past sprint items",defaultMessage:"Past"},future:{id:"appTemplatesSprintsV2.sprints.future",description:"Status property for all future sprint items",defaultMessage:"Future"},current:{id:"appTemplatesSprintsV2.sprints.current",description:"Status property for the current sprint item",defaultMessage:"Current"},tasksFeatureDescription:{defaultMessage:"Database for more granular pieces of work. Track tasks for each sprint.",description:"Tooltip for the suggested Tasks feature to Sprints",id:"appTemplates.sprints.tasksFeatureDescription"},totalTasksCompletedInSprint:{defaultMessage:"Total Tasks",description:"Total tasks in this sprint",id:"appTemplatesSprintsV2.projects.totalTasksCompletedInSprint"}});function f(e){return{title:{type:"title",name:e.formatMessage(h.sprintTitleProperty)},[n.Zb]:{name:c.default.formatMessage(h.sprintStatus),type:"status",groups:[{id:"current-status-group",name:c.default.formatMessage(h.current),color:"blue",optionIds:[n.SF]},{id:"future-status-group",name:c.default.formatMessage(h.future),color:"gray",optionIds:[n.YE,n.eH]},{id:"complete-status-group",name:c.default.formatMessage(h.complete),color:"green",optionIds:[n.J1]}],options:[{id:n.SF,color:"blue",value:c.default.formatMessage(h.current)},{id:n.J1,color:"green",value:c.default.formatMessage(h.past)},{id:n.YE,color:"gray",value:c.default.formatMessage(h.next)},{id:n.eH,color:"gray",value:c.default.formatMessage(h.future)}],defaultOption:c.default.formatMessage(h.future)},[n.Et]:{type:"date",name:e.formatMessage(h.datesProperty)},[n.OQ]:{type:"auto_increment_id",name:e.formatMessage(h.uniqueIdProperty)}}}function v(){return[{uri:n.pz,type:"collection_view_block",name:c.default.formatMessage(h.sprintsCollectionName),defaultViewsOrder:["notion://sprints/sprints_timeline_view","notion://sprints/sprints_view"]},{uri:n.p$,type:"collection",value:{name:(0,s.TP)(c.default.formatMessage(h.sprintsCollectionName)),schema:(0,d.wY)()?f(c.default.intl):(e=c.default.intl,{title:{type:"title",name:e.formatMessage(h.sprintTitleProperty)},[n.Et]:{type:"date",name:e.formatMessage(h.datesProperty)}}),format:{property_visibility:[{property:n.Et,visibility:"show"},{property:(0,n.lx)((0,d.wY)()),visibility:"show"},{property:n.Wr,visibility:"section"},{property:n.OQ,visibility:"show"},{property:n.LC,visibility:"show"},{property:"notion://sprints/completed_tasks_property",visibility:"show"}],collection_page_sections:[{section:n.Wr,visibility:"inline"}]},icon:"control"===(0,d.Fk)()?i.Z.images.appPackages.sprintsDbIconSvg:"/icons/database_lightgray.svg"},blockUri:n.pz,emptyIcon:i.Z.images.appPackages.projectsProjectsEmptyIconPng,emptyTitle:c.default.formatMessage(h.sprintsCollectionEmptyTitle),emptyDescription:c.default.formatMessage(h.sprintsCollectionEmptyDescription),emptyButtonTitle:c.default.formatMessage(h.sprintsCollectionEmptyButtonTitle)}];var e}function y(){return[{uri:"notion://sprints/sprints_timeline_view",type:"view",collectionUri:n.p$,description:c.default.formatMessage(h.sprintsTimelineViewDescription),value:{type:"timeline",name:c.default.formatMessage(h.sprintsTimelineView),format:{list_properties:[{visible:!0,property:n.Et}],table_properties:[{width:141,visible:!0,property:"title"},{width:147,visible:!0,property:(0,n.lx)((0,d.wY)())},{width:269,visible:!0,property:n.Et},{width:269,visible:!1,property:n.OQ},{width:269,visible:!1,property:n.LC}],timeline_preference:{zoomLevel:"quarter",centerTimestamp:(0,a.uO)((0,a.Lg)((0,r.r)()),(0,r.r)())},timeline_properties:[{visible:!0,property:"title"},{visible:!1,property:(0,n.lx)((0,d.wY)())},{visible:!0,property:n.Et},{visible:!1,property:n.OQ},{visible:!1,property:n.LC}],timeline_show_table:!0,timeline_table_properties:[{width:151,visible:!0,property:"title"},{width:200,visible:!1,property:n.Et},{width:132,visible:!0,property:(0,n.lx)((0,d.wY)())},{width:200,visible:!1,property:n.OQ},{width:200,visible:!1,property:n.LC}],collection_group_by:(0,d.wY)()?{sort:{type:"ascending"},type:"status",groupBy:"group",property:(0,n.lx)((0,d.wY)())}:void 0},page_sort:["notion://projects/tutorial/sprints/sprint1","notion://projects/tutorial/sprints/sprint2","notion://projects/tutorial/sprints/sprint3"],query2:{timeline_by:n.Et,aggregations:[{property:"title",aggregator:"count"}],sort:(0,d.wY)()?[{property:(0,n.lx)((0,d.wY)()),direction:"ascending"}]:void 0}},blockUri:n.pz}]}function b(){return[{uri:"notion://sprints/sprints_view",type:"view",collectionUri:n.p$,description:c.default.formatMessage(h.allSprintsViewDescription),value:{type:"table",name:c.default.formatMessage(h.allSprintsViewName),format:{table_properties:[{width:191,visible:!0,property:"title"},{width:137,visible:!0,property:(0,n.lx)((0,d.wY)())},{width:309,visible:!0,property:n.Et},{width:75,visible:!1,property:n.OQ},{width:75,visible:!0,property:n.LC},{width:100,visible:!0,property:"notion://sprints/completed_tasks_property"},{width:184,visible:!1,property:"notion://sprints/sprint_task_relation"}],collection_group_by:(0,d.wY)()?{sort:{type:"ascending"},type:"status",groupBy:"group",property:(0,n.lx)((0,d.wY)())}:void 0},query2:(0,d.wY)()?{sort:[{property:(0,n.lx)((0,d.wY)()),direction:"ascending"}]}:void 0,page_sort:["notion://projects/tutorial/sprints/sprint1","notion://projects/tutorial/sprints/sprint2","notion://projects/tutorial/sprints/sprint3"]},blockUri:n.pz}]}function S(){return[{uri:`${m}`,type:"database_template",collectionUri:n.p$,isDefault:!0,blockValue:{type:"page",format:{page_icon:i.Z.images.appPackages.sprintsDbIconSvg,app_config_uri:"notion://tasks/new_sprint_template"},properties:{title:(0,s.TP)(c.default.formatMessage(u.notionTasksNewSprintTemplate_0)),[(0,n.lx)((0,d.wY)())]:(0,d.wY)()?(0,p.Is)(n.eH):void 0}}},{uri:`${m}/0`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"header",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_0_0)]]}}},{uri:`${m}/1`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_1_0)]]}}},{uri:`${m}/2`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_2_0)]]}}},{uri:`${m}/3`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_3_0)]]}}},{uri:`${m}/4`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_4_0)]]}}},{uri:`${m}/5`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_5_0)]]}}},{uri:`${m}/6`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_6_0)]]}}},{uri:`${m}/7`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_7_0)]]}}},{uri:`${m}/8`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_8_0)]]}}},{uri:`${m}/9`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"text",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_9_0)]]}}},{uri:`${m}/10`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_10_0)]]}}},{uri:`${m}/11`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_11_0)]]}}},{uri:`${m}/12`,type:"block",parentUri:`${m}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[c.default.formatMessage(u.notionTasksNewSprintTemplate_12_0)]]}}}]}function w(){return[{uri:n.D1,type:"property",collectionUri:n.p$,name:c.default.formatMessage(h.sprintStatus),description:c.default.formatMessage(h.sprintStatusDescription),icon:i.Z.images.appPackages.featureSprintSvg,propertySchema:{type:"formula",name:c.default.formatMessage(h.isCurrentSprintProperty),formula:k}}]}const k={args:[{args:[{name:"now",type:"function",result_type:"date"},{args:[{id:n.Et,name:"Dates",type:"property",result_type:"date"}],name:"start",type:"function",result_type:"date"}],name:"larger",type:"operator",operator:">",result_type:"checkbox"},{args:[{name:"now",type:"function",result_type:"date"},{args:[{id:n.Et,name:"Dates",type:"property",result_type:"date"}],name:"end",type:"function",result_type:"date"}],name:"smallerEq",type:"operator",operator:"<=",result_type:"checkbox"}],name:"and",type:"operator",operator:"and",result_type:"checkbox"};function C(){return{uri:"notion://sprints/sprints_timeline_feature",name:c.default.formatMessage(h.sprintsTimelineView),description:c.default.formatMessage(h.sprintsTimelineViewDescription),dependencies:[...y()],collectionUri:n.p$}}function _(){return{uri:"notion://sprints/sprints_table_feature",name:c.default.formatMessage(h.allSprintsViewName),description:c.default.formatMessage(h.allSprintsViewDescription),dependencies:[...b()],collectionUri:n.p$}}function M(){return{uri:"notion://sprints/sprint_status_feature",name:c.default.formatMessage(h.sprintStatus),description:c.default.formatMessage(h.sprintStatusDescription),dependencies:[...w()],collectionUri:n.p$}}function T(){const e=[...(0,g.vt)(),...(0,g.F)(),...(0,g.n$)(),...(0,g.nB)(),{uri:"notion://sprints/total_tasks_property",type:"property",collectionUri:n.p$,name:c.default.formatMessage(h.totalTasksCompletedInSprint),description:c.default.formatMessage(h.totalTasksCompletedInSprint),propertySchema:{type:"rollup",name:c.default.formatMessage(h.totalTasksCompletedInSprint),aggregation:"count_values",target_property:"notion://tasks/status_property",relation_property:n.Wr,target_property_type:"status"}}];return{uri:"notion://sprints/sprints_with_tasks_feature",name:c.default.formatMessage(h.tasksCollectionName),description:c.default.formatMessage(h.tasksFeatureDescription),icon:i.Z.images.appPackages.taskDbIconSvg,dependencies:(0,d.wY)()?e:[...(0,g.vt)(),...(0,g.F)(),...(0,g.n$)(),...(0,g.Tx)()],collectionUri:n.p$}}},29637:(e,t,o)=>{o.d(t,{FK:()=>J,zy:()=>x,sY:()=>_,iB:()=>de,Tz:()=>B,cK:()=>$,Gz:()=>be,sU:()=>F,X$:()=>L,EG:()=>X,Tk:()=>q,bJ:()=>oe,fr:()=>ne,oL:()=>ge,oD:()=>me,yt:()=>se,jJ:()=>ce,_p:()=>pe,Aq:()=>N,tQ:()=>G,$r:()=>ie,ye:()=>Q,Z2:()=>ee,PW:()=>te,XJ:()=>ue,rl:()=>le,Lt:()=>ye,GT:()=>ke,Mw:()=>Se,mQ:()=>R,vt:()=>V,s:()=>D,AE:()=>re,F:()=>M,$X:()=>Y,nB:()=>O,CT:()=>fe,Tx:()=>U,Qo:()=>he,fu:()=>ve,n$:()=>T,zz:()=>A,oK:()=>ae,eu:()=>we});var i=o(69834),n=o(41892),r=o(67219),a=o(77840),s=o(42875),l=o(89837),c=o(4615),d=o(6287),p=o(5500),u=o(70203),m=o(5366),g=o(33929),h=o(93959),f=o(17201),v=o(48747),y=o(73352),b=o(80951);const S=(0,m.defineMessages)({notionTasksNewFeatureRequestTemplate_0:{id:"notionTasksNewFeatureRequestTemplate_0",defaultMessage:"Feature Request",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_0_0:{id:"notionTasksNewFeatureRequestTemplate_0_0",defaultMessage:"Description",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_1_0:{id:"notionTasksNewFeatureRequestTemplate_1_0",defaultMessage:"[Description of feature request]",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_3_0:{id:"notionTasksNewFeatureRequestTemplate_3_0",defaultMessage:"User problem",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_4_0:{id:"notionTasksNewFeatureRequestTemplate_4_0",defaultMessage:"[Describe the problem this feature will solve]",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_6_0:{id:"notionTasksNewFeatureRequestTemplate_6_0",defaultMessage:"Screenshots / GIFs / Videos",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_10_0:{id:"notionTasksNewFeatureRequestTemplate_10_0",defaultMessage:"Additional Notes",description:"Feature request template content"},notionTasksNewFeatureRequestTemplate_11_0:{id:"notionTasksNewFeatureRequestTemplate_11_0",defaultMessage:"[Add anything else that might be helpful]",description:"Feature request template content"},notionTasksNewBugTemplate_0:{id:"notionTasksNewBugTemplate_0",defaultMessage:"Bug",description:"Bug template content"},notionTasksNewBugTemplate_0_0:{id:"notionTasksNewBugTemplate_0_0",defaultMessage:"Description",description:"Bug template content"},notionTasksNewBugTemplate_1_0:{id:"notionTasksNewBugTemplate_1_0",defaultMessage:"Description of what happened",description:"Bug template content"},notionTasksNewBugTemplate_2_0:{id:"notionTasksNewBugTemplate_2_0",defaultMessage:"Expected behavior:",description:"Bug template content"},notionTasksNewBugTemplate_3_0:{id:"notionTasksNewBugTemplate_3_0",defaultMessage:"Actual behavior:",description:"Bug template content"},notionTasksNewBugTemplate_4_0:{id:"notionTasksNewBugTemplate_4_0",defaultMessage:"Screenshots / GIFs / Videos",description:"Bug template content"},notionTasksNewBugTemplate_7_0:{id:"notionTasksNewBugTemplate_7_0",defaultMessage:"Steps to reproduce",description:"Bug template content"},notionTasksNewBugTemplate_10_0:{id:"notionTasksNewBugTemplate_10_0",defaultMessage:"Additional information",description:"Bug template content"},notionTasksNewBugTemplate_11_0:{id:"notionTasksNewBugTemplate_11_0",defaultMessage:"Source URL: 🔗",description:"Bug template content"},notionTasksNewBugTemplate_12_0:{id:"notionTasksNewBugTemplate_12_0",defaultMessage:"Console logs: 🔗",description:"Bug template content"}}),w="notion://tasks/new_feature_request_template",k="notion://tasks/new_bug_template";function C(){return[{uri:"notion://tasks/new_task_template",type:"database_template",collectionUri:r.iS,isDefault:!0,blockValue:{type:"page",properties:{title:(0,u.TP)("Task"),[r.fp]:(0,b.Is)("Not started")},format:{page_icon:"/icons/checkmark_lightgray.svg"}}}]}const _=(0,m.defineMessages)({tasksCollectionName:{defaultMessage:"Tasks",description:"Tasks database",id:"appTemplates.tasks.tasksCollectionName"},taskTitleProperty:{id:"appTemplates.tasks.taskTitleProperty",defaultMessage:"Task name"},assignProperty:{defaultMessage:"Assignee",description:"Assignee of task",id:"appTemplates.tasks.assignProperty"},todo:{defaultMessage:"To-do",description:"Task is to be done",id:"appTemplates.tasks.todo"},inProgress:{defaultMessage:"In Progress",description:"Task/Project is in progress",id:"appTemplates.tasks.inProgress"},complete:{defaultMessage:"Complete",description:"Task/Project is completed",id:"appTemplates.tasks.completed"},notStarted:{defaultMessage:"Not Started",description:"Task/Project hasn't been started",id:"appTemplates.tasks.notStarted"},done:{defaultMessage:"Done",description:"Task is done",id:"appTemplates.tasks.done"},archived:{id:"appTemplates.tasks.archived",defaultMessage:"Archived"},dueDateProperty:{defaultMessage:"Due",description:"Task's due date",id:"appTemplates.projects.dueDateProperty"},taskSummaryFeature:{defaultMessage:"Summary",description:"Task summary",id:"appTemplates.tasks.summary"},taskSummaryFeatureDescription:{defaultMessage:"Automatically summarize tasks with Notion AI",description:"A description for the AI task summary property",id:"appTemplates.tasks.summaryDescription"},taskSummaryProperty:{defaultMessage:"Summary",description:"Task summary",id:"appTemplates.tasks.summaryProperty"},tasksCollectionEmptyTitle:{defaultMessage:"No tasks",description:"The title when adding an entry in the app's database",id:"appTemplates.projects.tasksCollectionEmptyTitle"},tasksCollectionEmptyDescription:{defaultMessage:"Tasks track granular, single pieces of work.",description:"The description when adding an entry in the app's database",id:"appTemplates.projects.tasksCollectionEmptyDescription"},tasksCollectionEmptyButtonTitle:{defaultMessage:"New task",description:"The button text when adding an entry in the app's database",id:"appTemplates.projects.tasksCollectionEmptyButtonTitle"},allTasksViewName:{defaultMessage:"All Tasks",description:"Tasks database",id:"appTemplates.tasks.allTasksViewName"},allTasksViewDescription:{defaultMessage:"Table of all tasks",description:"Table view of all tasks",id:"appTemplates.tasks.allTasksViewDescription"},boardViewName:{defaultMessage:"Board",description:"Board view",id:"appTemplates.tasks.boardViewName"},tasksBoardViewDescription:{defaultMessage:"Board of tasks",description:"Board view of tasks",id:"appTemplates.tasks.tasksBoardViewDescription"},tasksBoardByAssigneeViewName:{id:"appTemplates.tasks.tasksBoardByAssigneeViewName",defaultMessage:"Board by people",description:"Name of the board view for tasks grouped by assignee"},tasksByDueDateViewName:{id:"appTemplates.tasks.tasksByDueDateViewName",defaultMessage:"Upcoming",description:"Name of the view of tasks grouped by due date"},tasksByDueDateDescription:{id:"appTemplates.tasks.tasksByDueDateDescription",defaultMessage:"Table of tasks grouped by due date",description:"Table view of tasks grouped by due date"},tasksBoardByAssigneeDescription:{id:"appTemplates.tasks.tasksBoardByAssigneeDescription",defaultMessage:"Board of tasks grouped by assignee",description:"Board view of tasks grouped by assignee"},tasksWithNoSprintViewDescription:{defaultMessage:"Table of sprint tasks and future tasks",id:"appTemplates.tasks.tasksWithNoSprintViewDescription",description:"Table of tasks grouped by sprint to show current sprint tasks and tasks unassigned to a sprint."},taskByPersonViewName:{id:"appTemplates.tasks.taskByPersonViewName",defaultMessage:"By people"},taskByPersonViewDescription:{id:"appTemplates.tasks.tasksByPersonViewDescription",defaultMessage:"Table of tasks grouped by assignee",description:"Table view of tasks grouped by assignee"},myTasksViewDescription:{id:"appTemplates.tasks.myTasksViewDescription",defaultMessage:"Table of my tasks",description:"Table view of tasks assigned to me"},myTasks:{id:"appTemplates.tasks.myTasks",defaultMessage:"Mine"},subTaskName:{defaultMessage:"Sub-tasks",description:"child tasks",id:"appTemplates.projects.subTasksName"},subTaskFeatureDescription:{defaultMessage:"Break tasks into smaller sub-tasks and track progress.",id:"appTemplates.projects.subTaskFeatureDescription"},markAsDuplicate:{defaultMessage:"Mark as duplicate",description:"Mark a task as a duplicate of another task",id:"appTemplates.projects.markAsDuplicate"},markAsDuplicateFeatureDescription:{defaultMessage:"Mark a task as a duplicate of another task.",id:"appTemplates.projects.markAsDuplicateFeatureDescription"},taskIsDuplicateOfName:{defaultMessage:"Is Duplicate Of",description:"Task is duplicate of another task",id:"appTemplates.projects.taskIsDuplicateOfName"},taskDuplicatesName:{defaultMessage:"Duplicates",description:"Task's all duplicate tasks",id:"appTemplates.projects.taskDuplicatesName"},taskDependencies:{defaultMessage:"Dependencies",description:"Task dependencies",id:"appTemplates.projects.taskDependenciesName"},taskDependenciesFeatureDescription:{defaultMessage:"Mark a task as blocked by another task.",id:"appTemplates.projects.taskDependenciesFeatureDescription"},taskBlockingName:{defaultMessage:"Is Blocking",description:"Task is blocking another task",id:"appTemplates.projects.taskBlockingName"},taskBlockedByName:{defaultMessage:"Blocked By",description:"Task is blocked by another task",id:"appTemplates.projects.taskBlockedByName"},priorityProperty:{defaultMessage:"Priority",description:"Priority property",id:"appTemplates.tasks.priorityProperty"},priorityLow:{defaultMessage:"Low",description:"Low priority",id:"appTemplates.tasks.priorityLow"},priorityMedium:{defaultMessage:"Medium",description:"Medium priority",id:"appTemplates.tasks.priorityMedium"},priorityHigh:{defaultMessage:"High",description:"High priority",id:"appTemplates.tasks.priorityHigh"},taskProjectRelationDependencyName:{defaultMessage:"Projects <-> Tasks",description:"The relation between projects DB and tasks DB",id:"appTemplates.projects.taskProjectRelationDependencyName"},taskProjectRelationName:{defaultMessage:"Project",description:"Project relation",id:"appTemplates.projects.taskProjectRelationName"},taskByProjectViewName:{id:"appTemplates.tasks.taskByProjectViewName",defaultMessage:"By project"},projectsCollectionName:{defaultMessage:"Projects",description:"Projects database",id:"appTemplates.tasks.projectsCollectionName"},projectsFeatureDescription:{defaultMessage:"Database for larger pieces of work, that can be a collection of Tasks.",id:"appTemplates.tasks.projectsFeatureDescription"},taskByProjectViewDescription:{id:"appTemplates.tasks.taskByProjectViewDescription",defaultMessage:"Table of tasks by project",description:"Table view of tasks grouped by project"},tasksWithSprintsFeatureDescription:{defaultMessage:"Focus your team on a set of tasks every few weeks.",id:"appTemplates.projects.tasksWithSprintsFeatureDescription"},sprintsCollectionName:{defaultMessage:"Sprints",description:"sprints collection",id:"appTemplates.tasks.sprintsCollectionName"},sprintStatus:{id:"appTemplates.tasks.sprintStatus",defaultMessage:"Sprint status"},sprintsName:{defaultMessage:"Sprint",description:"name of the sprint",id:"appTemplates.projects.sprintsName"},isCurrentSprintProperty:{defaultMessage:"Is Current Sprint",description:"Is this sprint the current sprint",id:"appTemplates.tasks.isCurrentSprintProperty"},tasksCurrentSprintV2ViewName:{defaultMessage:"Current Sprint",description:"Tasks in current sprint",id:"appTemplates.projects.tasksCurrentSprintV2ViewName"},tasksCurrentSprintV2ViewNamePrefix:{defaultMessage:"Current",description:"Name for table view or group header of tasks in current sprint that is used as a prefix to add the sprint number to, so should not have the word sprint",id:"appTemplates.projects.tasksCurrentSprintV2ViewNamePrefix"},tasksNextSprintV2ViewNamePrefix:{defaultMessage:"Next",description:"Name for group header of tasks in next sprint that is used as a prefix to add the sprint number to, so should not have the word sprint",id:"appTemplates.projects.tasksNextSprintV2ViewNamePrefix"},tasksCurrentSprintViewName:{defaultMessage:"This sprint",description:"Tasks in this sprint",id:"appTemplates.projects.tasksCurrentSprintViewName"},tasksCurrentSprintViewDescription:{defaultMessage:"Board of tasks in current sprint",description:"Board view of tasks in the current sprint",id:"appTemplates.projects.tasksCurrentSprintViewDescription"},backlog:{id:"appTemplates.projects.backlog",defaultMessage:"Backlog"},id:{defaultMessage:"Task ID",description:"Task ID",id:"appTemplates.projects.id"},tags:{defaultMessage:"Tags",description:"Tags",id:"appTemplates.projects.tags"},description:{defaultMessage:"Description",description:"Description",id:"appTemplates.tasks.description"},simpleTaskFeatureDescription:{defaultMessage:"Database for granular pieces of work, such as issues, tasks, or bugs.",id:"appTemplates.projects.simpleTaskFeatureDescription"},taskByDueDateFeature:{id:"appTemplates.tasks.taskByDueDateFeature",defaultMessage:"Tasks table"},taskByDueDateFeatureDescription:{id:"appTemplates.tasks.taskByDueDateFeatureDescription",defaultMessage:"A table view of tasks grouped by various widows of due date."},taskBoardFeatureName:{defaultMessage:"Task board",description:"Task board view",id:"appTemplates.projects.tasksBoardFeatureName"},taskBoardFeatureDescription:{id:"appTemplates.tasks.tasksBoardFeatureDescription",defaultMessage:"Visualize work on a board."},taskByProjectFeatureName:{id:"appTemplates.tasks.taskByProjectFeatureName",defaultMessage:"Tasks by projects"},taskByProjectFeatureDescription:{id:"appTemplates.tasks.taskByProjectFeatureDescription",defaultMessage:"A board view of tasks grouped by projects"},taskByPersonFeatureName:{id:"appTemplates.tasks.taskByPersonFeatureName",defaultMessage:"Task by person"},taskByPersonFeatureDescription:{id:"appTemplates.tasks.taskByPersonFeatureDescription",defaultMessage:"A table view of tasks grouped by assignees."},taskReporter:{defaultMessage:"Reporter",description:"Reporter of a task",id:"appTemplates.projects.taskReporter"},tshirtSizeEstimates:{defaultMessage:"T-shirt Size",description:"XL, L, M, S, XS",id:"appTemplates.projects.tshirtSizeEstimates"},pointsEstimates:{defaultMessage:"Points",description:"Using number as points for task size estimation",id:"appTemplates.projects.pointsEstimates"},estimatesProperty:{defaultMessage:"Estimates",description:"Estimate on task size",id:"appTemplates.projects.estimateProperty"},myTasksFeature:{id:"appTemplates.tasks.myTasksFeature",defaultMessage:"My tasks"},myTasksFeatureDescription:{id:"appTemplates.tasks.myTasksFeatureDescription",defaultMessage:"A table view of tasks assigned to me."},taskTypeFeatureDescription:{defaultMessage:"Create different types of tasks with templates.",id:"appTemplates.projects.taskTypeFeatureDescription"},estimatesFeatureDescription:{defaultMessage:"Size your tasks with popular methods and custom options.",id:"appTemplates.projects.estimatesFeatureDescription"},taskPriorityFeatureDescription:{defaultMessage:"Mark which task to do first.",id:"appTemplates.projects.taskPriorityFeatureDescription"},hmlPriority:{defaultMessage:"High, Medium, Low",description:"High, medium, low priority",id:"appTemplates.tasks.hmlPriority"},taskDueDateFeature:{defaultMessage:"Task Due Date",description:"The date the task is due.",id:"appTemplates.projects.taskDueDateFeature"},feature:{defaultMessage:"Feature",description:"Task is a feature",id:"appTemplates.projects.feature"},bug:{defaultMessage:"Bug",description:"Task is a bug",id:"appTemplates.projects.bug"},taskType:{defaultMessage:"Task type",description:"The type/category of a task",id:"appTemplates.projects.taskType"},taskGithubPrsFeatureName:{defaultMessage:"GitHub Pull Requests",description:"The relation between tasks and GitHub PRs",id:"appTemplates.projects.taskGithubPrRelationName"},taskGithubPrsFeatureDescription:{defaultMessage:"Link PRs and set up automated task status updates based on PR changes.",description:"Description of the task to GitHub PR relation feature",id:"appTemplates.projects.taskGithubPrFeatureDescription"},taskGithubPrsDisabledFeatureDescription:{defaultMessage:"Ask your workspace admin to configure the GitHub (Workspace) app in settings to use this feature.",description:"Description of the task to GitHub PR relation feature if GitHub is not yet configured by the admin",id:"appTemplates.projects.taskGithubPrDisabledFeatureDescription"},parentTaskName:{defaultMessage:"Parent-task",description:"Parent task",id:"appTemplates.projects.parentTasksName"},totalTasksInSprint:{defaultMessage:"Total Tasks",description:"Total tasks in this sprint",id:"appTemplatesSprintsV2.projects.totalTasksInSprint"},tasksCompletedInSprint:{defaultMessage:"Completed tasks",description:"Tasks completed in this sprint",id:"appTemplatesSprintsV2.projects.tasksCompletedInSprint"},tasksCurrentSprintKanbanViewName:{defaultMessage:"Current sprint kanban ",description:"Kanban view of tasks in this sprint",id:"appTemplatesSprintsV2.projects.tasksCurrentSprintKanbanViewName"},tasksCurrentKanbanSprintViewDescription:{defaultMessage:"Kanban view of tasks in current sprint",description:"Kanban view of tasks in the current sprint",id:"appTemplatesSprintsV2.projects.tasksCurrentKanbanSprintViewDescription"},tasksNextSprintViewName:{defaultMessage:"Next sprint",description:"Tasks in the next sprint",id:"appTemplatesSprintsV2.projects.tasksNextSprintViewName"},tasksNextSprintViewDescription:{defaultMessage:"Table of tasks in the next sprint",description:"Table view of tasks in the next sprint",id:"appTemplatesSprintsV2.projects.tasksNextSprintViewDescription"},tasksCurrentSprintOwnerViewDescription:{defaultMessage:"Table of tasks in current sprint by owner",description:"Table view of tasks in the current sprint by owner",id:"appTemplatesSprintsV2.projects.tasksCurrentSprintOwnerViewDescription"},tasksCurrentSprintOwnerViewName:{defaultMessage:"Current sprint by owner ",description:"Table view of tasks by owner in this sprint",id:"appTemplatesSprintsV2.projects.tasksCurrentSprintOwnerViewName"},tasksSprintPlanningName:{defaultMessage:"Sprint planning",id:"appTemplatesSprintsV2.tasks.tasksSprintPlanningName",description:"Board of tasks grouped by sprint to show current sprint and next sprint."},tasksSprintPlanningDescription:{defaultMessage:"Board of sprint tasks and future tasks",id:"appTemplatesSprintsV2.tasks.tasksSprintPlanningDescription",description:"Board of tasks grouped by sprint to show current sprint and next sprint."},tasksTimelineViewDescription:{defaultMessage:"Timeline of tasks",id:"appTemplates.tasks.tasksTimelineViewDescription",description:"Timeline view of tasks"},tasksTimelineViewName:{defaultMessage:"Timeline",id:"appTemplates.tasks.tasksTimelineViewName",description:"Timeline view of tasks with dependencies shown."},tasksCalendarViewDescription:{defaultMessage:"Calendar of tasks",id:"appTemplates.tasks.tasksCalendarViewDescription",description:"Calendar view of tasks"},tasksCalendarViewName:{defaultMessage:"Calendar",id:"appTemplates.tasks.tasksCalendarViewName",description:"Calendar view of tasks."}});function M(){return[{uri:r.TZ,type:"collection_view_block",name:g.default.formatMessage(_.tasksCollectionName),defaultViewsOrder:["notion://tasks/tasks_by_project_view",r.g3,"notion://tasks/tasks_sprint_planning_view",a.y$,"notion://tasks/tasks_board_view","notion://tasks/tasks_table_view","notion://tasks/tasks_with_no_sprint_view","notion://tasks/my_tasks_view","notion://tasks/tasks_by_due_date_view","notion://tasks/tasks_by_person_view"]},{uri:r.iS,type:"collection",value:{name:(0,u.TP)(g.default.formatMessage(_.tasksCollectionName)),schema:(e=g.default.intl,{title:{type:"title",name:e.formatMessage(_.taskTitleProperty)},"notion://tasks/assign_property":{type:"person",name:e.formatMessage(_.assignProperty)},[r.fp]:{name:"Status",type:"status",groups:[{id:"todo-status-group",name:e.formatMessage(_.todo),color:"gray",optionIds:["not-started"]},{id:"in-progress-status-group",name:e.formatMessage(_.inProgress),color:"blue",optionIds:["in-progress"]},{id:"complete-status-group",name:e.formatMessage(_.complete),color:"green",optionIds:["done","archived"]}],options:[{id:"not-started",value:e.formatMessage(_.notStarted)},{id:"in-progress",color:"blue",value:e.formatMessage(_.inProgress)},{id:"done",color:"green",value:e.formatMessage(_.done)},{id:"archived",color:"gray",value:e.formatMessage(_.archived)}],defaultOption:e.formatMessage(_.notStarted)},"notion://tasks/due_date_property":{type:"date",name:e.formatMessage(_.dueDateProperty)}}),format:{collection_default_arrows_by:a.nK,collection_default_subitem:r.Yg,collection_page_sections:[{section:r.Yg,visibility:"inline"}],property_visibility:[{property:r.Fr,visibility:"show"},{property:r.fp,visibility:"show"},{property:r.gq,visibility:"show"},{property:"notion://tasks/task_to_project_relation",visibility:"show"},{property:r.oG,visibility:"hide_if_empty"},{property:r.MM,visibility:"hide"},{property:r.Yg,visibility:"section"}],collection_page_properties:[{visible:!1,property:r.Fr},{visible:!1,property:r.fp},{visible:!1,property:r.gq},{visible:!1,property:"notion://tasks/task_to_project_relation"},{visible:!1,property:r.oG},{visible:!1,property:r.MM}],collection_relation_options:{[r.oG]:{related_properties:[{visible:!0,property:(0,r.lx)((0,h.wY)())},{visible:!0,property:r.Et}]}}},icon:n.Z.images.appPackages.taskDbIconSvg},blockUri:r.TZ,emptyIcon:n.Z.images.appPackages.projectsProjectsEmptyIconPng,emptyTitle:g.default.formatMessage(_.tasksCollectionEmptyTitle),emptyDescription:g.default.formatMessage(_.tasksCollectionEmptyDescription),emptyButtonTitle:g.default.formatMessage(_.tasksCollectionEmptyButtonTitle)}];var e}function T(){return[{uri:"notion://tasks/tasks_table_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.allTasksViewDescription),value:{type:"table",name:g.default.formatMessage(_.allTasksViewName),format:{collection_view_icon:"/icons/table_gray.svg",collection_view_subitem:{property:r.Yg},table_wrap:!0,table_properties:[{width:108,visible:!0,property:"notion://tasks/auto_increment_id_property"},{width:203,visible:!0,property:"title"},{width:133,visible:!0,property:r.fp},{width:145,visible:!0,property:r.Fr},{width:143,visible:!0,property:r.gq},{width:100,visible:!0,property:"notion://tasks/priority_property"},{width:141,visible:!0,property:"notion://tasks/tags_property"},{width:113,visible:!0,property:r.oG},{width:173,visible:!0,property:"notion://tasks/task_to_project_relation"},{width:135,visible:!1,property:r.MM},{width:130,visible:!1,property:"notion://tasks/parent_task_relation"},{width:116,visible:!1,property:"notion://tasks/sub_task_relation"},{width:312,visible:!1,property:a.QP}],hide_linked_collection_name:!0},query2:{aggregations:[{property:"title",aggregator:"count"}]},page_sort:["notion://projects/tutorial/tasks/task1","notion://projects/tutorial/tasks/task2","notion://projects/tutorial/tasks/task3","notion://projects/tutorial/tasks/task4"]},blockUri:r.TZ}]}function I(e){return[{uri:"notion://tasks/priority_property",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.priorityProperty),description:g.default.formatMessage(_.taskPriorityFeatureDescription),icon:n.Z.images.appPackages.featurePrioritySvg,propertySchema:e()}]}function P(e){return[{uri:"notion://tasks/estimates_property",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.estimatesProperty),description:g.default.formatMessage(_.estimatesFeatureDescription),icon:n.Z.images.appPackages.featureEstimationSvg,propertySchema:e()}]}function x(){return{type:"select",name:g.default.formatMessage(_.priorityProperty),options:[{id:"priority_low",value:g.default.formatMessage(_.priorityLow),color:"green"},{id:"priority_medium",value:g.default.formatMessage(_.priorityMedium),color:"yellow"},{id:"priority_high",value:g.default.formatMessage(_.priorityHigh),color:"red"}]}}function B(){return{type:"select",name:g.default.formatMessage(_.priorityProperty),options:[{id:"p0",value:"P0",color:"red"},{id:"p1",value:"P1",color:"yellow"},{id:"p2",value:"P2",color:"green"}]}}function Z(){return{type:"select",name:g.default.formatMessage(_.estimatesProperty),options:[{id:"xl",value:"XL"},{id:"l",value:"L"},{id:"m",value:"M"},{id:"s",value:"S"},{id:"xs",value:"XS"}]}}function E(){return{type:"select",name:g.default.formatMessage(_.estimatesProperty),options:[{id:"1",value:"1"},{id:"2",value:"2"},{id:"3",value:"3"},{id:"4",value:"4"},{id:"5",value:"5"}]}}function R(){return[{uri:"notion://tasks/task_to_project_relation",type:"property",collectionUri:r.iS,propertySchema:{type:"relation",icon:"/icons/target_gray.svg",name:g.default.formatMessage(_.taskProjectRelationName),collection_pointer:{table:d.v,id:r.wW},property:"notion://projects/project_to_task_relation",version:"v2"},name:g.default.formatMessage(_.taskProjectRelationDependencyName),icon:n.Z.images.appPackages.featureRoadmapSvg},{uri:"notion://projects/project_to_task_relation",type:"property",collectionUri:r.wW,propertySchema:{type:"relation",icon:"/icons/checkmark_gray.svg",name:g.default.formatMessage(_.tasksCollectionName),collection_pointer:{table:d.v,id:r.iS},property:"notion://tasks/task_to_project_relation",version:"v2"},name:g.default.formatMessage(_.taskProjectRelationDependencyName),icon:n.Z.images.appPackages.featureRoadmapSvg}]}const A=[{width:108,visible:!0,property:"notion://tasks/auto_increment_id_property"},{width:240,visible:!0,property:"title"},{width:133,visible:!0,property:r.fp},{width:145,visible:!0,property:r.Fr},{width:143,visible:!0,property:r.gq},{width:100,visible:!0,property:"notion://tasks/priority_property"},{width:141,visible:!0,property:"notion://tasks/tags_property"},{width:113,visible:!0,property:r.oG},{width:173,visible:!1,property:"notion://tasks/task_to_project_relation"},{width:135,visible:!1,property:r.MM},{width:180,visible:!0,property:r.XN}];function D(){return[{uri:"notion://tasks/tasks_by_project_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.taskByProjectViewDescription),value:{type:"table",name:g.default.formatMessage(_.taskByProjectViewName),format:{collection_view_icon:"/icons/target_gray.svg",collection_view_subitem:{property:r.Yg},collection_default_subitem:r.Yg,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:r.fp}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"relation_contains"},property:r.oG}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],table_properties:A,collection_group_by:{sort:{type:"ascending"},type:"relation",property:"notion://tasks/task_to_project_relation",hideEmptyGroups:!0}},query2:{aggregations:[{property:r.fp,aggregator:{operator:"count_per_group",groupName:"Complete"}}]}},blockUri:r.TZ}]}const F={type:"rollup",name:g.default.formatMessage(_.tasksCompletedInSprint),aggregation:{operator:"percent_per_group",groupName:g.default.formatMessage(_.complete)},show_as:{type:"ring",color:"blue",maxValue:1,showValue:!0},target_property:r.fp,relation_property:r.Wr,target_property_type:"status"};const L={type:"rollup",name:g.default.formatMessage(_.totalTasksInSprint),aggregation:"count_values",target_property:r.fp,relation_property:r.Wr,target_property_type:"status"};function V(){return[{uri:r.Wr,type:"property",collectionUri:r.p$,name:g.default.formatMessage(_.tasksCollectionName),description:g.default.formatMessage(_.tasksWithSprintsFeatureDescription),icon:n.Z.images.appPackages.taskDbIconSvg,propertySchema:{type:"relation",name:g.default.formatMessage(_.tasksCollectionName),collection_pointer:{table:d.v,id:r.iS},property:r.oG,version:"v2"}},{uri:r.oG,type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.sprintsCollectionName),description:g.default.formatMessage(_.tasksWithSprintsFeatureDescription),icon:n.Z.images.appPackages.featureSprintSvg,propertySchema:{type:"relation",icon:"/icons/walk_gray.svg",name:g.default.formatMessage(_.sprintsName),collection_pointer:{table:d.v,id:r.p$},property:r.Wr,version:"v2"}}]}const N={id:a.Kk,filter:{filter:{value:[{type:"relative",value:{type:"builtin",variable:"current"}}],operator:"relation_contains"},property:r.oG}};function O(){return[{uri:r.g3,type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksCurrentSprintViewDescription),value:{type:"table",name:g.default.formatMessage(_.tasksCurrentSprintV2ViewName),format:{collection_view_icon:"/icons/playback-play-button_gray.svg",collection_view_subitem:{property:r.Yg},table_wrap:!0,table_properties:[{visible:!0,property:"title"},{visible:!0,property:r.fp},{visible:!0,property:r.gq},{visible:!0,property:r.Fr},{visible:!0,property:r.oG},{visible:!1,property:"notion://tasks/task_to_project_relation"},{width:312,visible:!1,property:a.QP}],property_filters:[N,{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],collection_group_by:{sort:{type:"ascending"},type:"relation",property:"notion://tasks/task_to_project_relation",hideEmptyGroups:!0},hide_linked_collection_name:!0}},blockUri:r.TZ}]}function U(){return[{uri:r.g3,type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksCurrentSprintViewDescription),value:{type:"board",name:g.default.formatMessage(_.tasksCurrentSprintViewName),format:{collection_view_icon:"/icons/playback-play-button_gray.svg",table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.notStarted)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.inProgress)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.done)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.archived)}},hidden:!0,property:r.fp}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:r.fp,disableBoardColorColumns:!1},board_properties:[{visible:!1,property:r.MM},{visible:!1,property:r.fp},{visible:!0,property:"title"},{visible:!0,property:r.gq},{visible:!1,property:r.Fr},{visible:!1,property:r.oG},{visible:!0,property:"notion://tasks/task_to_project_relation"},{visible:!1,property:a.QP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:r.fp}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}},{id:(0,c.ZP)(),filter:{filter:{operator:"any",subfilter:{value:{type:"exact",value:!0},operator:"checkbox_is"}},property:r.MM}}],collection_group_by:{sort:{type:"manual"},type:"person",property:r.Fr},hide_linked_collection_name:!0}},blockUri:r.TZ}]}const H={filter:{operator:"or",filters:[{property:r.oG,filter:{operator:"relation_contains",value:[{type:"relative",value:{type:"builtin",variable:"current"}},{type:"relative",value:{type:"builtin",variable:"next"}}]}},{property:r.oG,filter:{operator:"is_empty"}}]}};function z(){return[{uri:a.sV,type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksSprintPlanningDescription),value:{type:"board",name:g.default.formatMessage(_.tasksSprintPlanningName),format:{collection_view_icon:"/icons/circle_gray.svg",table_wrap:!0,board_columns:[{value:{type:"relation",value:{type:"relative",value:{type:"builtin",variable:"current"}}},property:r.oG,hidden:!1},{value:{type:"relation",value:{type:"relative",value:{type:"builtin",variable:"next"}}},property:r.oG,hidden:!1},{value:{type:"relation",value:void 0},property:r.oG,hidden:!0}],board_columns_by:{sort:{type:"manual"},type:"relation",property:r.oG,hideEmptyGroups:!0,disableBoardColorColumns:!1},collection_group_by:{sort:{type:"ascending"},type:"relation",property:"notion://tasks/task_to_project_relation",hideEmptyGroups:!0},hide_linked_collection_name:!0,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],board_properties:[{width:271,visible:!0,property:"title"},{width:131,visible:!0,property:r.fp},{width:125,visible:!0,property:r.Fr},{width:312,visible:!1,property:a.QP}]},query2:H},blockUri:r.TZ}]}function W(){return[{uri:"notion://tasks/tasks_with_no_sprint_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksWithNoSprintViewDescription),value:{type:"table",name:g.default.formatMessage(_.backlog),format:{table_wrap:!0,collection_view_icon:"/icons/inbox_gray.svg",property_filters:[{id:(0,c.ZP)(),filter:{filter:{operator:"is_empty"},property:r.oG}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}}],table_properties:[{width:108,visible:!0,property:"notion://tasks/auto_increment_id_property"},{width:271,visible:!0,property:"title"},{width:131,visible:!0,property:r.fp},{width:125,visible:!0,property:r.Fr},{width:154,visible:!1,property:r.gq},{width:100,visible:!0,property:"notion://tasks/priority_property"},{width:141,visible:!0,property:"notion://tasks/tags_property"},{width:116,visible:!0,property:r.oG},{width:194,visible:!0,property:"notion://tasks/task_to_project_relation"},{width:312,visible:!1,property:a.QP}],hide_linked_collection_name:!0},query2:{aggregations:[{property:"title",aggregator:"count"}]}},blockUri:r.TZ}]}function j(){return[{uri:a.y$,type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksWithNoSprintViewDescription),value:{type:"table",name:g.default.formatMessage(_.backlog),format:{collection_view_icon:"/icons/inbox_gray.svg",collection_view_subitem:{property:r.Yg},table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.archived)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.notStarted)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.inProgress)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.done)}},property:r.fp}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:r.fp},property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:r.fp}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:r.oG}}],table_properties:[{width:271,visible:!0,property:"title"},{width:131,visible:!0,property:r.fp},{width:125,visible:!0,property:r.Fr},{width:154,visible:!0,property:r.gq},{width:116,visible:!0,property:r.oG},{width:137,visible:!0,property:r.MM},{width:194,visible:!0,property:"notion://tasks/task_to_project_relation"},{width:312,visible:!1,property:a.QP}],collection_group_by:{sort:{type:"ascending"},type:"relation",property:r.oG},hide_linked_collection_name:!0},query2:{aggregations:[{property:"title",aggregator:"count"}]}},blockUri:r.TZ}]}function K(e){return[{uri:r.nG,relationUri:r.XN,type:"sub_external_collection",parentCollectionUri:r.iS,integrationId:e,pattern:i.x}]}function Y(){return{uri:"notion://projects/tasks_feature",name:g.default.formatMessage(_.tasksCollectionName),description:g.default.formatMessage(_.simpleTaskFeatureDescription),dependencies:[...M()],icon:n.Z.images.appPackages.taskDbIconSvg,collectionUri:r.iS}}function G(){return{uri:"notion://tasks/task_dependencies_feature",name:g.default.formatMessage(_.taskDependencies),description:g.default.formatMessage(_.taskDependenciesFeatureDescription),icon:n.Z.images.appPackages.featureDependenciesSvg,dependencies:[{uri:a.nK,type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.taskDependencies),description:g.default.formatMessage(_.taskDependenciesFeatureDescription),icon:n.Z.images.appPackages.featureDependenciesSvg,propertySchema:{type:"relation",name:g.default.formatMessage(_.taskBlockingName),collection_pointer:{table:d.v,id:r.iS},property:"notion://tasks/task_blocked_by_relation",version:"v2"}},{uri:"notion://tasks/task_blocked_by_relation",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.taskDependencies),description:g.default.formatMessage(_.taskDependenciesFeatureDescription),icon:n.Z.images.appPackages.featureDependenciesSvg,propertySchema:{type:"relation",name:g.default.formatMessage(_.taskBlockedByName),collection_pointer:{table:d.v,id:r.iS},property:a.nK,version:"v2"}}],collectionUri:r.iS}}function X(){return{uri:"notion://tasks/sub_task_feature",name:g.default.formatMessage(_.subTaskName),description:g.default.formatMessage(_.subTaskFeatureDescription),icon:n.Z.images.appPackages.featureSubtasksSvg,tooltipImage:{img:n.Z.images.tooltips.properties.subtasksPng,scale:.6},isNew:!0,dependencies:[{uri:r.Yg,type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.subTaskName),description:g.default.formatMessage(_.subTaskFeatureDescription),icon:n.Z.images.appPackages.featureSubtasksSvg,propertySchema:{type:"relation",icon:"/icons/list-indent_gray.svg",name:g.default.formatMessage(_.subTaskName),collection_pointer:{table:d.v,id:r.iS},property:"notion://tasks/parent_task_relation",version:"v2"}},{uri:"notion://tasks/parent_task_relation",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.subTaskName),description:g.default.formatMessage(_.subTaskFeatureDescription),icon:n.Z.images.appPackages.featureSubtasksSvg,propertySchema:{type:"relation",name:g.default.formatMessage(_.parentTaskName),collection_pointer:{table:d.v,id:r.iS},property:r.Yg,version:"v2"}}],collectionUri:r.iS}}function q(){return{uri:"notion://tasks/tshirt_size_estimates_feature",name:g.default.formatMessage(_.tshirtSizeEstimates),icon:n.Z.images.appPackages.featureEstimationSvg,dependencies:[...P(Z)],collectionUri:r.iS}}function $(){return{uri:"notion://tasks/points_estimates_feature",name:g.default.formatMessage(_.pointsEstimates),icon:n.Z.images.appPackages.featureEstimationSvg,dependencies:[...P(E)],collectionUri:r.iS}}function J(){return{uri:"notion://projects/estimates_feature",name:g.default.formatMessage(_.estimatesProperty),description:g.default.formatMessage(_.estimatesFeatureDescription),icon:n.Z.images.appPackages.featureEstimationSvg,variants:[q().uri,$().uri],collectionUri:r.iS}}function Q(){return{uri:"notion://projects/task_hml_priority_feature",name:g.default.formatMessage(_.hmlPriority),icon:n.Z.images.appPackages.featurePrioritySvg,dependencies:[...I(x)],collectionUri:r.iS}}function ee(){return{uri:"notion://projects/task_p012_priority_feature",name:"P0, P1, P2",icon:n.Z.images.appPackages.featurePrioritySvg,dependencies:[...I(B)],collectionUri:r.iS}}function te(){return{uri:"notion://projects/task_priority_feature",name:g.default.formatMessage(_.priorityProperty),description:g.default.formatMessage(_.taskPriorityFeatureDescription),icon:n.Z.images.appPackages.featurePrioritySvg,variants:[Q().uri,ee().uri],collectionUri:r.iS}}function oe(){return{uri:"notion://projects/tags_feature",name:g.default.formatMessage(_.tags),icon:n.Z.images.appPackages.featureReleasesSvg,dependencies:[{uri:"notion://tasks/tags_property",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.tags),icon:n.Z.images.appPackages.featureReleasesSvg,propertySchema:{type:"multi_select",name:g.default.formatMessage(_.tags),icon:"/icons/tag_gray.svg",options:[{color:"purple",value:"Mobile",id:"Mobile"},{color:"blue",value:"Website",id:"Website"},{color:"pink",value:"Improvement",id:"Improvement"}]}}],collectionUri:r.iS}}function ie(){return{uri:"notion://projects/task_description_feature",name:g.default.formatMessage(_.description),icon:n.Z.images.appPackages.featureUpdatesSvg,dependencies:[{uri:"notion://tasks/description_property",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.description),icon:n.Z.images.appPackages.featureUpdatesSvg,propertySchema:{type:"text",name:g.default.formatMessage(_.description)}}],collectionUri:r.iS}}function ne(){return{uri:"notion://tasks/task_summary_feature",name:g.default.formatMessage(_.taskSummaryFeature),description:g.default.formatMessage(_.taskSummaryFeatureDescription),icon:"/icons/stars_purple.svg",tooltipImage:{img:n.Z.images.tooltips.properties.aiAutofillSummaryPng,scale:.5},isNew:!0,collectionUri:r.iS,dependencies:[{uri:a.QP,type:"property",name:g.default.formatMessage(_.taskSummaryProperty),collectionUri:r.iS,propertySchema:{type:"text",name:g.default.formatMessage(_.taskSummaryProperty),ai_inference:{type:"summarize"}}}]}}function re(){return{uri:"notion://tasks/tasks_calendar_feature",name:g.default.formatMessage(_.tasksCalendarViewName),description:g.default.formatMessage(_.tasksCalendarViewDescription),dependencies:[{uri:"notion://tasks/tasks_calendar_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksCalendarViewDescription),value:{type:"calendar",name:g.default.formatMessage(_.tasksCalendarViewName),query2:{calendar_by:"notion://tasks/due_date_property"}},blockUri:r.TZ}],collectionUri:r.iS}}function ae(){return{uri:"notion://tasks/tasks_timeline_feature",name:g.default.formatMessage(_.tasksTimelineViewName),description:g.default.formatMessage(_.tasksTimelineViewDescription),dependencies:[{uri:"notion://tasks/tasks_timeline_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksTimelineViewDescription),value:{type:"timeline",name:g.default.formatMessage(_.tasksTimelineViewName),format:{collection_view_icon:"/icons/timeline_gray.svg",timeline_show_table:!0,timeline_arrows_by:{property:a.nK},timeline_table_properties:[{width:206,visible:!0,property:"title"},{width:141,visible:!0,property:"notion://tasks/status_property"},{width:312,visible:!1,property:a.QP}],timeline_properties:[{property:"title",visible:!0},{property:"notion://tasks/assign_property",visible:!0},{property:a.QP,visible:!1}],timeline_preference:{zoomLevel:"month",centerTimestamp:(0,l.uO)((0,l.Lg)((0,s.r)()),(0,s.r)())}},query2:{timeline_by:"notion://tasks/due_date_property",aggregations:[{property:"title",aggregator:"count"}]}},blockUri:r.TZ}],collectionUri:r.iS}}function se(){return{uri:"notion://projects/task_board_no_grouping_feature",name:"No grouping",description:g.default.formatMessage(_.tasksBoardViewDescription),dependencies:[{uri:"notion://tasks/tasks_board_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksBoardViewDescription),value:{type:"board",name:g.default.formatMessage(_.boardViewName),format:{table_wrap:!0,board_columns:[{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.notStarted)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.inProgress)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.done)}},property:r.fp},{value:{type:"status",value:{type:"by_option",option:g.default.formatMessage(_.archived)}},property:r.fp,hidden:!0},{value:{type:"status",value:void 0},hidden:!0,property:r.fp}],board_columns_by:{sort:{type:"ascending"},type:"status",groupBy:"option",property:r.fp,disableBoardColorColumns:!1},board_properties:[{visible:!1,property:r.fp},{visible:!0,property:"title"},{visible:!0,property:r.Fr},{visible:!0,property:r.gq},{visible:!1,property:a.QP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}}],hide_linked_collection_name:!0}},blockUri:r.TZ}],icon:n.Z.images.appPackages.featureBoardSvg,collectionUri:r.iS}}function le(){return{uri:"notion://projects/task_table_feature",name:g.default.formatMessage(_.allTasksViewName),description:g.default.formatMessage(_.allTasksViewDescription),dependencies:[...T()],collectionUri:r.iS}}function ce(){return{uri:"notion://projects/task_by_person_feature",name:g.default.formatMessage(_.taskByPersonFeatureName),description:g.default.formatMessage(_.taskByPersonFeatureDescription),dependencies:[{uri:"notion://tasks/tasks_by_person_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.taskByPersonViewDescription),value:{type:"table",name:g.default.formatMessage(_.taskByPersonViewName),format:{collection_view_icon:"/icons/user-circle-filled_gray.svg",collection_view_subitem:{property:r.Yg},collection_default_subitem:r.Yg,property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:r.fp}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}},{id:(0,c.ZP)(),filter:{filter:{value:[{type:"exact",value:void 0}],operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"relation_contains"},property:r.oG}}],table_properties:[{width:312,visible:!0,property:"title"},{width:134,visible:!0,property:r.fp},{width:148,visible:!0,property:r.gq},{width:178,visible:!0,property:"notion://tasks/task_to_project_relation"},{width:136,visible:!0,property:r.oG},{width:200,visible:!1,property:r.Fr},{width:200,visible:!1,property:r.MM},{width:312,visible:!1,property:a.QP}],collection_group_by:{sort:{type:"manual"},type:"person",property:r.Fr},hide_linked_collection_name:!0},query2:{sort:[{property:r.fp,direction:"ascending"}],aggregations:[{property:r.fp,aggregator:{operator:"count_per_group",groupName:g.default.formatMessage(_.complete)}}]}},blockUri:r.TZ}],icon:n.Z.images.appPackages.featureGanttSvg,collectionUri:r.iS}}function de(){return{uri:"notion://projects/my_tasks_feature",name:g.default.formatMessage(_.myTasksFeature),description:g.default.formatMessage(_.myTasksFeatureDescription),icon:n.Z.images.appPackages.featureWorkloadSvg,dependencies:[{uri:"notion://tasks/my_tasks_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.myTasksViewDescription),value:{type:"table",name:g.default.formatMessage(_.myTasks),format:{collection_view_subitem:{property:r.Yg},collection_default_subitem:r.Yg,list_properties:[{visible:!0,property:r.Fr},{visible:!1,property:a.QP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:{type:"relative",value:"me"},operator:"person_contains"},property:r.Fr}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"is_group",value:void 0},operator:"status_is"},property:r.fp}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"date_is"},property:r.gq}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"relation_contains"},property:"notion://tasks/task_to_project_relation"}},{id:(0,c.ZP)(),filter:{filter:{value:{type:"exact",value:void 0},operator:"relation_contains"},property:r.oG}}],table_properties:[{width:33,visible:!0,property:r.fp,statusShowAs:"checkbox"},{width:263,visible:!0,property:"title"},{width:100,visible:!0,property:r.Fr},{width:153,visible:!0,property:r.gq},{width:210,visible:!0,property:"notion://tasks/task_to_project_relation"},{width:149,visible:!0,property:r.oG},{width:159,visible:!1,property:r.MM},{width:312,visible:!1,property:a.QP}]},query2:{aggregations:[{property:"title",aggregator:"count"}]}},blockUri:r.TZ}],collectionUri:r.iS}}function pe(){return{uri:"notion://projects/task_by_project_feature",name:g.default.formatMessage(_.taskByProjectFeatureName),description:g.default.formatMessage(_.taskByProjectFeatureDescription),dependencies:[...D()],icon:n.Z.images.appPackages.featureGanttSvg,collectionUri:r.iS}}function ue(){return{uri:"notion://tasks/task_sprint_planning_feature",name:"Spring planning tasks",description:g.default.formatMessage(_.tasksNextSprintViewDescription),dependencies:[...z()],icon:n.Z.images.appPackages.featureWorkloadSvg,collectionUri:r.iS}}function me(){return{uri:"notion://tasks/task_backlog_feature",name:"Backlog tasks",description:g.default.formatMessage(_.tasksWithNoSprintViewDescription),dependencies:[...W()],icon:n.Z.images.appPackages.featureWorkloadSvg,collectionUri:r.iS}}function ge(){return{uri:"notion://tasks/task_backlog_feature",name:"Backlog tasks",description:g.default.formatMessage(_.tasksWithNoSprintViewDescription),dependencies:[...j()],icon:n.Z.images.appPackages.featureWorkloadSvg,collectionUri:r.iS}}function he(){return{uri:"notion://tasks/tasks_in_next_sprint_feature",name:g.default.formatMessage(_.tasksNextSprintViewName),description:g.default.formatMessage(_.tasksNextSprintViewDescription),dependencies:[{uri:"notion://tasks/tasks_next_sprint_view",type:"view",collectionUri:r.iS,description:g.default.formatMessage(_.tasksNextSprintViewDescription),value:{type:"table",name:g.default.formatMessage(_.tasksNextSprintViewName),format:{table_wrap:!0,collection_view_icon:"/icons/playback-next_gray.svg",table_properties:[{visible:!1,property:r.MM},{visible:!1,property:r.fp},{visible:!0,property:"title"},{visible:!0,property:r.gq},{visible:!1,property:r.Fr},{visible:!1,property:r.oG},{visible:!0,property:"notion://tasks/task_to_project_relation"},{width:312,visible:!1,property:a.QP}],property_filters:[{id:(0,c.ZP)(),filter:{filter:{value:[{type:"relative",value:{type:"builtin",variable:"next"}}],operator:"relation_contains"},property:r.oG}}],collection_group_by:{sort:{type:"ascending"},type:"relation",property:"notion://tasks/task_to_project_relation",hideEmptyGroups:!0},hide_linked_collection_name:!0}},blockUri:r.TZ}],icon:n.Z.images.appPackages.featureWorkloadSvg,collectionUri:r.iS}}function fe(){return{uri:"notion://tasks/tasks_current_sprint_view_feature",name:g.default.formatMessage(_.tasksCurrentSprintViewName),description:g.default.formatMessage(_.tasksCurrentSprintViewDescription),dependencies:[...O()],icon:n.Z.images.appPackages.featureWorkloadSvg,collectionUri:r.iS}}function ve(){return{uri:"notion://projects/tasks_simple_database_template",name:g.default.formatMessage(_.tasksCollectionName),description:g.default.formatMessage(_.simpleTaskFeatureDescription),dependencies:[...C()],collectionUri:r.iS}}function ye(){return{uri:"notion://projects/tasks_agile_database_template",name:g.default.formatMessage(_.tasksCollectionName),description:g.default.formatMessage(_.simpleTaskFeatureDescription),dependencies:[...C(),{uri:`${k}`,type:"database_template",collectionUri:r.iS,isDefault:!1,blockValue:{type:"page",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_0)]],"notion://tasks/tags_property":[["Bug"]],[r.fp]:(0,b.Is)("Not started")},format:{page_icon:"/icons/bug_purple.svg",app_config_uri:"notion://tasks/new_task_template"}}},{uri:`${k}/0`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_0_0)]]}}},{uri:`${k}/1`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"quote",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_1_0)]]}}},{uri:`${k}/2`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_2_0)]]}}},{uri:`${k}/3`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_3_0)]]}}},{uri:`${k}/4`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_4_0)]]}}},{uri:`${k}/5`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"image"}},{uri:`${k}/6`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"video"}},{uri:`${k}/7`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_7_0)]]}}},{uri:`${k}/8`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"bulleted_list"}},{uri:`${k}/9`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"text"}},{uri:`${k}/10`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_10_0)]]}}},{uri:`${k}/11`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_11_0)]]}}},{uri:`${k}/12`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"bulleted_list",properties:{title:[[g.default.formatMessage(S.notionTasksNewBugTemplate_12_0)]]}}},{uri:`${k}/13`,type:"block",parentUri:`${k}`,parentType:"block",blockValue:{type:"text"}},{uri:w,type:"database_template",collectionUri:r.iS,isDefault:!1,blockValue:{type:"page",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_0)]],"notion://tasks/tags_property":[["Feature Request"]],[r.fp]:(0,b.Is)("Not started")},format:{page_icon:"/icons/light-bulb_blue.svg"}}},{uri:`${w}/0`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_0_0),[["b"]]]]}}},{uri:`${w}/1`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_1_0)]]}}},{uri:`${w}/2`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text"}},{uri:`${w}/3`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_3_0)]]}}},{uri:`${w}/4`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_4_0)]]}}},{uri:`${w}/5`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text"}},{uri:`${w}/6`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_6_0)]]}}},{uri:`${w}/7`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"image"}},{uri:`${w}/8`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"video"}},{uri:`${w}/9`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text"}},{uri:`${w}/10`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"sub_header",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_10_0)]]}}},{uri:`${w}/11`,type:"block",parentUri:`${w}`,parentType:"block",blockValue:{type:"text",properties:{title:[[g.default.formatMessage(S.notionTasksNewFeatureRequestTemplate_11_0)]]}}}],collectionUri:r.iS}}function be(){return{uri:"notion://projects/simple_tasks_feature",name:g.default.formatMessage(_.tasksCollectionName),description:g.default.formatMessage(_.simpleTaskFeatureDescription),dependencies:[...T(),...M()],icon:n.Z.images.appPackages.taskDbIconSvg,collectionUri:r.iS}}function Se(){return{uri:"notion://projects/tasks_and_projects_feature",name:g.default.formatMessage(_.projectsCollectionName),description:g.default.formatMessage(_.projectsFeatureDescription),icon:n.Z.images.appPackages.featureRoadmapSvg,dependencies:[...R(),...D(),...(0,v.Vh)(),...(0,v.wo)(),...(0,v.JJ)(),...(0,v.cR)()],collectionUri:r.iS}}function we(){const e=[...(0,y.N8)(),...(0,y.xR)(),...V(),{uri:r.LC,type:"property",collectionUri:r.p$,name:g.default.formatMessage(_.totalTasksInSprint),description:g.default.formatMessage(_.totalTasksInSprint),propertySchema:L},{uri:r.Os,type:"property",collectionUri:r.p$,name:g.default.formatMessage(_.tasksCompletedInSprint),description:g.default.formatMessage(_.tasksCompletedInSprint),propertySchema:F},...O(),...(0,y.Gr)(),...(0,y.kj)(),...z(),...W(),...(0,f.cs)()];return{uri:"notion://projects/tasks_with_sprints_feature",name:g.default.formatMessage(_.sprintsCollectionName),description:g.default.formatMessage(_.tasksWithSprintsFeatureDescription),isNew:!0,icon:n.Z.images.appPackages.featureSprintSvg,tooltipImage:{img:n.Z.images.tooltips.properties.sprintsPng,scale:.6},dependencies:(0,h.wY)()?e:[...(0,y.N8)(),...(0,y.xR)(),...V(),{uri:r.MM,type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.sprintStatus),description:g.default.formatMessage(_.tasksWithSprintsFeatureDescription),icon:n.Z.images.appPackages.featureSprintSvg,propertySchema:{name:g.default.formatMessage(_.isCurrentSprintProperty),type:"rollup",relation_property:r.oG,target_property:(0,r.lx)((0,h.wY)()),target_property_type:"formula"}},...U(),...(0,y.Gr)(),...(0,y.T1)(),...(0,y.kj)(),...j(),...(0,f.i2)()],collectionUri:r.iS}}function ke(){return{uri:"notion://tasks/tasks_and_github_prs_feature",name:g.default.formatMessage(_.taskGithubPrsFeatureName),description:g.default.formatMessage(_.taskGithubPrsFeatureDescription),isNew:!0,collectionUri:r.iS,dependencies:[...(e=p.U9,[{uri:r.XN,type:"property",collectionUri:r.iS,propertySchema:{type:"relation",icon:"/icons/branch-merge_gray.svg",name:g.default.formatMessage(_.taskGithubPrsFeatureName),collection_pointer:{table:d.v,id:r.nG},version:"v2",connectedRelation:{integration_id:e},property:r.pt},name:g.default.formatMessage(_.taskGithubPrsFeatureName),icon:n.Z.images.externalIntegrations.githubIconPng,isConnectedRelation:!0,integrationId:e},{uri:r.pt,type:"property",collectionUri:r.nG,propertySchema:{type:"relation",name:g.default.formatMessage(_.tasksCollectionName),collection_pointer:{table:d.v,id:r.iS},version:"v2",property:r.XN},name:g.default.formatMessage(_.tasksCollectionName),icon:n.Z.images.externalIntegrations.githubIconPng,integrationId:e}]),...K(p.U9),{uri:"notion://tasks/auto_increment_id_property",type:"property",collectionUri:r.iS,name:g.default.formatMessage(_.id),propertySchema:{type:"auto_increment_id",name:g.default.formatMessage(_.id)}}],icon:n.Z.images.externalIntegrations.githubIconPng,tooltipImage:{img:n.Z.images.tooltips.properties.githubSyncPullStatusPng,scale:.5},integrationId:p.U9,canOnlyAdminAuth:{disabledPropertyTooltipMessage:g.default.formatMessage(_.taskGithubPrsDisabledFeatureDescription)},propertyIdCollectionSettingToNavigateTo:r.XN};var e}},54258:(e,t,o)=>{o.d(t,{CQ:()=>f,L:()=>v,po:()=>b});var i=o(96486),n=o.n(i),r=o(27848),a=o(41892),s=o(67219),l=o(5366),c=o(11002),d=o(10482),p=o(33929);const u=["engineeringWiki","productWiki","salesWiki","companyHome"],m=(0,l.defineMessages)({engineeringWiki:{defaultMessage:"A wiki built for engineering teams, including engineering processes and setup guides.",description:"The description of the engineering wiki template.",id:"appTemplates.wiki.engineeringWikiDescription"},productWiki:{defaultMessage:"A wiki built for product teams, including launch processes and team OKRs.",description:"The description of the product wiki template.",id:"appTemplates.wiki.productWikiDescription"},salesWiki:{defaultMessage:"A wiki built for sales teams, including pitch materials and sales processes.",description:"The description of the sales wiki template.",id:"appTemplates.wiki.salesWikiDescription"},companyHome:{defaultMessage:"A place to centralize company information, like company policies and important announcements.",description:"The description of the company home wiki template.",id:"appTemplates.wiki.companyHomeWikiDescription"}}),g=(0,l.defineMessages)({wikiAppName:{defaultMessage:"Wiki",description:"Wiki app name",id:"appTemplates.wiki.wikiAppName"},wikiWelcomeTitle:{defaultMessage:"Team wiki",description:"Wiki app welcome title",id:"appTemplates.wiki.wikiWelcomeTitle"},wikiWelcomeSubtitle:{defaultMessage:"Share all of your team’s important information in one central place. Start by picking a template below.",description:"Wiki app welcome title",id:"appTemplates.wiki.wikiWelcomeSubtitle"},preview1Description:{id:"appTemplates.wiki.preview1Description",defaultMessage:"Some description about this template preview image..."},preview2Description:{id:"appTemplates.wiki.preview2Description",defaultMessage:"Some description about this template preview video..."}});function h(e,t){return`notion://wiki/${n().snakeCase(e)}_${t}`}function f(e){const t=b().presets.find((t=>t.uri===e));if(t)return v(t)}function v(e){const t=b().allFeatures.find((t=>t.uri===e.allToggleFeatures[0]));if(!t||!("dependencies"in t))return;const o=t.dependencies[0];return o&&"page_template"===o.type?o.template:void 0}function y(e){const t=c.Y[e],o=(0,d.G_)(t,p.default.getIntl()),i={uri:h(e,"feature"),name:p.default.formatMessage(t.nameMessage),dependencies:[{uri:h(e,"page_template"),type:"page_template",template:o}],collectionUri:s.GZ};return{feature:i,preset:{type:"core",uri:h(e,"preset"),name:p.default.formatMessage(t.nameMessage),shortName:p.default.formatMessage(t.nameMessage),description:p.default.formatMessage(m[e]),icon:t.emoji,previews:[],requiredFeatures:[{type:"simple",featureUri:i.uri}],defaultOnFeatures:[{type:"simple",featureUri:i.uri}],allToggleFeatures:[i.uri]}}}function b(){const e=u.map(y),t=e.map((e=>{let{preset:t}=e;return t})),o=e.map((e=>{let{feature:t}=e;return t}));return{uri:r.xc,name:p.default.formatMessage(g.wikiAppName),welcomeTitle:p.default.formatMessage(g.wikiWelcomeTitle),welcomeSubtitle:p.default.formatMessage(g.wikiWelcomeSubtitle),presets:t,allFeatures:o,logo:a.Z.images.appPackages.wikiIconSvg}}},68821:(e,t,o)=>{o.d(t,{c:()=>n});var i=o(10161);function n(){return"on"===i.default.getEligibleGroup({experimentId:"better_asana_importer",defaultGroup:"control"})}},71935:(e,t,o)=>{o.d(t,{IJ:()=>g,eC:()=>h,k2:()=>v,LH:()=>y,Q7:()=>m,HU:()=>f});var i=o(96486),n=o.n(i),r=o(97880);const a={local:"local",staging:"stg",development:"dev",production:"prod"};n().invert(a),(0,r.Yd)(a);const s={local:"localhost:3000",staging:"api-stg.notion.com",development:"api-dev.notion.com",production:"api.notion.com"};var l=o(32739),c=o(64002),d=o(95477),p=o(10161),u=o(33665);function m(e){return!!e.device.isMobileNative&&(e.device.isIOS&&"on"===p.default.getEligibleGroup({experimentId:"ios_3rd_party_login_with_external_browser",defaultGroup:"control"})||e.device.isAndroid&&"on"===p.default.getEligibleGroup({experimentId:"android_3rd_party_login_with_external_browser",defaultGroup:"control"}))}function g(e){const{device:t}=e,o=m(e);if(t.isMobileNative){return{redirectToAuth:!1,callbackType:o?"nativeredirect":"native"}}if(t.isElectron){return{redirectToAuth:!1,callbackType:"nativeredirect"}}return{redirectToAuth:!0,callbackType:"redirect"}}function h(e){const{device:t}=e,o=m(e);if(t.isMobileNative){return{redirectToAuth:!1,callbackType:o?"nativeredirect":"native"}}if(t.isElectron){return{redirectToAuth:!1,callbackType:"nativeredirect"}}if(t.isMobileBrowser||(0,u.Sr)()){return{redirectToAuth:!0,callbackType:"redirect"}}return{redirectToAuth:!0,callbackType:"popup"}}async function f(e,t,o){if(e.device.isHttpApp){const e=await fetch(t);return(await e.json()).url}{const e=await fetch(l.NV({httpUrl:t,protocol:d.Z.protocol,includePort:o}));return(await e.json()).url}}function v(e,t){return`${t?"http://":"https://"}${s[e]}`}function y(e){const{baseUrl:t,clientId:o,redirectUri:i,state:n}=e,r={client_id:o,response_type:"code",owner:"user",redirect_uri:i};return n&&(r.state=n),(0,c.bf)({url:(0,c.O_)({baseUrl:t,relativeUrl:"/v1/oauth/authorize"}),query:r})}},92223:(e,t,o)=>{o.d(t,{Mm:()=>u,Fp:()=>m,TU:()=>g,So:()=>h});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=o(67294),l=o(81954),c=o(24405),d=o(5366),p=o(97880);const u=(0,d.defineMessages)({missingTargetDatabase:{id:"clientAutomationHelpers.errorMessages.missingTargetDatabase",defaultMessage:"Missing a target database",description:"Message indicating that an action step is missing a target database on which to perform the action"},missingTargetPage:{id:"clientAutomationHelpers.errorMessages.missingTargetPage",defaultMessage:"Missing a target page",description:"Message indicating that an action step is missing a target page on which to perform the action"},noActions:{id:"clientAutomationHelpers.errorMessages.noActions",defaultMessage:"This button has no actions",description:"Message for an error indicating that a button automation has no steps and won't do anything, so the user should add steps"},createPageButtonError:{id:"clientAutomationHelpers.errorMessages.createPageButtonError",defaultMessage:"Add page is missing a target database",description:"Message indicating that a specific action step is missing a target on which to perform the action"},openPageButtonError:{id:"clientAutomationHelpers.errorMessages.openPageButtonError",defaultMessage:"Open page is missing a target page",description:"Message indicating that a specific action step is missing a target on which to perform the action"},updatePagesButtonError:{id:"clientAutomationHelpers.errorMessages.editPagesButtonError",defaultMessage:"Edit pages is missing a target database",description:"Message indicating that a specific action step is missing a target on which to perform the action"}});function m(e){if("create_page"===e.actionType)if("missing_required_config"===e.type){if("collection"===e.key)return{forAction:u.missingTargetDatabase,forButtonTooltip:u.createPageButtonError};(0,p.t1)(e)}else(0,p.t1)(e.type);else if("update_pages"===e.actionType)if("missing_required_config"===e.type){if("target"===e.key)return{forAction:u.missingTargetDatabase,forButtonTooltip:u.updatePagesButtonError};(0,p.t1)(e)}else(0,p.t1)(e.type);else if("open_page"===e.actionType)if("missing_required_config"===e.type){if("target"===e.key)return{forAction:u.missingTargetPage,forButtonTooltip:u.openPageButtonError};(0,p.t1)(e)}else(0,p.t1)(e.type);else(0,p.t1)(e)}function g(e){const{contextStore:t,actionId:o,shouldShow:i}=e;return(0,l.VK)((()=>{if(!i)return;const e=t.getValidationErrorsForAction(o),r=a().first(e);if(!r)return;const l=m(r);return n()(h,{content:s.createElement(d.FormattedMessage,l.forAction)})}),[i,t,o])}function h(e){window.__c={n:"TooltipWithSubtitle"};const{content:t,subtitle:o}=e,i=(0,c.yK)((e=>({wrap:{display:"flex",flexDirection:"column",alignItems:"center"},subtitle:{color:e.mediumInvertedTextColor}})),[]);return n()("div",{style:i.wrap},void 0,n()("div",{},void 0,t),o&&n()("div",{style:i.subtitle},void 0,o))}},80365:(e,t,o)=>{o.d(t,{L:()=>h});var i=o(96486),n=o.n(i),r=o(18466),a=o(66897),s=o(36576),l=o(98459),c=o(21202),d=o(70279),p=o(19889),u=o(97880),m=o(3815);function g(e,t){const o=n().compact(e.map((e=>function(e,t){if("comment_mention"===e.mentioned_from.type){const o=m.t1.createChildStore(t,{table:d.x_,id:e.mentioned_from.comment_id,spaceId:(0,l.CG)(void 0)});if(!o.isDefined())return;const i=m.t1.createChildStore(t,o.getParentPointer());if(!i.isDefined())return;const n=m.G.createChildStore(t,{table:c.iU,id:i.getParentId()}),r=n.getNavigableBlockStore();if(!r)return;return n.id===r.id?{backlinkStore:r,timestamp:o.getLastEditedTime()}:{backlinkStore:r,scrollToBlockId:n.id,discussionId:i.id,timestamp:o.getLastEditedTime()}}if("reference"===e.mentioned_from.type){const o=m.G.createChildStore(t,{table:c.iU,id:e.mentioned_from.parent_block_id}).getNavigableBlockStore();if(!o)return;const i=o.getLastEditedTime();return{backlinkStore:o,scrollToBlockId:e.block_id,timestamp:i||0}}if("property_mention"===e.mentioned_from.type){const{block_id:o}=e.mentioned_from,i=m.G.createChildStore(t,{table:c.iU,id:o});if(!i.isDefined())return;const n=i.getNavigableBlockStore();if(!n)return;return n.id===i.id?{backlinkStore:n,timestamp:i.getLastEditedTime()}:{backlinkStore:n,scrollToBlockId:i.id,timestamp:i.getLastEditedTime()}}if("collection_reference"===e.mentioned_from.type){const{block_id:o}=e.mentioned_from,i=m.G.createChildStore(t,{table:c.iU,id:o});if(!i.isDefined())return;const n=i.getNavigableBlockStore();if(!n)return;return n.id===i.id?{backlinkStore:n,timestamp:i.getLastEditedTime()}:{backlinkStore:n,scrollToBlockId:i.id,timestamp:i.getLastEditedTime()}}if("alias"===e.mentioned_from.type||"transclusion_reference"===e.mentioned_from.type){const o=m.G.createChildStore(t,{table:c.iU,id:e.mentioned_from.pointer.id}),i=o.getNavigableBlockStore();if(!i)return;return{backlinkStore:i,scrollToBlockId:o.id,timestamp:i.getLastEditedTime()}}(0,u.t1)(e.mentioned_from)}(e,t)))),i=n().groupBy(o,(e=>{let{backlinkStore:t}=e;return t.id})),r=Object.values(i).map((e=>n().sortBy(e,(e=>e.discussionId?2:e.scrollToBlockId?1:0))[0]));return r.sort(((e,t)=>t.timestamp-e.timestamp)),r}function h(e,t){const{id:o}=t.currentUser;let i;if(o){const t=e.getRecordValue({table:p.KJ,id:o});t&&(i=(0,a.dp)(t))}const n=t.LocalBacklinkStore.getBacklinkState({blockId:e.id,currentUserId:t.currentUser.id}),l=r.Z.withListenerIgnored((()=>(0,s.sU)({actor:i,blockId:e.id,backlinks:n.backlinks,getRecordValue:e.getRecordValue})));return 0===l.length?{backlinks:[],inaccessibleBacklinkCount:n.inaccessibleBacklinkCount}:{backlinks:g(l,e),inaccessibleBacklinkCount:n.inaccessibleBacklinkCount}}},46888:(e,t,o)=>{o.d(t,{V:()=>a,c:()=>s});var i=o(73597),n=o(69645);function*r(e){const{blocks:t,includeOriginalBlocks:o,includeNonSelectableListContainer:r}=e;if(0===t.length)return;const a=(0,n.dq)({includeNonSelectableListContainer:r,root:t[0].getHighestContentBlockUIAncestor()});if(a)for(const s of t){const e=(0,n.Ib)(s,a);if(!e)continue;const t=(0,i.JK)(e);if(o||!t.next().done)for(const o of t)yield o.value.store}}function*a(e){for(const t of r({blocks:e,includeOriginalBlocks:!0,includeNonSelectableListContainer:!1})){const e=t.getTitleStore();e&&(yield e)}}function*s(e){yield*r({blocks:e,includeOriginalBlocks:!1,includeNonSelectableListContainer:!1})}},49616:(e,t,o)=>{o.d(t,{dH:()=>I,h6:()=>P,Kt:()=>x,pe:()=>B,AK:()=>Z,Br:()=>E,ou:()=>R,ac:()=>A,by:()=>D,Rb:()=>F,VM:()=>L,Sy:()=>V,M7:()=>N,sH:()=>O,oF:()=>U,fi:()=>H,l6:()=>z,km:()=>j,Al:()=>K,DG:()=>Y,Vs:()=>G,qP:()=>X,hM:()=>q,z0:()=>$,TF:()=>J,Hw:()=>Q,p7:()=>ee,X7:()=>te,g0:()=>oe,X9:()=>ie,WA:()=>ne,eL:()=>re,_0:()=>se});var i=o(77094),n=o.n(i),r=o(96486),a=o.n(r),s=(o(67294),o(480)),l=o(24405),c=o(66897),d=o(80951),p=o(84619),u=o(3779),m=o(32056),g=o(19889),h=o(97880),f=o(82990),v=o(64002),y=o(63143),b=o(5366),S=o(78030),w=o(92864),k=o(96026),C=o(78316),_=o(99417),M=o(84210),T=o(33929);const I=(0,b.defineMessages)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle",description:"Title for the button to open a block as a page"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip",description:"Tooltip for the button to open a block as a page"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip",description:"Tooltip for the button to open a block in a center peek view"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip",description:"Tooltip that displays on button to open collection page in a side peek view."},sendEmailTooltip:{defaultMessage:"Send email",id:"database.actionButton.sendEmailTooltip",description:"Tooltip for the button to send an email"},callTooltip:{defaultMessage:"Call",id:"database.actionButton.callTooltip",description:"Call as in phone call"},personAddSelfTooltip:{defaultMessage:"Add yourself",id:"database.actionButton.personAddSelfTooltip",description:"Add the current user in a person property"},personRemoveSelfTooltip:{defaultMessage:"Remove yourself",id:"database.actionButton.personRemoveSelfTooltip",description:"Remove the current user in a person property"},personReplaceWithSelfTooltip:{defaultMessage:"Replace with yourself",id:"database.actionButton.personReplaceWithSelfTooltip",description:"Replace with current user in a person property with limit=1"},openLinkTooltip:{defaultMessage:"Open link",id:"database.actionButton.openLinkTooltip",description:"Title for the button to open link"},editLinkTooltip:{defaultMessage:"Edit URL",id:"database.editButton.editLinkTooltip",description:"Edits the URL property."},editEmailTooltip:{defaultMessage:"Edit email",id:"database.editButton.editEmailTooltip",description:"Edits the email property."},editPhoneTooltip:{defaultMessage:"Edit phone number",id:"database.editButton.editPhoneTooltip",description:"Edits the phone number property."},copyTooltip:{defaultMessage:"Copy to Clipboard",id:"database.copyButton.copyToClipboard",description:"Copy the property value to the clipboard."},configureRollupTooltip:{defaultMessage:"Configure rollup",id:"database.editButton.configureRollupTooltip",description:"Configure rollup."},autofillWithAiTooltip:{defaultMessage:"Fill with AI",id:"database.editButton.autofillWithAiTooltip",description:"Tooltip on button to fill the current database property using Notion AI"}}),P=10,x=14,B=12,Z={paddingLeft:8,paddingRight:8},E={paddingTop:5,paddingBottom:6},R={...E,...Z},A={paddingTop:6,paddingBottom:7,...Z},D={paddingTop:8,paddingBottom:8,...Z},F={paddingTop:9,paddingBottom:9,...Z};function L(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function V(e){switch(e){case S.C.Table:return"table";case S.C.Board:return"board";case S.C.ListView:return"list";case S.C.GalleryView:return"gallery";case S.C.Relation:case S.C.RelationSection:return"relation_section";case S.C.Timeline:return"timeline";case S.C.Calendar:return"calendar";case S.C.Page:return"page_properties";case S.C.CompactPage:return"compact_page";default:(0,h.t1)(e)}}function N(e){return e===S.C.Table?{flexGrow:0,flexShrink:0,flexBasis:"60%",minWidth:36,maxWidth:180}:{flexGrow:1,flexShrink:0,minWidth:48,maxWidth:120}}function O(e){return e===S.C.Relation||e===S.C.RelationSection}function U(e,t){return!e.isPhone&&t===S.C.Calendar}function H(e,t){return e.isPhone&&t===S.C.Calendar}function z(e,t){return!e.isMobile&&t===S.C.GalleryView}function W(e,t){return e.isMobile&&t===S.C.GalleryView}function j(e){const t=e===S.C.Board,o=e===S.C.GalleryView,i=t||o,n=e===S.C.ListView;return O(e)||i||n}const K=1.2;function Y(e){const{device:t,format:o,shouldWrap:i}=e,n=o===S.C.Table,r=o===S.C.ListView,a=o===S.C.GalleryView,s=o===S.C.Timeline;return n?{lineHeight:1.5,whiteSpace:i?"pre-wrap":"nowrap",wordBreak:i?"break-word":"normal",pointerEvents:"none"}:U(t,o)||r||a||O(o)?{lineHeight:K,...f.Z.textOverflowStyle}:s?{lineHeight:K,wordBreak:"break-word",whiteSpace:"nowrap"}:{lineHeight:1.5,wordBreak:"break-word",whiteSpace:"pre-wrap",pointerEvents:"none"}}function G(e){const{device:t,propertySchema:o,format:i,shouldWrap:n}=e,r=null==o?void 0:o.type,a=i===S.C.Board,s=i===S.C.Table,l=i===S.C.Page,c=i===S.C.ListView,d=i===S.C.GalleryView,p=i===S.C.Timeline,u="relation"===r;if(a||H(t,i))return{display:"flex",flexWrap:"wrap"};if(s)return{display:"flex",flexWrap:n?"wrap":"nowrap",paddingTop:n&&"relation"===r?5:7};if(l)return{display:"flex",flexWrap:"wrap",paddingTop:8,paddingBottom:2};if(U(t,i)||d)return{display:"flex",minWidth:0};if(c||p||O(i)){return{display:"flex",minWidth:0,...("person"===r||"created_by"===r||"last_edited_by"===r)&&{paddingRight:5,flexDirection:"row-reverse"},...("select"===r||"multi_select"===r)&&{marginRight:-6},...u&&{marginRight:-12}}}}function X(e,t){const o=t===S.C.Board,i=t===S.C.GalleryView,n=t===S.C.ListView,r=t===S.C.Timeline;return H(e,t)?p.l.Medium:U(e,t)||z(e,t)?p.l.ExtraSmall:o||i&&!W(e,t)?p.l.Small:n||r||W(e,t)||O(t)?p.l.Inline:p.l.Medium}function q(e){const{device:t,format:o,isCard:i,shouldWrap:n}=e,r=o===S.C.GalleryView,a=o===S.C.ListView,s=o===S.C.Timeline;return U(t,o)||r?{display:"flex",minWidth:0}:a||s?{display:"flex",minWidth:0,overflow:"hidden"}:{display:"flex",alignContent:"flex-start",flexWrap:n?"wrap":"nowrap",paddingTop:i?0:4,paddingBottom:4}}function $(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function J(e){const{device:t,format:o,shouldWrap:i,theme:n}=e;return{...Y({device:t,format:o,shouldWrap:i}),...$(n)}}function Q(e){const{store:t,property:o,propertySchema:i}=e,n=null==i?void 0:i.type;if("title"===n)return(0,M.ZP)({store:t,fullyQualified:!1});{const e=t.getPropertyValue(o);return d.Hw(n,e)}}function ee(e){const{store:t,property:o,propertySchema:i}=e,n=null==i?void 0:i.type,r=t.getPropertyValue(o),a=d.zB(r);if("url"===n){const e=v.Qc(a).hostname;return e?e.replace(/^www./i,""):a}return a}function te(e){const{numberValue:t,numberFormat:o,numberShowAs:i}=e;if(!(a().isNaN(t)||y.z4(t)||"bar"!==(null==i?void 0:i.type)&&"ring"!==(null==i?void 0:i.type))){const e=T.default.getIntl();return"percent"===o?m.uf(t,"percent",e):`${t} / ${i.maxValue}`}}function oe(e){const{property:t,collectionStore:o}=e,i=o.isSyncedCollection();return Boolean(i)&&d.wl(t)}function ie(e,t){switch(e){case"side_peek":return{icon:u.Z.peekModeSide,tooltip:T.default.formatMessage(I.openInSidePeekTooltip),caption:t?"":T.default.formatMessage(I.openAsPageTitle)};case"center_peek":return{icon:u.Z.peekModeCenter,tooltip:T.default.formatMessage(I.openInCenterPeekTooltip),caption:t?"":T.default.formatMessage(I.openAsPageTitle)};case"full_page":return{icon:u.Z.openAsPageThick,tooltip:T.default.formatMessage(I.openAsPageTooltip),caption:t?"":T.default.formatMessage(I.openAsPageTitle)};default:(0,h.t1)(e)}}function ne(e){const{environment:t,store:o,property:i,propertySchema:r,format:a,collectionContextStore:s,getRecordValue:l,hideCaption:p,theme:m}=e,h=null==r?void 0:r.type;if(!h)return;const f=C.kr(null==s?void 0:s.collectionViewStore()),v=function(e,t){return("url"===e||"email"===e||"phone_number"===e)&&t===S.C.ListView}(h,a)?{iconStyle:{height:12,width:12},buttonStyle:{height:18,width:18}}:void 0;switch(h){case"title":return ie(f,p);case"person":if("person"!==r.type)return;const e=o.getPropertyValue(i),s=d.DW({textValue:e,propertySchema:r,blockCreatorPointer:d.I1(o.getCreatedById(),o.getCreatedByTable())}),h=t.currentUser.id;if(!h)return;const y=s.some((e=>e.id===h)),b=(0,c.Hl)({pointer:{table:g.KJ,id:h},getRecordValue:l});return{icon:e=>n()(ae,{store:o,property:i,propertySchema:r,format:a,currentActor:b,style:e}),iconStyle:{width:"100%",height:"100%",padding:2,filter:"drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.1))",position:"relative"},tooltip:T.default.formatMessage(y?I.personRemoveSelfTooltip:1===r.limit?I.personReplaceWithSelfTooltip:I.personAddSelfTooltip)};case"url":return{icon:u.Z.typesUrl,tooltip:T.default.formatMessage(I.openLinkTooltip)};case"phone_number":return{icon:u.Z.typesPhoneNumber,tooltip:T.default.formatMessage(I.callTooltip),...v};case"email":return{icon:u.Z.typesEmail,tooltip:T.default.formatMessage(I.sendEmailTooltip),...v};case"text":if((0,_.RT)(t,k.Z.getMode(t,o),o))return{icon:u.Z.magicWand,iconStyle:{fill:m.accentColors.purple[400]},tooltip:T.default.formatMessage(I.autofillWithAiTooltip),...v}}}function re(e){switch(e){case"url":return{icon:u.Z.typesUrl,tooltip:T.default.formatMessage(I.openLinkTooltip),inputType:"url"};case"phone_number":return{icon:u.Z.typesPhoneNumber,tooltip:T.default.formatMessage(I.callTooltip),inputType:"tel"};case"email":return{icon:u.Z.typesEmail,tooltip:T.default.formatMessage(I.sendEmailTooltip),inputType:"email"}}}function ae(e){window.__c={n:"AvatarWithIcon"};const{store:t,property:o,propertySchema:i,format:r,currentActor:a,style:c}=e,p=(0,s.O7)(),m=t.getPropertyValue(o),g=d.DW({textValue:m,propertySchema:i,blockCreatorPointer:d.I1(t.getCreatedById(),t.getCreatedByTable())}),h=p.currentUser.id,f=g.some((e=>e.id===h)),v=(0,l.yK)((e=>({iconStyle:{width:"100%",height:"100%",borderRadius:"50%",stroke:"white",strokeWidth:2.5,strokeLinecap:"round",fill:f?e.accentColors.red[500]:e.accentColors.gray[500],paintOrder:"stroke"}})),[f]),y=f?u.Z.minusThicker:u.Z.plusThicker;return n()("div",{style:c},void 0,n()(w.ZP,{actor:a,format:X(p.device,r),showRemoveButton:!1,isSingle:!0}),n()("div",{style:{position:"absolute",height:"50%",width:"50%",bottom:0,right:0}},void 0,y(v.iconStyle)))}function se(e){switch(e){case"url":return{icon:u.Z.pencil,tooltip:T.default.formatMessage(I.editLinkTooltip)};case"email":return{icon:u.Z.pencil,tooltip:T.default.formatMessage(I.editEmailTooltip)};case"phone_number":return{icon:u.Z.pencil,tooltip:T.default.formatMessage(I.editPhoneTooltip)};case"rollup":return{icon:u.Z.pencil,tooltip:T.default.formatMessage(I.configureRollupTooltip)}}}},42:(e,t,o)=>{o.d(t,{sw:()=>S,ax:()=>w,W_:()=>C,Yu:()=>x,iC:()=>B,sU:()=>Z,_Z:()=>E,Jy:()=>R,n_:()=>A,S7:()=>D,ZW:()=>L,UG:()=>V,iD:()=>N,Fr:()=>O});var i=o(96486),n=o.n(i),r=o(17126),a=o(99036),s=o(80951),l=o(42875),c=o(89837),d=o(4615),p=o(71644),u=o(45953),m=o(21202),g=o(6287),h=o(70203),f=o(97880),v=o(5366),y=o(33929);const b=(0,v.defineMessages)({addNewTodoTitle:{defaultMessage:"Add a new to-do",id:"blockTemplates.templateButton.addNewTodoTitle"}});function S(){return u.Ak.create({block:{root:{id:"root",version:27,type:"factory",properties:{title:[[y.default.formatMessage(b.addNewTodoTitle)]]},content:["to_do"]},to_do:{id:"to_do",version:4,type:"to_do",parent_table:"block",parent_id:"root",alive:!0}}})}function w(){return u.Ak.create({block:{root:{id:"root",version:0,type:"button",format:{automation_id:"automation"}}},automation:{automation:{id:"automation",parent_id:"root",parent_table:m.iU,alive:!0,status:"active",trigger:{id:(0,d.ZP)(),type:"button"},action_ids:[],properties:{name:""}}}})}const k=(0,v.defineMessages)({namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.table.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.table.tagsPropertyTitle"}});function C(e){const{isInline:t,name:o}=e,i=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0}},collection_view:{view:{id:"view",version:0,type:"table",format:{collection_pointer:{table:g.v,id:"collection"},table_properties:[{property:"title",visible:!0,width:276},{property:i,visible:!0}],table_wrap:!0},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(k.namePropertyTitle),type:"title"},[i]:{name:y.default.formatMessage(k.tagsPropertyTitle),type:"multi_select"}},format:{collection_page_properties:[{property:i,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}const _=(0,v.defineMessages)({viewTitle:{defaultMessage:"Board view",id:"blockTemplates.board.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.board.namePropertyTitle"},assignPropertyTitle:{defaultMessage:"Assign",id:"blockTemplates.board.assignPropertyTitle"},statusPropertyTitle:{defaultMessage:"Status",id:"blockTemplates.board.statusPropertyTitle"},statusPropertyRedOptionTitle:{defaultMessage:"Not started",id:"blockTemplates.board.statusPropertyRedOptionTitle"},statusPropertyYellowOptionTitle:{defaultMessage:"In progress",id:"blockTemplates.board.statusPropertyYellowOptionTitle"},statusPropertyGreenOptionTitle:{defaultMessage:"Completed",id:"blockTemplates.board.statusPropertyGreenOptionTitle"},card1Title:{defaultMessage:"Card 1",id:"blockTemplates.board.card1Title",description:"New board example card title"},card2Title:{defaultMessage:"Card 2",id:"blockTemplates.board.card2Title",description:"New board example card title"},card3Title:{defaultMessage:"Card 3",id:"blockTemplates.board.card3Title",description:"New board example card title"}});const M=(0,v.defineMessages)({viewTitle:{defaultMessage:"Calendar view",id:"blockTemplates.calendar.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.calendar.namePropertyTitle"},datePropertyTitle:{defaultMessage:"Date",id:"blockTemplates.calendar.datePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.calendar.tagsPropertyTitle"}});const T=(0,v.defineMessages)({viewTitle:{defaultMessage:"Timeline view",id:"blockTemplates.timeline.viewTitle"},datePropertyTitle:{defaultMessage:"Date",id:"blockTemplates.timeline.datePropertyTitle"}});const I=(0,v.defineMessages)({viewTitle:{defaultMessage:"Gallery view",id:"blockTemplates.gallery.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.gallery.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.gallery.tagsPropertyTitle"},createdPropertyTitle:{defaultMessage:"Created",id:"blockTemplates.gallery.createdPropertyTitle"},page1Title:{defaultMessage:"Page 1",id:"blockTemplates.gallery.page1Title",description:"New gallery example page title"},page2Title:{defaultMessage:"Page 2",id:"blockTemplates.gallery.page2Title",description:"New gallery example page title"},page3Title:{defaultMessage:"Page 3",id:"blockTemplates.gallery.page3Title",description:"New gallery example page title"},page1TodoTitle:{defaultMessage:"To-do",id:"blockTemplates.gallery.page1TodoTitle"},page1CompletedTodoTitle:{defaultMessage:"Completed To-do",id:"blockTemplates.gallery.page1CompletedTodoTitle",description:"New gallery example todo title"}});const P=(0,v.defineMessages)({viewTitle:{defaultMessage:"List view",id:"blockTemplates.list.viewTitle"},namePropertyTitle:{defaultMessage:"Name",id:"blockTemplates.list.namePropertyTitle"},tagsPropertyTitle:{defaultMessage:"Tags",id:"blockTemplates.list.tagsPropertyTitle"},createdPropertyTitle:{defaultMessage:"Created",id:"blockTemplates.list.createdPropertyTitle"},page1Title:{defaultMessage:"Page 1",id:"blockTemplates.list.page1Title",description:"New list example page title"},page2Title:{defaultMessage:"Page 2",id:"blockTemplates.list.page2Title",description:"New list example page title"},page3Title:{defaultMessage:"Page 3",id:"blockTemplates.list.page3Title",description:"New list example page title"}});function x(e){const{environment:t,isInline:o,viewType:i,name:n}=e;return"table"===i?C({environment:t,isInline:o,name:n}):"board"===i?function(e){const{isInline:t,name:o}=e,i=(0,p.ZP)(),n=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(_.card1Title)]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(_.card2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(_.card3Title)]]}}},collection_view:{view:{id:"view",version:0,type:"board",name:y.default.formatMessage(_.viewTitle),query2:{aggregations:[{aggregator:"count"}]},format:{collection_pointer:{table:g.v,id:"collection"},board_columns_by:{property:i,type:"status",groupBy:"group",sort:{type:"ascending"}},board_columns:[{property:i,value:{type:"status",value:{type:"by_group",group:"To-do"}}},{property:i,value:{type:"status",value:{type:"by_group",group:"In progress"}}},{property:i,value:{type:"status",value:{type:"by_group",group:"Complete"}}}],board_properties:[{property:i,visible:!1},{property:n,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(_.namePropertyTitle),type:"title"},[n]:{name:y.default.formatMessage(_.assignPropertyTitle),type:"person"},[i]:(0,a.I4)(y.default.formatMessage(_.statusPropertyTitle))},format:{collection_page_properties:[{property:i,visible:!0},{property:n,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}({environment:t,isInline:o,name:n}):"calendar"===i?function(e){const{isInline:t,name:o}=e,i=(0,p.ZP)(),n=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0}},collection_view:{view:{id:"view",version:0,type:"calendar",name:y.default.formatMessage(M.viewTitle),format:{collection_pointer:{table:g.v,id:"collection"}},query2:{calendar_by:i},parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(M.namePropertyTitle),type:"title"},[i]:{name:y.default.formatMessage(M.datePropertyTitle),type:"date"},[n]:{name:y.default.formatMessage(M.tagsPropertyTitle),type:"multi_select"}},parent_id:"root",parent_table:"block",alive:!0}}})}({environment:t,isInline:o,name:n}):"list"===i?function(e){const{isInline:t,name:o}=e,i=(0,p.ZP)(),n=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(P.page1Title)]]}},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(P.page2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(P.page3Title)]]}}},collection_view:{view:{id:"view",version:0,type:"list",name:y.default.formatMessage(P.viewTitle),query2:{aggregations:[{aggregator:"count"}]},format:{collection_pointer:{table:g.v,id:"collection"},list_properties:[{property:i,visible:!0}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(P.namePropertyTitle),type:"title"},[i]:{name:y.default.formatMessage(P.tagsPropertyTitle),type:"multi_select",options:[]},[n]:{name:y.default.formatMessage(P.createdPropertyTitle),type:"created_time"}},format:{collection_page_properties:[{property:n,visible:!0},{property:i,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}({environment:t,isInline:o,name:n}):"gallery"===i?function(e){const{isInline:t,name:o}=e,i=(0,p.ZP)(),n=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(I.page1Title)]]},content:["to_do_1","to_do_2"]},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(I.page2Title)]]}},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",alive:!0,properties:{title:[[y.default.formatMessage(I.page3Title)]]}},to_do_1:{id:"to_do_1",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[[y.default.formatMessage(I.page1TodoTitle)]]}},to_do_2:{id:"to_do_2",type:"to_do",parent_id:"item_1",parent_table:"block",alive:!0,properties:{title:[[y.default.formatMessage(I.page1CompletedTodoTitle)]],checked:[["Yes"]]}}},collection_view:{view:{id:"view",version:0,type:"gallery",name:y.default.formatMessage(I.viewTitle),query2:{aggregations:[{aggregator:"count"}]},format:{collection_pointer:{table:g.v,id:"collection"},gallery_cover:{type:"page_content"}},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(I.namePropertyTitle),type:"title"},[i]:{name:y.default.formatMessage(I.tagsPropertyTitle),type:"multi_select",options:[]},[n]:{name:y.default.formatMessage(I.createdPropertyTitle),type:"created_time"}},format:{collection_page_properties:[{property:n,visible:!0},{property:i,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}({environment:t,isInline:o,name:n}):"timeline"===i?function(e){const{isInline:t,name:o}=e,i=(0,p.ZP)(),n=(0,p.ZP)(),a=(0,p.ZP)();return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0},item_1:{id:"item_1",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[y.default.formatMessage(_.card1Title)]],[i]:(0,s.d7)((0,c.fZ)(r.ou.now().minus({days:5}).startOf("day").valueOf(),r.ou.now().minus({days:2}).startOf("day").valueOf(),(0,l.r)()))},alive:!0},item_2:{id:"item_2",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[y.default.formatMessage(_.card2Title)]],[i]:(0,s.d7)((0,c.fZ)(r.ou.now().minus({days:3}).startOf("day").valueOf(),r.ou.now().startOf("day").valueOf(),(0,l.r)()))},alive:!0},item_3:{id:"item_3",type:"page",parent_id:"collection",parent_table:"collection",properties:{title:[[y.default.formatMessage(_.card3Title)]],[i]:(0,s.d7)((0,c.fZ)(r.ou.now().minus({days:1}).startOf("day").valueOf(),r.ou.now().plus({days:2}).startOf("day").valueOf(),(0,l.r)()))},alive:!0}},collection_view:{view:{id:"view",version:0,type:"timeline",name:y.default.formatMessage(T.viewTitle),format:{collection_pointer:{table:g.v,id:"collection"},timeline_show_table:!t,timeline_properties:[{property:"title",visible:!0}],timeline_table_properties:[{property:"title",visible:!0,width:280},{property:i,visible:!1,width:180},{property:n,visible:!1,width:180},{property:a,visible:!1,width:180}]},page_sort:["item_1","item_2","item_3"],parent_id:"root",parent_table:"block",alive:!0}},collection:{collection:{id:"collection",name:o?(0,h.TP)(o):void 0,schema:{title:{name:y.default.formatMessage(_.namePropertyTitle),type:"title"},[i]:{name:y.default.formatMessage(T.datePropertyTitle),type:"date"},[n]:{name:y.default.formatMessage(_.assignPropertyTitle),type:"person"},[a]:{name:y.default.formatMessage(_.statusPropertyTitle),type:"select",options:[{id:"1",value:y.default.formatMessage(_.statusPropertyRedOptionTitle),color:"red"},{id:"2",value:y.default.formatMessage(_.statusPropertyYellowOptionTitle),color:"yellow"},{id:"3",value:y.default.formatMessage(_.statusPropertyGreenOptionTitle),color:"green"}]}},format:{collection_page_properties:[{property:i,visible:!0},{property:n,visible:!0},{property:a,visible:!0}]},parent_id:"root",parent_table:"block",alive:!0}}})}({environment:t,isInline:o,name:n}):void("page"!==i&&(0,f.t1)(i))}function B(e){const{isInline:t,viewType:o}=e;return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",view_ids:["view"],alive:!0}},collection_view:{view:{id:"view",version:0,type:o,parent_id:"root",parent_table:"block",alive:!0}}})}function Z(e){const{isInline:t,viewType:o,integrationId:i}=e;return u.Ak.create({block:{root:{id:"root",type:t?"collection_view":"collection_view_page",collection_id:"collection",format:{collection_pointer:{table:g.v,id:"collection"}},view_ids:["view"],alive:!0}},collection:{collection:{id:"collection",name:void 0,schema:{},format:{is_placeholder:!0,integration_id:i},parent_id:"root",parent_table:"block",alive:!0}},collection_view:{view:{id:"view",version:0,type:o,format:{collection_pointer:{table:g.v,id:"collection"}},parent_id:"root",parent_table:"block",alive:!0}}})}function E(){return u.Ak.create({block:{root:{id:"root",type:"transclusion_container",content:["empty_text"],alive:!0},empty_text:{id:"empty_text",type:"text",parent_id:"root",parent_table:"block",alive:!0}}})}function R(e){return u.Ak.create({block:{root:{id:"root",type:"ai_block",content:[],alive:!0,format:{ai_prompt_key:e}}}})}function A(e){const t=n().times(e,(e=>`column${e+1}`));return u.Ak.create({block:{root:{id:"root",type:"column_list",content:t,alive:!0},...Object.assign({},...t.map((t=>{const o=`${t}_text`;return{[t]:{id:t,type:"column",parent_id:"root",parent_table:"block",content:[o],alive:!0,format:{column_ratio:1/e}},[o]:{id:o,type:"text",parent_id:t,parent_table:"block",alive:!0}}})))}})}function D(){const e=[(0,p.ZP)(),(0,p.ZP)()];return u.Ak.create({block:{root:{id:"root",type:"table",content:["row_1","row_2","row_3"],alive:!0,format:{table_block_column_order:e}},row_1:{id:"row_1",type:"table_row",parent_id:"root",parent_table:"block",alive:!0},row_2:{id:"row_2",type:"table_row",parent_id:"root",parent_table:"block",alive:!0},row_3:{id:"row_3",type:"table_row",parent_id:"root",parent_table:"block",alive:!0}}})}const F=(0,v.defineMessages)({tab1Title:{defaultMessage:"Tab 1",id:"blockTemplates.list.tab1Title",description:"New list example tab title"},tab2Title:{defaultMessage:"Tab 2",id:"blockTemplates.list.tab2Title",description:"New list example tab title"},tab3Title:{defaultMessage:"Tab 3",id:"blockTemplates.list.tab3Title",description:"New list example tab title"}});function L(){return u.Ak.create({block:{root:{id:"root",type:"tab",alive:!0,content:["tab1","tab2","tab3"]},tab1:{id:"tab1",parent_id:"root",parent_table:"block",type:"text",alive:!0,properties:{title:[[y.default.formatMessage(F.tab1Title)]]}},tab2:{id:"tab2",parent_id:"root",parent_table:"block",type:"text",alive:!0,properties:{title:[[y.default.formatMessage(F.tab2Title)]]}},tab3:{id:"tab3",parent_id:"root",parent_table:"block",type:"text",alive:!0,properties:{title:[[y.default.formatMessage(F.tab3Title)]]}}}})}function V(e){return u.Ak.create({[m.iU]:{root:{id:"root",type:e,format:{toggleable:!0}}}})}function N(e,t){return u.Ak.create({[m.iU]:{root:{id:"root",type:"code",properties:{title:h.TP(t),language:h.TP(e)}}}})}function O(){return u.Ak.create({[m.iU]:{root:{id:"root",type:"drawing",format:{drawing_value:void 0,block_page_width:!0,block_height:480}}}})}},41623:(e,t,o)=>{o.d(t,{O:()=>r,y:()=>a});var i=o(15070),n=o(38755);function r(e,t){const o=t.getAlive(),r=(0,i.hA)(t),a=Boolean(!t.getIntegrationId()),s=Boolean(t.getIntegrationId()),l=Boolean(e.currentUser.id===t.getParentId()),c=s&&((0,n.Fn)(e)||l);return o&&r&&(c||a)}function a(e){const{externalIntegrationStoreState:t,integrationId:o}=e;if(!t.loaded)return;const n=t.externalAuthentications.map((e=>{let{parent_id:t}=e;return t})),r=new Set(n),a=t.bots.filter((e=>e.alive&&r.has(e.id)&&(0,i.U9)(e)&&e.integration_id===o));return a.length?a[0]:void 0}},40863:(e,t,o)=>{o.d(t,{Ft:()=>m,YG:()=>g,y$:()=>f,du:()=>v,BO:()=>y,Lh:()=>k});var i=o(96486),n=o.n(i),r=o(17126),a=o(30823),s=o(32918),l=o(42875),c=o(89837),d=o(59753),p=o(5366),u=o(28020);function m(e){const{collectionContextStore:t}=e,o=t.collectionViewStore();if(!o)return;const i=t.normalizedSchemaStore.state,n=o.getQuery(i);if(!n||!n.calendar_by)return;const r=t.dateRangeStart.get(),a=t.dateRangeEnd.get(),s=(0,c.hT)(r,(0,l.r)()),d=(0,c.hT)(a,(0,l.r)());return h({calendarBy:n.calendar_by,dateRangeStartDate:s,dateRangeEndDate:d})}function g(e){const{collectionContextStore:t,startOfDay:o}=e,i=t.collectionViewStore();if(!i)return;const n=t.normalizedSchemaStore.state,a=i.getQuery(n);if(!a||!a.calendar_by)return;const s=r.ou.fromMillis(o).endOf("day").valueOf(),d=(0,c.hT)(o,(0,l.r)()),p=(0,c.hT)(s,(0,l.r)());return h({calendarBy:a.calendar_by,dateRangeStartDate:d,dateRangeEndDate:p})}function h(e){const{dateRangeStartDate:t,dateRangeEndDate:o,calendarBy:i}=e;return{type:"results",filter:{operator:"and",filters:[{property:i,filter:{operator:"date_is_on_or_after",use_end:!0,value:{type:"exact",value:t}}},{property:i,filter:{operator:"date_is_on_or_before",value:{type:"exact",value:o}}}]},limit:5e3}}function f(e){const{collectionContextStore:t,results:o,getRecordValue:i,intl:r}=e,a=t.collectionViewStore(),d=t.normalizedQueryStore.state,p=t.normalizedSchemaStore.state,m=d?d.calendar_by:void 0,g=t.dateRangeStart.get(),h=t.dateRangeEnd.get(),f=u.AK.state,S=(0,l.r)();if(!(a&&d&&m&&p))return;const w=n().compact(o.map((e=>y({blockStore:e,calendarBy:m,schema:p,getRecordValue:i,intl:r})))),k={};o.forEach(((e,t)=>{k[e.id]=t}));0===(d.sort||[]).length&&w.sort(((e,t)=>{const o=e.start.valueOf(),i=t.start.valueOf();if(o===i){return k[e.id]-k[t.id]}return o-i}));const C=(0,c.em)(g,f,S),_=(0,c.gQ)(h,f,S);let M=C;const T=[];do{const e=(0,c.gQ)(M.valueOf(),f,S),t={},o=w.filter((t=>(0,s.b8)(M.valueOf(),e.valueOf(),t.start.valueOf(),t.end?t.end.valueOf():void 0))).map((o=>{const{id:i,start:n,end:r,includeTime:a,timeZone:s}=o,{startColumn:l,columnCount:c}=v({startUnixTimestampMS:n.valueOf(),endUnixTimestampMS:r?r.valueOf():void 0,startOfWeekUnixTimestampMS:M.valueOf(),endOfWeekUnixTimestampMS:e.valueOf()}),d=b(l,c,t);return{id:i,start:n.valueOf(),end:r?r.valueOf():void 0,row:d,includeTime:a,timeZone:s}}));T.push({start:M.valueOf(),end:e.valueOf(),items:o}),M=(0,c.em)(M.plus({week:1}).plus({hour:25}).valueOf(),f,S)}while(M<_);return T}function v(e){const t=r.ou.fromMillis(e.startUnixTimestampMS),o=e.endUnixTimestampMS?r.ou.fromMillis(e.endUnixTimestampMS):void 0,i=r.ou.fromMillis(e.startOfWeekUnixTimestampMS),n=r.ou.fromMillis(e.endOfWeekUnixTimestampMS),a=t.startOf("day"),s=r.ou.max(i,a),l=s.diff(i,"days").get("days");let c=1;if(o){const e=o.endOf("day"),t=r.ou.min(n,e);c=Math.ceil(t.diff(s,"days").get("days"))}return{start:t,end:o,startOfWeek:i,endOfWeek:n,startColumn:l,columnCount:c}}function y(e){const{blockStore:t,calendarBy:o,schema:i,getRecordValue:n,intl:r}=e,s=t.getModel();if(!s)return;const p=(0,a.FT)({property:o,schema:i,block:s,getRecordModel:d.om.fromGetRecordValueFn(n),userTimeZone:(0,l.r)(),depth:0,intl:r,propertyMapping:void 0}).next().value;if("date"!==p.type)return;const u=p.value,m=u&&(0,c.NK)(u,(0,l.r)());if(!u||!m)return;return{id:s.id,start:m.start,end:m.end,includeTime:"datetime"===u.type||"datetimerange"===u.type,timeZone:"datetime"===u.type||"datetimerange"===u.type?u.time_zone:void 0}}function b(e,t,o){let i=0;for(;;){let n=!1;for(let r=0;r<t;r++)S(o,e+r,i)&&(n=!0);if(!n)break;i++}for(let n=0;n<t;n++)w(o,e+n,i);return i}function S(e,t,o){return Boolean(e[o]&&e[o][t])}function w(e,t,o){e[o]||(e[o]={}),e[o][t]=!0}const k=(0,p.defineMessages)({week:{defaultMessage:"Week",id:"calendar.viewRanges.week",description:"An option to view a calendar on a weekly basis"},month:{defaultMessage:"Month",id:"calendar.viewRanges.month",description:"An option to view a calendar on a monthly basis"}})},11781:(e,t,o)=>{o.d(t,{l9:()=>d,eW:()=>p,Of:()=>u,hc:()=>m});var i=o(65917),n=o(2911),r=o(29477),a=o(51456),s=o(10161);const l="challengeHelpers";function c(){return s.default.getEligibleGroup({experimentId:"auth_challenge",defaultGroup:"control"})}function d(){return"recaptcha"===c()}function p(){return"turnstile"===c()}async function u(e,t){if(!d())return;const{googleReCaptchaProps:o}=e;if(!o)throw i.log({level:"error",from:l,type:"undefinedGoogleReCaptchaProps"}),new Error("Assertion failure, googleReCaptchaProps should be defined! Did you forget to wrap your component in a GoogleReCaptchaProvider?");const n=await(0,r.vW)(10,1e3,(()=>new Promise((e=>{const{executeRecaptcha:t}=o;t&&e(t)}))));if(n.timeout)throw i.log({level:"error",from:l,type:"recaptcha_timeout"}),new Error("Failed to load googleReCaptcha.");const a=n.result;return await a(t)}async function m(e,t,o){const{turnstileProps:s}=t;if(!s)return void i.log({level:"error",from:l,type:"turnstileUndefinedProps"});if(!s.enabled)return;const c=performance.now(),d=new Promise(((e,t)=>{const{executeTurnstile:n}=s;n?n(o).then(e).catch(t):(i.log({level:"error",from:l,type:"turnstileUnavailable"}),e(void 0))}));let p;try{const e=await(0,r.aM)(d,8e3);e.timeout?(i.log({level:"error",from:l,type:"turnstileExecutionTimeout"}),p=void 0):p=e.result}catch(u){i.log({level:"error",from:l,type:"turnstileExecutionError",error:(0,n.Ui)(u)}),p=void 0}return function(e,t){(0,a.track)(e,"challenge_executed",t)}(e,{provider:"turnstile",action:o,is_success:void 0!==p,time_ms:performance.now()-c}),p}},43250:(e,t,o)=>{o.d(t,{QSt:()=>i,alX:()=>n,JiD:()=>r,aiP:()=>a,rKl:()=>s,gug:()=>l,Quo:()=>c,x4y:()=>d,MsS:()=>p,Xj_:()=>u,OK_:()=>m,wKH:()=>g,PBs:()=>h,Nn$:()=>f,Ep8:()=>v,mJW:()=>y,YPt:()=>b,fHd:()=>S,p1Q:()=>w,Qcf:()=>k,euV:()=>C,No6:()=>_,Wh_:()=>M,QS0:()=>T,Wiy:()=>I,lIT:()=>P,ZHw:()=>x,mSZ:()=>B,A_D:()=>Z,B8p:()=>E,MD7:()=>R,KLh:()=>A,K3y:()=>D,N27:()=>F,GbT:()=>L,p0b:()=>V,Oau:()=>N,srZ:()=>O,b_f:()=>U,tQh:()=>H,FJA:()=>z,S94:()=>W,GNl:()=>j,GfL:()=>K,a8k:()=>Y,afv:()=>G,YHn:()=>X,ZmO:()=>q,gGc:()=>$,KA2:()=>J,I2F:()=>Q,gjL:()=>ee,HKr:()=>te,hzx:()=>oe,wFE:()=>ie,G6g:()=>ne,f8P:()=>re,p4m:()=>ae,zov:()=>se,a6i:()=>le,IpQ:()=>ce,hKO:()=>de,N7t:()=>pe,FoE:()=>ue,NFf:()=>me,CZG:()=>ge,nU_:()=>he,rcG:()=>fe,ykc:()=>ve,exn:()=>ye,Mfh:()=>be,rli:()=>Se,zYS:()=>we,fe0:()=>ke,BEs:()=>Ce,JkF:()=>_e,q1J:()=>Me,blN:()=>Te,l24:()=>Ie,F4o:()=>Pe,j35:()=>xe,MU2:()=>Be,aL4:()=>Ze,yNE:()=>Ee,rIE:()=>Re,RG3:()=>Ae,Uwd:()=>De,jWx:()=>Fe,qxR:()=>Le,JUE:()=>Ve,Mdu:()=>Ne,C18:()=>Oe,TYv:()=>Ue,BKn:()=>He,TAd:()=>ze,zar:()=>We,rG8:()=>je,CBT:()=>Ke,oc0:()=>Ye,Y7r:()=>Ge,I9j:()=>Xe,Xsh:()=>qe,s$o:()=>$e,cFM:()=>Je,rIj:()=>Qe,D$4:()=>et,myM:()=>tt,Xgx:()=>ot,iTw:()=>it,wnm:()=>nt,gec:()=>rt,x2W:()=>at,Qgj:()=>st,Wy1:()=>lt,Uhm:()=>ct,Cjq:()=>dt,Z87:()=>pt,vvn:()=>ut,Voi:()=>mt,FLq:()=>gt,MV2:()=>ht,IAq:()=>ft,Mpz:()=>vt,Aur:()=>yt,J2F:()=>bt,_so:()=>St,V6y:()=>wt,tfM:()=>kt,VMO:()=>Ct,EGJ:()=>_t,c7X:()=>Mt,nM$:()=>Tt,sbt:()=>It,K4T:()=>Pt,irE:()=>xt,sqL:()=>Bt,kDE:()=>Zt,ovr:()=>Et,o4s:()=>Rt,z_z:()=>At,x9t:()=>Dt,Dkf:()=>Ft,xvU:()=>Lt,rTm:()=>Vt,rVO:()=>Nt,RIA:()=>Ot,rIs:()=>Ut,pg$:()=>Ht,Zp2:()=>zt,TFu:()=>Wt,hEP:()=>jt,wG0:()=>Kt,f0e:()=>Yt,Apy:()=>Gt,M_0:()=>Xt,Iiy:()=>qt,qnV:()=>$t,y4j:()=>Jt,OE$:()=>Qt,fOh:()=>eo,dXl:()=>to,S9A:()=>oo,ulv:()=>io,GZn:()=>no,YOJ:()=>ro});const i="notion-cursor-default",n="hidden",r="notion-fadein",a="notion-mobile",s="notion-fadein-fast",l="notion-front-page",c="analytics-scroll-point",d="notion-login",p="notion-light-theme",u="notion-dark-theme",m="notion-scroller",g="vertical",h="horizontal",f="notion-history-modal",v="notion-block-resizer",y="notion-overlay-container",b="notion-default-overlay-container",S="notion-page-template-modal",w="notion-peek-renderer",k="notion-text-action-menu",C="notion-selectable",_="notion-selectable-halo",M="notion-focusable-within",T="notion-page-content",I="notion-frame",P="notion-topbar",x="notion-topbar-mobile",B="notion-topbar-more-button",Z="notion-topbar-action-buttons",E="notion-share-menu",R="notion-topbar-share-menu",A="notion-updates-menu",D="notion-topbar-updates-button",F="notion-topbar-assistant-button",L="notion-topbar-favorite-button",V="notion-topbar-comments-button",N="notion-search-menu",O="notion-embed-menu",U="notion-unfurling-menu",H="notion-media-menu",z="notion-invite",W="notion-record-icon",j="notion-calendar-header-days",K="notion-board-group",Y="notion-block-permission-settings-public-access",G="notion-block-permission-settings-workspace-access",X="notion-block-permission-settings-team-access",q="notion-block-permission-settings-team-access",$="notion-block-permission-settings-group-access",J="notion-page-view-discussion",Q="notion-updates-button-mentions",ee="notion-updates-button-all-updates",te="notion-updates-button-archive",oe="notion-discussion-input-edit-existing-comment",ie="notion-discussion-input",ne="notion-comment-overflow-menu",re="notion-shimmer",ae="notion-link",se="ai-block",le="notion-sharing-permission-role-select",ce="notion-sharing-permission-expiration-timestamp",de="notion-language-picker",pe="notion-cookie-selector",ue="notion-activity-section-icon",me="notion-activity-section-header",ge="notion-activity-section-time",he="notion-activity-section-children",fe="notion-sidebar",ve="notion-sidebar-mobile",ye="notion-open-sidebar",be="notion-close-sidebar",Se="notion-sidebar-switcher",we="notion-space-settings",ke="notion-outliner-bookmarks",Ce="notion-outliner-workspace",_e="notion-outliner-shared",Me="notion-outliner-private",Te="notion-outliner-offline",Ie="notion-outliner-team",Pe="notion-outliner-bookmarks-header",xe="notion-outliner-workspace-header",Be="notion-outliner-shared-header",Ze="notion-outliner-private-header",Ee="notion-outliner-offline-header",Re="notion-outliner-team-header",Ae="notion-outliner-joined-team-header",De="notion-outliner-unjoined-team-header",Fe="notion-outliner-search-team-header",Le="notion-outliner-team-context-menu-button",Ve="notion-outliner-team-heading-context-menu-button",Ne="notion-outliner-team-context-menu",Oe="notion-updates-menu",Ue="notion-sidebar-trash-menu",He="notion-password-modal",ze="notion-scim-table-revoke-button",We="notion-update-sidebar",je="notion-update-sidebar-tab-comments-segmented-control",Ke="notion-update-sidebar-tab-comments-dropdown-control",Ye="notion-update-sidebar-tab-comments-dropdown-button-open",Ge="notion-update-sidebar-tab-comments-dropdown-button-resolved",Xe="notion-update-sidebar-tab-comments-header",qe="notion-update-sidebar-tab-comments-comments-scroller",$e="notion-update-sidebar-tab-comments-discussion-item",Je="notion-update-sidebar-tab-updates-header",Qe="notion-team-settings-modal",et="notion-add-members-modal",tt="notion-new-team",ot="notion-use-case-onboarding-profile",it="notion-use-case-onboarding-company-survey",nt="notion-use-case-onboarding-persona-survey",rt="notion-workspace-choose",at="notion-workspace-plan-choose",st="notion-workspace-create",lt="notion-workspace-invite",ct="notion-onboarding-error",dt="notion-onboarding-popup",pt="notion-onboarding-button",ut="notion-onboarding-plan-type-personal",mt="notion-onboarding-plan-type-team",gt="notion-onboarding-plan-type-school",ht="notion-onboarding-app-download",ft="notion-onboarding-persona-survey-persona",vt="notion-onboarding-persona-survey-role",yt="notion-onboarding-persona-survey-companysize",bt="notion-onboarding-persona-survey-usecases",St="notion-table-view",wt="notion-table-view-add-column",kt="notion-table-view-add-row",Ct="notion-table-view-header-cell",_t="notion-board-view",Mt="notion-calendar-view",Tt="notion-list-view",It="notion-gallery-view",Pt="notion-collection-item",xt="notion-calendar-view-day",Bt="notion-collection-view-item-add",Zt="notion-timeline-view",Et="notion-timeline-item",Rt="notion-timeline-item-row",At="notion-timeline-item-properties",Dt="notion-collection-view-body",Ft="notion-view-settings-sidebar",Lt="notion-collection-edit-view",Vt="notion-collection-view-tab-button",Nt="notion-collection-add-view",Ot="notion-collection-automation-edit-view",Ut="developer-integrations-container",Ht="developer-integrations-list",zt="developer-integration-create",Wt="developer-integration-view",jt="developer-integration-lab",Kt="developer-integration-not-found",Yt="notion-table-row-selector",Gt="notion-table-column-selector",Xt="notion-table-row",qt="notion-table-cell",$t="notion-table-cell-text",Jt="notion-table-selection-overlay",Qt="notion-table-tbody-selectable",eo="notion-table-content",to="notion-temporary-comment",oo="notion-margin-discussion-item",io="search-query-result-item",no="search-result-mobile-body-scroller",ro="notion-completions-feedback-popup"},47853:(e,t,o)=>{o.d(t,{D:()=>r});var i=o(13991),n=o(25666);function r(e){return n.D(e,i.SP)}},30546:(e,t,o)=>{o.d(t,{dd:()=>a,KN:()=>s,o0:()=>l,PM:()=>c,Zy:()=>d,Qb:()=>p,eW:()=>u,Ij:()=>m,Hq:()=>g,mK:()=>h});var i=o(42875),n=o(61784),r=o(89837);function a(e,t){return(0,n.ZW)(r.OQ.notionDateTimeToLuxon(e,t.locale),"short")}function s(e,t){return(0,n.ZW)(r.OQ.notionDateTimeToLuxon(e,t.locale),"time")}function l(e,t){return r.OQ.notionDateTimeToLuxon(e,t.locale).toFormat(r._F)}function c(e,t){let o={starting:void 0,ending:void 0};var n,r,a,s;if(t.starting&&t.ending)o={starting:{type:"datetime",start_time:"",start_date:t.starting.start_date,time_zone:""},ending:{type:"datetime",start_time:"",start_date:t.ending.start_date,time_zone:""}},null!==(n=e.starting)&&void 0!==n&&n.start_time&&null!==(r=e.starting)&&void 0!==r&&r.time_zone&&(o.starting={...o.starting,start_time:e.starting.start_time,time_zone:e.starting.time_zone}),null!==(a=e.ending)&&void 0!==a&&a.start_time&&null!==(s=e.ending)&&void 0!==s&&s.time_zone?o.ending={...o.ending,start_time:e.ending.start_time,time_zone:e.ending.time_zone}:o={starting:{...o.starting,start_time:"00:00",time_zone:(0,i.r)()},ending:{...o.ending,start_time:"23:59",time_zone:(0,i.r)()}};else if(t.starting){var l,c;o=null!==(l=e.starting)&&void 0!==l&&l.start_time&&null!==(c=e.starting)&&void 0!==c&&c.time_zone?{starting:{type:"datetime",start_date:t.starting.start_date,start_time:e.starting.start_time,time_zone:e.starting.time_zone},ending:e.ending}:{starting:{type:"datetime",start_date:t.starting.start_date,start_time:"00:00",time_zone:(0,i.r)()},ending:e.ending}}else if(t.ending){var d,p;o=null!==(d=e.ending)&&void 0!==d&&d.start_time&&null!==(p=e.ending)&&void 0!==p&&p.time_zone?{ending:{type:"datetime",start_date:t.ending.start_date,start_time:e.ending.start_time,time_zone:e.ending.time_zone},starting:e.starting}:{ending:{type:"datetime",start_date:t.ending.start_date,start_time:"23:59",time_zone:(0,i.r)()},starting:e.starting}}else o={starting:e.starting,ending:e.ending};return o}function d(e){return e.starting&&e.ending?{starting:{type:"date",start_date:e.starting.start_date},ending:{type:"date",start_date:e.ending.start_date}}:e.starting?{starting:{type:"date",start_date:e.starting.start_date}}:e.ending?{ending:{type:"date",start_date:e.ending.start_date}}:{}}function p(e){if(e)return{type:"date",start_date:e.start_date}}function u(e){return`${e.actorType}:${e.actorId}`}function m(e){const t=e.split(":");if(2===t.length)return"bot"===t[0]?{actorId:t[1],actorType:"bot"}:"notion_user"===t[0]?{actorId:t[1],actorType:"notion_user"}:void 0}function g(e){return{starting:e.starting?{type:"date",start_date:e.starting.start_date}:void 0,ending:e.ending?{type:"date",start_date:e.ending.start_date}:void 0}}function h(e){return void 0===e.starting&&void 0===e.ending}},23223:(e,t,o)=>{o.d(t,{pZ:()=>y,Gb:()=>C,TN:()=>b,PN:()=>S,pt:()=>w,td:()=>_});var i=o(14577),n=o(97428),r=o(81730),a=o(94412),s=o(10450),l=o(96486),c=o(82433),d=o(68626);var p=o(42875),u=o(59753),m=o(26825),g=o(98963),h=o(97880),f=o(10161),v=o(3815);const y=30;function b(){return f.default.checkGate("button_block")}function S(){return f.default.checkGate("button_property")}function w(e){const{context:t}=e;let o,i,m;if(t.persisted){const{automationStore:n}=t,a=e.automationValue??n.getValue();if(!a)return{error:new r.MO("Missing automation record")};o=u.kk.fromValue(g.cv,a),i=n.getActionStores().map((e=>e.getModel())).filter(h.$K)}else o=new a.X({triggerType:"button",actions:t.actions,parentPointer:t.parentPointer,spaceId:t.parentPointer.spaceId}),i=t.actions.map((e=>new a.e(e,t.parentPointer.spaceId)));if("button_property"===t.type){const e=t.collectionContextStore.collectionStore();if(!e)return{error:new r.MO("Missing collectionContextStore")};m=(0,s.zW)({collectionPointer:{...e.pointer,spaceId:e.getSpaceId()},intl:t.intl})}else if("button_block"===t.type){const e=t.pageStore.getAssociatedCollectionStore();m=(0,s.rb)({intl:t.intl,collectionPointer:e?{...e.pointer,spaceId:e.getSpaceId()}:void 0})}else"structured_automation"===t.type||"event"===t.type?m={value:{valueTypes:[]}}:(0,h.t1)(t);return d.x.isFail(m)?m:function(e){const{context:t}=e,{actionModels:o}=t,i={valueTypes:t.valueTypes,actionInputValueTypes:{},actionValidationFailures:{}};for(const r of o){const e=(0,n.z)(r.getType()).typecheck(t,r),o=l.clone(i.valueTypes);if(i.actionInputValueTypes[r.id]=o,d.x.isFail(e))return e;for(const t of e.value.valueTypes??[])i.valueTypes.some((e=>(0,c.Fl)(t,e)))||i.valueTypes.push(t);e.value.validationFailures&&(i.actionValidationFailures[r.id]=e.value.validationFailures)}return{value:i}}({context:{automationModel:o,actionModels:i,handleDataRequest:(0,c.yf)(t.parentRecordStore.getRecordValue,t.parentRecordStore.loadRecordValue),valueTypes:m.value.valueTypes??[],intl:t.intl,getRecordValue:t.parentRecordStore.getRecordValue,userTimeZone:(0,p.r)()}})}const k=new WeakMap;function C(e){const t=k.get(e.automationStore);if(t)return t;{const t=new i.Z((()=>function(e){if(!e.currentUserId)return{executionPermissionStatus:"insufficient",typecheckResult:void 0};const t=e.automationStore.getModel();if(!t)return{executionPermissionStatus:"unknown",typecheckResult:void 0};const o=e.automationStore.getActionStores().map((e=>e.getModel()));if(!o.every((0,h.AO)((e=>(0,h.$K)(e)?{true:e}:{false:e}))))return{executionPermissionStatus:"insufficient",typecheckResult:void 0};const i=w({context:e});if(d.x.isFail(i))return{executionPermissionStatus:"unknown",typecheckResult:i};const r={automationModel:t,actionModels:o,handleDataRequest:(0,c.yf)(e.parentRecordStore.getRecordValue,e.parentRecordStore.loadRecordValue),getRecordValue:e.parentRecordStore.getRecordValue,valueTypes:i.value.valueTypes,intl:e.intl,userTimeZone:(0,p.r)()};for(const a of o){const t=(0,n.z)(a.getType()).getDependencies(r,a);for(const o of t){const t=(0,v.Kv)(e.parentRecordStore,o.pointer).getRole();if(!t||(0,m.gr)(t,o.minimumRole))return{executionPermissionStatus:"insufficient",typecheckResult:i}}}return{executionPermissionStatus:"sufficient",typecheckResult:i}}(e)),{debugName:"buttonAutomationAnalysisCachedStore"});return k.set(e.automationStore,t),t}}function _(e){return Boolean(e.findRecordStoreUIAncestor((e=>e instanceof v.zq&&e.isType("duplicate_blocks"))).ancestor)}},97004:(e,t,o)=>{o.d(t,{qd:()=>h,H_:()=>f,RL:()=>v,Zh:()=>y,Nq:()=>b,yU:()=>S,Mj:()=>w,Me:()=>k,Pi:()=>C,Gz:()=>_,CN:()=>M,m1:()=>T});var i=o(96486),n=o(46826),r=o(76205),a=o(99036),s=o(22433),l=o(93824),c=o(42875),d=o(97880),p=o(28020),u=o(93959),m=o(17335),g=o(33929);function h(e){const{schema:t,filters:o,getRecordValue:n}=e,a=[];for(const i of Object.keys(t)){const e=f({property:i,schema:t,getRecordValue:n});e&&a.push(e)}const s=a.filter((e=>!o.find((t=>(0,r.aN)(t.filter)&&t.filter.property===e.property))));return i.sortBy(s,(e=>{const o=t[e.property];return(null==o?void 0:o.name)||""}))}function f(e){const{property:t,schema:o,getRecordValue:i}=e,n=(0,m.zZ)({property:t,schema:o,getRecordValue:i});if((0,r.ul)(n)?!(0,r.mv)(n.subfilter):!(0,r.mv)(n))return{property:t,filter:n}}function v(e){const t=e.currentPropertyFiltersStore.state,o=e.currentCombinatorFilterStore.state,i=e.normalizedSchemaStore.state;return(0,r.OH)({propertyFilters:t,combinatorFilter:o,schema:i})}function y(e,t){var o,r;const a=e.collectionViewStore();if(!a)return{combinatorFilter:void 0,filters:{moveOps:[],removed:[],updated:[],moved:[],added:[]},sorts:void 0};const c="persisted"===t?a.getQueryStore().getKeyStore("sort").getValue()||[]:(null===(o=e.normalizedQueryStore.state)||void 0===o?void 0:o.sort)||[],d=e.currentSortsStore.state,p="persisted"===t?a.getQueryStore().getKeyStore("filter").getValue():null===(r=e.normalizedQueryStore.state)||void 0===r?void 0:r.filter,u=e.currentCombinatorFilterStore.state,m="persisted"===t?a.getPropertyFiltersStore().getValue()||[]:function(e){const t=e.normalizedSchemaStore.state,o=e.normalizedFormatStore.state.property_filters||[];return i.compact(o.filter((e=>{const o=(0,s.dN)(e.filter,t);return o&&{id:e.id,filter:o}})))}(e),g=e.currentPropertyFiltersStore.state,h=m.map((e=>e.id)),f=g.map((e=>e.id)),{beforeOps:v,removeOps:y}=(0,l.q)(h,f),b=Array.from(y).filter((e=>!f.includes(e))),S=Object.keys(v).map((e=>({id:e,beforeId:v[e]}))),w=S.filter((e=>{let{id:t}=e;return h.includes(t)})).map((e=>{let{id:t}=e;return t})),k=S.filter((e=>{let{id:t}=e;return!h.includes(t)})).map((e=>{let{id:t}=e;return t})),C=g.filter((e=>m.find((t=>{if(e.id!==t.id)return!1;const o=i.cloneDeep(t),r=i.cloneDeep(e);return!i.isEqual((0,n.Z)(r),(0,n.Z)(o))})))).map((e=>e.id));return{combinatorFilter:i.isEqual(p,u)?void 0:{value:u},filters:{moveOps:S,removed:b,updated:C,moved:w,added:k},sorts:i.isEqual(c,d)?void 0:{value:d}}}function b(e){const t=e.localStateDiffStore.state;return Boolean(t.filters.moved.length>0||t.filters.added.length>0||t.filters.removed.length>0||t.filters.updated.length>0||void 0!==t.combinatorFilter||void 0!==t.sorts)}function S(e){const t=e.localStateDiffStore.state;return Boolean(t.filters.moved.length>0||t.filters.added.length>0||t.filters.removed.length>0||t.filters.updated.length>0||void 0!==t.combinatorFilter)}function w(e){const t=e.localStateDiffStore.state;return Boolean(void 0!==t.sorts)}function k(e){return{property:(0,a.uS)(e),filter:{operator:"string_contains",value:{type:"exact",value:void 0}}}}function C(e){const t=e.currentCombinatorFilterStore.state,o=e.currentPropertyFiltersStore.state.filter((e=>!(0,u.EE)(e.id))).map((e=>e.filter)),i=[...(null==t?void 0:t.filters)||[],...o];return{...t,filters:i,operator:"and"}}function _(e,t){const o=e.currentCombinatorFilterStore.state,i=e.currentPropertyFiltersStore.state.filter((e=>e.id!==t.id)),n=[...(null==o?void 0:o.filters)||[],t.filter];return{combinatorFilter:{operator:"and",...o,filters:n},propertyFilters:i}}function M(e,t,o,i){const n=o.filter((e=>"is_group"===e.type)).map((e=>e.value)),r=o.filter((e=>"is_option"===e.type)).map((e=>e.value)),a=t.filter((t=>{const o=e.find((e=>{var o;return null===(o=e.optionIds)||void 0===o?void 0:o.includes(t.id)}));return!(!o||!n.includes(o.name))||!!r.includes(t.value)}));let s;if("is_option"===i.type){const e=a.findIndex((e=>e.value===i.value));if(-1===e){const e=t.find((e=>e.value===i.value));if(!e)return;s=[...a,e]}else s=[...a],s.splice(e,1)}else if("is_group"===i.type){const o=e.find((e=>e.name===i.value));if(!o)return;const n=t.filter((e=>{var t;return null===(t=o.optionIds)||void 0===t?void 0:t.includes(e.id)})),r=a.filter((e=>void 0===n.find((t=>t.id===e.id))));s=r.length+n.length===a.length?r:[...r,...n]}else(0,d.t1)(i.type);const l=[];for(const c of e){const e=t.filter((e=>{var t;return null===(t=c.optionIds)||void 0===t?void 0:t.includes(e.id)})),o=s.filter((t=>void 0===e.find((e=>e.id===t.id))));e.length>0&&e.length+o.length===s.length&&(l.push({type:"is_group",value:c.name}),s=o)}return[...l,...s.map((e=>({type:"is_option",value:e.value})))]}function T(e){const{collectionContextStore:t,environment:o}=e,i=t.relativeVariableStore.state,n=t.currentPropertyFiltersStore.state,a=t.currentCombinatorFilterStore.state,s=n.filter((e=>!(0,r.Oo)(e.filter))).map((e=>e.filter));if(0===s.length&&!a)return;const l={schema:t.normalizedSchemaStore.state,userId:o.currentUser.id,userTimeZone:(0,c.r)(),userStartOfWeek:p.AK.state,intl:g.default.getIntl(),relativeVariableResult:i};return{filter:{filters:a?[...s,a]:s,operator:"and"},context:l}}},4708:(e,t,o)=>{o.d(t,{Jp:()=>c,_6:()=>d,p1:()=>p,Ye:()=>u,Rv:()=>m,zq:()=>g,cO:()=>h,F$:()=>f,u3:()=>v,s$:()=>y,KK:()=>b,c$:()=>S,vI:()=>w,c:()=>k,Kx:()=>C,_A:()=>_,A3:()=>M});var i=o(81954),n=o(95477),r=o(10161),a=o(21115),s=o(8323),l=o(23537);function c(e){return e?(e.filter((e=>"other"===e)).length=0)?"control":r.default.getEligibleGroup({experimentId:"onboarding_app_from_usecase",defaultGroup:"control"}):"control"}function d(e){return!e.device.isMobile&&"on"===r.default.getEligibleGroup({experimentId:"contextual-invite-on-select-focus",defaultGroup:"control"})}function p(){return a.ye()&&"on"===r.default.getEligibleGroup({experimentId:"request_membership",defaultGroup:"control"})}function u(e){return(0,s.Mk)()&&"on"===r.default.getEligibleGroup({experimentId:"guest_membership_request",defaultGroup:"control"})}function m(){return(0,s.Mk)()&&"on"===r.default.getEligibleGroup({experimentId:"import_slack_contacts",defaultGroup:"control"})}function g(e){return!e.device.isMobile}function h(e){const{device:t}=e;return"on"===r.default.getEligibleGroup({experimentId:"share_menu_v2",defaultGroup:"control"})&&!t.isMobile}function f(){return(0,l.bq)()&&"on"===r.default.getEligibleGroup({experimentId:"teamspace_guests",defaultGroup:"control"})}function v(){return(0,l.bq)()&&"on"===r.default.getEligibleGroup({experimentId:"teams_invite_link",defaultGroup:"control"})}function y(){return(0,l.bq)()&&"on"===r.default.getEligibleGroup({experimentId:"team_invite_link_ms2",defaultGroup:"control"})}function b(){return"variant_1"===r.default.getEligibleGroup({experimentId:"team_creation_types_modal",defaultGroup:"control"})}function S(){return"variant_2"===r.default.getEligibleGroup({experimentId:"team_creation_types_modal",defaultGroup:"control"})}function w(){return r.default.checkGate("move_to_undo")}function k(){return(0,i.VK)((()=>w()),[])}function C(){return r.default.getEligibleGroup({experimentId:"app_entry_points_for_existing_teams",defaultGroup:"control",disableExposureLogging:!0})}function _(){r.default.manuallyLogExperimentExposure("app_entry_points_for_existing_teams")}function M(){return"local"===n.Z.env||r.default.checkGate("drawing_block")}},14976:(e,t,o)=>{o.d(t,{bD:()=>U,IY:()=>H,Xh:()=>z,n$:()=>G,x9:()=>X,Qb:()=>q,Ut:()=>$,lw:()=>J,Dn:()=>ee,SD:()=>te,li:()=>oe,vO:()=>ie,kV:()=>ne,Gj:()=>ae,fm:()=>se,PY:()=>le,xX:()=>ce,Ob:()=>de,So:()=>pe,Rl:()=>ue,TQ:()=>ge});var i=o(96486),n=o.n(i),r=o(22377),a=o(15095),s=o(42875),l=o(21202),c=o(70203),d=o(44805),p=o(63143),u=o(993),m=o(25103),g=o(95477),h=o(33929),f=o(68056),v=o(10161),y=o(30874),b=o(13884),S=o(3815),w=o(24666),k=o(46150),C=o(62619),_=o(83631),M=o(45162),T=o(70219),I=o(65598),P=o(31352),x=o(72133);function B(e){return C.kK(e)&&e.classList.contains(d.Eu)}function Z(e){return C.kK(e)&&e.classList.contains(d.tL)}function E(e){return function(e){const t=C.sh(e,(e=>(0,_.Xu)(e)||(0,k.eD)(e)));if(t&&B(t))return t}(e)||A(e)||function(e){const t=C.sh(e,(e=>Z(e)||(0,k.eD)(e)));if(t&&Z(t))return t}(e)}function R(e){return C.kK(e)&&e.classList.contains(r.P)}function A(e){const t=C.sh(e,(e=>(0,_.Xu)(e)||(0,k.eD)(e)));if(t&&(0,_.Xu)(t))return t}const D=function(e){return C.kK(e)&&e.classList.contains(d.mb)},F=function(e){if(D(e))return!0;try{return D(e.parentNode)}catch(t){return!1}},L=function(e){try{const t=C.sh(e,(e=>Boolean(e.getAttribute&&e.getAttribute("contenteditable"))||(0,k.eD)(e)));return t&&t.isContentEditable}catch(t){return!1}};function V(e){return C.kK(e)&&e.classList.contains(d.$A)}function N(e,t){if(e===t.container){if(C.Gs(e)){const o=e.textContent||"";return(0,a.p4)(o.substring(0,t.offset)).length}{const o=Array.from(e.childNodes).slice(0,t.offset).map((e=>K(W(e)))).join("");return(0,a.p4)(o).length}}let o=0;for(const i of Array.from(e.childNodes)){if(i.contains(t.container))return o+N(i,t);o+=(0,a.p4)(K(W(i))).length}return o}function O(e,t){const o=(0,k.X1)(e);if(!o)return 0;return N(o,function(e,t){const o=E(e);if(o){const e=o.parentNode,i=Array.from(e.childNodes).indexOf(o);return{container:e,offset:0===t?i:i+1}}if(D(e)||D(e.parentNode))return{container:e,offset:(e.textContent||" ").length-1};return{container:e,offset:t}}(e,t))}function U(e,t){if(0===t)return!(e.childNodes.length>0)||B(e.childNodes[0])||R(e.childNodes[0])||(0,_.Xu)(e.childNodes[0])||Z(e.childNodes[0])||V(e.childNodes[0])?{container:e,offset:0}:{container:e.childNodes[0],offset:0};const o=n().findIndex(e.childNodes,V),i=o>=0?o-1:e.childNodes.length-1;let r=t;for(let s=0;s<=i;s++){const t=e.childNodes[s],o=K(W(t)),l=(0,a.p4)(o).length;if(s===i?r-l<=0:r-l<0){if(B(t)||(0,_.Xu)(t)||R(t)||D(t)||Z(t)){const e=C.oG(t.parentNode,t);return{container:t.parentNode,offset:e}}if(t.nodeType===Node.TEXT_NODE){return{container:t,offset:n().slice((0,a.p4)(o),0,r).join("").length}}return U(t,r)}r-=l}return{container:e,offset:0}}function H(e){const{environment:t,textValue:o,parentStore:i,disableHover:n,disableStyleAnnotations:r,disableDateStyleAnnotations:a,disabled:l,emojiType:c,highlightDiscussionId:p,renderedPageBlockId:u,parentBlockId:m,theme:f,katex:b,disableLinks:S,formulaValueTypes:w}=e,{device:k,currentUser:C}=t,_=v.default.checkGate("enable_deleted_page_indicator");return d.IY({textValue:o,getRecordModel:i.getRecordModel,getRecordRole:i.getRecordRole,disableHover:n,disableStyleAnnotations:r,disableDateStyleAnnotations:a,disableLinks:S||!1,userTimeZone:(0,s.r)(),disabled:l,isAndroid:k.isAndroid,isSafariOrIOS:k.isSafari||k.isIOS,isWindows:k.isWindows,showEmojiInline:k.isWindows,emojiType:c,highlightDiscussionId:p,theme:f,intl:h.default.getIntl(),renderedPageBlockId:u,parentBlockId:m,katex:b,isClient:!0,baseUrl:g.Z.domainBaseUrl,publicDomainName:g.Z.publicDomainName,currentUserId:C.id,overwriteBaseUrlFromSpaceId:(0,T.b)(t),externalIntegrations:y.Z.integrations.state,formulaValueTypes:w,enableDeletedPageIndicator:_})}const z=function(e,t){return d.Xh({textValue:e,getRecordModel:t.getRecordModel,userTimeZone:(0,s.r)(),intl:h.default.getIntl()})};function W(e){let t="";if(B(e))t+=c.qy;else if((0,_.Xu)(e))t=c.fu;else if(R(e))t+=e.alt;else if(function(e){return C.kK(e)&&"br"===e.tagName.toLowerCase()}(e))t+="\n";else if(C.Gs(e))t+=e.textContent;else if(Z(e));else for(const o of Array.from(e.childNodes))t+=W(o);return t}const j=new RegExp(d.DQ,"g");function K(e){return e.replace(j,"")}const Y={[c.qy]:{deleteEndToken:new RegExp(`${c.qy}$`,"g"),deleteToken:new RegExp(`(${c.qy})([^${d.DQ}])`,"g"),existingToken:new RegExp(`${c.qy}${d.DQ}`,"g")},[c.fu]:{deleteEndToken:new RegExp(`${c.fu}$`,"g"),deleteToken:new RegExp(`(${c.fu})([^${d.DQ}])`,"g"),existingToken:new RegExp(`${c.fu}${d.DQ}`,"g")}};function G(e,t){if(!t)return"";let o=W(t);if(e.device.isAndroid)for(const[i,n]of Object.entries(Y))o=o.replace(n.deleteEndToken,"").replace(n.deleteToken,"$2").replace(n.existingToken,i);return"\n"===o[o.length-1]&&(o=o.substring(0,o.length-1)),o}function X(e,t,o){if(!e)return!1;let i=o,r=t;for(;r!==e&&!V(r);){const{parentNode:e}=r;if(!e)break;i=C.oG(e,r),r=e}if(V(r))return i>0;const a=n().findIndex(e.childNodes,V);return!(a<0)&&(r===e&&i>a)}function q(e,t){const o=(0,k.X1)(e);if(!o)return;const i=O(e,t),n=E(e);return{index:i,forceEmit:Boolean(n),afterEndOfLine:X(o,e,t)}}function $(e,t){if(t||(t=x.get()),t){const e=O(t.startContainer,t.startOffset),o=O(t.endContainer,t.endOffset),i=E(t.startContainer)||E(t.endContainer);return{selection:{startIndex:e,endIndex:o},forceEmitSelectionStore:Boolean(i)}}}function J(e,t,o){const i=U(e,t),n=U(e,o);return x.rangeFromContainerOffsets({start:i,end:n})}function Q(e,t,o,i){if(e===o&&t===i)return!0;if(F(e)!==F(o))return!1;if(A(e)!==A(o))return!1;const n=(0,k.X1)(e),r=(0,k.X1)(o);if(n!==r)return!1;if(O(e,t)!==O(o,i))return!1;return X(n,e,t)===X(r,o,i)}function ee(e,t){return!e&&!t||!(!e||!t)&&(e.startOffset===t.startOffset&&e.endOffset===t.endOffset&&e.startContainer===t.startContainer&&e.endContainer===t.endContainer||L(e.startContainer)&&L(t.startContainer)&&Q(e.startContainer,e.startOffset,t.startContainer,t.startOffset)&&Q(e.endContainer,e.endOffset,t.endContainer,t.endOffset))}function te(e){const{environment:t,event:o,textValue:i,editorNode:n,store:r,canEdit:a,disableEquationInteraction:s}=e,l=re({event:o,textValue:i,editorNode:n});(t.device.isFirefox||"editing"!==w.default.state.mode||w.default.isEmptySelection()||l&&(0,_.Xu)(l.node))&&l&&(s&&(0,_.Xu)(l.node)||u.VO({environment:t,event:o,interactiveToken:l,store:r,canEdit:a}))}function oe(e){const{environment:t,event:o,textValue:i,editorNode:n,store:r,parentStore:a,canEdit:s}=e,l=re({event:o,textValue:i,editorNode:n});l&&u.ON({environment:t,event:o,interactiveToken:l,store:r,parentStore:a,canEdit:s})}function ie(e){const{environment:t,event:o,textValue:i,editorNode:n,store:r,canEdit:a}=e,s=re({event:o,textValue:i,editorNode:n});s&&u.Nh({environment:t,event:o,interactiveToken:s,store:r,canEdit:a})}function ne(e){const{environment:t,event:o,textValue:i,editorNode:n,store:r,canEdit:a}=e;if(o.target===n)return void m.l();const s=re({event:o,textValue:i,editorNode:n});s&&u.Zl({environment:t,event:o,interactiveToken:s,store:r,canEdit:a})}function re(e){const{event:t,textValue:o,editorNode:i}=e,n=C.sh(t.target,(e=>Boolean(e.getAttribute&&e.getAttribute("data-token-index"))));if(n&&null!=i&&i.contains(n)){const e=n.getAttribute("data-token-index");if(e){const t=parseInt(e,10);if(o){const e=o[t];if(e)return{textValue:o,tokenIndex:t,textToken:e,node:n}}}}}const ae=e=>se({store:e.store,temporaryAnnotation:c.GK.TemporaryComment,multiSelection:b.Z.state.open&&"inline"===b.Z.state.type?b.Z.state.multiSelection:void 0}),se=e=>{const{store:t,temporaryAnnotation:o,multiSelection:i}=e,n=t.getValue();if(i){const e=(0,M.L5)(i).find((e=>{let{store:o}=e;return o===t}));if(e){const{selection:t}=e;return c.aS({textValue:n,selection:t,annotation:[o]})}}return n};function le(e){const{store:t,equationStore:o}=e;if(!o.isOpen())return;const i=(0,f.QY)(o.state.savedTextSelectionState.multiSelection);if(!i)return;const{store:n,selection:r}=i;if(t!==n)return;const a=n.getValue(),s=r.startIndex===r.endIndex?a:c.vY(a,r.startIndex,r.endIndex),l=_.qZ({equationState:o.state,isTemporary:!0});return l?c.P$(s,[l],r.startIndex):void 0}function ce(e){const{store:t,selection:o}=e,i=t.getValue();if(o.startIndex+1!==o.endIndex)return i;const n=c.b1(i,o.startIndex);if(!n||!c.eO(n))return i;const r=o.startIndex===o.endIndex?i:c.vY(i,o.startIndex,o.endIndex),a=(0,p.uh)(n[1],c.rI),s=[n[0],[...a,c.EP()]];return c.P$(r,[s],o.startIndex)}function de(e){const{store:t,mentionMenuState:o}=e,i=t.getValue();if(o.textStore!==t)return i;const n=o.temporaryInputData.get();if(!n)return i;const r=(0,P.O2)(t,o.oldTextValue,n.prefix);if(r&&r.prefix){const{tokensBeforeRange:e,tokensInsideRange:t,tokensAfterRange:o}=c.xr(i,r.prefix.startIndex,r.filter.endIndex),a=c.Q(t);return[...e,c.V3(a,[c.mF(n)]),...o]}return i}function pe(e){const{store:t,selection:o}=e,i=t.getValue(),{tokensBeforeRange:n,tokensInsideRange:r,tokensAfterRange:a}=c.xr(i,o.startIndex,o.endIndex),s=c.Q(r);return[...n,c.V3(s,[[c.GK.TemporarySelection]]),...a]}const ue=e=>{let{store:t,textValue:o}=e;if(!o)return o;if(t.table!==l.iU)return o;const i=S.G.createChildStore(t,{table:t.table,id:t.id});if(i.isInsideCollection()||i.isType("callout")||i.isType("code"))return o;let n=o;return(0,I.bB)((0,I.yJ)(i)).unresolved.forEach((e=>{const t=["m",e.id];n=c.aS({textValue:n,annotation:t,selection:{startIndex:0,endIndex:1/0}})})),n};function me(e){if(e.nodeType===Node.TEXT_NODE)return e;if(C.kK(e)&&"false"===e.getAttribute("contentEditable"))return e;let t;const o=C.kd(e);return o.forEach((e=>{var o;(null===(o=e.textContent)||void 0===o?void 0:o.indexOf("\n"))>=0&&(t=e)})),t||(o.length>0?o[o.length-1]:e)}function ge(e){const t=x.get();if(!t)return;const o=t.startContainer,i=(0,k.X1)(o),r=null==i?void 0:i.childNodes,a=!x.isExpanded(t);if(r&&(r.length>1||a)){const a=(0,k.g4)(o,i),h=n().findIndex(r,(e=>e===a));let f,v,y=!0,b=o,S=t.startOffset;if(0===S)for(let e=h-1;y&&e>=0;e--){const t=me(r[e]);if(t.nodeType===Node.TEXT_NODE){var s;const e=null===(s=t.textContent)||void 0===s?void 0:s.lastIndexOf("\n");var l,c;if(void 0!==e&&e>=0)null!==(l=t.textContent)&&void 0!==l&&l.length&&e+1<(null===(c=t.textContent)||void 0===c?void 0:c.length)&&(b=t,S=e+1),y=!1;else b=t,S=0}else b=t,S=0}y=!0;for(let e=h;y&&e<r.length;e++){const t=me(r[e]);if(t.nodeType===Node.TEXT_NODE){let e;var d,p,u,m;if(b===t)e=null===(d=t.textContent)||void 0===d?void 0:d.indexOf("\n",S);else e=null===(p=t.textContent)||void 0===p?void 0:p.indexOf("\n");if(void 0!==e&&e>=0)f=t,v=e+1===(null===(u=t.textContent)||void 0===u?void 0:u.length)?e:e+1,y=!1;else f=t,v=(null===(m=t.textContent)||void 0===m?void 0:m.length)||0}else{var g;f=t,v=(null===(g=t.textContent)||void 0===g?void 0:g.length)||0}}if(b&&f){const t=x.rangeFromContainerOffsets({start:{container:b,offset:S},end:{container:f,offset:v||0}});x.set(t,e)}}}},70764:(e,t,o)=>{o.d(t,{NP:()=>l,mO:()=>d,xt:()=>m,sw:()=>g,QS:()=>h});var i=o(20270),n=o(5366),r=o(95477),a=o(10161),s=o(30874);function l(e){const t=s.Z.state;return t.loaded?t.bots.filter((t=>t.integration_id===e)):[]}const c=(0,n.defineMessages)({invalidRequest:{id:"unfurlingHelpers.authenticatedErrorDescription.invalidRequest",defaultMessage:"The authentication request is invalid. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},unauthorizedClient:{id:"unfurlingHelpers.unauthorizedClient.",defaultMessage:"The client is not authorized to request an authorization code using this method. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},accessDenied:{id:"unfurlingHelpers.authenticatedErrorDescription.accessDenied",defaultMessage:"The resource owner or authorization server denied the request. Check with your organization or resource owner to ensure OAuth installation is enabled.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},unsupportedResponseType:{id:"unfurlingHelpers.authenticatedErrorDescription.unsupportedResponseType",defaultMessage:"The authorization server does not support obtaining an authorization code using this method. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},invalidScope:{id:"unfurlingHelpers.authenticatedErrorDescription.invalidScope",defaultMessage:"The requested scope is invalid. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},serverError:{id:"unfurlingHelpers.authenticatedErrorDescription.serverError",defaultMessage:"The authorization server encountered an unexpected condition that prevented it from fulfilling the request. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},temporarilyUnavailable:{id:"unfurlingHelpers.authenticatedErrorDescription.temporarilyUnavailable",defaultMessage:"The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server. Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration."},githubAppRequestAccessUnsupported:{id:"unfurlingHelpers.authenticatedErrorDescription.githubAppRequestAccessUnsupported",defaultMessage:"Request Access is not supported. You must be both a Github Admin and Notion Workspace Admin to connect the two apps.",description:"Error message that appears if you try to install the Github App without being an admin of the Github organization."},unknownError:{id:"unfurlingHelpers.authenticatedErrorDescription.unknownError",defaultMessage:"The authorization server responded with an unknown error (`{value}`). Please contact support if issue persists.",description:"Error message that appears if there was an issue authenticating with a Link Preview or DB Sync integration. Value will be a string error code like `invalid_form_data`."}});function d(e){return"invalid_request"===e?c.invalidRequest:"unauthorized_client"===e?c.unauthorizedClient:"access_denied"===e?c.accessDenied:"unsupported_response_type"===e?c.unsupportedResponseType:"invalid_scope"===e?c.invalidScope:"server_error"===e?c.serverError:"temporarily_unavailable"===e?c.temporarilyUnavailable:"github_app_request_access_unsupported"===e?c.githubAppRequestAccessUnsupported:c.unknownError}const p=(0,n.defineMessages)({unknownError:{id:"unfurlingHelpers.unfurlResponseError.unknownError",defaultMessage:"Can't load preview"},accessDenied:{id:"unfurlingHelpers.unfurlResponseError.accessDenied",defaultMessage:"Access denied"},reAuthenticate:{id:"unfurlingHelpers.unfurlResponseError.reAuthenticate",defaultMessage:"Re-authentication necessary",description:"User needs to re-authenticate their third party account."},notFound:{id:"unfurlingHelpers.unfurlResponseError.notFound",defaultMessage:"Content not found"},unprocessableEntity:{id:"unfurlingHelpers.unfurlResponseError.unprocessableEntity",defaultMessage:"Unrecognized URL",description:"The server could not process the resource and returned this brief error message."},rateLimited:{id:"unfurlingHelpers.unfurlResponseError.rateLimited",defaultMessage:"Too many requests"},serverError:{id:"unfurlingHelpers.unfurlResponseError.serverError",defaultMessage:"Can't load preview"},invalidRequest:{id:"unfurlingHelpers.unfurlResponseError.invalidRequest",defaultMessage:"Can't load preview"},authRefresh:{id:"unfurlingHelpers.unfurlResponseError.authRefresh",defaultMessage:"Fetching Preview"},githubNotAcceptable:{id:"unfurlingHelpers.unfurlResponseError.githubNotAcceptable",defaultMessage:"Need owner role",description:"User does not have owner rights to the external database they are trying to sync."},jiraNotAcceptable:{id:"unfurlingHelpers.unfurlResponseError.jiraNotAcceptable",defaultMessage:"Synced in another workspace",description:"User has synced the resource in another workspace which is now allowed with JIRA."},notAcceptable:{id:"unfurlingHelpers.unfurlResponseError.notAcceptable",defaultMessage:"Not Acceptable",description:"User does not have owner rights to the external database they are trying to sync."},databaseSyncLimit:{id:"unfurlingHelpers.unfurlResponseError.databaseSyncLimit",defaultMessage:"Synced Database limit reached",description:"User cannot create a synced database in a space where the limit has been reached."}}),u=(0,n.defineMessages)({unknownError:{id:"unfurlingHelpers.unfurlResponseErrorDescription.unknownError",defaultMessage:'There was an error trying to get information for this resource. Received error code "{statusCode}".',description:"This preview failed due to unknown reason. Please contact support."},accessDenied:{id:"unfurlingHelpers.unfurlResponseErrorDescription.accessDenied",defaultMessage:"You do not have appropriate permission to access this resource.",description:"User does not have requisite permissions to view the resource."},reAuthenticate:{id:"unfurlingHelpers.unfurlResponseErrorDescription.reAuthenticate",defaultMessage:"You need to re-authenticate your account to access this resource.",description:"User needs to re-authenticate their third party account."},notFound:{id:"unfurlingHelpers.unfurlResponseErrorDescription.notFound",defaultMessage:"The resource information for this link could not be found. It may no longer exist or you may not have appropriate permission to access it.",description:"The requested resource is not found. User might have lost permission or resource might have moved."},unprocessableEntity:{id:"unfurlingHelpers.unfurlResponseErrorDescription.unprocessableEntity",defaultMessage:"This url is not currently embedable by this integration.",description:"The server could not process the resource and returned this more descriptive error message when the user asks for more details about the error."},rateLimited:{id:"unfurlingHelpers.unfurlResponseErrorDescription.rateLimited",defaultMessage:'"{integrationName}" received too many requests for you or your organization. Please wait a few minutes and try again.',description:"Too many requests made in a short span of time. Wait a few minutes and try again."},serverError:{id:"unfurlingHelpers.unfurlResponseErrorDescription.serverError",defaultMessage:'Oh no! Seems like there was a "{integrationName}" server error. Received error code "{statusCode}".',description:"An error occurred while trying to reach the server. Please contact support."},invalidRequest:{id:"unfurlingHelpers.unfurlResponseErrorDescription.invalidRequest",defaultMessage:'There was an error trying to get information for this resource. Received error code "{statusCode}".',description:"The request made is invalid. Check the request parameters."},authRefresh:{id:"unfurlingHelpers.unfurlResponseErrorDescription.authRefresh",defaultMessage:"Fetching Preview via Login Update, please wait.",description:"Fetching Preview via Login Update, please wait."},githubNotAcceptable:{id:"unfurlingHelpers.unfurlResponseErrorDescription.githubNotAcceptable",defaultMessage:"You do not have appropriate permission to sync this resource. You need to have an owner role.",description:"User does not have owner rights to the external database they are trying to sync."},jiraNotAcceptable:{id:"unfurlingHelpers.unfurlResponseErrorDescription.jiraNotAcceptable",defaultMessage:"You have synced this resource in another workspace.",description:"User has synced the resource in another workspace which is now allowed with JIRA."},notAcceptable:{id:"unfurlingHelpers.unfurlResponseErrorDescription.notAcceptable",defaultMessage:"You do not have appropriate permission to sync this resource. You need to have an owner role.",description:"User does not have owner rights to the external database they are trying to sync."},databaseSyncLimit:{id:"unfurlingHelpers.unfurlResponseErrorDescription.databaseSyncLimit",defaultMessage:"Your workspace has hit the Synced Database limit.",description:"Shown if a user attempts to create a synced database in a space where the limit has been reached."}});function m(e,t){return void 0===e?{message:p.unknownError,description:u.unknownError}:401===e?{message:p.reAuthenticate,description:u.reAuthenticate}:439===e?{message:p.authRefresh,description:u.authRefresh}:403===e?{message:p.accessDenied,description:u.accessDenied}:404===e?{message:p.notFound,description:u.notFound}:422===e?{message:p.unprocessableEntity,description:u.unprocessableEntity}:429===e?{message:p.rateLimited,description:u.rateLimited}:406===e?"jira"===t?{message:p.jiraNotAcceptable,description:u.jiraNotAcceptable}:"github"===t?{message:p.githubNotAcceptable,description:u.githubNotAcceptable}:{message:p.notAcceptable,description:u.notAcceptable}:417===e?{message:p.databaseSyncLimit,description:u.databaseSyncLimit}:(0,i.Ms)(e)?{message:p.serverError,description:u.serverError}:{message:p.invalidRequest,description:u.invalidRequest}}function g(e){return!e.device.isMobileBrowser}function h(){return"local"===r.Z.env||"development"===r.Z.env||"on"===a.default.getGroup("beta-developers-external")}},15010:(e,t,o)=>{o.d(t,{QZ:()=>n,JF:()=>r,e2:()=>a,O5:()=>s});o(67219);var i=o(79315);o(93959);function n(){const{currentUserSettingsStore:e,currentSpaceStore:t}=i.default.state,o=(null==e?void 0:e.getSettings())||{},n=null==t?void 0:t.getPlanType();return"professional"===o.domain_type&&"team"===n}function r(){const{currentUserSettingsStore:e}=i.default.state;return((null==e?void 0:e.getSettings())||{}).domain_type}function a(e){const t=e.getSettings(),o=null==t?void 0:t.signup_time;return o?s(o):null}function s(e){return Math.floor((Date.now()-e)/864e5)}},56518:(e,t,o)=>{o.d(t,{xF:()=>i,IU:()=>n,Gp:()=>r,nZ:()=>a});const i="paste";function n(e){let t,o;const i=new Set,n=new Set;for(const r of e){const e=r.getParentBlockStore();if(e&&"column"===e.getType()){i.add(e.id),n.add(r.id);const a=e.getParentBlockStore();if(a&&"column_list"===a.getType()){o=a.getSpaceId();const e=a.id;if(void 0===t&&(t=e),t!==e)return}}}if(t&&i.size>1&&o)return{columnListId:t,columnIds:i,blockIds:n,spaceId:o}}function r(e){return`\x3c!-- notionvc: ${e} --\x3e`}function a(e){const t=e.match(/\<\!-- notionvc\: ([0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}) --\>$/i);return t?t[1]:void 0}},16187:(e,t,o)=>{o.d(t,{VN:()=>h,v6:()=>v,BG:()=>b,Sn:()=>S,SD:()=>w,Ol:()=>k});var i=o(96486),n=o.n(i),r=o(13991),a=o(41892),s=o(2032),l=o(61784),c=o(89837),d=o(32056),p=o(97880),u=o(5366),m=o(33929);const g=(0,u.defineMessages)({show_unique:{defaultMessage:"Show unique values",id:"database.aggregationFullName.unique_values"},count:{defaultMessage:"Count all",id:"database.aggregationFullName.count"},count_values:{defaultMessage:"Count values",id:"database.aggregationFullName.count_values"},unique:{defaultMessage:"Count unique values",id:"database.aggregationFullName.unique"},empty:{defaultMessage:"Count empty",id:"database.aggregationFullName.empty"},not_empty:{defaultMessage:"Count not empty",id:"database.aggregationFullName.not_empty"},percent_empty:{defaultMessage:"Percent empty",id:"database.aggregationFullName.percent_empty"},percent_not_empty:{defaultMessage:"Percent not empty",id:"database.aggregationFullName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationFullName.sum"},average:{defaultMessage:"Average",id:"database.aggregationFullName.average"},median:{defaultMessage:"Median",id:"database.aggregationFullName.median"},min:{defaultMessage:"Min",id:"database.aggregationFullName.min"},max:{defaultMessage:"Max",id:"database.aggregationFullName.max"},range:{defaultMessage:"Range",id:"database.aggregationFullName.range"},earliest_date:{defaultMessage:"Earliest date",id:"database.aggregationFullName.earliest_date"},latest_date:{defaultMessage:"Latest date",id:"database.aggregationFullName.latest_date"},date_range:{defaultMessage:"Date range",id:"database.aggregationFullName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationFullName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationFullName.unchecked"},percent_checked:{defaultMessage:"Percent checked",id:"database.aggregationFullName.percent_checked"},percent_unchecked:{defaultMessage:"Percent unchecked",id:"database.aggregationFullName.percent_unchecked"},count_per_group:{defaultMessage:"Count per group",id:"database.aggregationFullName.count_per_group",description:"Status Property aggregation that displays the number of pages with the selected Status Group."},percent_per_group:{defaultMessage:"Percent per group",id:"database.aggregationFullName.percent_per_group",description:"Status Property aggregation that displays the percentage of pages with the selected Status Group."}}),h={count:m.default.formatMessage(g.count),count_values:m.default.formatMessage(g.count_values),unique:m.default.formatMessage(g.unique),show_unique:m.default.formatMessage(g.show_unique),empty:m.default.formatMessage(g.empty),not_empty:m.default.formatMessage(g.not_empty),percent_empty:m.default.formatMessage(g.percent_empty),percent_not_empty:m.default.formatMessage(g.percent_not_empty),sum:m.default.formatMessage(g.sum),average:m.default.formatMessage(g.average),median:m.default.formatMessage(g.median),min:m.default.formatMessage(g.min),max:m.default.formatMessage(g.max),range:m.default.formatMessage(g.range),earliest_date:m.default.formatMessage(g.earliest_date),latest_date:m.default.formatMessage(g.latest_date),date_range:m.default.formatMessage(g.date_range),checked:m.default.formatMessage(g.checked),unchecked:m.default.formatMessage(g.unchecked),percent_checked:m.default.formatMessage(g.percent_checked),percent_unchecked:m.default.formatMessage(g.percent_unchecked),count_per_group:m.default.formatMessage(g.count_per_group),percent_per_group:m.default.formatMessage(g.percent_per_group)},f=(0,u.defineMessages)({count:{defaultMessage:"Count",id:"database.aggregationShortName.count"},count_values:{defaultMessage:"Values",id:"database.aggregationShortName.count_values"},unique:{defaultMessage:"Unique",id:"database.aggregationShortName.unique"},show_unique:{defaultMessage:"Show unique",id:"database.aggregationShortName.showUnique"},empty:{defaultMessage:"Empty",id:"database.aggregationShortName.empty"},not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.not_empty"},percent_empty:{defaultMessage:"Empty",id:"database.aggregationShortName.percent_empty"},percent_not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationShortName.sum"},average:{defaultMessage:"Average",id:"database.aggregationShortName.average"},median:{defaultMessage:"Median",id:"database.aggregationShortName.median"},min:{defaultMessage:"Min",id:"database.aggregationShortName.min"},max:{defaultMessage:"Max",id:"database.aggregationShortName.max"},range:{defaultMessage:"Range",id:"database.aggregationShortName.range"},earliest_date:{defaultMessage:"Earliest",id:"database.aggregationShortName.earliest_date"},latest_date:{defaultMessage:"Latest",id:"database.aggregationShortName.latest_date"},date_range:{defaultMessage:"Range",id:"database.aggregationShortName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationShortName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.unchecked"},percent_checked:{defaultMessage:"Checked",id:"database.aggregationShortName.percent_checked"},percent_unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.percent_unchecked"},count_per_group:{defaultMessage:"Count",id:"database.aggregationShortName.count_per_group",description:"Short name reference for Status Property aggregation count_per_group."},percent_per_group:{defaultMessage:"Percent",id:"database.aggregationShortName.percent_per_group",description:"Short name reference for Status Property aggregation percent_per_group."}}),v={count:m.default.formatMessage(f.count),count_values:m.default.formatMessage(f.count_values),unique:m.default.formatMessage(f.unique),show_unique:m.default.formatMessage(f.show_unique),empty:m.default.formatMessage(f.empty),not_empty:m.default.formatMessage(f.not_empty),percent_empty:m.default.formatMessage(f.percent_empty),percent_not_empty:m.default.formatMessage(f.percent_not_empty),sum:m.default.formatMessage(f.sum),average:m.default.formatMessage(f.average),median:m.default.formatMessage(f.median),min:m.default.formatMessage(f.min),max:m.default.formatMessage(f.max),range:m.default.formatMessage(f.range),earliest_date:m.default.formatMessage(f.earliest_date),latest_date:m.default.formatMessage(f.latest_date),date_range:m.default.formatMessage(f.date_range),checked:m.default.formatMessage(f.checked),unchecked:m.default.formatMessage(f.unchecked),percent_checked:m.default.formatMessage(f.percent_checked),percent_unchecked:m.default.formatMessage(f.percent_unchecked),count_per_group:m.default.formatMessage(f.count_per_group),percent_per_group:m.default.formatMessage(f.percent_per_group)},y=(0,u.defineMessages)({count:{defaultMessage:"Counts the total number of pages, including blank pages.",id:"database.aggregationDescription.count"},count_values:{defaultMessage:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",id:"database.aggregationDescription.count_values"},unique:{defaultMessage:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.unique"},show_unique:{defaultMessage:"Shows the unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.show_unique"},empty:{defaultMessage:"Counts the number of pages with an empty value for this property.",id:"database.aggregationDescription.empty"},not_empty:{defaultMessage:"Counts the number of pages with a non-empty value for this property.",id:"database.aggregationDescription.not_empty"},percent_empty:{defaultMessage:"Displays the percentage of pages that have an empty value for this property.",id:"database.aggregationDescription.percent_empty"},percent_not_empty:{defaultMessage:"Displays the percentage of pages that have a non-empty value for this property.",id:"database.aggregationDescription.percent_not_empty"},sum:{defaultMessage:"Computes the sum of a numeric property.",id:"database.aggregationDescription.sum"},average:{defaultMessage:"Computes the average of a numeric property.",id:"database.aggregationDescription.average"},median:{defaultMessage:"Finds the median of a numeric property.",id:"database.aggregationDescription.median"},min:{defaultMessage:"Finds the minimum of a numeric property.",id:"database.aggregationDescription.min"},max:{defaultMessage:"Finds the maximum of a numeric property.",id:"database.aggregationDescription.max"},range:{defaultMessage:"Computes the range (maximum - minimum) of a numeric property.",id:"database.aggregationDescription.range"},earliest_date:{defaultMessage:"Finds the earliest date in time of a date property.",id:"database.aggregationDescription.earliest_date"},latest_date:{defaultMessage:"Finds the latest date in time of a date property.",id:"database.aggregationDescription.latest_date"},date_range:{defaultMessage:"Computes the date range (latest date - earliest date) of a date property.",id:"database.aggregationDescription.date_range"},checked:{defaultMessage:"Counts the number of pages with a checked checkbox for this property.",id:"database.aggregationDescription.checked"},unchecked:{defaultMessage:"Counts the number of pages with an unchecked checkbox for this property.",id:"database.aggregationDescription.unchecked"},percent_checked:{defaultMessage:"Displays the percentage of pages that have a checked checkbox for this property.",id:"database.aggregationDescription.percent_checked"},percent_unchecked:{defaultMessage:"Displays the percentage of pages that have an unchecked checkbox for this property.",id:"database.aggregationDescription.percent_unchecked"},count_per_group:{defaultMessage:"Counts the total number of pages that have this Status Group.",id:"database.aggregationDescription.count_per_group",description:"Status Property aggregation that displays the number of pages with the selected Status Group."},percent_per_group:{defaultMessage:"Displays the percentage of pages that have this Status Group",id:"database.aggregationDescription.percent_per_group",description:"Status Property aggregation that displays the percentage of pages with the selected Status Group."}}),b={count:m.default.formatMessage(y.count),count_values:m.default.formatMessage(y.count_values),unique:m.default.formatMessage(y.unique),show_unique:m.default.formatMessage(y.show_unique),empty:m.default.formatMessage(y.empty),not_empty:m.default.formatMessage(y.not_empty),percent_empty:m.default.formatMessage(y.percent_empty),percent_not_empty:m.default.formatMessage(y.percent_not_empty),sum:m.default.formatMessage(y.sum),average:m.default.formatMessage(y.average),median:m.default.formatMessage(y.median),min:m.default.formatMessage(y.min),max:m.default.formatMessage(y.max),range:m.default.formatMessage(y.range),earliest_date:m.default.formatMessage(y.earliest_date),latest_date:m.default.formatMessage(y.latest_date),date_range:m.default.formatMessage(y.date_range),checked:m.default.formatMessage(y.checked),unchecked:m.default.formatMessage(y.unchecked),percent_checked:m.default.formatMessage(y.percent_checked),percent_unchecked:m.default.formatMessage(y.percent_unchecked),count_per_group:m.default.formatMessage(y.count_per_group),percent_per_group:m.default.formatMessage(y.percent_per_group)},S={count:a.Z.images.aggregations.countPng,count_values:a.Z.images.aggregations.countValuesPng,unique:a.Z.images.aggregations.uniquePng,show_unique:a.Z.images.aggregations.uniquePng,empty:a.Z.images.aggregations.emptyPng,not_empty:a.Z.images.aggregations.notEmptyPng,percent_empty:a.Z.images.aggregations.percentEmptyPng,percent_not_empty:a.Z.images.aggregations.percentNotEmptyPng,sum:a.Z.images.aggregations.sumPng,average:a.Z.images.aggregations.averagePng,median:a.Z.images.aggregations.medianPng,min:a.Z.images.aggregations.minPng,max:a.Z.images.aggregations.maxPng,range:a.Z.images.aggregations.rangePng,earliest_date:a.Z.images.aggregations.earliestDatePng,latest_date:a.Z.images.aggregations.latestDatePng,date_range:a.Z.images.aggregations.dateRangePng,checked:a.Z.images.aggregations.checkedPng,unchecked:a.Z.images.aggregations.uncheckedPng,percent_checked:a.Z.images.aggregations.percentCheckedPng,percent_unchecked:a.Z.images.aggregations.percentUncheckedPng,count_per_group:a.Z.images.aggregations.countPng,percent_per_group:a.Z.images.aggregations.percentCheckedPng};function w(e,t){switch(e){case"earliest_date":case"show_unique":case"latest_date":case"earliest_date":case"date_range":return;case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":return"percent";case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return"number";case"sum":case"average":case"median":case"min":case"max":case"range":return t??"number";default:switch(e.operator){case"count_per_group":return;case"percent_per_group":return"percent";default:(0,p.t1)(e.operator)}}}function k(e){const{aggregationType:t,value:o,userTimeZone:i,roundDecimal:a}=e;if("date"===o.type){if(!(0,s.Fw)(t))return;if(!o.value)return;return"date_range"===t?(0,l.LU)(o.value,i,m.default.getIntl()):(0,l.Yx)(c.uO(o.value,i),"medium",r.SP)}if((0,s.Fw)(t))return;if("show_unique"===t)return;if("object"==typeof o.value)return;if("string"==typeof o.value)return o.value;const p=void 0===o.value?void 0:n().round(o.value,a),u=w(t,e.numberFormat);return(0,d.uf)(p,u,m.default.getIntl())}},75079:(e,t,o)=>{o.d(t,{Pn:()=>s,vS:()=>l,ZO:()=>c,tN:()=>p});var i=o(77897),n=o(58421),r=o(10161),a=o(28209);function s(e){const t=null==e?void 0:e.collectionViewBlockStore(),o=null==e?void 0:e.collectionStore(),i=null==e?void 0:e.collectionViewStore(),r=null==e?void 0:e.filtersBarOpenStore.state,s=null==i?void 0:i.getType(),l=(null==e?void 0:e.settingsStore)&&(0,n.n)(null==e?void 0:e.settingsStore),c=null==t?void 0:t.id,d=a.Z.state.userHomePageId;return{view_type:s,settings_menu:null!=e&&e.settingsStore.get().open&&l?l.type:void 0,collection_id:null==o?void 0:o.id,collection_view_id:null==i?void 0:i.id,collection_view_block_id:c,filters_bar_open:r,is_in_my_tasks:d===c,is_in_wiki:null==t?void 0:t.isCollectionViewPageWithContent()}}function l(e){var t,o;if(!e)return;const i=null===(t=e.collectionStore())||void 0===t?void 0:t.getSchema();if(!i)return;const{has_relation_column:n,has_rollup_column:r,has_formula_column:a}=function(e){let t=!1,o=!1,i=!1;for(const n of Object.values(e))if("relation"===(null==n?void 0:n.type)&&(t=!0),"rollup"===(null==n?void 0:n.type)&&(o=!0),"formula"===(null==n?void 0:n.type)&&(i=!0),t&&o&&i)break;return{has_relation_column:t,has_rollup_column:o,has_formula_column:i}}(i);return{view_type:e.getViewType()||"unknown",row_count_category:c(null===(o=e.remoteResult.state)||void 0===o?void 0:o.sizeHint),column_count_category:d(i),has_relation_column:n,has_rollup_column:r,has_formula_column:a}}function c(e){return void 0===e?"unknown":e<=250?"0-250":e<=1e3?"250-1000":"1001_or_more"}function d(e){const t=Object.keys(e).length;return t<=10?"0-10":t<=20?"10-20":t<=50?"20-50":"51_or_more"}function p(e){const t=r.default.getConfigKey("event_trail_events",e)||{};return"sampleRate"in t&&"number"==typeof t.sampleRate&&(0,i.aw)(t.sampleRate)}},17335:(e,t,o)=>{o.d(t,{rn:()=>m,zZ:()=>h,WC:()=>v,Sj:()=>b,$7:()=>S,Fc:()=>w,Sb:()=>k,D0:()=>C,x:()=>M,HL:()=>T,ip:()=>I,cq:()=>B,qh:()=>N,li:()=>U,KV:()=>W,Qz:()=>j,SW:()=>Y,xe:()=>G});var i=o(96486),n=o.n(i),r=o(2032),a=o(76205),s=o(34299),l=o(97880),c=o(4308),d=o(5366),p=o(33929);const u={text:{operator:"string_contains",value:{type:"exact",value:void 0}},relation:{operator:"relation_contains",value:{type:"exact",value:void 0}},url:{operator:"string_contains",value:{type:"exact",value:void 0}},checkbox:{operator:"checkbox_is",value:{type:"exact",value:void 0}},created_by:{operator:"person_contains",value:{type:"exact",value:void 0}},last_edited_by:{operator:"person_contains",value:{type:"exact",value:void 0}},select:{operator:"enum_is",value:{type:"exact",value:void 0}},multi_select:{operator:"enum_contains",value:{type:"exact",value:void 0}},status:{operator:"status_is",value:{type:"is_group",value:void 0}},person:{operator:"person_contains",value:{type:"exact",value:void 0}},number:{operator:"number_equals",value:{type:"exact",value:void 0}},auto_increment_id:{operator:"number_equals",value:{type:"exact",value:void 0}},date:{operator:"date_is_relative_to",value:{type:"relative",value:"surrounding",unit:"week"}},created_time:{operator:"date_is",value:{type:"exact",value:void 0}},last_edited_time:{operator:"date_is",value:{type:"exact",value:void 0}},email:{operator:"string_contains",value:{type:"exact",value:void 0}},phone_number:{operator:"string_contains",value:{type:"exact",value:void 0}},title:{operator:"string_contains",value:{type:"exact",value:void 0}},file:{operator:"is_empty"},location:{operator:"location_is",value:{type:"exact",value:void 0}},verification:{operator:"verification_is",value:{type:"exact",value:void 0}}};function m(e){return u[e]}function g(e){return e.formula&&e.formula.result_type?m(e.formula.result_type):{operator:"is_empty"}}function h(e){const{property:t,schema:o}=e,i=o[t];if(!i||"button"===i.type)return{operator:"is_empty"};if("formula"===i.type)return g(i);if("rollup"===i.type){if(i.aggregation&&"show_unique"!==i.aggregation){return m((0,r.W6)((0,r.gu)(i.aggregation)))}{const t=(0,s.gT)(e);if(!t){return{operator:"any",subfilter:{operator:"is_empty"}}}if("rollup"===t.targetPropertySchema.type){return{operator:"any",subfilter:{operator:"is_empty"}}}if("formula"===t.targetPropertySchema.type){return{operator:"any",subfilter:g(t.targetPropertySchema)}}if("button"===t.targetPropertySchema.type)return{operator:"is_empty"};return{operator:"any",subfilter:m(t.targetPropertySchema.type)}}}return m(i.type)}const f=(0,d.defineMessages)({date_is_within:{defaultMessage:"Is between",id:"collectionFilterMenuHelpers.operator.dateIsWithin",description:"Option for selecting if a date is within a certain range to filter items on."},date_is_relative_to:{defaultMessage:"Is relative to today",id:"collectionFilterMenuHelpers.operator.dateIsRelativeTo",description:"Option for selecting a range relative to day to filter items on."},is_empty:{defaultMessage:"Is empty",id:"collectionFilterMenuHelpers.operator.isEmpty",description:"Option for selecting if a property is empty to filter items on."},is_not_empty:{defaultMessage:"Is not empty",id:"collectionFilterMenuHelpers.operator.isNotEmpty",description:"Option for selecting if a property is not empty to filter items on."},string_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.stringIs",description:"Option for selecting if a string is equal to a certain value to filter items on."},string_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.stringIsNot",description:"Option for selecting if a string is not equal to a certain value to filter items on."},string_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.stringContains",description:"Option for selecting if a string contains a certain value to filter items on."},string_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.stringDoesNotContain",description:"Option for selecting if a string does not contain a certain value to filter items on."},string_starts_with:{defaultMessage:"Starts with",id:"collectionFilterMenuHelpers.operator.stringStartsWith",description:"Option for selecting if a string starts with a certain value to filter items on."},string_ends_with:{defaultMessage:"Ends with",id:"collectionFilterMenuHelpers.operator.stringEndsWith",description:"Option for selecting if a string ends with a certain value to filter items on."},checkbox_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.checkboxIs",description:"Option for selecting if a checkbox is checked to filter items on."},checkbox_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.checkboxIsNot",description:"Option for selecting if a checkbox is not checked to filter items on."},enum_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.enumIs",description:"Option for selecting if a enum is equal to a certain value to filter items on."},enum_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.enumIsNot",description:"Option for selecting if a enum is not equal to a certain value to filter items on."},enum_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.enumContains",description:"Option for selecting if a enum contains a certain value to filter items on."},enum_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.enumDoesNotContain",description:"Option for selecting if a enum does not contain a certain value to filter items on."},status_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.statusIs",description:"Is one of the group/options for a status property"},status_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.statusIsNot",description:"Is not one of the group/options for a status property"},person_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.personContains",description:"Option for selecting if a person contains a certain value to filter items on."},person_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.personDoesNotContain",description:"Option for selecting if a person does not contain a certain value to filter items on."},relation_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.relationContains",description:"Option for selecting if a relation contains a certain value to filter items on."},relation_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.relationDoesNotContain",description:"Option for selecting if a relation does not contain a certain value to filter items on."},location_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.locationIs",description:"A description of a filter used to denote that an item's location matches a given value"},location_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.locationIsNot",description:"A description of a filter used to denote that an item's location does not a given value"},number_equals:{defaultMessage:"=",id:"collectionFilterMenuHelpers.operator.numberEquals",description:"Option for selecting if a number is equal to a certain value to filter items on."},number_does_not_equal:{defaultMessage:"≠",id:"collectionFilterMenuHelpers.operator.numberDoesNotEqual",description:"Option for selecting if a number is not equal to a certain value to filter items on."},number_greater_than:{defaultMessage:">",id:"collectionFilterMenuHelpers.operator.numberGreaterThan",description:"Option for selecting if a number is greater than a certain value to filter items on."},number_less_than:{defaultMessage:"<",id:"collectionFilterMenuHelpers.operator.numberLessThan",description:"Option for selecting if a number is less than a certain value to filter items on."},number_greater_than_or_equal_to:{defaultMessage:"≥",id:"collectionFilterMenuHelpers.operator.numberGreaterThanOrEqualTo",description:"Option for selecting if a number is greater than or equal to a certain value to filter items on."},number_less_than_or_equal_to:{defaultMessage:"≤",id:"collectionFilterMenuHelpers.operator.numberLessThanOrEqualTo",description:"Option for selecting if a number is less than or equal to a certain value to filter items on."},date_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.dateIs",description:"Option for selecting if a date is equal to a certain value to filter items on."},date_is_before:{defaultMessage:"Is before",id:"collectionFilterMenuHelpers.operator.dateIsBefore",description:"Option for selecting if a date is before a certain value to filter items on."},date_is_after:{defaultMessage:"Is after",id:"collectionFilterMenuHelpers.operator.dateIsAfter",description:"Option for selecting if a date is after a certain value to filter items on."},date_is_on_or_before:{defaultMessage:"Is on or before",id:"collectionFilterMenuHelpers.operator.dateIsOnOrBefore",description:"Option for selecting if a date is on or before a certain value to filter items on."},date_is_on_or_after:{defaultMessage:"Is on or after",id:"collectionFilterMenuHelpers.operator.dateIsOnOrAfter",description:"Option for selecting if a date is on or after a certain value to filter items on."},any:{defaultMessage:"Any",id:"collectionFilterMenuHelpers.operator.any",description:"Option for selecting if a property contains any value to filter items on."},none:{defaultMessage:"None",id:"collectionFilterMenuHelpers.operator.none",description:"Option for selecting if a property contains no value to filter items on."},every:{defaultMessage:"Every",id:"collectionFilterMenuHelpers.operator.every",description:"Option for selecting if a property contains every value to filter items on."},string_has_no_alphabet_prefix:{defaultMessage:"(Not used)",id:"collectionFilterMenuHelpers.operator.stringHasNoAlphabetPrefix",description:"Option for selecting if a string has no alphabet prefix to filter items on."},verification_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.verificationStateIs",description:"Filter operator to filter pages in a wiki with a verification state that matches any user-selected states."},verification_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.verificationStateIsNot",description:"Filter operator to filter pages in a wiki with a verification state that does not match any user-selected states."}});function v(e){return p.default.formatMessage(f[e])}const y=(0,d.defineMessages)({today:{defaultMessage:"Today",id:"collectionFilterMenuHelpers.relativeDates.today",description:"Option for selecting today as a relative date to filter items on."},tomorrow:{defaultMessage:"Tomorrow",id:"collectionFilterMenuHelpers.relativeDates.tomorrow",description:"Option for selecting tomorrow as a relative date to filter items on."},yesterday:{defaultMessage:"Yesterday",id:"collectionFilterMenuHelpers.relativeDates.yesterday",description:"Option for selecting yesterday as a relative date to filter items on."},one_week_ago:{defaultMessage:"One week ago",id:"collectionFilterMenuHelpers.relativeDates.oneWeekAgo",description:"Option for selecting one week ago as a relative date to filter items on."},one_week_from_now:{defaultMessage:"One week from now",id:"collectionFilterMenuHelpers.relativeDates.oneWeekFromNow",description:"Option for selecting one week from now as a relative date to filter items on."},one_month_ago:{defaultMessage:"One month ago",id:"collectionFilterMenuHelpers.relativeDates.oneMonthAgo",description:"Option for selecting one month ago as a relative date to filter items on."},one_month_from_now:{defaultMessage:"One month from now",id:"collectionFilterMenuHelpers.relativeDates.oneMonthFromNow",description:"Option for selecting one month from now as a relative date to filter items on."}}),b=(0,d.defineMessages)({past:{defaultMessage:"Past",id:"collectionFilterMenuHelpers.relativeDates.past",description:"Label for option allowing user to filter by things that happened in the past X days/week/months/etc."},future:{defaultMessage:"Next",id:"collectionFilterMenuHelpers.relativeDates.next",description:"Label for option allowing user to filter by things that happened in the next X days/weeks/months etc."}}),S=(0,d.defineMessages)({direction:{defaultMessage:"Direction",id:"collectionFilterMenuHelpers.relativeDates.direction",description:"Label for option allowing user to filter dates in the direction of the past, future, or present"},unit:{defaultMessage:"Unit",id:"collectionFilterMenuHelpers.relativeDates.unit",description:"Label for option allowing user to filter dates based on a certain unit (days/weeks/months, etc.)"}}),w=(0,d.defineMessages)({this:{defaultMessage:"This",id:"collectionFilterMenuHelpers.relativedates.this",description:"Label for option allowing user to filter by things that happened this week/month/year"}}),k=(0,d.defineMessages)({day:{defaultMessage:"day",id:"collectionFilterMenuHelpers.relativeDates.day",description:"Label for option allowing a user to select one day"},week:{defaultMessage:"week",id:"collectionFilterMenuHelpers.relativeDates.week",description:"Allowing a user to select one week."},month:{defaultMessage:"month",id:"collectionFilterMenuHelpers.relativeDates.month",description:"Allowing a user to select one month."},year:{defaultMessage:"year",id:"collectionFilterMenuHelpers.relativeDates.year",description:"Allowing a user to select one year."}}),C=(0,d.defineMessages)({day:{defaultMessage:"days",id:"collectionFilterMenuHelpers.relativeDates.days",description:"Label for option allowing a user to select X number of days."},week:{defaultMessage:"weeks",id:"collectionFilterMenuHelpers.relativeDates.weeks",description:"Label for option allowing a user to select X number of weeks."},month:{defaultMessage:"months",id:"collectionFilterMenuHelpers.relativeDates.months",description:"Label for option allowing a user to select X number of months."},year:{defaultMessage:"years",id:"collectionFilterMenuHelpers.relativeDates.years",description:"Label for option allowing a user to select X number of years."}}),_=(0,d.defineMessages)({exactDate:{defaultMessage:"Custom date",id:"collectionFilterMenuHelpers.relativeDates.exactDate",description:"Label for an option that allows the user to specify a custom date range to filter within."},exactDateRange:{defaultMessage:"Exact dates",id:"collectionFilterMenuHelpers.relativeDates.exactDateRange",description:"Label for an option that allows the user to specify an exact date range to filter within."}});function M(e){return"exact"===e.type?p.default.formatMessage(_.exactDate):p.default.formatMessage(y[e.value])}const T=(0,d.defineMessages)({custom:{defaultMessage:"Relative range",id:"collectionFilterMenuHelpers.relativeDates.range",description:"Label for an option to filter a collection based on items with a date within a user-specified range"},surrounding:{defaultMessage:"Surrounding range",id:"collectionFilterMenuHelpers.relativeDates.customRange",description:"Label for an option to filter a collection based on items with a date within a user-specified range"},this_week:{defaultMessage:"This week",id:"collectionFilterMenuHelpers.relativeDates.thisWeek",description:"Label for an option to filter a collection based on items with a date within the current week"},the_past_week:{defaultMessage:"The past week",id:"collectionFilterMenuHelpers.relativeDates.thePastWeek",description:"Label for an option to filter a collection based on items with a date within the past 7 days"},the_past_month:{defaultMessage:"The past month",id:"collectionFilterMenuHelpers.relativeDates.thePastMonth",description:"Label for an option to filter a collection based on items with a date within the past month"},the_past_year:{defaultMessage:"The past year",id:"collectionFilterMenuHelpers.relativeDates.thePastYear",description:"Label for an option to filter a collection based on items with a date within the past year"},the_next_week:{defaultMessage:"The next week",id:"collectionFilterMenuHelpers.relativeDates.theNextWeek",description:"Label for an option to filter a collection based on items with a date within the next 7 days"},the_next_month:{defaultMessage:"The next month",id:"collectionFilterMenuHelpers.relativeDates.theNextMonth",description:"Label for an option to filter a collection based on items with a date within the next month"},the_next_year:{defaultMessage:"The next year",id:"collectionFilterMenuHelpers.relativeDates.theNextYear",description:"Label for an option to filter a collection based on items with a date within the next year"}});function I(e){return"custom"===e.value?function(e){const t=p.default.formatMessage(b[e.direction]),o=1===e.count?p.default.formatMessage(k[e.unit]):p.default.formatMessage(C[e.unit]);return 1===e.count?`${t} ${o}`:`${t} ${e.count} ${o}`}(e):"surrounding"===e.value?function(e){const t=p.default.formatMessage(k[e.unit]);return`${p.default.formatMessage(w.this)} ${t}`}(e):"exact"===e.type?p.default.formatMessage(_.exactDateRange):"relative"===e.type?p.default.formatMessage(T[e.value]):void(0,l.t1)(e)}const P=(0,d.defineMessages)({and:{defaultMessage:"And",id:"collectionFilterMenuHelpers.combinatorOperators.and",description:"Label for an option to filter a collection based on items that match all of the specified filters"},or:{defaultMessage:"Or",id:"collectionFilterMenuHelpers.combinatorOperators.or",description:"Label for an option to filter a collection based on items that match any of the specified filters"}}),x=(0,d.defineMessages)({checked:{defaultMessage:"Checked",id:"collectionFilterMenuHelpers.checkbox.checked",description:"Label for a checkbox that is checked"},unchecked:{defaultMessage:"Unchecked",id:"collectionFilterMenuHelpers.checkbox.unchecked",description:"Label for a checkbox that is unchecked"}});function B(e){return e.value?p.default.formatMessage(c.A3(e.value)):""}const Z=e=>{let{filter:t,schema:o}=e;return V({filter:t.subfilter,schema:o})},E=e=>{let{filter:t}=e;return M(t.value)},R=e=>{let{filter:t}=e;return I(t.value)},A=e=>{let{filter:t}=e;return`"${t.value.value||""}"`},D=e=>{let{filter:t}=e;return void 0===t.value.value?void 0:t.value.value.toString()},F=e=>{let{filter:t}=e;return function(e){const t=e.value?x.checked:x.unchecked;return p.default.formatMessage(t)}(t.value)},L={is_empty:()=>{},is_not_empty:()=>{},string_is:A,string_is_not:A,string_contains:A,string_does_not_contain:A,string_starts_with:A,string_ends_with:A,checkbox_is:F,checkbox_is_not:F,enum_is:A,enum_is_not:A,enum_contains:A,enum_does_not_contain:A,status_is:A,status_is_not:A,relation_contains:()=>{},relation_does_not_contain:()=>{},person_contains:()=>{},person_does_not_contain:()=>{},location_is:()=>{},location_is_not:()=>{},number_equals:D,number_does_not_equal:D,number_greater_than:D,number_less_than:D,number_greater_than_or_equal_to:D,number_less_than_or_equal_to:D,date_is:E,date_is_before:E,date_is_after:E,date_is_on_or_before:E,date_is_on_or_after:E,date_is_within:R,date_is_relative_to:R,any:Z,none:Z,every:Z,string_has_no_alphabet_prefix:()=>{},verification_is:A,verification_is_not:A};function V(e){const{filter:t}=e,o=v(t.operator),i=L[t.operator](e);return n().compact([o,i]).join(" ")}function N(e){const{filter:t,schema:o}=e;if((0,a.vA)(t)){const e=t.filters||[],i=n().compact(e.map((e=>{const t=N({filter:e,schema:o});if(t)return(0,a.vA)(e)?`(${t})`:t}))),r=p.default.formatMessage(P[t.operator]);return i.join(` ${r} `)}if((0,a.aN)(t)){const e=o[t.property];if(!e)return;const i=t.filter,r=e.name,a=V({filter:i,schema:o});return n().compact([r,a]).join(" ")}}const O={text:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:"string_has_no_alphabet_prefix"===e.operator?{operator:t}:{operator:t,value:e.value}},number:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},checkbox:function(e,t){return{operator:t,value:e.value}},select:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},multi_select:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},status:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"is_option",value:void 0}}:{operator:t,value:e.value}},relation:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},person:function(e,t){return(0,a._N)(t)?{operator:t}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},date:function(e,t,o){return(0,a._N)(t)?{operator:t}:"date_is_within"===t?"date_is_within"!==e.operator?{operator:t,value:{type:"exact",value:void 0}}:e:"date_is_relative_to"===t?"date_is_relative_to"!==e.operator?{operator:t,value:{type:"relative",value:"surrounding",unit:"week"}}:e:(0,a.TQ)(e)?"combinator"===o?{operator:t,value:{type:"relative",value:"today"}}:{operator:t,value:{type:"exact",value:void 0}}:(0,a.mv)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},file:function(e,t){return{operator:t}},location:function(e,t){return{operator:t,value:e.value}},verification:function(e,t){return{operator:t,value:e.value}}};function U(e,t,o,i){return(0,O[e])(t,o,i)}const H=(0,d.defineMessages)({and:{defaultMessage:"And",id:"database.filterOperators.and",description:"The logical operator 'and'."},or:{defaultMessage:"Or",id:"database.filterOperators.or",description:"The logical operator 'or'."}}),z=(0,d.defineMessages)({and:{defaultMessage:"All filters must match",id:"database.filterOperators.andCaption",description:"Caption describing the logical operator 'and'."},or:{defaultMessage:"At least one filter must match",id:"database.filterOperators.orCaption",description:"Caption describing the logical operator 'or'."}});function W(e,t){return"and"===e?t.formatMessage(H.and):t.formatMessage(H.or)}function j(e,t){return"and"===e?t.formatMessage(z.and):t.formatMessage(z.or)}const K=(0,d.defineMessages)({any:{defaultMessage:"Any",id:"database.filterOperators.any",description:"The logical operator 'any'."},every:{defaultMessage:"Every",id:"database.filterOperators.every",description:"The logical operator 'every'."},none:{defaultMessage:"None",id:"database.filterOperators.none",description:"The logical operator 'none'."}});function Y(e,t){return"any"===e?t.formatMessage(K.any):"every"===e?t.formatMessage(K.every):t.formatMessage(K.none)}const G=(0,d.defineMessages)({number:{id:"collectionFilterMenuFilter.filterOperators.number.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. This only applies to the number filter types"},text:{id:"collectionFilterMenuFilter.filterOperators.text.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the text filter types"},checkbox:{id:"collectionFilterMenuFilter.filterOperators.checkbox.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the checkbox filter types."},select:{id:"collectionFilterMenuFilter.filterOperators.select.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the select filter types."},multi_select:{id:"collectionFilterMenuFilter.filterOperators.multi_select.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the multi_select filter types."},status:{id:"collectionFilterMenuFilter.filterOperators.status.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the status filter types."},relation:{id:"collectionFilterMenuFilter.filterOperators.relation.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the relation filter types."},location:{id:"collectionFilterMenuFilter.filterOperators.location.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the location filter types."},person:{id:"collectionFilterMenuFilter.filterOperators.person.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the person filter types."},date:{id:"collectionFilterMenuFilter.filterOperators.date.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the date filter types."},file:{id:"collectionFilterMenuFilter.filterOperators.file.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the file filter types."},verification:{id:"collectionFilterMenuFilter.filterOperators.verification.order",defaultMessage:"{operator}{operatorValue}",description:"This is used to determine the order of filter operators and values in the database filter menu. The filter by default looks like <Column name> <operator> <operator value> (e.g. title starts with hello). In order to reorder this for certain locales, set the translation to {operatorValue}{operator}. If you want to show the text for property, add property to the translation. For example, the expected Korean translation would be '<translated word for property> {operator}{operatorValue}' This only applies to the file filter types."}})},92918:(e,t,o)=>{o.d(t,{XD:()=>u,kW:()=>m,ew:()=>g,ej:()=>h,nr:()=>f,ar:()=>v,ds:()=>y,Cz:()=>b,h6:()=>C,II:()=>_,_1:()=>M});var i=o(96486),n=o.n(i),r=o(14714),a=o(99036),s=o(8848),l=o(67219),c=o(97880),d=o(26991),p=o(29376);const u=10,m=10,g=50;function h(e){const{groupBy:t,schema:o,format:i,filter:n,groupsFormatKey:a,limit:s}=e,l=o[t.property];if(!l||!(0,r.LG)(l))return;const c=i[a]||[],d=c.reduce(((e,t)=>(0,r.eF)(t)?e+1:e),0);return{type:"groups",groupBy:t,filter:n,groupSortPreference:c.map((e=>e.value)),limit:s+d}}function f(e,t,o){const i=e.filter((e=>!(0,r.ZH)(e,t))),n=i.filter((e=>!(0,r.eF)(e))),a=i.filter((e=>(0,r.eF)(e)));return[...n.slice(0,o-1),t,...n.slice(o-1),...a]}function v(e,t){const o=e.filter((e=>!(0,r.ZH)(e,t))),i=o.filter((e=>!(0,r.eF)(e))),n=o.filter((e=>(0,r.eF)(e)));return[...i,t,...n]}function y(e){return!e.device.isPhone&&(e.isFullScreen||e.isRootChild)}function b(e){const{schema:t,groupBy:o,schemaGroups:i,reducerResults:a,relativeVariableResult:s,getRecordValue:p,viewAppConfigUri:u}=e;if(!o)return[];const m=t[o.property];if(!m||!(0,r.LG)(m))return[];const g=[...e.formatGroups,...i&&!a?i.map((e=>({property:o.property,value:e}))):[]];let h;if("manual"===(0,r.mu)(o).type){if(h=g,a)for(const{value:n}of a){const e={property:o.property,value:n};h.push(e)}}else{const e=new Map;for(const t of g)e.set((0,r.mD)(t),t);h=a?a.map((t=>{let{value:i}=t;return e.get((0,r.Hd)(i))||{property:o.property,value:i}})):[];for(const t of g)h.push(t)}if(a){if(o.hideEmptyGroups){const e=new Set,t=new Set;for(const o of a){const i=(0,r.Hd)(o.value);0===o.total?t.add(i):e.add(i)}h=h.map((o=>{const i=(0,r.mD)(o);if(t.has(i))return{...o,emptyHidden:!0};if(e.has(i)){const e={...o};return delete e.emptyHidden,e}return o}))}else h=h.map((e=>{if(e.emptyHidden){const t={...e};return delete t.emptyHidden,t}return e}));h=u===l.sV&&o.property===l.oG?h.map((e=>"relation"===e.value.type&&(0,r.t2)(e.value.value)?e:{...e,hiddenByDefault:!0})):h.map((e=>{if(e.hiddenByDefault){const t={...e};return delete t.hiddenByDefault,t}return e}))}const f=h.filter((e=>{if(e.property!==o.property)return!1;const t=e.value;if(t.type!==m.type)return!1;if(void 0===t.value)return!0;if("select"===m.type){return(m.options||[]).some((e=>e.value===t.value))}if("multi_select"===m.type){return(m.options||[]).some((e=>e.value===t.value))}if("status"===m.type){const e=m.options??[],i=m.groups??[];if("status"!==t.type)return!1;const{value:n}=t;return"by_group"===n.type?("status"!==o.type||"group"===o.groupBy)&&i.some((e=>e.name===n.group)):"by_option"===n.type&&(("status"!==o.type||"option"===o.groupBy)&&e.some((e=>e.value===n.option)))}if((0,r.A1)(m.type))return w(e.value,o);if((0,r.HB)(m.type))return S(e.value,o);if("number"===m.type)return k(e.value,o);if("formula"===m.type){if(!m.formula||!m.formula.result_type)return!1;if("formula"!==e.value.type||"formula"!==o.type)return!1;const t=e.value.value;if(!t)return!0;if(t.type!==m.formula.result_type)return!1;const i=o.groupBy;if("date"===t.type)return w(t,{...i,property:o.property});if("checkbox"===t.type)return!0;if("number"===t.type)return k(t,{...i,property:o.property});if((0,r.R7)(t))return S(t,{...i,property:o.property});(0,c.t1)(t)}return"relation"===m.type?function(e,t,o,i,n){var a;if(!t||!t.value)return!0;if("relation"!==o.type||"relation"!==t.type)return!1;if((0,r.t2)(t.value)){var s,l;const o=e.collection_pointer&&i(e.collection_pointer);if(!n||!o)return!1;const r=null==o||null===(s=o.format)||void 0===s?void 0:s.app_config_uri,a=null==o?void 0:o.schema,c=null===(l=n[o.id])||void 0===l?void 0:l[t.value.value.variable];return(0,d.Sh)(a,r)&&c}const c=i(t.value);return Boolean(c&&c.alive&&(c.parent_id===e.collection_id||c.parent_id===(null===(a=e.collection_pointer)||void 0===a?void 0:a.id)))}(m,e.value,o,p,s):"location"===m.type?function(e,t,o){if(!e||!e.value)return!0;if("location"!==t.type||"location"!==e.type)return!1;const i=o(e.value);return Boolean(i)}(e.value,o,p):!(!(0,r.pd)(m.type)&&"checkbox"!==m.type)||void(0,c.t1)(m.type)}));return n().uniqBy(f,(e=>(0,r.mD)(e)))}function S(e,t){if(!e||!e.value)return!0;if(!(0,r.aB)(t)||!(0,r.R7)(e)||!t.groupBy)return!1;const o=e.value.type;return"alphabet_prefix"===t.groupBy?"alphabet_prefix"===o||"other"===o:"exact"===t.groupBy?"exact"===o:void(0,c.t1)(t.groupBy)}function w(e,t){if(!e||!e.value)return!0;if(!(0,r.ib)(t)||!(0,r.Mc)(e)||!t.groupBy)return!1;const o=e.value.type;return"relative"===t.groupBy?"today"===o||"yesterday"===o||"last_7_days"===o||"last_30_days"===o||"tomorrow"===o||"next_7_days"===o||"next_30_days"===o||"month"===o:"day"===t.groupBy?"day"===o:"week"===t.groupBy?"week"===o:"month"===t.groupBy?"month"===o:"year"===t.groupBy?"year"===o:void(0,c.t1)(t.groupBy)}function k(e,t){if(!e||!e.value)return!0;if("number"!==t.type||"number"!==e.type)return!1;const o=e.value;if("out_of_range"===o.type)return o.start===t.start&&o.end===t.end;if("range"===o.type){const e=(0,r.n6)(o.start,t.start,t.end,t.size);return e&&"range"===e.type&&e.start===o.start}(0,c.t1)(o)}function C(e,t){var o;const i=t.collectionViewStore(),n=null==i||null===(o=i.getFormat().board_columns_by)||void 0===o?void 0:o.disableBoardColorColumns;return void 0===n||n}function _(e){const{environment:t,groupFormat:o,schema:i,format:n,collectionContextStore:c,theme:d}=e,u=C(0,c);if(n.collection_group_by||!u){if(o){const e=i[o.property];if(e&&!u){const t=o.value;if((0,a.cu)(e)){const o=(e.options||[]).find((e=>e.value===t.value));return(0,s.bw)(d,null==o?void 0:o.color)}if("status"===e.type&&"status"===t.type){var m,g;let o;if("by_group"===(null===(m=t.value)||void 0===m?void 0:m.type)){var h,f;const i=t.value.group;o=null===(h=e.groups)||void 0===h||null===(f=h.find((e=>e.name===i)))||void 0===f?void 0:f.color}else if("by_option"===(null===(g=t.value)||void 0===g?void 0:g.type)){var v,y;const i=t.value.option;o=null===(v=e.options)||void 0===v||null===(y=v.find((e=>e.value===i)))||void 0===y?void 0:y.color}return(0,s.bw)(d,o)}if("relation"===e.type&&"relation"===t.type&&(0,r.t2)(t.value)){const o=c.collectionStore();if(!o)return(0,s.bw)(d,"default");const i=(0,p.gO)(e,o),n=(0,p.uJ)(e,o),r=null==i?void 0:i.getPropertyMapping(),a=null==r?void 0:r[l.Zb],u=n&&a&&n[a];if(u&&"status"===u.type){var b,S;const e=t.value.value.variable,o=null===(b=u.options)||void 0===b||null===(S=b.find((t=>t.id===e)))||void 0===S?void 0:S.color;if(o)return(0,s.bw)(d,o)}}}}return(0,s.bw)(d,"default")}}function M(e){return!("board"===e.viewType&&"board_columns_by"===e.groupByKey)}},52821:(e,t,o)=>{o.d(t,{SO:()=>h,Tr:()=>f,Rb:()=>y,Bh:()=>S,sN:()=>k,aW:()=>C,DL:()=>_,oy:()=>M,_Y:()=>T,Km:()=>I,JI:()=>P,K8:()=>x,TP:()=>Z,Sb:()=>E,_W:()=>R,r_:()=>A});var i=o(41892),n=o(41432),r=o(99036),a=o(80951),s=o(3779),l=o(19889),c=o(5366),d=o(33929),p=o(79315),u=o(10161),m=o(37034);const g=(0,c.defineMessages)({title:{defaultMessage:"Title",id:"database.propertyTypeName.title"},text:{defaultMessage:"Text",id:"database.propertyTypeName.text"},number:{defaultMessage:"Number",id:"database.propertyTypeName.number"},url:{defaultMessage:"URL",id:"database.propertyTypeName.url"},select:{defaultMessage:"Select",id:"database.propertyTypeName.select"},multi_select:{defaultMessage:"Multi-select",id:"database.propertyTypeName.multi_select"},status:{defaultMessage:"Status",id:"database.propertyTypeName.status",description:"Status property is a property type that models state change"},person:{defaultMessage:"Person",id:"database.propertyTypeName.person"},email:{defaultMessage:"Email",id:"database.propertyTypeName.email"},phone_number:{defaultMessage:"Phone",id:"database.propertyTypeName.phone_number"},date:{defaultMessage:"Date",id:"database.propertyTypeName.date"},file:{defaultMessage:"Files & media",id:"database.propertyTypeName.file"},checkbox:{defaultMessage:"Checkbox",id:"database.propertyTypeName.checkbox"},formula:{defaultMessage:"Formula",id:"database.propertyTypeName.formula"},relation:{defaultMessage:"Relation",id:"database.propertyTypeName.relation"},rollup:{defaultMessage:"Rollup",id:"database.propertyTypeName.rollup"},created_time:{defaultMessage:"Created time",id:"database.propertyTypeName.created_time"},created_by:{defaultMessage:"Created by",id:"database.propertyTypeName.created_by"},last_edited_time:{defaultMessage:"Last edited time",id:"database.propertyTypeName.last_edited_time"},last_edited_by:{defaultMessage:"Last edited by",id:"database.propertyTypeName.last_edited_by"},button:{defaultMessage:"Button",id:"database.propertyTypeName.button",description:"Name of property button type."},auto_increment_id:{defaultMessage:"ID",id:"database.propertyTypeName.auto_increment_id",description:"ID of the page in the format of integers"},location:{defaultMessage:"Location",id:"database.propertyTypeName.location",description:"The location where the given DB item lives"},verification:{defaultMessage:"Verification",id:"database.propertyTypeName.verification",description:"Name of the verification property on a database."}}),h={title:d.default.formatMessage(g.title),text:d.default.formatMessage(g.text),number:d.default.formatMessage(g.number),url:d.default.formatMessage(g.url),select:d.default.formatMessage(g.select),multi_select:d.default.formatMessage(g.multi_select),status:d.default.formatMessage(g.status),person:d.default.formatMessage(g.person),email:d.default.formatMessage(g.email),phone_number:d.default.formatMessage(g.phone_number),date:d.default.formatMessage(g.date),file:d.default.formatMessage(g.file),checkbox:d.default.formatMessage(g.checkbox),formula:d.default.formatMessage(g.formula),relation:d.default.formatMessage(g.relation),rollup:d.default.formatMessage(g.rollup),created_time:d.default.formatMessage(g.created_time),created_by:d.default.formatMessage(g.created_by),last_edited_time:d.default.formatMessage(g.last_edited_time),last_edited_by:d.default.formatMessage(g.last_edited_by),button:d.default.formatMessage(g.button),auto_increment_id:d.default.formatMessage(g.auto_increment_id),location:d.default.formatMessage(g.location),verification:d.default.formatMessage(g.verification)};(0,c.defineMessages)({text:{defaultMessage:"A single line of text.",id:"database.propertyTypeDescription.text"},number:{defaultMessage:"A number, with options to format as currency, percent, and more.",id:"database.propertyTypeDescription.number"},url:{defaultMessage:"A link to a page on the web.",id:"database.propertyTypeDescription.url"},select:{defaultMessage:"Select from a list of options.",id:"database.propertyTypeDescription.select"},multi_select:{defaultMessage:"Tag with values from a list of options.",id:"database.propertyTypeDescription.multi_select"},status:{defaultMessage:"Tag with a list of custom options with groups",id:"database.propertyTypeDescription.status",description:"Status property description"},person:{defaultMessage:"Reference a person on your team.",id:"database.propertyTypeDescription.person"},email:{defaultMessage:"Reference an email address.",id:"database.propertyTypeDescription.email"},phone_number:{defaultMessage:"Reference a phone number.",id:"database.propertyTypeDescription.phone_number"},date:{defaultMessage:"A date, with options to format and include time.",id:"database.propertyTypeDescription.date"},file:{defaultMessage:"Upload files and images.",id:"database.propertyTypeDescription.file"},checkbox:{defaultMessage:"Track status with a single checkbox.",id:"database.propertyTypeDescription.checkbox"},formula:{defaultMessage:"Compute a formula using other properties of a page.",id:"database.propertyTypeDescription.formula"},relation:{defaultMessage:"Allow pages in this database to reference pages in another.",id:"database.propertyTypeDescription.relation"},rollup:{defaultMessage:"Display and summarize data from a relation.",id:"database.propertyTypeDescription.rollup"},created_time:{defaultMessage:"Reference the date and time a page was created.",id:"database.propertyTypeDescription.created_time"},created_by:{defaultMessage:"Reference the person that created a page.",id:"database.propertyTypeDescription.created_by"},last_edited_time:{defaultMessage:"Reference the date and time a page was last edited.",id:"database.propertyTypeDescription.last_edited_time"},last_edited_by:{defaultMessage:"Reference the person that last edited a page.",id:"database.propertyTypeDescription.last_edited_by"},button:{defaultMessage:"A clickable button that can be configured to perform any action.",id:"database.propertyTypeDescription.button",description:"Description for button property type."},auto_increment_id:{defaultMessage:"An auto-increment ID.",id:"database.propertyTypeDescription.auto_increment_id",description:"An integer that increments automatically."},location:{defaultMessage:"A location.",id:"database.propertyTypeDescription.location",description:"The location of the DB item."},verification:{defaultMessage:"Verified status.",id:"database.propertyTypeDescription.verification",description:"Description for the verification property on a database."}});const f=["text","number","select","multi_select","status","date","person","file","checkbox","url","email","phone_number","formula","relation","rollup","created_time","created_by","last_edited_time","last_edited_by","button","auto_increment_id","verification"],v=["select","multi_select","status","person","date","created_time","created_by","last_edited_time","last_edited_by"],y=function(e){return v.includes(e.type)},b=(0,c.defineMessages)({tableDisplayName:{defaultMessage:"Table",id:"collectionHelpers.table.displayName"},boardDisplayName:{defaultMessage:"Board",id:"collectionHelpers.board.displayName"},calendarDisplayName:{defaultMessage:"Calendar",id:"collectionHelpers.calendar.displayName"},listDisplayName:{defaultMessage:"List",id:"collectionHelpers.list.displayName"},galleryDisplayName:{defaultMessage:"Gallery",id:"collectionHelpers.gallery.displayName"},timelineDisplayName:{defaultMessage:"Timeline",id:"collectionHelpers.timline.displayName"},pageDisplayName:{defaultMessage:"Page",id:"collectionHelpers.page.displayName",description:"Text shown to users next to the page view type on a database"}}),S={table:d.default.formatMessage(b.tableDisplayName),board:d.default.formatMessage(b.boardDisplayName),calendar:d.default.formatMessage(b.calendarDisplayName),list:d.default.formatMessage(b.listDisplayName),gallery:d.default.formatMessage(b.galleryDisplayName),timeline:d.default.formatMessage(b.timelineDisplayName),page:d.default.formatMessage(b.pageDisplayName)},w=(0,c.defineMessages)({table:{defaultMessage:"Table with types to store and view any kind of structured data",id:"collectionHelpers.table.caption"},board:{defaultMessage:"Kanban board, great for project planning and bug tracking",id:"collectionHelpers.board.caption"},calendar:{defaultMessage:"Month view, for event planning and scheduling",id:"collectionHelpers.calendar.caption"},list:{defaultMessage:"A simplified page view, great for bookmarks and notes",id:"collectionHelpers.list.caption"},gallery:{defaultMessage:"Grid of cards, use for mood boards, index cards, and recipes",id:"collectionHelpers.gallery.caption"},timeline:{defaultMessage:"A timeline view, great for project scheduling and planning",id:"collectionHelpers.timeline.caption"},page:{defaultMessage:"A page view for organizing pages hierarchically, great for documents and wikis",id:"collectionHelpers.page.caption",description:"Text to explain the purpose of a page view on a database"}}),k={table:d.default.formatMessage(w.table),board:d.default.formatMessage(w.board),calendar:d.default.formatMessage(w.calendar),list:d.default.formatMessage(w.list),gallery:d.default.formatMessage(w.gallery),timeline:d.default.formatMessage(w.timeline),page:d.default.formatMessage(w.page)},C={table:s.Z.collectionTable,board:s.Z.collectionBoard,calendar:s.Z.collectionCalendar,list:s.Z.collectionList,gallery:s.Z.collectionGallery,timeline:s.Z.collectionTimeline,page:s.Z.collectionList},_=(i.Z.images.tooltips.views.tablePng,i.Z.images.tooltips.views.boardPng,i.Z.images.tooltips.views.calendarPng,i.Z.images.tooltips.views.listPng,i.Z.images.tooltips.views.galleryPng,i.Z.images.tooltips.views.timelinePng,i.Z.images.tooltips.views.listPng,{table:void 0,board:"board_cover",calendar:void 0,list:void 0,gallery:"gallery_cover",timeline:void 0,page:void 0}),M={table:void 0,board:"board_cover_size",calendar:void 0,list:void 0,gallery:"gallery_cover_size",timeline:void 0,page:void 0},T={table:void 0,board:"board_cover_aspect",calendar:void 0,list:void 0,gallery:"gallery_cover_aspect",timeline:void 0,page:void 0},I={table:!0,board:!1,calendar:!1,list:!0,gallery:!0,timeline:!0,page:!1};function P(e){const t=e.getType(),o=e.getTitleStore();return t&&(0,n.dM)(t)&&o?o:e.getBlockTitleStore()}function x(e,t){let o=[];switch(t){case"gallery":e&&e.gallery_properties&&(o=e.gallery_properties);break;case"board":e&&e.board_properties&&(o=e.board_properties)}const i=o.find((e=>{let{property:t}=e;return"title"===t}));return!!i&&Boolean(i.visible)}const B=Object.keys({text:!0,number:!0,select:!0,multi_select:!0,status:!0,date:!0,person:!0,file:!0,checkbox:!0,url:!0,email:!0,phone_number:!0,formula:!0,relation:!0,rollup:!0,created_time:!0,created_by:!0,last_edited_time:!0,last_edited_by:!0,button:!0,auto_increment_id:!0,location:!0,verification:!0});function Z(e){let{isSyncedCollection:t,collectionContextStore:o}=e;const i=u.default.checkGate("database_sync_ugc"),n="on"===u.default.getEligibleGroup({experimentId:"my_home",defaultGroup:"control"});return B.filter((e=>!(!i&&t&&!(0,r.Of)(e))&&!!(n&&"collectionTypedView"===o.contextType||"location"!==e)))}function E(e){let{propertySchema:t,property:o,blockStores:i,collectionSchema:n}=e;return 0!==i.length&&((0,r.iE)(t)?i.every((e=>R(t,e,n))):!(0,r.ZY)(t.type)&&!(0,a.wl)(o))}function R(e,t,o){const i=e.verifier_property;if(!i)return!1;const n=t.getPropertyValue(i),r=(0,a.DW)({textValue:n,propertySchema:o[i],blockCreatorPointer:(0,a.I1)(t.getCreatedById(),t.getCreatedByTable())}),s=p.default.state.currentUserRootStore;return!!s&&r.some((e=>e.id===s.id&&e.table===l.KJ))}function A(e,t,o){if(""===t)return!0;return(0,m.v)(e,o).toUpperCase().includes(t.toUpperCase())}},48543:(e,t,o)=>{o.d(t,{Ls:()=>a,LQ:()=>c,RI:()=>d,RO:()=>p});var i=o(3779),n=o(5366),r=o(33929);const a={table:"side_peek",board:"side_peek",calendar:"center_peek",list:"side_peek",gallery:"center_peek",timeline:"side_peek",page:"side_peek"},s=(0,n.defineMessages)({side_peek:{defaultMessage:"Side peek",id:"database.viewPropertiesMenu.peekMode.sidePeek",description:"Name of the option to open sub-pages of a collection side by side in the view."},center_peek:{defaultMessage:"Center peek",id:"database.viewPropertiesMenu.peekMode.centerPeek",description:"Name of the option to open sub-pages of a collection in a large centered modal popup."},full_page:{defaultMessage:"Full page",id:"database.viewPropertiesMenu.peekMode.fullPage",description:"Name of the option to open sub-pages of a collection directly in full-page view."}}),l=(0,n.defineMessages)({side_peek:{defaultMessage:"Open pages on the side. Keeps the view behind interactive.",id:"database.viewPropertiesMenu.peekMode.description.sidePeek",description:"Description for Side Peek behavior of opening sub-pages of a collection"},center_peek:{defaultMessage:"Open pages in a focused, centered modal.",id:"database.viewPropertiesMenu.peekMode.description.centerPeek",description:"Description for Center Peek behavior of opening sub-pages of a collection"},full_page:{defaultMessage:"Open pages in full page.",id:"database.viewPropertiesMenu.peekMode.description.fullPage",description:"Description for Full Page behavior of opening sub-pages of a collection"}}),c=e=>{switch(e){case"side_peek":return r.default.formatMessage(s.side_peek);case"center_peek":return r.default.formatMessage(s.center_peek);case"full_page":return r.default.formatMessage(s.full_page)}},d=e=>{switch(e){case"side_peek":return r.default.formatMessage(l.side_peek);case"center_peek":return r.default.formatMessage(l.center_peek);case"full_page":return r.default.formatMessage(l.full_page)}},p=e=>{switch(e){case"side_peek":return i.Z.peekModeSide;case"center_peek":return i.Z.peekModeCenter;case"full_page":return i.Z.peekModeFull}}},65742:(e,t,o)=>{o.d(t,{S7:()=>v,Wk:()=>y,lf:()=>b,i2:()=>S,px:()=>k,Ge:()=>C,lx:()=>_,BJ:()=>T,H5:()=>P,Gz:()=>x,e$:()=>B,x2:()=>Z,ST:()=>E,bk:()=>R,TW:()=>A,XO:()=>D,B8:()=>F,al:()=>L,bK:()=>V,GK:()=>N,PF:()=>O,DS:()=>U,cK:()=>H,Ip:()=>z,AZ:()=>W,d$:()=>K,C1:()=>Y,fj:()=>G,xI:()=>X,xJ:()=>q,EW:()=>$,qG:()=>J,yk:()=>Q,fc:()=>ee,_Q:()=>te,xP:()=>oe,rr:()=>ie,Tp:()=>ne,pQ:()=>re,YP:()=>se,Ii:()=>le,pe:()=>ce,Ne:()=>de,y1:()=>pe,Zn:()=>ue,xd:()=>me,Qw:()=>ge,vX:()=>he,YE:()=>fe});var i=o(17126),n=o(13991),r=o(30823),a=o(99036),s=o(80951),l=o(32918),c=o(6695),d=o(42875),p=o(15157),u=o(61784),m=o(89837),g=o(97880),h=o(77794),f=o(12318);const v=5,y=3,b=2,S=21;let w,k;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(w||(w={})),function(e){e[e.LeftResizer=0]="LeftResizer",e[e.RightResizer=1]="RightResizer",e[e.ItemDrag=2]="ItemDrag"}(k||(k={}));const C=4e3,_=C/4,M=864e5,T={hours:{snapUnit:"fifteen_minutes",primaryDisplayUnit:"fifteen_minutes",secondaryDisplayUnit:"day",activeRangeType:void 0,msPerPixel:M/7e3,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"fifteen_minutes",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:9,getDateRangePlaceholderDuration:e=>e.plus({hour:1})},day:{snapUnit:"fifteen_minutes",primaryDisplayUnit:"hour",secondaryDisplayUnit:"day",activeRangeType:void 0,msPerPixel:69120,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"hour",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:2,getDateRangePlaceholderDuration:e=>e.plus({hour:3})},week:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:48e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:"day",showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.plus({day:1})},bi_week:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:108e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:void 0,showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.plus({day:3})},month:{snapUnit:"day",primaryDisplayUnit:"day",secondaryDisplayUnit:"month",activeRangeType:"highlight_days",msPerPixel:216e4,primaryDisplayUnitAlignment:"range_middle",verticalDividerUnit:void 0,showWeekendIndicators:!0,hidePrimaryIndicatorIntersectionOffset:void 0,getDateRangePlaceholderDuration:e=>e.plus({day:5})},quarter:{snapUnit:"day",primaryDisplayUnit:"week",secondaryDisplayUnit:"month",activeRangeType:"display_range",msPerPixel:72e5,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"month",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:35,getDateRangePlaceholderDuration:e=>e.plus({week:2})},year:{snapUnit:"day",primaryDisplayUnit:"week",secondaryDisplayUnit:"month",activeRangeType:"display_range",msPerPixel:M/5,primaryDisplayUnitAlignment:"range_start",verticalDividerUnit:"month",showWeekendIndicators:!1,hidePrimaryIndicatorIntersectionOffset:6,getDateRangePlaceholderDuration:e=>e.plus({week:4})}},I="month";function P(e){var t;if("timeline"!==(null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType()))return;const o=e.normalizedFormatStore.state.timeline_arrows_by;if(null==o||!o.property)return;const i=e.normalizedSchemaStore.state[o.property],n=e.collectionStore();return i&&"relation"===i.type&&n&&(0,a.F0)(i)===n.id?o.property:void 0}function x(e){return{zoomLevel:new f.default(I),currentRange:new f.default({startTimestamp:0,endTimestamp:0}),dragState:new f.default(void 0),drawState:new f.default(void 0),hoveredItem:new f.default(void 0),dateRangePlaceholder:new f.default({active:!1}),scrollLeft:new f.default(void 0),outerSizeObserver:new h.E,timelineSizeObserver:new h.E,horizontalScroller:void 0,savePreference:void 0,isFullScreen:e.isFullScreen,isRootChild:e.isRootChild,destroyed:!1}}function B(e,t){return t/T[e].msPerPixel}function Z(e,t){return t*T[e].msPerPixel}function E(e){return"fifteen_minutes"===e||"hour"===e}function R(e){const{store:t,query:o,schema:i,intl:n}=e,s=t.getModel();if(!s)return;const{timeline_by:l,timeline_by_end:c}=o;if(!l)return;const p=i[l];if(!p||!(0,a.Lt)(p))return;const u=(0,r.FT)({property:l,schema:i,block:s,getRecordModel:t.getRecordModel,userTimeZone:(0,d.r)(),depth:0,intl:n,propertyMapping:void 0}).next().value;if("date"!==(null==u?void 0:u.type))return;const g=u.value;if(!c||l===c)return g;{const e=i[c];if(!e||!(0,a.Lt)(e))return;const o=(0,r.FT)({property:c,schema:i,block:s,getRecordModel:t.getRecordModel,userTimeZone:(0,d.r)(),depth:0,intl:n,propertyMapping:void 0}).next().value;if(o&&"date"===o.type){const e=o.value,t=m.rH(g,e);if(t)return m.Qq(t)}}}function A(e){const{store:t,dateValue:o,query:i,schema:n}=e,{timeline_by:r,timeline_by_end:c}=i;if(!r)return;const d=n[r];if(d&&(0,a.Lt)(d)){if(!c||r===c)return{[r]:(0,s.d7)(o)};{const e=n[c];if(!e||!(0,a.Lt)(e))return;const i=(0,s.Gl)(t.getPropertyValue(r)),d=(0,s.Gl)(t.getPropertyValue(c));if("date"===o.type)return{[r]:(0,s.d7)({type:"date",start_date:o.start_date,reminder:l.V3(i)}),[c]:(0,s.d7)({type:"date",start_date:o.start_date,reminder:l.V3(d)})};if("daterange"===o.type)return{[r]:(0,s.d7)({type:"date",start_date:o.start_date,reminder:l.V3(i)}),[c]:(0,s.d7)({type:"date",start_date:o.end_date,reminder:l.V3(d)})};if("datetime"===o.type)return{[r]:(0,s.d7)({type:"datetime",start_date:o.start_date,start_time:o.start_time,time_zone:o.time_zone,reminder:l._3(i)}),[c]:(0,s.d7)({type:"datetime",start_date:o.start_date,start_time:o.start_time,time_zone:o.time_zone,reminder:l._3(d)})};if("datetimerange"===o.type)return{[r]:(0,s.d7)({type:"datetime",start_date:o.start_date,start_time:o.start_time,time_zone:o.time_zone,reminder:l._3(i)}),[c]:(0,s.d7)({type:"datetime",start_date:o.end_date,start_time:o.end_time,time_zone:o.time_zone,reminder:l._3(d)})};(0,g.t1)(o)}}}function D(e,t){const o=E(t),i=m.NK(o?e:l.Dy(e),(0,d.r)()),n=U(i.start,t),r=o&&"date"===e.type?i.start.plus({days:1}).startOf("day"):i.end||n;return{start:n,end:o?U(r,t):z(r,t)}}function F(e){return`timeline:${e}`}function L(e){const{horizontalScroller:t,outerSizeObserver:o}=e,i=e.zoomLevel.get(),{startTimestamp:n}=e.currentRange.get();return n+Z(i,(t?t.scrollLeft:0)+o.rect.get().width/2)}function V(e){const{environment:t,timestamp:o,timelineState:i,paddingLeft:n,format:r}=e;return o-Z(i.zoomLevel.get(),X({environment:t,paddingLeft:n,format:r,isFullScreen:i.isFullScreen,isRootChild:i.isRootChild})/2)}function N(e){const{environment:t,timestamp:o,timelineState:i,paddingLeft:n,format:r}=e;return o-Z(i.zoomLevel.get(),X({environment:t,paddingLeft:n,format:r,isFullScreen:i.isFullScreen,isRootChild:i.isRootChild})-i.outerSizeObserver.rect.get().width/2)}function O(e){const{timestamp:t,timelineState:o}=e;return t+Z(o.zoomLevel.get(),-o.outerSizeObserver.rect.get().width/2)}function U(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute/15);return e.set({minute:t}).startOf("minute")}return e.startOf(t)}function H(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute/15)-15;return e.set({minute:t}).startOf("minute")}return e.startOf(t).minus({[t]:1}).startOf(t)}function z(e,t){if("fifteen_minutes"===t){const t=15*Math.floor(e.minute/15)+15;return e.set({minute:t}).startOf("minute")}return e.plus({[t]:1}).startOf(t)}function W(e){const{startValue:t,snapUnit:o,desiredStart:i,desiredEnd:n}=e;let r=t;const a=l.Ze(t)||(0,d.r)();if(i){const e=j(i,o,"start",a);if("datetime"===e.type)if("date"===r.type){const e={type:"daterange",start_date:r.start_date,end_date:r.start_date};r=m.bD(e,(0,d.r)())}else"daterange"===r.type&&(r=m.bD(r,(0,d.r)()));"date"===r.type?r={...r,type:"daterange",start_date:e.start_date,end_date:r.start_date}:"daterange"===r.type?r={...r,type:"daterange",start_date:e.start_date,end_date:r.end_date}:"datetime"===r.type?r={...r,type:"datetimerange",start_date:e.start_date,start_time:"datetime"===e.type?e.start_time:r.start_time,end_date:r.start_date,end_time:r.start_time}:"datetimerange"===r.type&&(r={...r,type:"datetimerange",start_date:e.start_date,start_time:"datetime"===e.type?e.start_time:r.start_time})}if(n){const e=j(n,o,"end",a);if("datetime"===e.type)if("date"===r.type){const e={type:"daterange",start_date:r.start_date,end_date:r.start_date};r=m.bD(e,(0,d.r)())}else"daterange"===r.type&&(r=m.bD(r,(0,d.r)()));"date"===r.type||"daterange"===r.type?r={...r,type:"daterange",end_date:e.start_date}:"datetime"!==r.type&&"datetimerange"!==r.type||(r={...r,type:"datetimerange",end_date:e.start_date,end_time:"datetime"===e.type?e.start_time:"datetimerange"===r.type?r.end_time:r.start_time})}return l.qW(r)}function j(e,t,o,i){const n=H(e,t),r=U(e,t),a=z(e,t),s=E(t);let l;return l="start"===o?e.valueOf()>=r.valueOf()+(r.valueOf()-n.valueOf())/2?a:r:e.valueOf()>=r.valueOf()+(r.valueOf()-n.valueOf())/2?s?a:r:s?r:n,function(e,t,o){return E(t)?m.CQ(e.valueOf(),o):m.hT(e.valueOf(),o)}(l,t,i)}function K(e){const{environment:t,isFullScreen:o,isRootChild:i}=e;return(t.device.isDesktop||t.device.isTablet)&&(o||i)}function Y(e){const{environment:t,format:o,isFullScreen:i,isRootChild:n}=e;return K({environment:t,isFullScreen:i,isRootChild:n})&&Boolean(o.timeline_show_table)}function G(e){const{isFullScreen:t,isRootChild:o}=e;return!t&&o&&Y(e)}function X(e){const{environment:t,paddingLeft:o,format:i,isFullScreen:n,isRootChild:r}=e;if(!Y({environment:t,format:i,isFullScreen:n,isRootChild:r}))return 0;return o+(i.timeline_table_properties||[]).reduce(((e,t)=>(t.width&&t.visible?t.width:0)+e),0)}function q(){const e=i.ou.now().setLocale(n.SP);return e.toLocaleString(i.ou.TIME_SIMPLE)===e.toLocaleString(i.ou.TIME_24_SIMPLE)}function $(e,t,o){if("day"===o)return(0,u.Yx)(t,"month_day_long",e);"month"===o?(0,u.Yx)(t,"month_long",e):(0,g.t1)(o)}function J(e,t){return"day"===t?(0,u.Yx)(e,"long",n.SP):"month"===t?(0,u.Yx)(e,"month_year_long",n.SP):void(0,g.t1)(t)}function Q(e,t){const o=m.NK(e,l.Ze(e)||(0,d.r)(),n.SP),{primaryDisplayUnit:i}=T[t],r="fifteen_minutes"===i||"hour"===i?"month_day_time":"month_day";return(0,u.Yx)(o.start.valueOf(),r,n.SP)}function ee(e,t){const o=m.NK(e,l.Ze(e)||(0,d.r)(),n.SP),{primaryDisplayUnit:i}=T[t],r=(o.end||o.start).valueOf(),a="fifteen_minutes"===i||"hour"===i?"month_day_time":"month_day";return(0,u.Yx)(r,a,n.SP)}function te(e,t){const o=m.NK(e,l.Ze(e)||(0,d.r)(),n.SP),{primaryDisplayUnit:i}=T[t],r="fifteen_minutes"===i||"hour"===i?"medium_with_time":"medium",a=(0,u.Yx)(o.start.valueOf(),r,n.SP);return o.end?`${a} → ${(0,u.Yx)(o.end.valueOf(),r,n.SP)}`:a}function oe(e,t){return U(e,t)<e?z(e,t):e}function ie(e){return e.device.nativeScrollbarWidth>0||e.device.isFirefox||e.device.isPhone}function ne(e){return!(e.device.isFirefox||e.device.isMobile)}function re(e,t){const o=t.currentUser.id,i=e.getFormat().timeline_preference,n=F(e.id),r=p.Z.get({userId:o,key:n}),a={zoomLevel:I,centerTimestamp:Date.now()};return ae(r)||ae(i)||a}function ae(e){if(e&&"number"==typeof e.centerTimestamp&&c.H.includes(e.zoomLevel))return e}function se(e,t){let o=e.timeline_table_properties||[];if(t){o.find((e=>{let{visible:t}=e;return Boolean(t)}))||(o=(0,c.Rt)(o,"title",!0))}return{timeline_show_table:t,timeline_table_properties:o}}function le(e){const{environment:t,collectionContextStore:o,timelineState:i,isFullScreen:n,isRootChild:r}=e,a=i.zoomLevel.get(),s=o.normalizedFormatStore.state,l=Y({environment:t,format:s,isFullScreen:n,isRootChild:r}),c=l&&s.timeline_table_properties?s.timeline_table_properties.length:0,d=s.timeline_properties||[],p=d.filter((e=>"title"!==e.property));return{zoom_level:a,show_table:l,show_table_properties_count:c,show_timeline_title:d.length!==p.length,show_timeline_properties_count:p.length}}const ce=33,de=66,pe=22,ue=33,me=4,ge=96;function he(e){return e?ce:de}function fe(e,t,o){if(!t)return[];const i=P(e);if(!i)return[];const n=t.getPropertyValue(i),r=o[i];return n&&r&&"relation"===r.type?(0,s.j$)({relationValue:(0,s.rq)(n),propertySchema:r,getRecordValue:t.getRecordValue}):[]}},78316:(e,t,o)=>{o.d(t,{R7:()=>F,bu:()=>L,Se:()=>V,PD:()=>N,HI:()=>O,zm:()=>U,D8:()=>H,xy:()=>z,wK:()=>K,NU:()=>Y,bd:()=>G,NG:()=>X,az:()=>q,VM:()=>$,D2:()=>J,p1:()=>Q,en:()=>ee,Ks:()=>te,_5:()=>oe,Bs:()=>ie,Cc:()=>ne,Vv:()=>re,eD:()=>ae,D:()=>se,YL:()=>le,XO:()=>ce,YG:()=>de,kr:()=>pe,Sc:()=>ue,pB:()=>me,mb:()=>ge,SY:()=>he,fm:()=>ye,fk:()=>be,v_:()=>Se,b1:()=>we});var i=o(96486),n=o(41432),r=(o(14714),o(99036)),a=o(80951),s=o(22433),l=o(8848),c=o(93824),d=o(51060),p=o(95538),u=o(6695),m=o(4615),g=o(71644),h=(o(98459),o(98963)),f=o(21202),v=o(6287),y=o(13493),b=o(70203),S=o(97880),w=o(5366),k=o(95477),C=o(58202),_=o(79315),M=o(88923),T=o(3815),I=o(27724),P=o(28020),x=o(4708),B=(o(52821),o(48543)),Z=o(84210),E=o(33929),R=o(85957),A=o(45094),D=o(35328);(0,w.defineMessages)({status:{id:"database.viewHelpers.selectProperty.defaultName",defaultMessage:"Status"},date:{id:"database.viewHelpers.dateProperty.defaultName",defaultMessage:"Date"}});const F=320,L=new Set(["gallery","list","calendar"]);function V(e){const t=Object.keys(e);return t.find((t=>{const o=e[t];return Boolean(o&&"select"===o.type)}))||t.find((t=>{const o=e[t];return Boolean(o&&"person"===o.type)}))||t.find((t=>{const o=e[t];return Boolean(o&&"multi_select"===o.type)}))||t.find((t=>{const o=e[t];return Boolean(o&&"relation"===o.type)}))}function N(e){const t=Object.keys(e);return t.find((t=>{const o=e[t];return Boolean(o&&"date"===o.type)}))||t.find((t=>{const o=e[t];return Boolean(o&&"created_time"===o.type)}))||t.find((t=>{const o=e[t];return Boolean(o&&"last_edited_time"===o.type)}))}function O(e){return Object.keys(e).find((t=>{const o=e[t];return Boolean(o&&"date"===o.type)}))}function U(e){const{collectionId:t,schema:o,property:i,targetCollectionStore:n}=e,s=o[i];if(!s)return;const l={newSchema:{...o,[i]:void 0},deletedSchema:{[i]:o[i]}};if("relation"===s.type&&r.F0(s)&&s.property&&!(0,a.Kp)(s))if(r.F0(s)===t&&s.property!==i){const e={...l.newSchema,[s.property]:void 0},t={...l.deletedSchema,[s.property]:o[s.property]};l.newSchema=e,l.deletedSchema=t}else if(r.F0(s)!==t&&null!=n&&n.canEditCollection()&&n.isDefined()){const e=r.oC({schema:n.getSchema(),format:n.getFormat(),space_id:n.getSpaceId()}),t={...e,[s.property]:void 0},o={[s.property]:e[s.property]};l.otherCollectionId=n.id,l.otherCollectionSchema=t,l.otherCollectionDeletedSchema=o}return l}function H(e){const{deletedSchema:t,property:o}=e;if(t[o])return{updateSchema:{[o]:t[o]},updateDeletedSchema:{[o]:null}}}async function z(e){const{environment:t,schema:o,properties:i,property:n,parentStore:a,spaceId:s}=e,l=o[n];if(!l)return;if(r.dx(l))return;const c=(0,g.ZP)(),p={...l,name:(0,d.nM)(l.name)},u=i.findIndex((e=>e.property===n)),f=i[u],v={property:c,visible:!0,width:f&&f.width},y=[...i];let b;if(y.splice(u+1,0,v),"button"===p.type&&p.automation_id){const e=T.Mz.createChildStore(a,{table:h.cv,id:p.automation_id,spaceId:s});await e.load();const o=e.getActionStores();await Promise.all(o.map((e=>e.load())));const i=e.getValue(),n=o.map((e=>e.getValue()));if(!i||!n.every(S.$K))throw new Error("Automation or AutomationActions were not defined.");const r={...i,id:(0,m.ZP)()},l=n.map((e=>{const o={...e,id:(0,m.ZP)()};return(0,d.t1)({duplicate:o,newParentId:r.id,getRecordRole:a.inMemoryRecordCache.makeGetRecordRoleFn(t.currentUser.id)}),o}));(0,d.tV)({duplicate:r,newParentId:r.parent_id,newActionIds:l.map((e=>e.id)),originOptions:{baseUrl:k.Z.domainBaseUrl,publicDomainName:k.Z.publicDomainName}}),p.automation_id=r.id,b={newAutomationValue:r,newAutomationActionValues:l}}return{newProperty:c,newPropertySchema:p,newProperties:y,automationUpdate:b}}function*W(e){const{rootStore:t,depth:o=0}=e;if(t.getType()===n.Ti.transclusionReference){const e=t.getTransclusionReferenceTargetStore();e&&(yield*W({rootStore:e,depth:o}))}else{const e=t.getContentStores();for(const t of e)yield{blockStore:t,depth:o},t.isNavigableBlock()||(0,D.BX)(t)||(yield*W({rootStore:t,depth:t.getType()===n.Ti.columnList||t.getType()===n.Ti.column||t.getType()===n.Ti.transclusionContainer||t.getType()===n.Ti.transclusionReference?o:o+1}))}}function j(e){const t={image:void 0,blocks:[]},o=W({rootStore:e});let i=0,r=0;for(const{blockStore:a,depth:l}of o){if(i++,i>s.C7)return t;const e=a.getType(),o=a.getModel();if(!e||!o)continue;const c=a.getProperties();if(o.isType(n.Ok)&&!t.image&&c){const o=(0,b.Q)(c.source);if(o&&((0,p.SR)({url:o})||e===n.Ti.image))return t.image={pointer:{table:"block",id:a.id},url:o},t}const d=(0,n.nq)(e);o.isType(n.MV)&&r<s.Uo&&(!a.isEmptyTitle()||d)&&(t.blocks.push({blockStore:a,depth:l}),d||r++)}return t}function K(e){const{image:t,blocks:o}=j(e);return t?{image:t,blockIds:[]}:{image:void 0,blockIds:o.map((e=>e.blockStore.id))}}function Y(e){const{image:t,blocks:o}=j(e);if(t)return{image:t,blockIds:[]};return{image:void 0,blockIds:o.filter((e=>{const{blockStore:t,depth:o}=e;return 0===o&&t.getType()!==n.Ti.transclusionReference&&t.getType()!==n.Ti.transclusionContainer})).map((e=>e.blockStore.id))}}function G(e){const t=e.isFullScreen.get(),o=e.collectionViewStore();if(!o)throw new Error("Collection view store not defined.");const i=e.normalizedFormatStore.state,n=o.isDefined()&&"board"===o.getType(),r=i.collection_group_by;if(!t||r){const e=u.rx(i.inline_collection_first_load_limit,Boolean(r));if("load_limit"===e.type)return e.limit}return n?20:t?50:20}function X(e){const{collectionViewStore:t,isFullScreen:o,currentResultCount:i}=e;return t.isDefined()&&"board"===t.getType()?20:o||i<=50?50:100}function q(e,t){const o=e.collectionViewStore();if(!o)return!1;const i=o.getFormat();return!t||Boolean(i.collection_group_by)}function $(e){const{collectionContextStore:t,isFullScreen:o,reducerResult:i}=e;return i&&!((n=i)&&!n.hasMore)&&q(t,o);var n}function J(e){const{query:t,schema:o}=e,{timeline_by:i,timeline_by_end:n}=t;if(i){const e=o[i];if(e&&"date"!==e.type)return!1}if(n){const e=o[n];if(e&&"date"!==e.type)return!1}return!0}function Q(e){const t=e.getParentBlockStore();return Boolean(t&&t.isLocked())}function ee(e){return(0,R.wq)(e)}function te(e){return M.default.isSidePeekOpen()&&!ee(e)&&!e.isImmediateColumnChild()&&e.isRootOrDirectChild()}function oe(e){const t=e.getRecordStoreUIRoot();return!!(t&&t instanceof T.G)&&t.isFullWidth()}function ie(e){const{environment:t,isFullScreen:o,store:i,sizeObserver:n}=e,{device:r,WindowSizeStore:a}=t,s=i.isRootOrDirectChild();if(!o&&!s)return{paddingLeft:1,paddingRight:1};if(s){if(ee(i))return{paddingLeft:M.PeekModePadding.horizontal[M.default.state.mode],paddingRight:M.PeekModePadding.horizontal[M.default.state.mode]};if(r.isPhone)return{paddingLeft:a.getSafePaddingLeftPx((0,P.ui)(t)),paddingRight:a.getSafePaddingRightPx((0,P.ui)(t))};if(o)return{paddingLeft:96,paddingRight:96};if(oe(i)||function(e,t){const{WindowSizeStore:o}=e;return o.state.width-((0,A.Wk)(e)+(0,A.ll)(e,t)-(0,A.vJ)(e))<P.CC}(t,ee(i))||te(i)&&!M.default.isSidePeekClosing.state)return{paddingLeft:(0,P.ui)(t),paddingRight:(0,P.ui)(t)};{const e=n.rect.get().width;if(0===e)return;const o=(e-(P.CC-2*(0,P.ui)(t)))/2;return{paddingLeft:o,paddingRight:o}}}return{paddingLeft:0,paddingRight:0}}function ne(e){let{collectionViewName:t,collectionViewType:o}=e;return t||E.default.formatMessage(we[o])}function re(e){var t;return((null===(t=e.getParentBlockStore())||void 0===t?void 0:t.getCollectionViewsStore().getValue())||[]).map((t=>T.Xr.createChildStore(e,{table:y.n,id:t}))).find((e=>"table"===e.getType()))}function ae(e){const{collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:i}=e;if(!o)return!1;if(i&&o.isNavigableAncestorLocked())return!1;const n=null==t?void 0:t.canEditCollection(),r=null==t?void 0:t.getParentBlockStore(),a=null==r?void 0:r.isLocked();return Boolean(n&&!a)}function se(e,t){const o=e.getType();if(!o)return!1;if(""===t)return!0;return-1!==ne({collectionViewName:e.getName(),collectionViewType:o}).toUpperCase().indexOf(t.toUpperCase())}function le(e){const{newOptions:t,collectionId:o,property:n,schema:a}=e,s=a[n];if(!s)return;if(!r.cu(s)&&"status"!==s.type)return;const l=s.options||[],d=[],p=i.flatten(t),u=l.map((e=>e.value)),{beforeOps:m}=(0,c.q)(u,p);for(const[i,r]of Object.entries(m)){const e=l.find((e=>e.value===i));if(e)if(r){const t=l.find((e=>e.value===r));if(t){const i={pointer:{table:v.v,id:o},command:"keyedObjectListBefore",path:["schema",n,"options"],args:{value:e,before:{id:t.id}}};d.push(i)}}else{const t={pointer:{table:v.v,id:o},command:"keyedObjectListAfter",path:["schema",n,"options"],args:{value:e}};d.push(t)}}if("status"===s.type){const e=s.groups??[];for(const[i]of e.entries()){const e=t[i];if(!Array.isArray(e))return;const r=l.filter((t=>e.includes(t.value))).map((e=>e.id)),a={pointer:{table:v.v,id:o},command:"set",path:["schema",n,"groups",i,"optionIds"],args:r};d.push(a)}}return d.length>0?d:void 0}function ce(e){const{viewType:t,format:o}=e;return"board"===t?u.Lw(o.board_cover):"gallery"===t?u.Lw(o.gallery_cover):"timeline"===t&&u.vP(Boolean(o.timeline_show_table),o.timeline_table_properties||[])}function de(e){const t=null==e?void 0:e.getType();if(!e||!t)return!1;return"full_page"===(e.getFormat().collection_peek_mode||B.Ls[t])}function pe(e){const t=null==e?void 0:e.getType();return(null==e?void 0:e.getFormat().collection_peek_mode)??(t?B.Ls[t]:"side_peek")}function ue(e){const{stores:t,phase:o}=I.default.state;return!(o===I.SelectionPhase.Selected&&t.indexOf(e)>=0)&&(M.default.state.open&&M.default.isSidePeekOpen()&&M.default.state.target.id===e.id)}function me(e,t){return e?{background:l.ZP.blueWithAlpha(.025),boxShadow:t.outlineUltraThinBlueInputBoxShadow,borderRadius:4}:{}}function ge(e){const{store:t,mainEditorCurrentBlockStore:o,collectionContextStore:i,fullyQualified:n,overridePeekMode:r}=e,a=null==i?void 0:i.collectionViewStore();if(!r&&de(a))return(0,Z.ZP)({store:t,fullyQualified:n});if(o){const e=null==a?void 0:a.getType(),s=(null==a?void 0:a.getFormat().collection_peek_mode)??(e?B.Ls[e]:void 0),l=r??(0,M.getPeekModeFromCollectionPeekModeFormat)(s);return(0,Z.ZP)({store:o,collectionViewId:null!=i&&i.isFullScreen.state?null==a?void 0:a.id:void 0,fullyQualified:n,peekViewBlockId:t.id,peekMode:(0,M.getUrlParamFromPeekMode)(l)})}}function he(e){var t;const o=null===(t=e.getCollectionViewStores().find((e=>"page"===e.getType())))||void 0===t?void 0:t.getFormat().page_pointer;if(o)return T.G.createChildStore(e,{table:f.iU,id:null==o?void 0:o.id,spaceId:e.getSpaceId()})}function fe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.findRecordStoreUIAncestor((o=>o instanceof T.G&&o.isCollectionView()&&(t||o.id!==e.id))).ancestor}function ve(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=fe(e,t);if(o)return C.R.findCollectionViewBlockFromId(o.id)}function ye(e){const t=ve(e);if(null!=t&&t.collectionContextStore)return t.collectionContextStore}function be(e){var t;let{environment:o,collectionContextStore:i}=e;const n=(0,x.zq)(o),{currentUserStore:r}=_.default.state;return!!r&&n&&(i.permissionScopes.state.canEditContent||"collectionTypedView"===i.contextType)&&"table"===(null===(t=i.collectionViewStore())||void 0===t?void 0:t.getType())}const Se=(e,t)=>{let o=t;return e.every((e=>{if(e.getType()===n.Ti.page||e.getType()===n.Ti.collectionViewPage){var t;const i=null===(t=ve(e,!1))||void 0===t?void 0:t.props.store.id;return!!i&&(void 0===o&&(o=i),i===o)}return!1}))},we=(0,w.defineMessages)({board:{id:"database.collectionView.untitledName.board",defaultMessage:"Board",description:"Shown for untitled database views that are boards"},gallery:{id:"database.collectionView.untitledName.gallery",defaultMessage:"Gallery",description:"Shown for untitled database views that are galleries"},timeline:{id:"database.collectionView.untitledName.timeline",defaultMessage:"Timeline",description:"Shown for untitled database views that are timelines"},calendar:{id:"database.collectionView.untitledName.calendar",defaultMessage:"Calendar",description:"Shown for untitled database views that are calendars"},list:{id:"database.collectionView.untitledName.list",defaultMessage:"List",description:"Shown for untitled database views that are lists"},table:{id:"database.collectionView.untitledName.table",defaultMessage:"Table",description:"Shown for untitled database views that are tables"},page:{id:"database.collectionView.untitledName.page",defaultMessage:"Page",description:"Shown for untitled database views that are pages"}})},77181:(e,t,o)=>{o.d(t,{gY:()=>h,Hw:()=>f,F0:()=>v,jA:()=>y,e$:()=>b,IX:()=>S,CJ:()=>w,xb:()=>k,kC:()=>C,yr:()=>_,A7:()=>M,Ns:()=>T,SM:()=>I,Af:()=>P,zV:()=>x,uU:()=>Z,fd:()=>R});var i=o(96486),n=o.n(i),r=o(76205),a=o(99036),s=o(80951),l=o(60246),c=o(42875),d=o(95371),p=o(3815),u=o(28020),m=o(78316),g=o(33929);const h=4,f=24,v=10;function y(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.getType();if(!o||!b(o))return;const i=e.normalizedFormatStore.state.collection_view_subitem,n=e.collectionStore();if(!n||!n.getSchema()||!i)return;const r=n.getSchema()[i.property];if(!r||"relation"!==r.type||a.F0(r)!==n.id)return;const s=r.property;if(!s)return;const l=n.getSchema()[s];return l&&"relation"===l.type?{...i,inverse:s}:void 0}function b(e){return"table"===e||"timeline"===e||"list"===e}function S(e){const t=(0,m.fm)(e);return Boolean(null==t?void 0:t.currentSubitemFormatStore.state)}function w(e){const{store:t,subitemFormat:o,propertySchema:i}=e,n=t.getPropertyValue(o.property),r=(0,s.rq)(n),a=t.getRecordModel;return s.j$({relationValue:r,propertySchema:i,getRecordModel:a})}function k(e){const{store:t,subitemFormat:o,propertySchema:i}=e,n=t.getPropertyValue(o.inverse),r=(0,s.rq)(n),a=t.getRecordModel;return s.j$({relationValue:r,propertySchema:i,getRecordModel:a})}function C(e){const{store:t,collectionStore:o,collectionContextStore:i,subitemFormat:n,subitemPathKey:a,propertyFilters:s,combinatorFilter:l,currentUserId:d}=e,m=o.getSchema()[n.property];if(!m||"relation"!==m.type)return[];const h=w({store:t,subitemFormat:n,propertySchema:m});if(0===h.length)return[];let f=h.filter((e=>!a.includes(e.id))).map((e=>p.G.createChildStore(t,e)));const v=i.relativeVariableStore.state,y={schema:i.normalizedSchemaStore.state,userId:d,userTimeZone:(0,c.r)(),userStartOfWeek:u.AK.state,intl:g.default.getIntl(),relativeVariableResult:v};if(s&&s.length>0||l){const e=(0,r.q)({filter:{filters:l?[...s.filter((e=>!(0,r.Oo)(e.filter))).map((e=>e.filter)),l]:s.filter((e=>!(0,r.Oo)(e.filter))).map((e=>e.filter)),operator:"and"},context:y});f=f.filter((t=>E({blockStore:t,compiledFilter:e,subitemFormat:n,propertySchema:m,visitedIds:new Set})))}return f}function _(e,t){const o=e.currentSubitemFormatStore.state;if(!o)return new d.DG([]);const i=e.collectionStore();if(!i)return new d.DG([]);const r=e.currentSortsStore.state,a=i.getRecordModel,s=l.$m({userTimeZone:(0,c.r)(),intl:g.default.getIntl(),userSorts:r,apiSorts:[]}),p=e.currentPropertyFiltersStore.state,u=e.currentCombinatorFilterStore.state,m=e.subitemExpandedStore.get(),h=n().flatten(e.groupsStore.getAllGroupStates().map((e=>e.resultsStore.state)));return new d.DG(h.map((r=>{const c=I(r);return(0,d.MW)(c,(r=>{let{store:c,pathKey:d}=r;const g=m.get(d);if(!g)return{value:{store:c,pathKey:d},children:[]};const h=function(e){const{store:t,collectionStore:o,collectionContextStore:i,subitemFormat:r,querySorts:a,limit:s,subitemPathKey:c,propertyFilters:d,combinatorFilter:p,currentUserId:u,getRecordModel:m}=e,g=C({store:t,collectionStore:o,collectionContextStore:i,subitemFormat:r,subitemPathKey:c,propertyFilters:d,combinatorFilter:p,currentUserId:u});if(!g)return[];const h=new l.EO([...a,...l.Xm(g.map((e=>e.id))??[])]);g.forEach((e=>{h.updateBlock({block:e.getModel(),schema:o.getSchema(),propertyMapping:void 0,getRecordModel:m})}));const f=g.map((e=>e.id))??[],v=l.Qx(f,h),y={};return v.forEach(((e,t)=>{y[e]=t})),n().sortBy(g,(e=>y[e.id])).slice(0,s)}({store:c,collectionStore:i,collectionContextStore:e,subitemFormat:o,querySorts:s,limit:g.limit,subitemPathKey:d,propertyFilters:p,combinatorFilter:u,currentUserId:t,getRecordModel:a}).map((e=>({store:e,pathKey:x(d,e)})));return{value:{store:c,pathKey:d},children:h}}))})))}function M(e,t){const o=e?[e]:[],i=t.groupsStore.getGroupState(o);if(!i)return[];const n=i.resultsStore.state;if(!t.currentSubitemFormatStore.state)return n;const r=[],a=t.subitemTreeStore.state;for(const s of a.children)B({results:r,tree:s});return r}function T(e){return(0,d.CY)(e.children[e.children.length-1])}function I(e){return{store:e,pathKey:P([e.pointer])}}function P(e){return e.map((e=>e.id)).join(",")}function x(e,t){return e?`${e},${t.id}`:t.id}function B(e){const{results:t,tree:o}=e;t.push(o.value.store);for(const i of o.children)B({results:t,tree:i})}function Z(e){var t,o;const{block:i,collectionContextStore:n}=e,r=null==n||null===(t=n.currentSubitemFormatStore.state)||void 0===t?void 0:t.inverse;if(!r)return!1;const l=n.normalizedSchemaStore.state[r];if(!l||!(0,a.p_)(l))return!1;const c=null===(o=n.collectionViewBlockStore())||void 0===o?void 0:o.getRecordModel;if(!c)return!1;return(0,s.Ds)({block:i,propertySchema:l,getRecordModel:c}).length>0}function E(e){const{blockStore:t,compiledFilter:o,subitemFormat:i,propertySchema:n,visitedIds:r}=e;r.add(t.id);const a=t.getModel();if(!a)return!1;if(o({block:a,getRecordModel:t.getRecordModel,propertyMapping:void 0}))return!0;const s=w({store:t,subitemFormat:i,propertySchema:n});return 0!==s.length&&s.map((e=>p.G.createChildStore(t,e))).filter((e=>!r.has(e.id))).some((e=>E({blockStore:e,compiledFilter:o,subitemFormat:i,propertySchema:n,visitedIds:r})))}async function R(e){const{blockStore:t,compiledFilter:o,subitemFormat:i,propertySchema:n,subitemExpandedStore:r,pathKey:a,forceStoresToLoad:l,visitedIds:c}=e;if(await t.load(),c.has(t.id))return;c.add(t.id);const d=l?await async function(e){const{store:t,subitemFormat:o,propertySchema:i}=e,n=t.getPropertyValue(o.property),r=(0,s.rq)(n);await Promise.all(r.map((e=>p.G.createChildStore(t,e).load())));const a=t.getRecordModel;return s.j$({relationValue:r,propertySchema:i,getRecordModel:a})}({store:t,subitemFormat:i,propertySchema:n}):w({store:t,subitemFormat:i,propertySchema:n});if(0!==d.length){r.get().set(a,{isExpanded:!0,limit:20});for(const e of d){const s=p.G.createChildStore(t,e),d=s.getModel();if(!d)continue;o({block:d,getRecordModel:s.getRecordModel,propertyMapping:void 0})||await R({blockStore:s,compiledFilter:o,subitemFormat:i,propertySchema:n,subitemExpandedStore:r,pathKey:x(a,s),forceStoresToLoad:l,visitedIds:c})}}}},26991:(e,t,o)=>{o.d(t,{Sh:()=>m,fz:()=>g,As:()=>h,qf:()=>f});var i=o(76205),n=o(99036),r=o(77840),a=o(23014),s=o(21202),l=o(10161),c=o(3815),d=o(29637),p=o(33929),u=o(29376);function m(e,t){return!!l.default.checkGate("proj_management_sprints")&&(0,a.oN)(e,t)}function g(e,t,o){var i;const n=e.collectionStore();if(!n)return t.getName();const a=n.getFormat(),s=t.getName(),l=(null==a?void 0:a.app_uri_map)&&(null==a?void 0:a.app_uri_map[r.oG]);if(!o||!l||s!==p.default.formatMessage(d.sY.tasksCurrentSprintV2ViewName))return t.getName();const c=o[l];if(!c||"relation"!==c.type||!c.collection_pointer)return t.getName();const u=null===(i=h(e,"current",c.collection_pointer,n))||void 0===i?void 0:i.getBlockTitleStore().getValue();return u?`${p.default.formatMessage(d.sY.tasksCurrentSprintV2ViewNamePrefix)}: ${u[0]}`:t.getName()}function h(e,t,o,i){const n=e.relativeVariableStore.state;if(n){const e=n[o.id],r=null==e?void 0:e[t];if(r){return c.G.createChildStore(i,{table:s.iU,id:r,spaceId:o.spaceId})}}}function f(e,t){if((0,i.e)(e.filter)){if(((0,i.vR)(e.filter)?(0,i.YO)(e.filter):[]).some((e=>"relative"===e.type)))return function(e,t){const o=t.getSchema()[e];return!(!o||!(0,n.p_)(o))&&(0,a.oN)((0,u.uJ)(o,t),(0,u.ke)(o,t))}(e.property,t)}return!0}},80025:(e,t,o)=>{o.d(t,{Vn:()=>a,mF:()=>s,qf:()=>c});var i=o(5366),n=o(33929);const r=(0,i.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function a(e){const t=r[e]||r.gray;return n.default.formatMessage(t)}const s=(0,i.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...s.foregroundColorDefault},gray:{...s.foregroundColorGray},brown:{...s.foregroundColorBrown},orange:{...s.foregroundColorOrange},yellow:{...s.foregroundColorYellow},teal:{...s.foregroundColorGreen},blue:{...s.foregroundColorBlue},purple:{...s.foregroundColorPurple},pink:{...s.foregroundColorPink},red:{...s.foregroundColorRed},gray_background:{...s.backgroundColorGray},brown_background:{...s.backgroundColorBrown},orange_background:{...s.backgroundColorOrange},yellow_background:{...s.backgroundColorYellow},teal_background:{...s.backgroundColorGreen},blue_background:{...s.backgroundColorBlue},purple_background:{...s.backgroundColorPurple},pink_background:{...s.backgroundColorPink},red_background:{...s.backgroundColorRed}};function c(e){return l[e]}},78175:(e,t,o)=>{o.d(t,{hF:()=>s,zE:()=>l,Po:()=>c});var i=o(95477),n=o(78316),r=o(10161),a=o(88923);function s(e){let t=e;for(;t&&(!t||!t.isNavigableBlock());){if("column"===t.getType())return!0;t=t.getParentBlockStore()}return!1}function l(e,t){const{device:o}=t;if(o.isPhone)return!1;if((0,n.en)(e)){return a.default.getSidePeekWidth(t.WindowSizeStore.state.width)>=a.sidePeekNoColumnWidth}return!0}function c(e,t){return!t.device.isMobile&&(("local"===i.Z.env||"on"===r.default.getGroup("columns-full-width"))&&(e.isType("column_list")&&e.isChildOfRecordStoreUIRoot()&&l(e,t)&&!(null!==(o=e.getParentBlockStore())&&void 0!==o&&o.isFullWidth())&&!(0,n.en)(e)));var o}},99417:(e,t,o)=>{o.d(t,{GD:()=>B,Zt:()=>Z,RT:()=>E,mX:()=>R,E8:()=>A,jp:()=>D,VB:()=>F,Gw:()=>L,L3:()=>V,Nh:()=>N,GK:()=>U,qy:()=>z,Dr:()=>j,OE:()=>K,Q$:()=>Y,It:()=>G,eL:()=>X,$W:()=>ee,t8:()=>te,wq:()=>oe,LN:()=>ne,uN:()=>re,up:()=>ae,Mh:()=>se,pv:()=>le,fA:()=>de,Xi:()=>pe,sB:()=>ue,qB:()=>me,NX:()=>ge,Ah:()=>he,wA:()=>fe,FD:()=>ve,Fu:()=>ye,Dj:()=>be,Xc:()=>Se,d5:()=>we,DD:()=>ke,Iz:()=>_e,xM:()=>Me,sr:()=>Te,gY:()=>Ie,HS:()=>Pe,zU:()=>xe,dU:()=>Be});var i=o(96486),n=o.n(i),r=o(14577),a=o(94568),s=o(99036),l=o(8848),c=o(3779),d=o(5366),p=o(97880),u=o(95477),m=o(43250),g=o(28685),h=o(95802),f=o(79315),v=o(16772),y=o(10161),b=o(17903),S=o(42057),w=o(3815),k=o(27724),C=o(78291),_=o(24666),M=o(33929),T=o(73959),I=o(38755),P=o(21115);function x(e){var t,o;if(!Boolean(C.default.state.data))return!1;var i,n;if((0,P.qb)(e,"enterprise"))return Boolean(null===(i=f.default.state.currentSpaceStore)||void 0===i||null===(n=i.getSettings())||void 0===n?void 0:n.enable_ai_feature);return!(null===(t=f.default.state.currentSpaceStore)||void 0===t||null===(o=t.getSettings())||void 0===o?void 0:o.disable_ai_feature)}function B(e,t){if(y.default.checkGate("disable_ai_big_red_button"))return!1;const o=f.default.state.currentSpaceStore;if((0,I.Cx)(o))return!1;const i=null==o?void 0:o.canRead();return!(t&&t.hasPublicPermission&&!i)&&x(e)}function Z(e){return x(e)&&y.default.checkGate("ai_property_autofill_v2")}function E(e,t,o){return B(e,t)&&y.default.checkGate("ai_property_autofill_v2")&&o.canEdit()}function R(e,t,o){return B(e,t)&&y.default.checkGate("ai_property_autofill_v2")&&o.canEditCollection()}function A(e){return"local"===u.Z.env||"development"===u.Z.env?y.default.checkGate("assistant_writer"):"production"===u.Z.env&&(null===(t=f.default.state.currentSpaceStore)||void 0===t?void 0:t.id)===a.vj;var t}function D(e){return"local"===u.Z.env||"development"===u.Z.env?y.default.checkGate("assistant"):"production"===u.Z.env&&(null===(t=f.default.state.currentSpaceStore)||void 0===t?void 0:t.id)===a.vj;var t}function F(){return"local"===u.Z.env||"development"===u.Z.env}function L(){return"local"===u.Z.env||"development"===u.Z.env?y.default.checkGate("assistant-labeler-mode"):"production"===u.Z.env&&(null===(e=f.default.state.currentSpaceStore)||void 0===e?void 0:e.id)===a.vj;var e}function V(e){return N(e)||U(e)}function N(e){return B(e,void 0)&&O.state}const O=new r.Z((()=>y.default.checkGate("model-2")||y.default.checkGate("model-2-space")),{debugName:"inModel2Group"});function U(e){return B(e,void 0)&&H.state}const H=new r.Z((()=>y.default.checkGate("model-3")||y.default.checkGate("model-3-space")),{debugName:"inModel3Group"});function z(e){return B(e,void 0)&&W.state}const W=new r.Z((()=>y.default.checkGate("model-4")||y.default.checkGate("model-4-space")),{debugName:"inModel4Group"});const j=(0,d.defineMessages)({writeWithAI:{defaultMessage:"Write with AI",id:"id.completions.writeWithAI",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user generate content with AI"},draftWithAI:{defaultMessage:"Draft with AI",id:"id.completions.draftWithAI",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user draft new content with AI (e.g. blog posts, poems)"},extractFromSelection:{defaultMessage:"Generate from selection",id:"id.completions.extractFromSelection",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user extract content with AI from the current text/block selection"},extractFromPage:{defaultMessage:"Generate from page",id:"id.completions.extractFromPage",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user extract content with AI from the current page"},editSelection:{defaultMessage:"Edit or review selection",id:"id.completions.editSelection",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user edit content with AI in the current text/block selection"},editPage:{defaultMessage:"Edit or review page",id:"id.completions.editPage",description:"Label for menu category to get Notion's artificial intelligence powered assisted writing feature to help the user edit content with AI in the current page"},aiBlocks:{defaultMessage:"Insert AI blocks",id:"id.completions.aiBlocks",description:"Label for the menu category to get Notion's artificial intelligence powered assisted writing feature to help the user generate blocks which run AI automatically"},helpMeWrite:{defaultMessage:"Ask AI to write...",id:"id.completions.helpMeWrite",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user write"},helpMeEdit:{defaultMessage:"Ask AI to edit...",id:"id.completions.helpMeEdit",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user edit"},askAI:{defaultMessage:"Ask AI",id:"id.completions.askAI",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user edit"},genericHelpMeEdit:{defaultMessage:"{filter}",id:"id.completions.genericHelpMeEdit",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user edit, with a generic prompt"},genericHelpMeWrite:{defaultMessage:"{filter}",id:"id.completions.genericHelpMeWrite",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user write, with a generic prompt"},genericHelpMeWriteNewPage:{defaultMessage:"Write “{filter}” with AI…",id:"id.completions.genericHelpMeWriteNewPage",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user write a new page with the given name"},genericHelpMeWriteNewPageEmpty:{defaultMessage:"Start writing with AI…",id:"id.completions.genericHelpMeWriteNewPageEmpty",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to help the user write a new page with no name"},continueWriting:{defaultMessage:"Continue writing",id:"id.completions.continueWriting",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to suggest new content based on the user's existing content"},brainstormIdeas:{defaultMessage:"Brainstorm ideas",id:"id.completions.brainstormIdeas",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to generate ideas for the user"},brainstormIdeasTopic:{defaultMessage:'What do you want to brainstorm ideas about?\nFor example, "creative name ideas for a pirate themed party game"',id:"id.completions.Topic",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to generate ideas for the user"},summarize:{defaultMessage:"Summarize",id:"id.completions.summarize",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to summarize the user's selected content"},translate:{defaultMessage:"Translate",id:"id.completions.translate",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to translate the user's selected content"},translateLanguage:{defaultMessage:"Select language",id:"id.completions.translateLanguage",description:"Label for dropdown to select a language to translate the user's selected content into"},translateSpanish:{defaultMessage:"Spanish",id:"id.completions.translateSpanish",description:"Label for menu option to translate selected content into Spanish"},translateFrench:{defaultMessage:"French",id:"id.completions.translateFrench",description:"Label for menu option to translate selected content into French"},translateKorean:{defaultMessage:"Korean",id:"id.completions.translateKorean",description:"Label for menu option to translate selected content into Korean"},translateJapanese:{defaultMessage:"Japanese",id:"id.completions.translateJapanese",description:"Label for menu option to translate selected content into Japanese"},translateEnglish:{defaultMessage:"English",id:"id.completions.translateEnglish",description:"Label for menu option to translate selected content into English"},translateChinese:{defaultMessage:"Chinese",id:"id.completions.translateChinese",description:"Label for menu option to translate selected content into Chinese"},translateRussian:{defaultMessage:"Russian",id:"id.completions.translateRussian",description:"Label for menu option to translate selected content into Russian"},translatePortuguese:{defaultMessage:"Portuguese",id:"id.completions.translatePortuguese",description:"Label for menu option to translate selected content into Portuguese"},translateGerman:{defaultMessage:"German",id:"id.completions.translateGerman",description:"Label for menu option to translate selected content into German"},translateItalian:{defaultMessage:"Italian",id:"id.completions.translateItalian",description:"Label for menu option to translate selected content into Italian"},translateDutch:{defaultMessage:"Dutch",id:"id.completions.translateDutch",description:"Label for menu option to translate selected content into Dutch"},translateIndonesian:{defaultMessage:"Indonesian",id:"id.completions.translateIndonesian",description:"Label for menu option to translate selected content into Indonesian"},translateFilipino:{defaultMessage:"Filipino",id:"id.completions.translateFilipino",description:"Label for menu option to translate selected content into Filipino"},translateVietnamese:{defaultMessage:"Vietnamese",id:"id.completions.translateVietnamese",description:"Label for menu option to translate selected content into Vietnamese"},blogPost:{defaultMessage:"Blog post",id:"id.completions.blogPost",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a blog post"},blogPostTopicPlaceholder:{defaultMessage:'What should the blog post be about?\nFor example, "the benefits of practicing mindfulness and meditation"',id:"id.completions.blogPost.blogPostTopic.placeholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a blog post"},blogPostGenerate:{defaultMessage:"Generate post",id:"id.completions.blogPost.generate",description:"Label for button to get Notion's artificial intelligence powered assisted writing feature to generate content for a blog post"},prosConsList:{defaultMessage:"Pros and cons list",id:"id.completions.prosConsList",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a pros and cons list"},prosConsListPlaceholder:{defaultMessage:'What do you want to make a pros and cons list about?\nFor example, "learning a new language for the first time"',id:"id.completions.prosConsListPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a pros and cons list"},socialMediaPostPlaceholder:{defaultMessage:'What do you want to make a social media post about?\nFor example, "tips and tricks for changing careers"',id:"id.completions.socialMediaPostPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a social media post"},outlinePlaceholder:{defaultMessage:'What do you want to make an outline for?\nFor example, "a detailed step-by-step process for getting into university"',id:"id.completions.outlinePlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a document outline"},creativeStoryPlaceholder:{defaultMessage:'What do you want to write a story about?\nFor example, "suzy discovers a magical secret room only she can see"',id:"id.completions.creativeStoryPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a creative story"},poemPlaceholder:{defaultMessage:'What do you want to write a poem about?\nFor example, "a whimsical poem about finding meaning in ordinary things"',id:"id.completions.poemPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a poem"},essayPlaceholder:{defaultMessage:'What do you want to write an essay about?\nFor example, "how a chaotic environment can actually improve focus"',id:"id.completions.essayPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft an essay"},todoListPlaceholder:{defaultMessage:'What do you want to make a to-do list about?\nFor example, "creating a new board game"',id:"id.completions.todoListPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a to-do list"},meetingAgendaPlaceholder:{defaultMessage:'What is the purpose of the meeting?\nFor example, "alignment on pricing for new product"',id:"id.completions.meetingAgendaPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a meeting agenda"},pressReleasePlaceholder:{defaultMessage:'What should the press release be about?\nFor example, "product launch for new mind-reading app for pets"',id:"id.completions.pressReleasePlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a press release"},jobDescriptionPlaceholder:{defaultMessage:'What job do you want to write a description about?\nFor example, "data engineer at Notion, needs Postgres experience"',id:"id.completions.jobDescriptionPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a job description"},salesEmailPlaceholder:{defaultMessage:'What product are you selling?\nFor example, "email for a head of operations about a new brain boosting supplement"',id:"id.completions.salesEmailPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a sales email"},recruitingEmailPlaceholder:{defaultMessage:'Who are you trying to recruit?\nFor example, "experienced frontend engineer for our new social mindfulness app"',id:"id.completions.recruitingEmailPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to draft a recruiting email"},helpMeWritePlaceholder:{defaultMessage:'What would you like to write about?\nFor example, "5 reasons why we should hire a dedicated designer"',id:"id.completions.helpMeWritePlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to help the user write"},helpMeDraftPlaceholder:{defaultMessage:'What would you like to write about?\nFor example, "article about the benefits of learning a new language"',id:"id.completions.helpMeDraftPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to help the user write"},helpMeEditPlaceholder:{defaultMessage:'How would you like to edit this text?\nFor example, "Summarize in one sentence"',id:"id.completions.helpMeEditPlaceholder",description:"Placeholder/example for option to get Notion's artificial intelligence powered assisted writing feature to help the user edit"},improveWriting:{defaultMessage:"Improve writing",id:"id.completions.improveWriting",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to improving the writing of the user's selected content"},fixSpellingGrammar:{defaultMessage:"Fix spelling & grammar",id:"id.completions.fixSpellingGrammar",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to fix spelling and grammar issues of the user's selected content"},explainThis:{defaultMessage:"Explain this",id:"id.completions.explainThis",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to explain the user's selected content"},makeLonger:{defaultMessage:"Make longer",id:"id.completions.makeLonger",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to make the user's selected content longer"},findActionItems:{defaultMessage:"Find action items",id:"id.completions.findActionItems",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to find action items"},makeShorter:{defaultMessage:"Make shorter",id:"id.completions.makeShorter",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to make the user's selected content shorter"},simplifyLanguage:{defaultMessage:"Simplify language",id:"id.completions.simplifyLanguage",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to simplify the user's selected content"},changeTone:{defaultMessage:"Change tone",id:"id.completions.changeTone",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to change the tone of the user's selected content"},changeToneType:{defaultMessage:"Select tone",id:"id.completions.changeToneType",description:"Label for dropdown to select a tone to change the user's selected content into"},changeToneProfessional:{defaultMessage:"Professional",id:"id.completions.changeToneProfessional",description:"Label for menu option to change selected content into a professional tone"},changeToneCasual:{defaultMessage:"Casual",id:"id.completions.changeToneCasual",description:"Label for menu option to change selected content into a casual tone"},changeToneStraightforward:{defaultMessage:"Straightforward",id:"id.completions.changeToneStraightforward",description:"Label for menu option to change selected content into an straightforward tone"},changeToneConfident:{defaultMessage:"Confident",id:"id.completions.changeToneConfident",description:"Label for menu option to change selected content into a confident tone"},changeToneFriendly:{defaultMessage:"Friendly",id:"id.completions.changeToneFriendly",description:"Label for menu option to change selected content into a friendly tone"},socialMediaPost:{defaultMessage:"Social media post",id:"id.completions.socialMediaPost",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a social media post"},cleanUpFormatting:{defaultMessage:"Clean up formatting",id:"id.completions.cleanUpFormatting",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to clean up formatting"},outline:{defaultMessage:"Outline",id:"id.completions.outline",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft an outline for a document"},creativeStory:{defaultMessage:"Creative story",id:"id.completions.creativeStory",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a creative story"},poem:{defaultMessage:"Poem",id:"id.completions.poem",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a poem"},essay:{defaultMessage:"Essay",id:"id.completions.essay",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft an essay"},todoList:{defaultMessage:"To-do list",id:"id.completions.todoList",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a to-do list"},toDoListKeywords:{id:"id.completions.todoListKeywords",description:"Keywords used when filtering AI actions via fuzzy search: these keywords identify the AI-powered to-do list action.",defaultMessage:"Todo To-Do List"},meetingAgenda:{defaultMessage:"Meeting agenda",id:"id.completions.meetingAgenda",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a meeting agenda document"},pressRelease:{defaultMessage:"Press release",id:"id.completions.pressRelease",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a press release"},jobDescription:{defaultMessage:"Job description",id:"id.completions.jobDescription",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a job description"},salesEmail:{defaultMessage:"Sales email",id:"id.completions.salesEmail",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a sales email"},recruitingEmail:{defaultMessage:"Recruiting email",id:"id.completions.recruitingEmail",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to draft a recruiting email for a job"},conclusion:{defaultMessage:"Conclusion",id:"id.completions.conclusion",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to write a conclusion for the user's selected content"},autofillSummary:{defaultMessage:"Summary",id:"id.completions.autofillSummary",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to create a summary property for the user's selected content"},autofillExtract:{defaultMessage:"Extract key info",id:"id.completions.autofillExtract",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to create a key info property for the user's selected content"},autofillCustom:{defaultMessage:"Custom",id:"id.completions.autofillCustom",description:"Label for menu item to get Notion's artificial intelligence powered assisted writing feature to create a custom property for the user's selected content"},insertAIBlock:{defaultMessage:"Insert as AI block",id:"id.completions.insertAIBlock",description:"Label for the menu item to insert the generated content and original prompt as an AI block"}}),K={text:{summarize:{name:j.autofillSummary,svg:c.Z.assistSummarize},extract:{name:j.autofillExtract,svg:c.Z.questionMark},custom:{name:j.autofillCustom,svg:c.Z.magicWand}}};function Y(e){const t=(0,s.q3)(e);if(t)return K[e.type][t.type].name}const G={key:"helpMeWrite",category:"writeWithAI",name:j.helpMeWrite,svg:c.Z.sparkles,svgFill:l.FN.light.purple[400],requiresContent:!0,steps:[{key:"prompt",name:j.helpMeWritePlaceholder,placeholder:j.helpMeWritePlaceholder,type:"text"}]},X={key:"helpMeDraft",category:"draftWithAI",name:j.helpMeWrite,svg:c.Z.sparkles,svgFill:l.FN.light.purple[400],requiresNoContent:!0,steps:[{key:"prompt",name:j.helpMeDraftPlaceholder,placeholder:j.helpMeDraftPlaceholder,type:"text"}]},q=[X,{key:"brainstormIdeas",category:"draftWithAI",name:j.brainstormIdeas,svg:c.Z.assistBrainstormIdeas,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.brainstormIdeasTopic,placeholder:j.brainstormIdeasTopic,type:"text"}]},{key:"blogPost",category:"draftWithAI",name:j.blogPost,generateName:j.blogPostGenerate,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.blogPostTopicPlaceholder,placeholder:j.blogPostTopicPlaceholder,type:"text"}]},{key:"outline",category:"draftWithAI",name:j.outline,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.outlinePlaceholder,placeholder:j.outlinePlaceholder,type:"text"}]},{key:"socialMediaPost",category:"draftWithAI",name:j.socialMediaPost,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.socialMediaPostPlaceholder,placeholder:j.socialMediaPostPlaceholder,type:"text"}]},{key:"pressRelease",category:"draftWithAI",name:j.pressRelease,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.pressReleasePlaceholder,placeholder:j.pressReleasePlaceholder,type:"text"}]},{key:"creativeStory",category:"draftWithAI",name:j.creativeStory,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.creativeStoryPlaceholder,placeholder:j.creativeStoryPlaceholder,type:"text"}]},{key:"essay",category:"draftWithAI",name:j.essay,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.essayPlaceholder,placeholder:j.essayPlaceholder,type:"text"}]},{key:"poem",category:"draftWithAI",name:j.poem,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.poemPlaceholder,placeholder:j.poemPlaceholder,type:"text"}]},{key:"todoList",category:"draftWithAI",name:j.todoList,fuzzySearchKeywords:j.toDoListKeywords,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.todoListPlaceholder,placeholder:j.todoListPlaceholder,type:"text"}]},{key:"meetingAgenda",category:"draftWithAI",name:j.meetingAgenda,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.meetingAgendaPlaceholder,placeholder:j.meetingAgendaPlaceholder,type:"text"}]},{key:"prosConsList",category:"draftWithAI",name:j.prosConsList,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.prosConsListPlaceholder,placeholder:j.prosConsListPlaceholder,type:"text"}]},{key:"jobDescription",category:"draftWithAI",name:j.jobDescription,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.jobDescriptionPlaceholder,placeholder:j.jobDescriptionPlaceholder,type:"text"}]},{key:"salesEmail",category:"draftWithAI",name:j.salesEmail,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.salesEmailPlaceholder,placeholder:j.salesEmailPlaceholder,type:"text"}]},{key:"recruitingEmail",category:"draftWithAI",name:j.recruitingEmail,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],steps:[{key:"topic",name:j.recruitingEmailPlaceholder,placeholder:j.recruitingEmailPlaceholder,type:"text"}]}],$=[G,{key:"continueWriting",category:"writeWithAI",name:j.continueWriting,svg:c.Z.pencil,svgFill:l.FN.light.purple[400],requiresContent:!0},{key:"summarize",category:"extractFromContent",name:j.summarize,svg:c.Z.assistSummarize,svgFill:l.FN.light.purple[400],requiresContent:!0},{key:"findActionItems",category:"extractFromContent",name:j.findActionItems,svg:c.Z.assistFindActionItems,svgFill:l.FN.light.purple[400],requiresContent:!0}],J={brainstormIdeas:!0,blogPost:!0,outline:!0,socialMediaPost:!0,pressRelease:!0,creativeStory:!0,essay:!0,poem:!0,todoList:!0,meetingAgenda:!0,prosConsList:!0,jobDescription:!0,salesEmail:!0,recruitingEmail:!0};function Q(e){return J[e]}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.default.getIntl();if("helpMeEdit"===e.key||"helpMeDraft"===e.key||"helpMeWrite"===e.key){var o;const i=null===(o=e.steps)||void 0===o?void 0:o[0],n="text"===(null==i?void 0:i.type)&&i.prefilledValue;return n?t.formatMessage({id:"completionPopup.prefilledValue",defaultMessage:"Write about {prefilledValue} ",description:"Prefilled value for completion popup"},{prefilledValue:n}):""}if(!Q(e.key))return"";switch(e.key){case"brainstormIdeas":return t.formatMessage({id:"completionPopup.brainStorm.prefilledValue",defaultMessage:"Brainstorm ideas on ",description:"Prefilled value for brainstorm ideas completion popup"});case"blogPost":return t.formatMessage({id:"completionPopup.blogPost.prefilledValue",defaultMessage:"Write a blog post about ",description:"Prefilled value for blog post completion popup"});case"outline":return t.formatMessage({id:"completionPopup.outline.prefilledValue",defaultMessage:"Write an outline about ",description:"Prefilled value for outline completion popup"});case"socialMediaPost":return t.formatMessage({id:"completionPopup.socialMediaPost.prefilledValue",defaultMessage:"Write a social media post about ",description:"Prefilled value for social media post completion popup"});case"pressRelease":return t.formatMessage({id:"completionPopup.pressRelease.prefilledValue",defaultMessage:"Write a press release about ",description:"Prefilled value for press release completion popup"});case"creativeStory":return t.formatMessage({id:"completionPopup.creativeStory.prefilledValue",defaultMessage:"Write a creative story about ",description:"Prefilled value for creative story completion popup"});case"essay":return t.formatMessage({id:"completionPopup.essay.prefilledValue",defaultMessage:"Write an essay about ",description:"Prefilled value for essay completion popup"});case"poem":return t.formatMessage({id:"completionPopup.poem.prefilledValue",defaultMessage:"Write a poem about ",description:"Prefilled value for poem completion popup"});case"todoList":return t.formatMessage({id:"completionPopup.todoList.prefilledValue",defaultMessage:"Write a todo list about ",description:"Prefilled value for todo list completion popup"});case"meetingAgenda":return t.formatMessage({id:"completionPopup.meetingAgenda.prefilledValue",defaultMessage:"Write a meeting agenda about ",description:"Prefilled value for meeting agenda completion popup"});case"prosConsList":return t.formatMessage({id:"completionPopup.prosConsList.prefilledValue",defaultMessage:"Write a pros and cons list about ",description:"Prefilled value for pros and cons list completion popup"});case"jobDescription":return t.formatMessage({id:"completionPopup.jobDescription.prefilledValue",defaultMessage:"Write a job description about ",description:"Prefilled value for job description completion popup"});case"salesEmail":return t.formatMessage({id:"completionPopup.salesEmail.prefilledValue",defaultMessage:"Write a sales email about ",description:"Prefilled value for sales email completion popup"});case"recruitingEmail":return t.formatMessage({id:"completionPopup.recruitingEmail.prefilledValue",defaultMessage:"Write a recruiting email about ",description:"Prefilled value for recruiting email completion popup"});default:(0,p.t1)(e.key)}}function te(e){if("string"==typeof e.name)return e.name;return M.default.getIntl().formatMessage(e.name)}function oe(e){for(const t of ie()){const o=ee(t);if(o&&e.startsWith(o))return{prompt:t,additionalContext:{topic:e}}}}function*ie(){for(const t of q){var e;1===(null===(e=t.steps)||void 0===e?void 0:e.length)&&"topic"===t.steps[0].key&&(yield t)}}function ne(e,t){const o=e.trim().toLocaleLowerCase();for(const i of ie()){if(ee(i,t).trim().toLocaleLowerCase()===o)return!0}return!1}function re(e,t){if(Q(e.key))return null==t?void 0:t.topic}function ae(e){const t=[];return"cursor"===e.selectionType?e.isPageEmpty?t.push(...q):t.push(...$,...ce,...q):t.push(...ce,...$,...q),n().uniqBy(t,(e=>e.key))}function se(e,t){switch(e){case"writeWithAI":return j.writeWithAI;case"draftWithAI":return j.draftWithAI;case"editContent":switch(t){case"page":return j.editPage;case"selection":return j.editSelection}break;case"extractFromContent":switch(t){case"page":return j.extractFromPage;case"selection":return j.extractFromSelection}}}function le(e,t){const o={editContent:[],writeWithAI:[],draftWithAI:[],extractFromContent:[]};function i(e){return[e,o[e]]}for(const n of e)o[n.category].push(n);return"cursor"===t.selectionType?t.isPageEmpty?[i("draftWithAI"),i("writeWithAI")]:[i("writeWithAI"),i("extractFromContent"),i("editContent"),i("draftWithAI")]:[i("editContent"),i("extractFromContent"),i("writeWithAI"),i("draftWithAI")]}const ce=[{key:"improveWriting",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.improveWriting,svg:c.Z.aiImproveWriting,svgFill:l.FN.light.purple[400]},{key:"fixSpellingGrammar",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.fixSpellingGrammar,svg:c.Z.aiFixSpellingGrammar,svgFill:l.FN.light.purple[400]},{key:"summarize",category:"extractFromContent",name:j.summarize,svg:c.Z.assistSummarize,svgFill:l.FN.light.purple[400]},{key:"translate",category:"extractFromContent",name:j.translate,svg:c.Z.aiTranslate,svgFill:l.FN.light.purple[400],generateName:j.translate,regenerateName:j.translate,steps:[{key:"language",name:j.translateLanguage,type:"dropdown",dropdownOptions:[{key:"english",name:j.translateEnglish},{key:"korean",name:j.translateKorean},{key:"chinese",name:j.translateChinese},{key:"japanese",name:j.translateJapanese},{key:"spanish",name:j.translateSpanish},{key:"russian",name:j.translateRussian},{key:"french",name:j.translateFrench},{key:"portuguese",name:j.translatePortuguese},{key:"german",name:j.translateGerman},{key:"italian",name:j.translateItalian},{key:"dutch",name:j.translateDutch},{key:"indonesian",name:j.translateIndonesian},{key:"filipino",name:j.translateFilipino},{key:"vietnamese",name:j.translateVietnamese}]}]},{key:"explainThis",category:"extractFromContent",name:j.explainThis,svg:c.Z.aiExplainThis,svgFill:l.FN.light.purple[400]},{key:"makeShorter",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.makeShorter,svg:c.Z.aiMakeShorter,svgFill:l.FN.light.purple[400]},{key:"makeLonger",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.makeLonger,svg:c.Z.aiMakeLonger,svgFill:l.FN.light.purple[400]},{key:"findActionItems",category:"extractFromContent",name:j.findActionItems,svg:c.Z.assistFindActionItems,svgFill:l.FN.light.purple[400]},{key:"changeTone",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.changeTone,svg:c.Z.aiChangeTone,svgFill:l.FN.light.purple[400],generateName:j.changeTone,regenerateName:j.changeTone,steps:[{key:"tone",name:j.changeToneType,type:"dropdown",dropdownOptions:[{key:"professional",name:j.changeToneProfessional},{key:"casual",name:j.changeToneCasual},{key:"straightforward",name:j.changeToneStraightforward},{key:"confident",name:j.changeToneConfident},{key:"friendly",name:j.changeToneFriendly}]}]},{key:"simplifyLanguage",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.simplifyLanguage,svg:c.Z.sparkles,svgFill:l.FN.light.purple[400]},{key:"helpMeEdit",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.helpMeEdit,svg:c.Z.aiImproveWriting,svgFill:l.FN.light.purple[400],steps:[{key:"prompt",name:j.helpMeEditPlaceholder,placeholder:j.helpMeEditPlaceholder,type:"text"}]}],de=[{key:"summarize",category:"extractFromContent",name:j.summarize,svg:c.Z.assistSummarize,svgFill:l.FN.light.purple[400]},{key:"findActionItems",category:"extractFromContent",name:j.findActionItems,svg:c.Z.assistFindActionItems,svgFill:l.FN.light.purple[400]},G],pe=n().keyBy(de,"key");function ue(e){return{key:"helpMeEdit",category:"editContent",preferToNeverInsertTextAtCursor:!0,name:j.helpMeEdit,svg:c.Z.aiImproveWriting,svgFill:l.FN.light.purple[400],steps:[{key:"prompt",name:j.helpMeEditPlaceholder,placeholder:j.helpMeEditPlaceholder,type:"text",prefilledValue:e}]}}function me(e){const{customPrompt:t,isPageEmpty:o}=e;return{key:o?"helpMeDraft":"helpMeWrite",category:"writeWithAI",name:j.helpMeWrite,svg:c.Z.aiImproveWriting,svgFill:l.FN.light.purple[400],steps:[{key:"prompt",name:j.helpMeWritePlaceholder,placeholder:j.helpMeWritePlaceholder,type:"text",prefilledValue:t}]}}const ge={key:"continueWriting",name:j.continueWriting};function he(e){let t=h.C.findNodeFromStore(e);if(t){if("table"===e.getType()){const e=t.querySelector(`.${m.euV}.notion-table-block`);t=e??t}return t.getBoundingClientRect()}}function fe(e){const{origin:t}=e;return t instanceof w.G?he(t):t instanceof HTMLElement?t.getBoundingClientRect():t}function ve(){const e=_.default.state;if("editing"!==e.mode)return;const t=e.multiSelection,o=t.start.store,i=o.getRecordStoreUIRoot(),n=g.E.findNodeFromStore(o),r=(0,T.sQ)(o),a=null==r?void 0:r.getRecordStoreUIParent(),s=be(i),l=r&&r instanceof w.G&&r!==i?r:void 0,c=l??n;if(!(i&&i instanceof w.G&&c))return;return{type:"cursor",textSelection:t,currentPage:i,currentBlock:l,origin:c,currentParent:a,scrollerStore:s,isPageTitle:i.id===o.id}}function ye(){const{stores:e}=k.default.state,t=_.default.state,o="empty"!==t.mode?t.multiSelection:void 0,i="empty"!==t.mode?t.multiSelection.start.store:void 0,n=i?i.getRecordStoreUIRoot():void 0;if(o&&n&&n instanceof w.G){const t=(0,T.sQ)(o.end.store),i=null==t?void 0:t.getRecordStoreUIParent(),r=be(n);if(t&&i){return{type:"textSelection",stores:e,textSelection:o,currentPage:n,origin:t,endBlock:t,endBlockParent:i,scrollerStore:r}}}}function be(e){return e===f.default.state.mainEditorCurrentBlockStore?b.Z:S.Z}function Se(){const{stores:e}=k.default.state,t=e[0],o=n().last(e),i=t?t.getRecordStoreUIRoot():void 0;if(i&&i instanceof w.G&&o){return{type:"blockSelection",stores:e,currentPage:i,origin:o,scrollerStore:be(i)}}}const we={text:!0,bulleted_list:!0,numbered_list:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,toggle:!0,table:!0,equation:!0,code:!0},ke={...we};function Ce(e){if(0===e.revisions.length)throw new Error("Assertion failure: no revisions exist")}function _e(e){Ce(e);for(const t of xe(e))if("initial"===t.type)return t;throw new Error("Assertion failure, initial revision does not exist")}function Me(e){return Ce(e),e.revisions[e.revisions.length-1]}function Te(e){return"followup"===Me(e).type}function Ie(e){return e.additionalContext&&(e.additionalContext.prompt||e.additionalContext.topic)||""}function Pe(e){if(0===e.revisions.length)throw new Error("Assertion failure, expected revisions to be non-empty");return e.revisions.length-1}function*xe(e){let t=Pe(e),o=0;for(;;){if(o+=1,o>1e4)throw new Error("Maximum iteration limit reached");const i=e.revisions[t];if(!i)throw new Error("Assertion failure, invalid revision index");if(yield i,"initial"===i.type)break;"followup"===i.type?t=i.previousRevision:(0,p.t1)(i)}}function Be(){const e=v.default.state;return"completionPopup"===e.type&&"initialPromptForAIBlock"===e.stage&&!e.store.hasContent()}},43455:(e,t,o)=>{o.d(t,{KF:()=>f,$A:()=>y,N9:()=>k,Ie:()=>C});var i=o(40591),n=o.n(i),r=o(41432),a=o(35811),s=o(22808),l=o(44165),c=o(19889),d=o(70203),p=o(7928),u=o(33929),m=o(83089);function g(e,t){return(0,p.Nz)(e,t).replace(/ /g,"")}const h=(e,t)=>{const{getRecordValue:o,intl:i}=t;let n;if(d.IW(e)){const t=d.zE(e);n=`@${g(i,o({table:c.KJ,id:t}))}`}else if(d.fp(e)){n=d.Ot(e).start_date}return n};function f(){let e=0,t=0;function o(o){e+=1,e>t&&(t=e);try{return l.Lk(o)}finally{e-=1}}function i(){return":".repeat(t-e+2)}return{transformAnnotation:h,transformBlockMapping:{callout(e){var t;const{block:n,exportArgs:r}=e,a=l.WB({block:n,exportArgs:r}),c=null===(t=n.format)||void 0===t?void 0:t.page_icon,d=(0,s.Z)(c)?c:"",p=o(e),u=i();return{text:`${u} aside ${d}\n\n${a}`.trim(),breakLines:!0,children:p,suffix:u}},toggle(e){const{block:t,exportArgs:n}=e,r=l.WB({block:t,exportArgs:n}),a=o(e),s=i();return{text:`${s} ▶ ${r}\n\n`.trim(),breakLines:!0,children:a,suffix:s}}}}}const v=(0,m.V9)({unicode:()=>/@\p{Letter}+/gu,fallback:/@[A-Za-z]+/g});async function y(e,t,o){const i=e.matchAll(v),n=[];for(const r of i){const e=r[0].slice(1);if(void 0===o.get(e)){const i=async()=>{const i=await b(t,e);i?(i.email,o.set(e,i)):o.set(e,null)};n.push(i())}}await Promise.all(n)}async function b(e,t){const o=await e(t),i=u.default.getIntl();let n;for(const r of o){if(g(i,r)===t){if(n)return;n=r}}return n}function S(e){const{md:t,name:o,regex:i,createTokens:n}=e,{arrayReplaceAt:r}=t.utils;function a(e,t,r){let a=0;const s=[];if(e.replace(i,(function(i){const l=Array.from(arguments);let c=l.length-1;"string"!=typeof l[c]&&(c-=1);const d=l[c],p=l[c-1];if(p>0&&(0,m.D_)(d[p-1]))return"";if(p+i.length<d.length&&(0,m.D_)(d[p+i.length]))return"";const u=n(i,t);if(!u)return"";if(p>a){const t=new r("text","",0);t.content=e.slice(a,p),s.push(t)}for(const{type:e,attrs:t,tag:n,level:a,content:m}of u){const i=new r(e,"",0);if(t)for(const[e,o]of Object.entries(t))i.attrPush([e,o]);n&&(i.tag=n,i.markup=o),void 0!==a&&(i.level=a),m&&(i.content=m),s.push(i)}return a=p+i.length,""})),a<e.length){const t=new r("text","",0);t.content=e.slice(a),s.push(t)}return s}t.core.ruler.after("linkify",o,(e=>{let t=0;const o=e.tokens;for(let n=0;n<o.length;n++){const s=o[n].children;if("inline"===o[n].type&&s)for(let l=s.length-1;l>=0;l--){const c=s[l];"link_open"!==c.type&&"link_close"!==c.type||"auto"===c.info&&(t-=c.nesting),"text"===c.type&&0===t&&i.test(c.content)&&(o[n].children=r(s,l,a(c.content,c.level,e.Token)))}}return!0}))}function w(e){return t=>{!function(e){S({md:e,name:"date_mentions",regex:/20\d\d-\d\d-\d\d/g,createTokens:(e,t)=>[{type:"date_mention_open",tag:"time",attrs:{datetime:e,[a.KD.dateFormat]:"relative"},level:t+1},{type:"text",content:e},{type:"date_mention_close",tag:"/time",level:t}]})}(t),function(e,t){S({md:e,name:"user_mentions",regex:v,createTokens(e,o){const i=e.slice(1),n=t.get(i);if(n)return[{type:"user_mention_open",tag:"a",level:o+1,attrs:{[a.KD[d.GK.User]]:n.id}},{type:"text",content:e},{type:"user_mention_close",tag:"/a",level:o}]}})}(t,e),function(e){const t=/^aside\s+(.*)$/,o={validate:e=>Boolean(e.trim().match(t)),render(o,i){if(1===o[i].nesting){const n=o[i].info.trim().match(t);let l=(null==n?void 0:n[1])??"";(0,s.Z)(l)||(l="");const c="gray_background";return`<div ${function(e,t){const o=[];for(const[i,n]of t)o.push(`${i}="${e.utils.escapeHtml(n)}"`);return o.join(" ")}(e,[[a.KD[r.Ti.callout],""],[a.KD.calloutBackground,c],[a.KD.calloutIcon,l]])}>`}return"</div>"}};e.use(n(),"callout_block",o)}(t),function(e){const t=/^▶\s+(.*)$/,o={validate:e=>Boolean(e.trim().match(t)),render(o,i){if(1===o[i].nesting){const n=o[i].info.trim().match(t),r=(null==n?void 0:n[1])??"";return`<details><summary>${e.utils.escapeHtml(r)}</summary>`}return"</details>"}};e.use(n(),"toggle_block",o)}(t)}}function k(e){return{plugin:w(e)}}function C(e){return/\[.+\]\([^)]*$/.test(e)}},53323:(e,t,o)=>{o.d(t,{L:()=>s,n:()=>l});var i=o(63143),n=o(88632),r=o(99757);const a=1*i.hM;function s(){var e;if(n.Z.state.online){if(null!==(e=r.Z.state.connectionError)&&void 0!==e&&e.startTime){var t;if(Date.now()-(null===(t=r.Z.state.connectionError)||void 0===t?void 0:t.startTime)<a)return}return r.Z.state.connectionError}}function l(){return Boolean(s())}},46150:(e,t,o)=>{o.d(t,{GF:()=>r,GZ:()=>s,HM:()=>l,_F:()=>c,G0:()=>p,eD:()=>u,C7:()=>m,X1:()=>h,g4:()=>f,D1:()=>v,xp:()=>y});var i=o(62619);const n="data-content-editable-leaf",r={[n]:!0},a="data-content-editable-root",s={[a]:!0},l="data-content-editable-selecting",c="data-content-editable-composing",d="data-content-editable-void",p={[d]:!0};function u(e){return i.kK(e)&&e.hasAttribute(n)}function m(e){return Boolean(i.kK(e)&&e.querySelector("[data-content-editable-leaf]"))}function g(e){return i.kK(e)&&e.hasAttribute(a)}function h(e){return i.sh(e,u)}function f(e,t){return e.parentElement===t?e:i.sh(e,(e=>e.parentElement===t))||e}function v(e,t){if(!e||!t)return!1;const o=y(e),i=y(t);return Boolean(o&&o===i)}function y(e){const t=i.sh(e,(e=>g(e)||function(e){return i.kK(e)&&e.hasAttribute(d)}(e)));if(t&&g(t))return t}},12955:(e,t,o)=>{o.r(t),o.d(t,{setCookie:()=>y,setCookieConsentCookie:()=>b,setPartnerStackCookie:()=>S,getPartnerStackCookie:()=>w,removeCookieConsentCookie:()=>k,getCookieConsentCookie:()=>C,getCookie:()=>_,getBrowserId:()=>M,getExperimentDeviceId:()=>T,getGhostAdminUserId:()=>P,getPublicDomainUserId:()=>x,getParsedJsonCookie:()=>B,canSetCookie:()=>E,canShowCookieUi:()=>R,getHasPermissionArgs:()=>A,hasPermissionForTrackingTypeClient:()=>D,hasPermissionForThirdPartyServiceClient:()=>F,maybeClearCookies:()=>N,refreshNotionCookies:()=>O,validateHasPermissionArgsClient:()=>U});var i=o(36808),n=o.n(i),r=o(29450),a=o(88108),s=o(74686),l=o(65917),c=o(2911),d=o(53028),p=o(4615),u=o(89101),m=o(11342),g=o(84908),h=o(95477),f=o(59488),v=o(33665);async function y(e,t){if(!E(e))return;if(!(await L(t.name,e)))return;const{mobileNative:o,device:i}=e,a={path:u._j.root,expires:(0,s.J3)(t.name),secure:!1,domain:r.getCookieDomainBrowser(h.Z),...t};if(i.isElectron&&g.electronApi&&g.electronApi.setCookie)g.electronApi.setCookie(a);else if(o&&o.setCookie)await o.setCookie(a);else{const{name:e,value:t,...o}=a;n().remove(e),n().set(e,t,{...o,expires:o.expires?new Date(o.expires):void 0})}}async function b(e,t){await y(e,{name:"notion_cookie_consent",value:JSON.stringify(t)})}async function S(e,t){await y(e,{name:"growSumoPartnerKey",value:t})}async function w(e){return _(e,"growSumoPartnerKey")}function k(){V("notion_cookie_consent")}async function C(e){return await I(e,"notion_cookie_consent")}async function _(e,t){if(await L(t,e))return I(e,t)}async function M(e){if(!(await L("notion_browser_id",e)))return;const t=await _(e,"notion_browser_id");if(t)return t;const o=(0,p.ZP)();return await y(e,{name:"notion_browser_id",value:o}),o}async function T(e){const t=await M(e);if(t)return t;const o=await _(e,"notion_experiment_device_id");if(o)return o;const i=(0,p.ZP)();return await y(e,{name:"notion_experiment_device_id",value:i}),i}async function I(e,t){if(void 0===t)return void l.log({level:"error",from:"clientCookieHelpers",type:"safeCookieRead--name-undefined",data:{message:"Trying to read cookie with undefined name"}});if(!Z(e))return;const{mobileNative:o,device:i}=e;let r;const a=n().get(t);if(a&&(r=a),i.isElectron&&g.electronApi&&g.electronApi.getCookie){const e=await g.electronApi.getCookie(t);"error"in e?l.log({level:"error",from:"clientCookieHelpers",type:`safeCookieRead--electron--${t}`,error:(0,c.Ui)(e.error)}):r=e.value}else if(o&&o.api.getCookie){const e=await o.api.getCookie(t);"error"in e?l.log({level:"error",from:"clientCookieHelpers",type:`safeCookieRead--mobileNative--${t}`,error:(0,c.Ui)(e.error)}):r=e.value}return r}async function P(e){return await _(e,"notion_ghost_admin_user_id")}function x(e){if(e.device.isBrowser&&(0,v.Sr)())return r.getCookie("notion_public_domain_user_id")}async function B(e,t){const o=await _(e,t);if(o)try{return JSON.parse(o)}catch(i){l.log({level:"error",from:"clientCookieHelpers",type:"parseJsonCookieError",data:{miscDataToConvertToString:{name:t,unparsedCookie:o}}})}}function Z(e){return!!e.device.isBrowser||(e.device.isElectron?Boolean(g.electronApi&&g.electronApi.getCookie):!!e.mobileNative&&((0,f.Y)("supportsWebViewCookies")||Boolean(e.mobileNative.api.getCookie)))}function E(e){const{device:t,mobileNative:o}=e;return!!t.isBrowser||(t.isElectron?Boolean(null===(i=g.electronApi)||void 0===i?void 0:i.setCookie):!!o&&((0,f.Y)("supportsWebViewCookies")||Boolean(o.api.setCookie)));var i}function R(e){const{isMobileNative:t,isIOS:o,isAndroid:i,mobileAppVersion:n}=e.device;if(!t)return!0;if(!n)return!0;const r=m.parseMobileAppVersion(n,i);let a;switch(h.Z.env){case"local":case"staging":case"development":return!1;case"production":if(i)a=m.parseVersion("0.6.302");else{if(!o)return!0;a=m.parseVersion("0.4.403")}}return!r||!a||m.isLessThanVersion(r,a)}async function A(e){const t=e.device.isMobileNative;if(t)return{isMobileNative:t,notion_check_cookie_consent:void 0,notion_cookie_consent:void 0};return{isMobileNative:t,notion_check_cookie_consent:await I(e,"notion_check_cookie_consent"),notion_cookie_consent:await C(e)}}async function D(e,t){if("necessary"===e)return!0;if(t.mobileNative)return!1;const o=await A(t);return(0,s.vO)({trackingType:e,...o})}async function F(e,t){const o=d.mh[e];return await D(o,t)}async function L(e,t){return D(d.RQ[e],t)}function V(e,t){const o=t||r.getCookieDomainBrowser(h.Z);n().remove(e,{domain:o})}function N(){if((0,v.Sr)()){const e=window.location.hostname;V("notion_browser_id",e),V("notion_user_id",e)}}async function O(e){const{isMobileNative:t,isAndroid:o}=e.device;if(!t||!o)for(const i of(0,s.MB)()){const t=await _(e,i);t&&await y(e,{name:i,value:t})}}async function U(e){const t=await A(e),o=(0,s.Rh)(t);o.hasError&&l.log({level:"error",type:o.errorType,from:"clientCookieHelpers",data:{miscDataToConvertToString:t}})}(0,a.exposeDebugValue)("canReadCookie",Z)},40959:(e,t,o)=>{o.d(t,{Hc:()=>x,gu:()=>O,c2:()=>U,iy:()=>H,dd:()=>z,KT:()=>j,iO:()=>K,ER:()=>Y,O5:()=>G,D8:()=>X});var i=o(1302),n=o(14577),r=o(41892),a=o(41432),s=o(74181),l=o(45953),c=o(21202),d=o(9844),p=o(5500),u=o(97880),m=o(5366),g=o(98104),h=o(33929),f=o(95802),v=o(30874),y=o(617),b=o(42),S=o(23223),w=o(4708),k=o(78175),C=o(68056),_=o(73959),M=o(89014),T=o(89086);const I=(0,m.defineMessages)({textTitle:{id:"newBlock.text.title",defaultMessage:"Text"},textDescription:{id:"newBlock.text.description",defaultMessage:"Just start writing with plain text."},textKeywords:{id:"newBlock.text.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for unstructured text.",defaultMessage:"Plain Text"},pageTitle:{id:"newBlock.page.title",defaultMessage:"Page"},pageDescription:{id:"newBlock.page.description",defaultMessage:"Embed a sub-page inside this page."},pageKeywords:{id:"newBlock.page.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Page' block type.",defaultMessage:"Page"},linkToPageTitle:{id:"newBlock.linkToPage.title",defaultMessage:"Link to page"},linkToPageDescription:{id:"newBlock.linkToPage.description",defaultMessage:"Link to an existing page."},linkToPageKeywords:{id:"newBlock.linkToPage.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'link to page' block type.",defaultMessage:"Link to page ltp"},linkedDatabaseDescription:{id:"newBlock.linkToCollection.description",defaultMessage:"Add an existing database to this page."},linkedViewOfCollectionTitle:{id:"newBlock.linkedViewOfCollection.title",defaultMessage:"Linked view of database"},linkedViewOfCollectionMobileTitle:{id:"newBlock.linkedViewOfCollectionMobile.title",defaultMessage:"Linked view",description:"Message to display while on mobile for a linked view of a collection"},linkedViewOfCollectionKeywords:{id:"newBlock.linkedViewOfCollection.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create linked view of database' block type.",defaultMessage:"Create linked view of database db"},linkedViewOfCollectionDescription:{id:"newBlock.linkedViewOfCollection.description",defaultMessage:"Add an existing database to this page."},transclusionContainerTitle:{id:"newBlock.transclusionContainer.title",defaultMessage:"Synced block"},transclusionContainerDescription:{id:"newBlock.transclusionContainer.description",defaultMessage:"Sync content across pages."},transclusionContainerKeywords:{id:"newBlock.transclusionContainer.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create synced block' block type.",defaultMessage:"Create synced block reference transclusion portal block embed group"},toDoTitle:{id:"newBlock.toDo.title",defaultMessage:"To-do list"},toDoDescription:{id:"newBlock.toDo.description",defaultMessage:"Track tasks with a to-do list."},toDoKeywords:{id:"newBlock.toDo.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for checkboxes and todo items.",defaultMessage:"Todo To-Do Checkbox List"},headerTitle:{id:"newBlock.header.title",defaultMessage:"Heading 1"},headerDescription:{id:"newBlock.header.description",defaultMessage:"Big section heading."},headerKeywords:{id:"newBlock.header.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the largest heading type.",defaultMessage:"Heading 1 # h1"},subHeaderTitle:{id:"newBlock.subHeader.title",defaultMessage:"Heading 2"},subHeaderDescription:{id:"newBlock.subHeader.description",defaultMessage:"Medium section heading."},subHeaderKeywords:{id:"newBlock.subHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the subheadings.",defaultMessage:"sub heading 2 ## h2 two"},subSubHeaderTitle:{id:"newBlock.subSubHeader.title",defaultMessage:"Heading 3"},subSubHeaderDescription:{id:"newBlock.subSubHeader.description",defaultMessage:"Small section heading."},subSubHeaderKeywords:{id:"newBlock.subSubHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the sub-subheadings.",defaultMessage:"subsub heading 3 ### h3 three"},imageTitle:{id:"newBlock.image.title",defaultMessage:"Image"},imageDescription:{id:"newBlock.image.description",defaultMessage:"Upload or embed with a link."},imageKeywords:{id:"newBlock.image.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for embedded images.",defaultMessage:"Image Picture Gif Giphy"},bookmarkTitle:{id:"newBlock.bookmark.title",defaultMessage:"Web bookmark"},bookmarkDescription:{id:"newBlock.bookmark.description",defaultMessage:"Save a link as a visual bookmark."},bookmarkKeywords:{id:"newBlock.bookmark.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for links to external pages with rich previews.",defaultMessage:"Web Link Bookmark"},dividerTitle:{id:"newBlock.divider.title",defaultMessage:"Divider"},dividerDescription:{id:"newBlock.divider.description",defaultMessage:"Visually divide blocks."},dividerKeywords:{id:"newBlock.divider.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for a horizontal line.",defaultMessage:"Horizontal Rule Divider --- —-"},codeTitle:{id:"newBlock.code.title",defaultMessage:"Code"},codeDescription:{id:"newBlock.code.description",defaultMessage:"Capture a code snippet."},codeKeywords:{id:"newBlock.code.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for writing blocks of monospaced, optionally-syntax-highlighted code.",defaultMessage:"Code ```"},quoteTitle:{id:"newBlock.quote.title",defaultMessage:"Quote"},quoteDescription:{id:"newBlock.quote.description",defaultMessage:"Capture a quote."},quoteKeywords:{id:"newBlock.quote.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Quote' block type.",defaultMessage:"Quote"},bulletedListTitle:{id:"newBlock.bulletedList.title",defaultMessage:"Bulleted list"},bulletedListDescription:{id:"newBlock.bulletedList.description",defaultMessage:"Create a simple bulleted list."},bulletedListKeywords:{id:"newBlock.bulletedList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for bulleted lists.",defaultMessage:"Bulleted Unordered List"},numberedListTitle:{id:"newBlock.numberedList.title",defaultMessage:"Numbered list"},numberedListDescription:{id:"newBlock.numberedList.description",defaultMessage:"Create a list with numbering."},numberedListKeywords:{id:"newBlock.numberedList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for numbered lists.",defaultMessage:"Numbered Ordered List"},toggleTitle:{id:"newBlock.toggle.title",defaultMessage:"Toggle list"},toggleDescription:{id:"newBlock.toggle.description",defaultMessage:"Toggles can hide and show content inside."},toggleKeywords:{id:"newBlock.toggle.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Toggle list' block type.",defaultMessage:"Toggle list"},fileTitle:{id:"newBlock.file.title",defaultMessage:"File"},fileDescription:{id:"newBlock.file.description",defaultMessage:"Upload or embed with a link."},fileKeywords:{id:"newBlock.file.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'File' block type.",defaultMessage:"File upload attach"},videoTitle:{id:"newBlock.video.title",defaultMessage:"Video"},videoDescription:{id:"newBlock.video.description",defaultMessage:"Embed from YouTube, Vimeo..."},videoKeywords:{id:"newBlock.video.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Video' block type.",defaultMessage:"Video"},audioTitle:{id:"newBlock.audio.title",defaultMessage:"Audio"},audioDescription:{id:"newBlock.audio.description",defaultMessage:"Embed from SoundCloud, Spotify..."},audioKeywords:{id:"newBlock.audio.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for embedded audio files and music.",defaultMessage:"Audio Sound Music"},embedTitle:{id:"newBlock.embed.title",defaultMessage:"Embed"},embedDescription:{id:"newBlock.embed.description",defaultMessage:"For PDFs, Google Maps, and more."},embedKeywords:{id:"newBlock.embed.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for generic embedded content from external websites.",defaultMessage:"Embed iFrame"},driveTitle:{id:"newBlock.drive.title",defaultMessage:"Google Drive"},driveDescription:{id:"newBlock.drive.description",defaultMessage:"Embed a Google Doc, Google Sheet..."},driveKeywords:{id:"newBlock.drive.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Google Drive' block type.",defaultMessage:"Google Drive"},figmaTitle:{id:"newBlock.figma.title",defaultMessage:"Figma"},figmaDescription:{id:"newBlock.figma.description",defaultMessage:"Embed a Figma file."},figmaKeywords:{id:"newBlock.figma.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Figma' block type.",defaultMessage:"Figma"},loomTitle:{id:"newBlock.loom.title",defaultMessage:"Loom"},loomDescription:{id:"newBlock.loom.description",defaultMessage:"Embed a Loom recording."},loomKeywords:{id:"newBlock.loom.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Loom' block type.",defaultMessage:"Loom"},typeformTitle:{id:"newBlock.typeform.title",defaultMessage:"Typeform"},typeformDescription:{id:"newBlock.typeform.description",defaultMessage:"Embed a Typeform."},typeformKeywords:{id:"newBlock.typeform.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Typeform' block type.",defaultMessage:"Typeform"},codepenTitle:{id:"newBlock.codepen.title",defaultMessage:"CodePen"},codepenDescription:{id:"newBlock.codepen.description",defaultMessage:"Embed a CodePen."},codepenKeywords:{id:"newBlock.codepen.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'CodePen' block type.",defaultMessage:"CodePen"},tweetTitle:{id:"newBlock.tweet.title",defaultMessage:"Tweet"},tweetDescription:{id:"newBlock.tweet.description",defaultMessage:"Embed a Tweet."},tweetKeywords:{id:"newBlock.tweet.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Tweet' block type.",defaultMessage:"Tweet"},gistTitle:{id:"newBlock.gist.title",defaultMessage:"GitHub Gist"},gistDescription:{id:"newBlock.gist.description",defaultMessage:"Embed a Gist from GitHub."},gistKeywords:{id:"newBlock.gist.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'GitHub Gist' block type.",defaultMessage:"GitHub Gist"},mapsTitle:{id:"newBlock.maps.title",defaultMessage:"Google Maps"},mapsDescription:{id:"newBlock.maps.description",defaultMessage:"Embed a Google Map."},mapsKeywords:{id:"newBlock.maps.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Google Maps' block type.",defaultMessage:"Google Maps"},framerTitle:{id:"newBlock.framer.title",defaultMessage:"Framer"},framerDescription:{id:"newBlock.framer.description",defaultMessage:"Embed a Framer prototype."},framerKeywords:{id:"newBlock.framer.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Framer' block type.",defaultMessage:"Framer"},invisionTitle:{id:"newBlock.invision.title",defaultMessage:"Invision"},invisionDescription:{id:"newBlock.invision.description",defaultMessage:"Embed an Invision project."},invisionKeywords:{id:"newBlock.invision.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Invision' block type.",defaultMessage:"Invision"},mixpanelTitle:{id:"newBlock.mixpanel.title",defaultMessage:"Mixpanel"},mixpanelDescription:{id:"newBlock.mixpanel.description",defaultMessage:"Embed a Mixpanel project."},mixpanelKeywords:{id:"newBlock.mixpanel.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Mixpanel' block type.",defaultMessage:"Mixpanel"},equationTitle:{id:"newBlock.equation.title",defaultMessage:"Block equation"},equationDescription:{id:"newBlock.equation.description",defaultMessage:"Display a standalone math equation."},equationKeywords:{id:"newBlock.equation.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for math equations typeset via LaTeX.",defaultMessage:"LaTeX Math Block Equation $$ Formula"},pdfTitle:{id:"newBlock.pdf.title",defaultMessage:"PDF"},pdfDescription:{id:"newBlock.pdf.description",defaultMessage:"Embed a PDF."},pdfKeywords:{id:"newBlock.pdf.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'PDF' block type.",defaultMessage:"PDF"},factoryTitle:{id:"newBlock.factory.title",defaultMessage:"Template button"},factoryDescription:{id:"newBlock.factory.description",defaultMessage:"Duplicate blocks with a click."},factoryKeywords:{id:"newBlock.factory.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for 'template factories'--configurable buttons that duplicate blocks.",defaultMessage:"Template Duplicate Button"},buttonTitle:{id:"newBlock.button.title",defaultMessage:"Button",description:"Title for button block."},buttonDescription:{id:"newBlock.button.description",defaultMessage:"Run custom automations with a click.",description:"Description for a button in the slash menu"},buttonKeywords:{id:"newBlock.button.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for 'template factories'--configurable buttons that duplicate blocks.",defaultMessage:"Button automation template duplicate"},breadcrumbTitle:{id:"newBlock.breadcrumb.title",defaultMessage:"Breadcrumb"},breadcrumbDescription:{id:"newBlock.breadcrumb.description",defaultMessage:"Show the current page location."},breadcrumbKeywords:{id:"newBlock.breadcrumb.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Breadcrumb' block type.",defaultMessage:"Breadcrumb"},calloutTitle:{id:"newBlock.callout.title",defaultMessage:"Callout"},calloutDescription:{id:"newBlock.callout.description",defaultMessage:"Make writing stand out."},calloutKeywords:{id:"newBlock.callout.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Callout' block type.",defaultMessage:"Callout"},table_of_contentsTitle:{id:"newBlock.tableOfContents.title",defaultMessage:"Table of contents"},table_of_contentsDescription:{id:"newBlock.tableOfContents.description",defaultMessage:"Show an outline of your page."},table_of_contentsKeywords:{id:"newBlock.tableOfContents.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for displaying a table of contents of the page.",defaultMessage:"TOC Table of Contents"},whimsicalTitle:{id:"newBlock.whimsical.title",defaultMessage:"Whimsical"},whimsicalDescription:{id:"newBlock.whimsical.description",defaultMessage:"Embed a Whimsical board."},whimsicalKeywords:{id:"newBlock.whimsical.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Whimsical' block type.",defaultMessage:"Whimsical"},hexTitle:{id:"newBlock.hex.title",defaultMessage:"Hex"},hexDescription:{id:"newBlock.hex.description",defaultMessage:"Embed a Hex cell."},hexKeywords:{id:"newBlock.hex.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Hex' block type.",defaultMessage:"Hex"},deepnoteTitle:{id:"newBlock.deepnote.title",defaultMessage:"Deepnote"},deepnoteDescription:{id:"newBlock.deepnote.description",defaultMessage:"Embed a Deepnote block."},deepnoteKeywords:{id:"newBlock.deepnote.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Deepnote' block type.",defaultMessage:"Deepnote"},miroTitle:{id:"newBlock.miro.title",defaultMessage:"Miro"},miroDescription:{id:"newBlock.miro.description",defaultMessage:"Embed a Miro board."},miroKeywords:{id:"newBlock.miro.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Miro' block type.",defaultMessage:"Miro"},abstractTitle:{id:"newBlock.abstract.title",defaultMessage:"Abstract"},abstractDescription:{id:"newBlock.abstract.description",defaultMessage:"Embed an Abstract project."},abstractKeywords:{id:"newBlock.abstract.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Abstract' block type.",defaultMessage:"Abstract"},sketchTitle:{id:"newBlock.sketch.title",defaultMessage:"Sketch"},sketchDescription:{id:"newBlock.sketch.description",defaultMessage:"Embed a Sketch document."},sketchKeywords:{id:"newBlock.sketch.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Sketch' block type.",defaultMessage:"Sketch"},excalidrawTitle:{id:"newBlock.excalidraw.title",defaultMessage:"Excalidraw"},excalidrawDescription:{id:"newBlock.excalidraw.description",defaultMessage:"Embed an Excalidraw whiteboard."},excalidrawKeywords:{id:"newBlock.excalidraw.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Excalidraw' block type.",defaultMessage:"Excalidraw"},replitTitle:{id:"newBlock.replit.title",defaultMessage:"Replit",description:"Replit can be embedded inside notion allowing users to write and run code in notion. see replit.com"},replitDescription:{id:"newBlock.replit.description",defaultMessage:"Embed a repl."},replitKeywords:{id:"newBlock.replit.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Replit' block type.",defaultMessage:"Replit"},tableViewTitle:{id:"newBlock.tableView.title",defaultMessage:"Table view"},tableViewDescription:{id:"newBlock.tableView.description",defaultMessage:"Add a table view for a new or existing database."},boardViewTitle:{id:"newBlock.boardView.title",defaultMessage:"Board view"},boardViewDescription:{id:"newBlock.boardView.description",defaultMessage:"Create a kanban board database view."},galleryViewTitle:{id:"newBlock.galleryView.title",defaultMessage:"Gallery view"},galleryViewDescription:{id:"newBlock.galleryView.description",defaultMessage:"Create a gallery database view."},listViewTitle:{id:"newBlock.listView.title",defaultMessage:"List view"},listViewDescription:{id:"newBlock.listView.description",defaultMessage:"Create a list database view."},calendarViewTitle:{id:"newBlock.calendarView.title",defaultMessage:"Calendar view"},calendarViewDescription:{id:"newBlock.calendarView.description",defaultMessage:"Create a calendar database view."},timelineViewTitle:{id:"newBlock.timelineView.title",defaultMessage:"Timeline view"},timelineViewDescription:{id:"newBlock.timelineView.description",defaultMessage:"Create a timeline database view."},databaseTitle:{id:"newBlock.database.title",defaultMessage:"Database"},databaseDescription:{id:"newBlock.database.description",defaultMessage:"Create a new database.",description:"Message to prompt creation of a new database"},databaseInlineTitle:{id:"newBlock.databaseInline.title",defaultMessage:"Database - Inline"},databaseInlineDescription:{id:"newBlock.databaseInline.description",defaultMessage:"Add a new inline database to this page.",description:"Message to prompt creation of a new datbase embedded in the current page"},databaseInlineKeywords:{id:"newBlock.databaseInline.fuzzySearchKeywords",defaultMessage:"Database Inline db"},databaseFullPageTitle:{id:"newBlock.databaseFullPage.title",defaultMessage:"Database - Full page"},databaseFullPageDescription:{id:"newBlock.databaseFullPage.description",defaultMessage:"Add a new database as a sub-page.",description:"Message to prompt creation of a new database as a child page of the current page"},databaseFullPageKeywords:{id:"newBlock.databaseFullPage.fuzzySearchKeywords",defaultMessage:"Database Full page db"},inlineTimelineDatabaseTitle:{id:"newBlock.inlineTimelineDatabase.title",defaultMessage:"Timeline database - Inline"},inlineTimelineDatabaseDescription:{id:"newBlock.inlineTimelineDatabase.description",defaultMessage:"Add a Timeline database to this page."},inlineTimelineDatabaseKeywords:{id:"newBlock.inlineTimelineDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Timeline database' block type.",defaultMessage:"Timeline database - Inline"},fullPageTableDatabaseTitle:{id:"newBlock.fullPageTableDatabase.title",defaultMessage:"Table database - Full page"},fullPageTableDatabaseDescription:{id:"newBlock.fullPageTableDatabase.description",defaultMessage:"Add a Table database as a sub-page."},fullPageTableDatabaseKeywords:{id:"newBlock.fullPageTableDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Table database' block type.",defaultMessage:"Table database - Full page"},fullPageBoardDatabaseTitle:{id:"newBlock.fullPageBoardDatabase.title",defaultMessage:"Board database - Full page"},fullPageBoardDatabaseDescription:{id:"newBlock.fullPageBoardDatabase.description",defaultMessage:"Add a Board database as a sub-page."},fullPageBoardDatabaseKeywords:{id:"newBlock.fullPageBoardDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Board database' block type.",defaultMessage:"Board database - Full page"},fullPageGalleryDatabaseTitle:{id:"newBlock.fullPageGalleryDatabase.title",defaultMessage:"Gallery database - Full page"},fullPageGalleryDatabaseDescription:{id:"newBlock.fullPageGalleryDatabase.description",defaultMessage:"Add a Gallery database as a sub-page."},fullPageGalleryDatabaseKeywords:{id:"newBlock.fullPageGalleryDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Gallery database' block type.",defaultMessage:"Gallery database - Full page"},fullPageListDatabaseTitle:{id:"newBlock.fullPageListDatabase.title",defaultMessage:"List database - Full page"},fullPageListDatabaseDescription:{id:"newBlock.fullPageListDatabase.description",defaultMessage:"Add a List database as a sub-page."},fullPageListDatabaseKeywords:{id:"newBlock.fullPageListDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'List database' block type.",defaultMessage:"List database - Full page"},fullPageCalendarDatabaseTitle:{id:"newBlock.fullPageCalendarDatabase.title",defaultMessage:"Calendar database - Full page"},fullPageCalendarDatabaseDescription:{id:"newBlock.fullPageCalendarDatabase.description",defaultMessage:"Add a Calendar database as a sub-page."},fullPageCalendarDatabaseKeywords:{id:"newBlock.fullPageCalendarDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Calendar database' block type.",defaultMessage:"Calendar database - Full page"},fullPageTimelineDatabaseTitle:{id:"newBlock.fullPageTimelineDatabase.title",defaultMessage:"Timeline database - Full page"},fullPageTimelineDatabaseDescription:{id:"newBlock.fullPageTimelineDatabase.description",defaultMessage:"Add a Timeline database as a sub-page."},fullPageTimelineDatabaseKeywords:{id:"newBlock.fullPageTimelineDatabase.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Timeline database' block type.",defaultMessage:"Timeline database - Full page"},simpleTableTitle:{id:"newBlock.simple_table.title",defaultMessage:"Table",description:"A simple table"},simpleTableDescription:{id:"newBlock.simple_table.description",defaultMessage:"Add simple tabular content to your page."},simpleTableKeywords:{id:"newBlock.simple_table.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Table' block type.",defaultMessage:"Table"},tabTitle:{id:"newBlock.tab.title",description:"Tabs",defaultMessage:"Tabs"},tabDescription:{id:"newBlock.tab.description",defaultMessage:"Organize content in tabs."},tabKeywords:{id:"newBlock.tab.keywords",defaultMessage:"tab tabs tabbed switch toggle"},toggleFormatHeaderTitle:{id:"newBlock.toggleFormatHeader.title",description:"Toggle heading 1 block",defaultMessage:"Toggle heading 1"},toggleFormatHeaderDescription:{id:"newBlock.toggleFormatHeader.description",defaultMessage:"Hide content inside a large heading."},toggleFormatHeaderKeywords:{id:"newBlock.toggleFormatHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the largest toggle heading type.",defaultMessage:"toggle heading 1 # h1"},toggleFormatSubHeaderTitle:{id:"newBlock.toggleFormatSubHeader.title",description:"Toggled subheader block",defaultMessage:"Toggle heading 2"},toggleFormatSubHeaderDescription:{id:"newBlock.toggleFormatSubHeader.description",defaultMessage:"Hide content inside a medium heading."},toggleFormatSubHeaderKeywords:{id:"newBlock.toggleFormatSubHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the toggle subheadings.",defaultMessage:"toggle sub heading 2 ## h2 two"},toggleFormatSubSubHeaderTitle:{id:"newBlock.toggleFormatSubSubHeader.title",description:"Toggle subsubsub heading block",defaultMessage:"Toggle heading 3"},toggleFormatSubSubHeaderDescription:{id:"newBlock.toggleFormatSubSubHeader.description",defaultMessage:"Hide content inside a small heading."},toggleFormatSubSubHeaderKeywords:{id:"newBlock.toggleFormatSubSubHeader.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the block type for the toggle sub-subheadings.",defaultMessage:"toggle subsub heading 3 ### h3 three"},columnListTitle:{id:"newBlock.columnList.title",defaultMessage:"Columns",description:"Column list block"},columnListDescription:{id:"newBlock.columnList.description",defaultMessage:"Create columns of blocks.",description:"Create columns of blocks, by default 2 columns."},columnListKeywords:{id:"newBlock.columnList.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create column' block type.",defaultMessage:"Create col column columns block vertical"},column2Title:{id:"newBlock.column2.title",defaultMessage:"2 columns",description:"Column list block"},column2Description:{id:"newBlock.column2.description",defaultMessage:"Create 2 columns of blocks.",description:"Create 2 columns of blocks."},column2Keywords:{id:"newBlock.column2.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create column' block type.",defaultMessage:"Create col c2 col2 columns block vertical 2col two"},column3Title:{id:"newBlock.column3.title",defaultMessage:"3 columns",description:"Create 3 columns of blocks."},column3Description:{id:"newBlock.column3.description",defaultMessage:"Create 3 columns of blocks.",description:"Create 3 columns of blocks."},column3Keywords:{id:"newBlock.column3.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create column' block type.",defaultMessage:"c3 col3 column3 columns 3col three"},column4Title:{id:"newBlock.column4.title",defaultMessage:"4 columns",description:"Create 4 columns of blocks."},column4Description:{id:"newBlock.column4.description",defaultMessage:"Create 4 columns of blocks.",description:"Create 4 columns of blocks."},column4Keywords:{id:"newBlock.column4.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create column' block type.",defaultMessage:"c4 col4 column4 columns 4col four"},column5Title:{id:"newBlock.column5.title",defaultMessage:"5 columns",description:"Create 5 columns of blocks."},column5Description:{id:"newBlock.column5.description",defaultMessage:"Create 5 columns of blocks.",description:"Create 5 columns of blocks."},column5Keywords:{id:"newBlock.column5.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Create column' block type.",defaultMessage:"c5 col5 column5 columns 5col five"},mermaidCodeTitle:{id:"newBlock.mermaidCode.title",defaultMessage:"Code - Mermaid",description:"Title to create a code block with language set to Mermaid, for making diagrams. See https://mermaid-js.github.io"},mermaidCodeDescription:{id:"newBlock.mermaidCode.description",defaultMessage:"Create a diagram by writing code.",description:"Description for to creating a code block with language set to Mermaid, for making diagrams."},mermaidCodeKeywords:{id:"newBlock.mermaidCode.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Mermaid' block type.",defaultMessage:"mermaid diagram graphviz flowchart code"},aiSummaryBlockTitle:{id:"newBlock.aiSummaryBlock.title",defaultMessage:"Summary",description:"Title to create an AI summary block."},aiSummaryBlockDescription:{id:"newBlock.aiSummaryBlock.description",defaultMessage:"Generate a summary for the current page.",description:"Description for to creating a summary block."},aiSummaryKeywords:{id:"newBlock.aiSummaryBlock.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Summary' block type.",defaultMessage:"summary ai"},aiActionItemsBlockTitle:{id:"newBlock.aiActionItemsBlock.title",defaultMessage:"Action items",description:"Title to create an AI action items block."},aiActionItemsDescription:{id:"newBlock.aiActionItemsBlock.description",defaultMessage:"Extract action items from current page.",description:"Description for to creating an action items block."},aiActionItemsKeywords:{id:"newBlock.aiActionItemsBlock.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Action items' block type.",defaultMessage:"find action items ai"},aiFreePromptBlockTitle:{id:"newBlock.aiFreePromptBlock.title",defaultMessage:"Custom AI Block",description:"Title to create a AI free prompt block."},aiFreePromptDescription:{id:"newBlock.aiFreePromptBlock.description",defaultMessage:"Generate content from any instruction.",description:"Description for to creating a AI free prompt block."},aiFreePromptKeywords:{id:"newBlock.aiFreePromptBlock.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'AI' block type.",defaultMessage:"ask help question prompt ai custom block content"},drawingTitle:{id:"newBlock.drawing.title",description:"Title when creating a Drawing block",defaultMessage:"Drawing"},drawingDescription:{id:"newBlock.drawing.description",description:"Description when creating a Drawing block",defaultMessage:"Draw and diagram on an infinite canvas."},drawingKeywords:{id:"newBlock.drawing.fuzzySearchKeywords",description:"Keywords used when filtering block creation menus via fuzzy search: these keywords identify the 'Drawing' block type.",defaultMessage:"drawing diagram canvas illustration draw sketch tldraw doodle mindmap architecture paint pen"}});function P(e){const{key:t,displayName:o,fuzzySearchKeywords:i,blockType:n,thumbnail:r,tooltipPhoto:a,description:s,createTemplate:d,shouldShow:p,badge:u,postCreateCallback:m,collectionViewType:g,isToggleable:f}=e,v=h.default.formatMessage(i),y=v!==i.defaultMessage?`${v} ${i.defaultMessage}`:v;return{key:t,displayName:h.default.formatMessage(o),analyticsName:o.defaultMessage,searchName:y,thumbnail:r,tooltipPhoto:a,description:s?h.default.formatMessage(s):void 0,templateRootBlockId:"root",blockType:n,createTemplate:d||(()=>l.Ak.create({[c.iU]:{root:{id:"root",type:n}}})),shouldShow:p,badge:u,postCreateCallback:m,collectionViewType:g,isToggleable:f}}const x={[a.Ti.text]:P({key:a.Ti.text,blockType:a.Ti.text,displayName:I.textTitle,fuzzySearchKeywords:I.textKeywords,thumbnail:r.Z.images.blocks.textPng,description:I.textDescription,tooltipPhoto:r.Z.images.tooltips.blocks.textPng}),[a.Ti.page]:P({key:a.Ti.page,blockType:a.Ti.page,displayName:I.pageTitle,fuzzySearchKeywords:I.pageKeywords,thumbnail:r.Z.images.blocks.pagePng,description:I.pageDescription,tooltipPhoto:r.Z.images.tooltips.blocks.pagePng}),[a.Ti.linkToPage]:P({key:a.Ti.linkToPage,blockType:a.Ti.linkToPage,displayName:I.linkToPageTitle,fuzzySearchKeywords:I.linkToPageKeywords,thumbnail:r.Z.images.blocks.linkPng,description:I.linkToPageDescription,tooltipPhoto:r.Z.images.tooltips.blocks.linkToPagePng}),[a.Ti.transclusionContainer]:P({key:a.Ti.transclusionContainer,blockType:a.Ti.transclusionContainer,displayName:I.transclusionContainerTitle,fuzzySearchKeywords:I.transclusionContainerKeywords,thumbnail:r.Z.images.blocks.transclusionPng,description:I.transclusionContainerDescription,tooltipPhoto:r.Z.images.tooltips.blocks.transclusionPng,shouldShow:e=>!(0,y.wT)(e),createTemplate:e=>b._Z()}),[a.Ti.toDo]:P({key:a.Ti.toDo,blockType:a.Ti.toDo,displayName:I.toDoTitle,fuzzySearchKeywords:I.toDoKeywords,thumbnail:r.Z.images.blocks.toDoPng,description:I.toDoDescription,tooltipPhoto:r.Z.images.tooltips.blocks.toDoListPng}),[a.Ti.header]:P({key:a.Ti.header,blockType:a.Ti.header,displayName:I.headerTitle,fuzzySearchKeywords:I.headerKeywords,thumbnail:r.Z.images.blocks.headerPng,description:I.headerDescription,tooltipPhoto:r.Z.images.tooltips.blocks.headerPng}),[a.Ti.subHeader]:P({key:a.Ti.subHeader,blockType:a.Ti.subHeader,displayName:I.subHeaderTitle,fuzzySearchKeywords:I.subHeaderKeywords,thumbnail:r.Z.images.blocks.subheaderPng,description:I.subHeaderDescription,tooltipPhoto:r.Z.images.tooltips.blocks.subHeaderPng}),[a.Ti.subSubHeader]:P({key:a.Ti.subSubHeader,blockType:a.Ti.subSubHeader,displayName:I.subSubHeaderTitle,fuzzySearchKeywords:I.subSubHeaderKeywords,thumbnail:r.Z.images.blocks.subsubheaderPng,description:I.subSubHeaderDescription,tooltipPhoto:r.Z.images.tooltips.blocks.subsubheaderPng}),[a.Ti.image]:P({key:a.Ti.image,blockType:a.Ti.image,displayName:I.imageTitle,fuzzySearchKeywords:I.imageKeywords,description:I.imageDescription,tooltipPhoto:r.Z.images.tooltips.blocks.imagePng,thumbnail:r.Z.images.blocks.imagePng}),[a.Ti.bookmark]:P({key:a.Ti.bookmark,blockType:a.Ti.bookmark,displayName:I.bookmarkTitle,fuzzySearchKeywords:I.bookmarkKeywords,thumbnail:r.Z.images.blocks.webBookmarkPng,description:I.bookmarkDescription,tooltipPhoto:r.Z.images.tooltips.blocks.webBookmarkPng}),[a.Ti.divider]:P({key:a.Ti.divider,blockType:a.Ti.divider,displayName:I.dividerTitle,fuzzySearchKeywords:I.dividerKeywords,thumbnail:r.Z.images.blocks.dividerPng,description:I.dividerDescription,tooltipPhoto:r.Z.images.tooltips.blocks.dividerPng}),[a.Ti.code]:P({key:a.Ti.code,blockType:a.Ti.code,displayName:I.codeTitle,fuzzySearchKeywords:I.codeKeywords,thumbnail:r.Z.images.blocks.codePng,description:I.codeDescription,tooltipPhoto:r.Z.images.tooltips.blocks.codePng}),[a.Ti.quote]:P({key:a.Ti.quote,blockType:a.Ti.quote,displayName:I.quoteTitle,fuzzySearchKeywords:I.quoteKeywords,thumbnail:r.Z.images.blocks.quotePng,description:I.quoteDescription,tooltipPhoto:r.Z.images.tooltips.blocks.quotePng}),[a.Ti.bulletedList]:P({key:a.Ti.bulletedList,blockType:a.Ti.bulletedList,displayName:I.bulletedListTitle,fuzzySearchKeywords:I.bulletedListKeywords,thumbnail:r.Z.images.blocks.bulletedListPng,description:I.bulletedListDescription,tooltipPhoto:r.Z.images.tooltips.blocks.bulletedListPng}),[a.Ti.numberedList]:P({key:a.Ti.numberedList,blockType:a.Ti.numberedList,displayName:I.numberedListTitle,fuzzySearchKeywords:I.numberedListKeywords,thumbnail:r.Z.images.blocks.numberedListPng,description:I.numberedListDescription,tooltipPhoto:r.Z.images.tooltips.blocks.numberedListPng}),[a.Ti.toggle]:P({key:a.Ti.toggle,blockType:a.Ti.toggle,displayName:I.toggleTitle,fuzzySearchKeywords:I.toggleKeywords,thumbnail:r.Z.images.blocks.togglePng,description:I.toggleDescription,tooltipPhoto:r.Z.images.tooltips.blocks.toggleListPng,isToggleable:!0}),[a.Ti.file]:P({key:a.Ti.file,blockType:a.Ti.file,displayName:I.fileTitle,fuzzySearchKeywords:I.fileKeywords,thumbnail:r.Z.images.blocks.filePng,tooltipPhoto:r.Z.images.tooltips.blocks.filePng,description:I.fileDescription}),[a.Ti.video]:P({key:a.Ti.video,blockType:a.Ti.video,displayName:I.videoTitle,fuzzySearchKeywords:I.videoKeywords,thumbnail:r.Z.images.blocks.videoPng,tooltipPhoto:r.Z.images.tooltips.blocks.videoPng,description:I.videoDescription}),[a.Ti.audio]:P({key:a.Ti.audio,blockType:a.Ti.audio,displayName:I.audioTitle,fuzzySearchKeywords:I.audioKeywords,thumbnail:r.Z.images.blocks.audioPng,description:I.audioDescription}),[a.Ti.embed]:P({key:a.Ti.embed,blockType:a.Ti.embed,displayName:I.embedTitle,fuzzySearchKeywords:I.embedKeywords,thumbnail:r.Z.images.blocks.embedPng,description:I.embedDescription}),[a.Ti.drive]:P({key:a.Ti.drive,blockType:a.Ti.drive,displayName:I.driveTitle,fuzzySearchKeywords:I.driveKeywords,thumbnail:r.Z.images.blocks.drivePng,description:I.driveDescription,shouldShow:e=>(0,y.P5)()}),[a.Ti.figma]:P({key:a.Ti.figma,blockType:a.Ti.figma,displayName:I.figmaTitle,fuzzySearchKeywords:I.figmaKeywords,thumbnail:r.Z.images.blocks.figmaPng,description:I.figmaDescription}),[a.Ti.loom]:P({key:a.Ti.loom,blockType:a.Ti.loom,displayName:I.loomTitle,fuzzySearchKeywords:I.loomKeywords,thumbnail:r.Z.images.blocks.loomPng,description:I.loomDescription}),[a.Ti.typeform]:P({key:a.Ti.typeform,blockType:a.Ti.typeform,displayName:I.typeformTitle,fuzzySearchKeywords:I.typeformKeywords,thumbnail:r.Z.images.blocks.typeformPng,description:I.typeformDescription}),[a.Ti.codepen]:P({key:a.Ti.codepen,blockType:a.Ti.codepen,displayName:I.codepenTitle,fuzzySearchKeywords:I.codepenKeywords,thumbnail:r.Z.images.blocks.codepenPng,description:I.codepenDescription}),[a.Ti.tweet]:P({key:a.Ti.tweet,blockType:a.Ti.tweet,displayName:I.tweetTitle,fuzzySearchKeywords:I.tweetKeywords,thumbnail:r.Z.images.blocks.twitterPng,description:I.tweetDescription}),[a.Ti.gist]:P({key:a.Ti.gist,blockType:a.Ti.gist,displayName:I.gistTitle,fuzzySearchKeywords:I.gistKeywords,thumbnail:r.Z.images.blocks.githubPng,description:I.gistDescription}),[a.Ti.maps]:P({key:a.Ti.maps,blockType:a.Ti.maps,displayName:I.mapsTitle,fuzzySearchKeywords:I.mapsKeywords,thumbnail:r.Z.images.blocks.mapsPng,description:I.mapsDescription}),[a.Ti.framer]:P({key:a.Ti.framer,blockType:a.Ti.framer,displayName:I.framerTitle,fuzzySearchKeywords:I.framerKeywords,thumbnail:r.Z.images.blocks.framerPng,description:I.framerDescription}),[a.Ti.invision]:P({key:a.Ti.invision,blockType:a.Ti.invision,displayName:I.invisionTitle,fuzzySearchKeywords:I.invisionKeywords,thumbnail:r.Z.images.blocks.invisionPng,description:I.invisionDescription}),[a.Ti.equation]:P({key:a.Ti.equation,blockType:a.Ti.equation,displayName:I.equationTitle,fuzzySearchKeywords:I.equationKeywords,thumbnail:r.Z.images.blocks.texPng,tooltipPhoto:r.Z.images.tooltips.blocks.mathPng,description:I.equationDescription}),[a.Ti.pdf]:P({key:a.Ti.pdf,blockType:a.Ti.pdf,displayName:I.pdfTitle,fuzzySearchKeywords:I.pdfKeywords,thumbnail:r.Z.images.blocks.pdfPng,description:I.pdfDescription}),[a.Ti.factory]:P({displayName:I.factoryTitle,fuzzySearchKeywords:I.factoryKeywords,thumbnail:r.Z.images.blocks.templateButtonPng,key:a.Ti.factory,blockType:a.Ti.factory,description:I.factoryDescription,tooltipPhoto:r.Z.images.tooltips.blocks.templateButtonPng,createTemplate:b.sw,shouldShow:()=>!(0,S.TN)()}),[a.Ti.button]:P({displayName:I.buttonTitle,fuzzySearchKeywords:I.buttonKeywords,thumbnail:r.Z.images.blocks.templateButtonPng,key:a.Ti.button,blockType:a.Ti.button,description:I.buttonDescription,tooltipPhoto:r.Z.images.tooltips.blocks.templateButtonPng,shouldShow:S.TN,createTemplate:b.ax,badge:"new"}),[a.Ti.breadcrumb]:P({displayName:I.breadcrumbTitle,thumbnail:r.Z.images.blocks.breadcrumbPng,tooltipPhoto:r.Z.images.tooltips.blocks.breadcrumbPng,description:I.breadcrumbDescription,fuzzySearchKeywords:I.breadcrumbKeywords,key:a.Ti.breadcrumb,blockType:a.Ti.breadcrumb}),[a.Ti.callout]:P({key:a.Ti.callout,blockType:a.Ti.callout,displayName:I.calloutTitle,thumbnail:r.Z.images.blocks.calloutPng,description:I.calloutDescription,fuzzySearchKeywords:I.calloutKeywords,tooltipPhoto:r.Z.images.tooltips.blocks.calloutPng}),[a.Ti.tableOfContents]:P({displayName:I.table_of_contentsTitle,fuzzySearchKeywords:I.table_of_contentsKeywords,thumbnail:r.Z.images.blocks.tableOfContentsPng,tooltipPhoto:r.Z.images.tooltips.blocks.tableOfContentsPng,description:I.table_of_contentsDescription,key:a.Ti.tableOfContents,blockType:a.Ti.tableOfContents}),[a.Ti.whimsical]:P({key:a.Ti.whimsical,blockType:a.Ti.whimsical,displayName:I.whimsicalTitle,fuzzySearchKeywords:I.whimsicalKeywords,thumbnail:r.Z.images.blocks.whimsicalPng,description:I.whimsicalDescription}),[a.Ti.mixpanel]:P({key:a.Ti.mixpanel,blockType:a.Ti.mixpanel,displayName:I.mixpanelTitle,fuzzySearchKeywords:I.mixpanelKeywords,thumbnail:r.Z.images.blocks.mixpanelPng,description:I.mixpanelDescription}),[a.Ti.miro]:P({key:a.Ti.miro,blockType:a.Ti.miro,displayName:I.miroTitle,fuzzySearchKeywords:I.miroKeywords,thumbnail:r.Z.images.blocks.miroPng,description:I.miroDescription}),[a.Ti.abstract]:P({key:a.Ti.abstract,blockType:a.Ti.abstract,displayName:I.abstractTitle,thumbnail:r.Z.images.blocks.abstractPng,description:I.abstractDescription,fuzzySearchKeywords:I.abstractKeywords}),[a.Ti.sketch]:P({key:a.Ti.sketch,blockType:a.Ti.sketch,displayName:I.sketchTitle,thumbnail:r.Z.images.blocks.sketchPng,description:I.sketchDescription,fuzzySearchKeywords:I.sketchKeywords}),[a.Ti.excalidraw]:P({key:a.Ti.excalidraw,blockType:a.Ti.excalidraw,displayName:I.excalidrawTitle,thumbnail:r.Z.images.blocks.excalidrawPng,description:I.excalidrawDescription,fuzzySearchKeywords:I.excalidrawKeywords}),[a.Ti.replit]:P({key:a.Ti.replit,blockType:a.Ti.replit,displayName:I.replitTitle,thumbnail:r.Z.images.blocks.replitPng,description:I.replitDescription,fuzzySearchKeywords:I.replitKeywords}),[a.Ti.table]:P({key:a.Ti.table,blockType:a.Ti.table,displayName:I.simpleTableTitle,thumbnail:r.Z.images.blocks.simpleTablePng,description:I.simpleTableDescription,fuzzySearchKeywords:I.simpleTableKeywords,tooltipPhoto:r.Z.images.tooltips.blocks.simpleTablePng,createTemplate:()=>b.S7()}),[a.Ti.tab]:P({key:a.Ti.tab,blockType:a.Ti.tab,displayName:I.tabTitle,thumbnail:r.Z.images.blocks.tabsPng,tooltipPhoto:r.Z.images.tooltips.blocks.tabsPng,description:I.tabDescription,fuzzySearchKeywords:I.tabKeywords,createTemplate:()=>b.ZW(),shouldShow:e=>(0,y.$c)(e)}),[a.Ti.hex]:P({key:a.Ti.hex,blockType:a.Ti.hex,displayName:I.hexTitle,thumbnail:r.Z.images.blocks.hexPng,description:I.hexDescription,fuzzySearchKeywords:I.hexKeywords}),[a.Ti.deepnote]:P({key:a.Ti.deepnote,blockType:a.Ti.deepnote,displayName:I.deepnoteTitle,thumbnail:r.Z.images.blocks.deepnotePng,description:I.deepnoteDescription,fuzzySearchKeywords:I.deepnoteKeywords}),[a.MF.toggleFormatHeaderBlock]:P({key:a.MF.toggleFormatHeaderBlock,blockType:a.Ti.header,displayName:I.toggleFormatHeaderTitle,fuzzySearchKeywords:I.toggleFormatHeaderKeywords,thumbnail:r.Z.images.blocks.toggleHeading1Png,description:I.toggleFormatHeaderDescription,tooltipPhoto:r.Z.images.tooltips.blocks.toggleH1Png,createTemplate:()=>b.UG(a.Ti.header),isToggleable:!0}),[a.MF.toggleFormatSubHeaderBlock]:P({key:a.MF.toggleFormatSubHeaderBlock,blockType:a.Ti.subHeader,displayName:I.toggleFormatSubHeaderTitle,fuzzySearchKeywords:I.toggleFormatSubHeaderKeywords,thumbnail:r.Z.images.blocks.toggleHeading2Png,description:I.toggleFormatSubHeaderDescription,tooltipPhoto:r.Z.images.tooltips.blocks.toggleH2Png,createTemplate:()=>b.UG(a.Ti.subHeader),isToggleable:!0}),[a.MF.toggleFormatSubSubHeaderBlock]:P({key:a.MF.toggleFormatSubSubHeaderBlock,blockType:a.Ti.subSubHeader,displayName:I.toggleFormatSubSubHeaderTitle,fuzzySearchKeywords:I.toggleFormatSubSubHeaderKeywords,thumbnail:r.Z.images.blocks.toggleHeading3Png,description:I.toggleFormatSubSubHeaderDescription,tooltipPhoto:r.Z.images.tooltips.blocks.toggleH3Png,createTemplate:()=>b.UG(a.Ti.subSubHeader),isToggleable:!0}),[a.Ti.columnList]:P({key:a.Ti.columnList,blockType:a.Ti.columnList,displayName:I.columnListTitle,fuzzySearchKeywords:I.columnListKeywords,thumbnail:r.Z.images.blocks.columnListPng,description:I.columnListDescription,tooltipPhoto:r.Z.images.tooltips.blocks.columnListPng,createTemplate:()=>b.n_(2),shouldShow:e=>!e.environment.device.isPhone}),[a.MF.column2Block]:P({key:a.MF.column2Block,blockType:a.Ti.columnList,displayName:I.column2Title,fuzzySearchKeywords:I.column2Keywords,thumbnail:r.Z.images.blocks.columnListPng,description:I.column2Description,tooltipPhoto:r.Z.images.tooltips.blocks.columnListPng,createTemplate:()=>b.n_(2),shouldShow:e=>!e.environment.device.isPhone&&!e.blocks.some(k.hF)}),[a.MF.column3Block]:P({key:a.MF.column3Block,blockType:a.Ti.columnList,displayName:I.column3Title,fuzzySearchKeywords:I.column3Keywords,thumbnail:r.Z.images.blocks.columnListPng,description:I.column3Description,tooltipPhoto:r.Z.images.tooltips.blocks.columnListPng,createTemplate:()=>b.n_(3),shouldShow:e=>!e.environment.device.isPhone&&!e.blocks.some(k.hF)}),[a.MF.column4Block]:P({key:a.MF.column4Block,blockType:a.Ti.columnList,displayName:I.column4Title,fuzzySearchKeywords:I.column4Keywords,thumbnail:r.Z.images.blocks.columnListPng,description:I.column4Description,tooltipPhoto:r.Z.images.tooltips.blocks.columnListPng,createTemplate:()=>b.n_(4),shouldShow:e=>!e.environment.device.isPhone&&!e.blocks.some(k.hF)}),[a.MF.column5Block]:P({key:a.MF.column5Block,blockType:a.Ti.columnList,displayName:I.column5Title,fuzzySearchKeywords:I.column5Keywords,thumbnail:r.Z.images.blocks.columnListPng,description:I.column5Description,tooltipPhoto:r.Z.images.tooltips.blocks.columnListPng,createTemplate:()=>b.n_(5),shouldShow:e=>!e.environment.device.isPhone&&!e.blocks.some(k.hF)}),[a.MF.mermaidCodeBlock]:P({key:a.MF.mermaidCodeBlock,blockType:a.Ti.code,displayName:I.mermaidCodeTitle,fuzzySearchKeywords:I.mermaidCodeKeywords,thumbnail:r.Z.images.blocks.codePng,description:I.mermaidCodeDescription,tooltipPhoto:r.Z.images.tooltips.blocks.codePng,createTemplate:()=>b.iD("Mermaid","graph TD\n  Mermaid --\x3e Diagram"),postCreateCallback:e=>{i.default.afterNextFlush((()=>{i.default.afterNextFlush((()=>{const t=f.C.find((t=>t.props.store.id===e.id)),o=null==t?void 0:t.props.store,i=o&&(0,_.mh)(o);if(i){var n;const e=(0,C.TD)({store:i,selection:{startIndex:0,endIndex:(null===(n=(0,T.x0)(i))||void 0===n?void 0:n.endIndex)??0}});g.NA({multiSelection:e})}}))}))}}),[a.MF.aiSummaryBlock]:P({key:a.MF.aiSummaryBlock,blockType:a.Ti.aiBlock,displayName:I.aiSummaryBlockTitle,fuzzySearchKeywords:I.aiSummaryKeywords,thumbnail:r.Z.images.blocks.tableOfContentsPng,description:I.aiSummaryBlockDescription,badge:"ai",createTemplate:()=>b.Jy("summarize"),shouldShow:e=>!e.environment.device.isPhone&&(0,y.wU)(e)}),[a.MF.aiActionItemsBlock]:P({key:a.MF.aiActionItemsBlock,blockType:a.Ti.aiBlock,displayName:I.aiActionItemsBlockTitle,fuzzySearchKeywords:I.aiActionItemsKeywords,thumbnail:r.Z.images.blocks.bulletedListPng,description:I.aiActionItemsDescription,badge:"ai",createTemplate:()=>b.Jy("findActionItems"),shouldShow:e=>!e.environment.device.isPhone&&(0,y.wU)(e)}),[a.MF.aiFreePromptBlock]:P({key:a.MF.aiFreePromptBlock,blockType:a.Ti.aiBlock,displayName:I.aiFreePromptBlockTitle,fuzzySearchKeywords:I.aiFreePromptKeywords,thumbnail:r.Z.images.blocks.calloutPng,description:I.aiFreePromptDescription,badge:"ai",createTemplate:()=>b.Jy("helpMeWrite"),shouldShow:e=>!e.environment.device.isPhone&&(0,y.wU)(e)}),[a.Ti.drawing]:P({key:a.Ti.drawing,blockType:a.Ti.drawing,displayName:I.drawingTitle,fuzzySearchKeywords:I.drawingKeywords,thumbnail:r.Z.images.externalIntegrations.acmeIconPng,description:I.drawingDescription,shouldShow:e=>(0,w.A3)(),createTemplate:()=>b.Fr()})},B=P({key:"table view",blockType:a.Ti.collectionView,displayName:I.tableViewTitle,thumbnail:r.Z.images.blocks.tableViewInlinePng,description:I.tableViewDescription,fuzzySearchKeywords:I.tableViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.tablePng,createTemplate:()=>b.iC({isInline:!0,viewType:"table"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"table"})},collectionViewType:"table"}),Z=P({key:"board view",blockType:a.Ti.collectionView,displayName:I.boardViewTitle,thumbnail:r.Z.images.blocks.boardInlinePng,description:I.boardViewDescription,fuzzySearchKeywords:I.boardViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.boardPng,createTemplate:()=>b.iC({isInline:!0,viewType:"board"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"board"})},collectionViewType:"board"}),E=P({key:"gallery view",blockType:a.Ti.collectionView,displayName:I.galleryViewTitle,thumbnail:r.Z.images.blocks.galleryInlinePng,description:I.galleryViewDescription,fuzzySearchKeywords:I.galleryViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.galleryPng,createTemplate:()=>b.iC({isInline:!0,viewType:"gallery"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"gallery"})},collectionViewType:"gallery"}),R=P({key:"list view",blockType:a.Ti.collectionView,displayName:I.listViewTitle,thumbnail:r.Z.images.blocks.listInlinePng,description:I.listViewDescription,fuzzySearchKeywords:I.listViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.listPng,createTemplate:()=>b.iC({isInline:!0,viewType:"list"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"list"})},collectionViewType:"list"}),A=P({key:"calendar view",blockType:a.Ti.collectionView,displayName:I.calendarViewTitle,thumbnail:r.Z.images.blocks.calendarInlinePng,description:I.calendarViewDescription,fuzzySearchKeywords:I.calendarViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.calendarPng,createTemplate:()=>b.iC({isInline:!0,viewType:"calendar"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"calendar"})},collectionViewType:"calendar"}),D=P({key:"timeline view",blockType:a.Ti.collectionView,displayName:I.timelineViewTitle,thumbnail:r.Z.images.blocks.timelineInlinePng,description:I.timelineViewDescription,fuzzySearchKeywords:I.timelineViewTitle,tooltipPhoto:r.Z.images.tooltips.blocks.timelinePng,createTemplate:()=>b.iC({isInline:!0,viewType:"timeline"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"timeline"})},collectionViewType:"timeline"}),F=P({key:"database inline",blockType:a.Ti.collectionView,displayName:I.databaseInlineTitle,thumbnail:r.Z.images.blocks.tableViewInlinePng,description:I.databaseInlineDescription,fuzzySearchKeywords:I.databaseInlineKeywords,tooltipPhoto:r.Z.images.tooltips.blocks.tableViewPng,createTemplate:e=>b.W_({environment:e,isInline:!0}),collectionViewType:"inline"}),L=P({key:"database full page",blockType:a.Ti.collectionViewPage,displayName:I.databaseFullPageTitle,thumbnail:r.Z.images.blocks.tableViewPng,description:I.databaseFullPageDescription,fuzzySearchKeywords:I.databaseFullPageKeywords,tooltipPhoto:r.Z.images.tooltips.blocks.tableViewPng,createTemplate:e=>b.W_({environment:e,isInline:!1}),collectionViewType:"full_page"}),V=P({key:"linked database",blockType:a.Ti.collectionView,displayName:I.linkedViewOfCollectionTitle,fuzzySearchKeywords:I.linkedViewOfCollectionKeywords,thumbnail:r.Z.images.blocks.linkPng,description:I.linkedViewOfCollectionDescription,tooltipPhoto:r.Z.images.tooltips.blocks.tablePng,createTemplate:()=>b.iC({isInline:!0,viewType:"table"}),shouldShow:e=>!e.environment.device.isMobile}),N=P({key:"linked database mobile",blockType:a.Ti.collectionView,displayName:I.linkedViewOfCollectionMobileTitle,fuzzySearchKeywords:I.linkedViewOfCollectionKeywords,thumbnail:r.Z.images.blocks.linkPng,description:I.linkedViewOfCollectionDescription,tooltipPhoto:r.Z.images.tooltips.blocks.tablePng,createTemplate:()=>b.iC({isInline:!0,viewType:"table"}),shouldShow:e=>e.environment.device.isMobile}),O=[x[a.Ti.callout],x[a.Ti.toggle]],U=[x[a.Ti.text],x[a.Ti.page],x[a.Ti.toDo],x[a.Ti.header],x[a.Ti.subHeader],x[a.Ti.subSubHeader],x[a.Ti.table],x[a.Ti.bulletedList],x[a.Ti.numberedList],x[a.Ti.toggle],x[a.Ti.quote],x[a.Ti.divider],x[a.Ti.linkToPage],x[a.Ti.callout]],H=[x[a.Ti.image],x[a.Ti.bookmark],x[a.Ti.video],x[a.Ti.audio],x[a.Ti.code],x[a.Ti.file],x[a.Ti.drawing]],z=[B,Z,E,R,A,D,F,L,V,N],W=new n.Z((()=>v.Z.integrations.state.filter((e=>e.id!==p.U9)).map((e=>{if((0,s.mo)(e)||(0,s.zc)(e)){const t=(0,s.mo)(e)?"link preview":"data sync";return{key:e.id,displayName:e.name,analyticsName:e.name,searchName:`${t} ${e.name}`,thumbnail:e.info.icon??r.Z.images.blocks.embedPng,description:e.info.tagline,templateRootBlockId:"root",blockType:a.Ti.externalObjectInstance,shouldShow:e=>!(0,y.nJ)(e),createTemplate:()=>{const t={is_placeholder:!0,integration_id:e.id};return l.Ak.create({[c.iU]:{root:{id:"root",type:a.Ti.externalObjectInstance,format:t}}})}}}})).filter(u.$K)),{debugName:"getExternalIntegrationCreateBlockItems"}),j=new n.Z((()=>v.Z.integrations.state.filter(d.l).map((e=>({key:`synced database ${e.id}`,displayName:`${e.name}`,analyticsName:`synced database ${e.name}`,searchName:`synced database ${e.name}`,thumbnail:e.info.icon??r.Z.images.blocks.embedPng,description:e.info.tagline,templateRootBlockId:"root",blockType:a.Ti.collectionView,shouldShow:e=>!(0,y.nJ)(e),createTemplate:()=>b.sU({isInline:!0,viewType:"table",integrationId:e.id}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,M.u)(t.id,{viewType:"table"})}})))),{debugName:"getExternalIntegrationCreateCollectionViewBlockItems"});function K(){let e,t,o,i;const n=[];for(const r of W.state)"Figma"===r.displayName?e=r:"Hex"===r.displayName?t=r:"Google Drive"===r.displayName?o=r:"Whimsical"===r.displayName?i=r:n.push(r);return[x[a.Ti.embed],o??x[a.Ti.drive],x[a.Ti.tweet],x[a.Ti.gist],x[a.Ti.maps],e??x[a.Ti.figma],x[a.Ti.abstract],x[a.Ti.invision],x[a.Ti.mixpanel],x[a.Ti.framer],i??x[a.Ti.whimsical],x[a.Ti.miro],x[a.Ti.sketch],x[a.Ti.excalidraw],x[a.Ti.pdf],x[a.Ti.loom],x[a.Ti.typeform],x[a.Ti.codepen],x[a.Ti.replit],t??x[a.Ti.hex],x[a.Ti.deepnote],...n]}const Y=[x[a.Ti.tableOfContents],x[a.Ti.equation],x[a.Ti.button],x[a.Ti.factory],x[a.Ti.breadcrumb],x[a.Ti.tab],x[a.Ti.transclusionContainer],x[a.MF.toggleFormatHeaderBlock],x[a.MF.toggleFormatSubHeaderBlock],x[a.MF.toggleFormatSubSubHeaderBlock],x[a.MF.column2Block],x[a.MF.column3Block],x[a.MF.column4Block],x[a.MF.column5Block],x[a.MF.mermaidCodeBlock]],G=[a.MF.aiSummaryBlock,a.MF.aiActionItemsBlock,a.MF.aiFreePromptBlock],X=G.map((e=>x[e]))},11599:(e,t,o)=>{o.d(t,{ab:()=>s,A$:()=>l,dy:()=>c,$0:()=>d,p1:()=>p,kq:()=>u});var i=o(80951),n=o(79315),r=o(88923);function a(){const e=d(),{mainEditorCurrentBlockStore:t}=n.default.state,o=r.default.state.open&&r.default.state.target||t;return e||o}function s(e,t){const o=a(),i=null==o?void 0:o.getFormat(),n=e&&e[t],r=(null==i?void 0:i.collection_page_sections)||[];if(!n){if("backlinks"===t)return"section_collapsed";if("comments"===t)return"section_show";if("margin_comments"===t)return"inline";if(r&&r.filter((e=>e.section===t))){const e=r.find((e=>e.section===t));if(e)return e.visibility}return"inline"}return n}function l(e,t){const o=a();if(!o)return!1;return s(o.getFormat().page_section_visibility,e)===t}function c(e,t){const o=a();if(!o)return!0;return"section_show"===s(o.getFormat().page_section_visibility,t)}function d(){const{mainEditorCurrentBlockStore:e}=n.default.state,t=r.default.state.open&&r.default.state.target||e;return null==t?void 0:t.getAssociatedCollectionStore()}function p(){const e=d();if(!e)return!1;const t=e.getParentBlockStore();return Boolean(t&&(t.isLocked()||t.isNavigableAncestorLocked()))}function u(e){const{propertySchema:t}=e,{type:o}=t,n=(0,i.eb)(t);return!(["created_time","created_by","last_edited_time","last_edited_by"].includes(o)||n)}},75081:(e,t,o)=>{o.d(t,{dX:()=>g,dx:()=>h,GW:()=>v,r1:()=>y,x1:()=>b,tV:()=>S,A7:()=>w});var i=o(97464),n=o.n(i),r=o(67294),a=o(67219),s=o(3779),l=o(97880),c=o(5366),d=o(3815),p=o(33929),u=o(98165);const m=(0,c.defineMessages)({custom:{defaultMessage:"Start a database from scratch",id:"dbTypesHelpers.custom.caption"},tasks:{defaultMessage:"Simple task management",id:"dbTypesHelpers.tasks.caption"},projects:{defaultMessage:"Organize groups of tasks",id:"dbTypesHelpers.projects.caption"},sprints:{defaultMessage:"Agile project management",id:"dbTypesHelpers.sprints.caption"},docs:{defaultMessage:"Organize team documents",id:"dbTypesHelpers.docs.caption"},meetings:{defaultMessage:"Event, Time, Participants...",id:"dbTypesHelpers.meetings.caption"}}),g={custom:p.default.formatMessage(m.custom),tasks:p.default.formatMessage(m.tasks),projects:p.default.formatMessage(m.projects),sprints:p.default.formatMessage(m.sprints),docs:p.default.formatMessage(m.docs),meetings:p.default.formatMessage(m.meetings)},h={custom:s.Z.pageEmpty,tasks:s.Z.tasksDB,projects:s.Z.projectsDB,sprints:s.Z.sprintsDB,docs:s.Z.docsDB,meetings:s.Z.meetingsDB},f=(0,c.defineMessages)({custom:{defaultMessage:"Anything",id:"dbTypesHelpers.custom.displayName"},tasks:{defaultMessage:"Tasks",id:"dbTypesHelpers.tasks.displayName"},projects:{defaultMessage:"Projects",id:"dbTypesHelpers.projects.displayName"},sprints:{defaultMessage:"Sprints",id:"dbTypesHelpers.sprints.displayName"},docs:{defaultMessage:"Docs",id:"dbTypesHelpers.docs.displayName"},meetings:{defaultMessage:"Meetings",id:"dbTypesHelpers.meetings.displayName"}}),v={custom:p.default.formatMessage(f.custom),tasks:p.default.formatMessage(f.tasks),projects:p.default.formatMessage(f.projects),sprints:p.default.formatMessage(f.sprints),docs:p.default.formatMessage(f.docs),meetings:p.default.formatMessage(f.meetings)};function y(e){return(t=p.default.formatMessage((0,a.u5)(e)))[0].toUpperCase()+t.slice(1);var t}function b(e){let{typedCollections:t,spaceStore:o,environment:i}=e;const n=[],r=[],a={},s={};for(const c of t){const e=(0,u.u3)(c);if(!e)continue;const t=S({environment:i,spaceStore:o,collectionStore:c});switch(t){case"team":a[e.id]=[...a[e.id]||[],c],e instanceof d.zX&&(s[e.id]=e);break;case"private":n.push(c);break;case"other":r.push(c);break;default:(0,l.t1)(t)}}return{privateDatabases:n,otherDatabases:r,teamDatabases:a,teamStores:s}}function S(e){let{environment:t,spaceStore:o,collectionStore:i}=e;const n=(0,u.u3)(i);return n&&n.canRead()?n instanceof d.zX?"team":n.isTopLevelPrivatePage({spaceStore:o,environment:t})?"private":"other":"other"}function w(e,t){return window.__c={n:"getRequiredPropertyExplanation"},r.createElement(c.FormattedMessage,n()({},t,{defaultMessage:"This property is required for {databaseType}.",id:"database.requiredPropertyExplanation",description:"Educate the users on why this property cannot be deleted.",values:{databaseType:y(e)}}))}},50167:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var i=o(11799),n=o(4615),r=o(21202),a=o(76462),s=o(90468),l=o(19889),c=o(92338),d=o(97880),p=o(54642),u=o(79315),m=o(10161),g=o(88923),h=o(27724),f=o(7339),v=o(80084);function y(e){let{environment:t,config:o}=e;const n=(e,o)=>{var i;const n=b(e,o),r=t.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:n,userId:t.currentUser.id});if(void 0===(null==r?void 0:r.value))return`${n.table}: ${n.id}`;const a="type"in r.value?r.value.type:n.table;return"name"in(null==r?void 0:r.value)?`${a} ${r.value.id} ${r.value.name}`:"properties"in(null==r?void 0:r.value)&&(0,d.$K)(r.value.properties)&&"title"in r.value.properties&&(0,d.$K)(null==r?void 0:r.value.properties.title)?`${a} ${r.value.id} ${r.value.properties.title.join(" ").slice(0,30)}`:`${a} ${null==r||null===(i=r.value)||void 0===i?void 0:i.id}`},a=(e,o)=>{const i=b(e,o);return t.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:i,userId:t.currentUser.id})},y=(e,t)=>{const o=b(e,t),i=a(e,t),r={title:n(e,t),raw:null==i?void 0:i.value,parent:void 0,id:o,children:[]};if(void 0!==(null==i?void 0:i.value)&&"parent_table"in(null==i?void 0:i.value)&&"parent_id"in(null==i?void 0:i.value)){var s,l;const e=b(null===(s=i.value)||void 0===s?void 0:s.parent_id,null===(l=i.value)||void 0===l?void 0:l.parent_table);r.parent=e}if(null!=i&&i.value&&"content"in(null==i?void 0:i.value)){var c;const e=(null==i||null===(c=i.value)||void 0===c?void 0:c.content)||[];for(const t of e){const e=b(t,"block"),i=a(t,"block"),s={title:n(t,"block"),raw:null==i?void 0:i.value,parent:o,id:e,children:[]};r.children.push(s)}}return r},w=(e,t)=>`${o.adminUrl}/__admin/${e}/${t}`,k=(e,t)=>{window.open(w(e,t))},C=()=>g.default.state.open?(console.warn("Returning peek view page, if you want the underlying page, please close it and try again"),g.default.state.target):u.default.state.mainEditorCurrentBlockStore?u.default.state.mainEditorCurrentBlockStore:void console.error("No current mainEditorCurrentBlockStore"),_=function(e){var o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a="string"==typeof e?{query:{text:e,filters:(0,c.u4)(),sort:{field:"relevance"}},limit:20,debug:i}:e;return{environment:t,input:a,spaceId:null===(o=u.default.state.currentSpaceStore)||void 0===o?void 0:o.id,publicAccessPermissionAncestorBlockId:v.bC(t).publicAccessPermissionAncestorBlockId,searchExperimentOverrides:r,forcedClusterPattern:n,source:"debugging"}},M={id:"root0000-0000",table:"block"};return{getRecordFromApi:async(e,o)=>{var i,n;const r=b(e,o),a=[];a.push({pointer:r,version:-1});const s=await p.syncRecordValues(t,{requests:a},null===(i=u.default.state.currentUserStore)||void 0===i?void 0:i.id);return"success"===s.type?null===(n=s.data.recordMap[r.table])||void 0===n?void 0:n[r.id]:void 0},getRecordFromCache:a,getAdminUrl:w,getSelectedBlocks:()=>h.default.state.stores,openInAdmin:k,openSelectedBlocksInAdmin:()=>{if(0!==h.default.state.stores.length)return h.default.state.stores.forEach((e=>{k(r.iU,e.id)}));console.error("No selected block")},openCurrentPageCreatorInAdmin:()=>{var e;const t=(()=>{var e,t;const o=null===(e=C())||void 0===e?void 0:e.getCreatedById(),i=null===(t=C())||void 0===t?void 0:t.getCreatedByTable();if(o&&i)return a(o,i);console.error("no created_by_id or created_by_table for this page")})(),o=null==t||null===(e=t.value)||void 0===e?void 0:e.id;o?k(l.KJ,o):console.error("no current page Creator, not opening")},getCurrentPage:C,openCurrentPageInAdmin:()=>{var e;const t=null===(e=C())||void 0===e?void 0:e.id;t?k(r.iU,t):console.error("Not opening")},openCurrentSpaceInAdmin:()=>{u.default.state.currentSpaceStore?k(s.bx,u.default.state.currentSpaceStore.id):console.error("No current space")},quickFind:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const n=_(e,t,o,i),r=v.MS(n);return r&&r.then((e=>"success"===e.type?e.data:e))},quickFindRequest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return _(e,t,o,i)},quickFindCollections:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const r="string"==typeof e?{query:{text:e,filters:(0,c.u4)(),sort:{field:"relevance"}},limit:20,debug:o}:e,a=u.default.state.currentSpaceStore,{query:s,limit:l}=r;if(!a)return;const d=p.search(t,{type:c.n8.CollectionsInSpace,query:s.text.trim(),spaceId:a.id,limit:l,filters:c.u4({excludeTemplates:!0,requireEditPermissions:!0}),sort:{field:"relevance"},debug:o,searchExperimentOverrides:n,forcedClusterPattern:i});return d.then((e=>"success"===e.type?e.data:e))},getCurrentPageDetail:()=>{var e;const t=null===(e=C())||void 0===e?void 0:e.id;if(t)return y(t,"block");console.error("Not opening")},getRecordDetail:y,getRecordTitle:n,getRecordTree:e=>{const t=new i.Z;e.map((e=>{const o=b(e.id,e.table),i=n(e.id,e.table),r=a(e.id,e.table),s={title:i,parent:(e=>{var t;if(void 0!==(null==e||null===(t=e.value)||void 0===t?void 0:t.parent_id))return b(e.value.parent_id,e.value.parent_table)})(r),id:o,raw:null==r?void 0:r.value,children:[]};t.set(o,s)}));const o={title:"root",parent:void 0,id:M,raw:void 0,children:[]};return e.map((e=>{const i=b(e.id,e.table),n=t.get(i);var r;void 0!==(null==n?void 0:n.parent)&&t.has(n.parent)?null===(r=t.get(n.parent))||void 0===r||r.children.push(n):void 0!==n?o.children.push(n):o.children.push({title:"Failed to load Record",parent:void 0,id:i,raw:void 0,children:[]})})),o},overrideStatsigLocalExperiment:(e,t)=>{const o="Failed to override Statsig local experiment";if(!m.default.isStatsigEnabled()||!f.C.isInitialized())return console.error(o),!1;try{return f.C.updateLocalOverrideConfig(e,t),!0}catch(i){return console.error(o),!1}},overrideStatsigLocalFeatureGate:(e,t)=>{const o="Failed to override Statsig local feature gate";if(!m.default.isStatsigEnabled()||!f.C.isInitialized())return console.error(o),!1;try{return f.C.updateLocalOverrideGate(e,t),!0}catch(i){return console.error(o),!1}},removeAllStatsigLocalOverrides:()=>{const e="Failed to remove all Statsig local overrides";if(!m.default.isStatsigEnabled()||!f.C.isInitialized())return console.error(e),!1;try{return f.C.removeAllLocalOverrides(),!0}catch(t){return console.error(e),!1}},getCurrentSpaceId:()=>{var e;return null===(e=C())||void 0===e?void 0:e.getSpaceId()},getCurrentUserId:()=>{var e;return null===(e=u.default.state.currentUserStore)||void 0===e?void 0:e.id},getAutomationsForSelectedBlocks:()=>h.default.state.stores.map((e=>S(e))).filter(d.$K),getAutomationsForCurrentPage:()=>S(C())}}function b(e,t){return"string"==typeof e&&"string"==typeof t?Object.keys(a.OC).includes(e)?{table:e,id:(0,n.xP)(t)||t}:{table:t,id:(0,n.xP)(e)||e}:"string"!=typeof e||t?"object"==typeof e?e:t:{table:"block",id:(0,n.xP)(e)||e}}function S(e){if(!e)return;const t=e.getValue();if(e.isCollectionView()){const o=e.getCollectionStore(),i=null==o?void 0:o.getValue(),n=((null==o?void 0:o.getAutomationStores())??[]).map((e=>w(e))).filter(d.$K);if(t&&i)return{block:t,collection:i,automations:n}}else{const o=w(e.getAutomationStore());if(t&&o)return{...o,block:t}}}function w(e){if(!e)return;const t=null==e?void 0:e.getValue(),o=((null==e?void 0:e.getActionStores())??[]).map((e=>e.getValue())).filter(d.$K),i=null==e?void 0:e.getCreatedByPointer(),n=(null==i?void 0:i.table)===l.KJ&&(null==e?void 0:e.getRecordValue(i));return null!=t&&t.alive&&n?{automation:t,actions:o,createdBy:n}:void 0}},21969:(e,t,o)=>{o.d(t,{W:()=>n,H:()=>r});var i=o(64002);function n(e){const t=(0,i.Qc)(e);return(0,i.bf)({url:(0,i.WU)(t),query:{...t.query,deepLinkOpenNewTab:"true"},hash:t.hash||void 0})}function r(e){const t=(0,i.Qc)((0,i.T1)(e));return(0,i.bf)({url:(0,i.WU)(t),query:{...t.query,configureOpenInDesktopApp:"true"},hash:t.hash||void 0})}},43348:(e,t,o)=>{o.d(t,{R:()=>r,X:()=>a});var i=o(5500),n=o(95477);function r(e){const{patternName:t,integrationId:o}=e;if((0,i.BP)({integrationId:o,env:n.Z.env}))return t;{const e=t.indexOf("_");return e<0?"entity_item":t.slice(e+1)}}function a(e){const{patternName:t,integrationId:o}=e;return(0,i.BP)({integrationId:o,env:n.Z.env})?t:`${o}_${t}`}},78089:(e,t,o)=>{o.d(t,{O2:()=>p,Qg:()=>u,QT:()=>m,DF:()=>g,De:()=>h,NI:()=>v,uC:()=>S,n9:()=>w,hu:()=>k,W5:()=>C,KL:()=>_,ad:()=>M,p9:()=>T,Je:()=>I});var i=o(96486),n=o.n(i),r=o(70279),a=o(70203),s=o(97880),l=o(65598),c=o(3815);const d=o(60809);let p;function u(e){let{recordStore:t,currentUserId:o}=e;return b({recordStore:t,currentUserId:o})||v(t)[0]}!function(e){e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl"}(p||(p={}));function m(e){return e>1?3:6}function g(e){let{blockStore:t,ignoreAfterTime:o,currentUserId:i}=e;if(!t)return[];return l.al(t,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}).sort(((e,t)=>{const o=u({recordStore:e,currentUserId:i}),n=u({recordStore:t,currentUserId:i});return null!=o&&o.isDefined()?null!=n&&n.isDefined()?-(o.getCreatedTime()-n.getCreatedTime()):1:-1}))}function h(e){if(!e.isDefined())return!1;const t=e.getContext();if(!t)return!0;return(e=>0===a.ll(e).length)(a.VP(t,(t=>!a.xw(t)||a.h1(t)===e.id)))}function f(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function v(e){return l.D4(e).sort(((e,t)=>f(e,t)))}function y(e){return b({recordStore:e,currentUserId:void 0})}function b(e){let{recordStore:t,currentUserId:o}=e;const i=l.D4(t).filter((e=>e.isDefined()&&e.getCreatedById()!==o)).sort(((e,t)=>f(e,t)));return i[i.length-1]}function S(e){return e.sort(((e,t)=>f(y(e),y(t))))}function w(e){const t=e.state.textStore.getValue(),o=(e.state.files??[]).length>0,i=t&&t.length>0;return!o&&!i}function k(e,t){const o=e.state.textStore.getValue(),i=e.state.files;if(!t)return o&&0!==o.length||i&&i.length>0;const r=l.zP(t).getValue();return!n().isEqual(r,o)||function(e,t){const o=e.state.files,i=l.le(t);if(i.length!==o.length)return!0;return i.some(((e,t)=>e.id!==o[t].id))}(e,t)}function C(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>l.D4(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function _(e){const t=l.ak(e),o=t.getValue()||[];if(0===o.length)return;const i=o[0];return c.t1.createChildStore(t,{table:r.x_,id:i,spaceId:t.pointer.spaceId}).getCreatedTime()}function M(e){switch(e){case"block_menu":return p.Menu;case"page_discussion":return p.Page;case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return p.Menu;case"updates_sidebar":return p.Sidebar;case"margin_comments":return p.Margin;case"comment_unfurl":return p.Unfurl;default:(0,s.t1)(e)}}function T(e){var t;if(e.length>1)return!1;const o=e[0];if(!o.length)return!1;const i=o[0].trim(),n=d();return(null===(t=i.match(n))||void 0===t?void 0:t.join(""))===i}const I={updates_menu_all_updates:28,updates_menu_mentions_comments:28,updates_menu_archive:28,block_menu:20,reply_menu_all_updates:20,reply_menu_mentions_comments:20,reply_menu_archive:20,reply_menu_updates_sidebar:20,page_discussion:20,updates_sidebar:23,margin_comments:20,comment_unfurl:32}},25898:(e,t,o)=>{function i(e,t,o,i){return Math.sqrt((e-o)*(e-o)+(t-i)*(t-i))}o.d(t,{Z:()=>i})},62619:(e,t,o)=>{o.d(t,{UG:()=>a,Gs:()=>s,kK:()=>l,sh:()=>c,kd:()=>d,oG:()=>p,OW:()=>u,IL:()=>m,kA:()=>g,r3:()=>h});var i=o(96486),n=o.n(i),r=o(15095);function a(e){try{return Boolean(e&&void 0!==e.nodeType)}catch(t){return!1}}function s(e){return a(e)&&e.nodeType===Node.TEXT_NODE}function l(e){return a(e)&&e.nodeType===Node.ELEMENT_NODE}function c(e,t){for(;a(e)&&!t(e);)e=e.parentNode;return e}const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(a(e)){for(const o of r.p4(e.childNodes))s(o)?t.push(o):o.childNodes&&d(o,t);return t}return[]},p=function(e,t){return a(e)&&a(t)?n().findIndex(e.childNodes,(e=>e===t)):-1},u=(()=>{if("undefined"==typeof window)return!0;if(window.InputEvent&&"function"==typeof window.InputEvent.prototype.getTargetRanges)return!0;const e=window.document.createElement("div");e.contentEditable="true";return"onbeforeinput"in e})(),m=e=>{!u&&e.preventDefault&&e.preventDefault()};function g(e){return"inputType"in e}function h(e,t){return e!==t&&e.contains(t)}},12230:(e,t,o)=>{o.r(t),o.d(t,{updateShowUserFacingFatalError:()=>s,updateNativeErrorHandler:()=>c,initializeEarlyLogging:()=>d});var i=o(65917),n=o(2911),r=o(95477);let a=()=>{};function s(e){a=e}let l=e=>{};function c(e){l=e}function d(){i.initialize(r.Z),function(){const e=e=>{const t=e.reason?e.reason.message:e.message,o=e.reason?e.reason.status:e.status;if("SyntaxError: Unexpected EOF"===t&&a(),"HttpRequestError"===e.name)i.log({level:"info",from:"main",type:e.name,error:(0,n.Ui)(e)});else if("QueueApiError"===e.name)i.log({level:"info",from:"main",type:e.name,error:(0,n.Ui)(e)});else if("XHR Error: 0"===t||"Token was invalid or expired."===t||"No local database found."===t||"Script error."===t);else if(400===o)i.log({level:"warning",from:"main",type:"badRequest",error:(0,n.Ui)(e)});else if("Request Timeout after 30000ms"===t)i.log({level:"warning",from:"main",type:t,error:(0,n.Ui)(e)});else{const t={level:"error",from:"main",type:"ClientError",error:(0,n.Ui)(e,JSON.stringify,"production"!==r.Z.env)};i.log(t),"production"!==r.Z.env&&l(JSON.stringify(t))}};window.addEventListener("error",e),window.addEventListener("unhandledrejection",e)}(),document.addEventListener("securitypolicyviolation",(e=>{const{blockedURI:t,violatedDirective:o,sourceFile:n}=e,r=e.disposition;i.log({level:"report"===r?"warning":"error",from:"main",type:"securitypolicyviolation",data:{miscDataToConvertToString:{blockedURI:t,violatedDirective:o,sourceFile:n}}})}))}},64286:(e,t,o)=>{o.d(t,{u:()=>a});var i=o(79315),n=o(10161),r=o(15010);function a(e){const{currentUserSettingsStore:t}=i.default.state;if(!t)return!1;const o=(0,r.e2)(t);return!("number"==typeof o&&o>7)&&(!e.device.isMobile&&"on"===n.default.getEligibleGroup({experimentId:"slash_menu_tooltip",defaultGroup:"control"}))}},34700:(e,t,o)=>{function i(e,t){return e?{WebkitAppRegion:t?"drag":"no-drag"}:{}}o.d(t,{X:()=>i})},40056:(e,t,o)=>{o.d(t,{W4:()=>p,id:()=>m,cJ:()=>g});var i=o(80951),n=o(65917);var r=o(29477),a=o(95477),s=o(10161),l=o(34809);const c=1e4;async function d(e){const{environment:t,sourceURL:o}=e;let i;i="production"===a.Z.env?`https://embed.notion.co/api/iframely?key=${a.Z.iframely_prod.key}&url=${o}`:`https://dev-embed.notion.co/api/iframely?key=${a.Z.iframely.key}&url=${o}`;const s={environment:t,method:"GET",url:i,format:"json"},{result:c}=await r.vW(3,1e4,(()=>(0,l.Z)(s)));if(c&&"success"===c.type)return function(e){const t=e;return Object.keys(e).forEach((o=>{if("meta"===o&&(e[o].title&&(t.title=e[o].title),e[o].description&&(t.description=e[o].description),e[o].site&&(t.provider_name=e[o].site)),"url"===o&&(t.url=e[o]),"links"===o){if(e[o].thumbnail&&e[o].thumbnail.length>0){t.images=[];const i={width:Number,height:Number,url:String};i.width=e[o].thumbnail[0].media&&e[o].thumbnail[0].media.width?e[o].thumbnail[0].media.width:480,i.height=e[o].thumbnail[0].media&&e[o].thumbnail[0].media.height?e[o].thumbnail[0].media.height:1080,i.url=e[o].thumbnail[0]&&e[o].thumbnail[0].href?e[o].thumbnail[0].href:"",t.images.push(i)}e[o].icon&&e[o].icon.length>0&&(t.favicon_url=e[o].icon[0].href)}})),t}(c.data);n.log({level:"error",from:"embedHelpers",type:"getExtractedData",error:null==c?void 0:c.error,data:{miscDataToConvertToString:{provider:"iframely"}}})}async function p(e,t){const o=encodeURIComponent(t.trim());return"on"===s.default.getEligibleGroup({experimentId:"iframely_switch",defaultGroup:"control"})?await d({environment:e,sourceURL:o}):await async function(e,t){const o={environment:e,method:"GET",url:`https://api.embed.ly/1/extract?key=${a.Z.embedly.key}&url=${t}`,format:"json"},{result:i}=await r.vW(3,c,(()=>(0,l.Z)(o)));if(i&&"success"===i.type)return i.data;n.log({level:"error",from:"embedHelpers",type:"getExtractedData",error:null==i?void 0:i.error,data:{miscDataToConvertToString:{provider:"embedly"}}})}(e,o)}const u=/(\/d\/|id=)([-\w]{25,})/;function m(e){const t=e.match(u);if(t&&!(t.length<3))return t[2]}function g(e){return i.zB(e.store.getProperties().source)||e.source}},17731:(e,t,o)=>{o.d(t,{e_:()=>s,kw:()=>l,sg:()=>c});var i=o(480),n=o(81954),r=o(79315),a=o(10161);function s(e){const{device:t}=e;return t.isAndroid&&t.browserVersion.startsWith("73.")&&t.browserName.startsWith("Chrome")||t.isAndroid?"google":t.isWindows||t.isLinux?"twitter":"enabled"===a.default.getGroup("emoji-apple-spritesheets")?"apple":"raw"}function l(){const e=(0,i.O7)();return(0,n.VK)((()=>s(e)),[e])}function c(){var e,t,o;return null===(e=r.default.state)||void 0===e||null===(t=e.currentUserSettingsStore)||void 0===t||null===(o=t.getSettings())||void 0===o?void 0:o.emoji_picker_skin_tone}},83631:(e,t,o)=>{o.d(t,{bc:()=>y,D9:()=>b,ND:()=>S,Xu:()=>w,TJ:()=>k,by:()=>C,JT:()=>_,Jf:()=>M,nk:()=>T,qZ:()=>I});var i=o(96486),n=o.n(i),r=o(41892),a=o(98923),s=o(15095),l=o(65454),c=o(70203),d=o(44805),p=o(97880),u=o(63143),m=o(50906),g=o(62619),h=o(68056),f=o(72133),v=o(89086);function y(){return(0,l.ZP)(r.Z.katex.katexMinCss,{resourceType:l._g.Stylesheet})}function b(e){const{source:t,currentEquationToken:o,selectedText:i}=e;return"rich_text_menu"===t?o?{type:"edit",source:t}:{type:"create",source:t,selection:!0}:"input_keyboard_shortcut"===t?o?{type:"edit",source:t}:{type:"create",source:t,selection:Boolean(i)}:"slash_menu"===t?{type:"create",source:t,selection:!1}:"click_token"===t||"arrow_keys"===t?{type:"edit",source:t}:"text_filter"===t?{type:"create",source:t,selection:!0}:void(0,p.t1)(t)}function S(e){const{environment:t,equation:o,from:i}=e;m.trackInlineEquationEdit(t,{equation:o,equationNewlineCount:o.split("\n").length-1,equationBackslashCount:o.split("\\").length-1,equationLength:s.p4(o).length,from:i})}function w(e){return g.kK(e)&&e.classList.contains(d.et)}function k(e){const{selection:t,environment:o}=e,i=f.getRect(t);if(!i){return g.sh(t.startContainer,g.kK).getBoundingClientRect()}if(o.device.isChrome){const e=t.startContainer.childNodes[t.startOffset];return e&&w(e)?e.getBoundingClientRect():g.kK(t.startContainer)?new DOMRect(i.left,i.top,i.width,t.startContainer.getBoundingClientRect().height):new DOMRect(i.left,i.top,i.width,22)}return i}function C(e){const{environment:t,equation:o,displayMode:i}=e,n=t.KatexStore.getKatex();return n&&(0,a.CY)({katex:n,equation:o,options:{displayMode:"block"===i}}).error}function _(e){if("editing"!==e.mode)return;const t=(0,h.QY)(e.multiSelection);if(!t)return;const{store:o,selection:i}=t,{tokensBeforeRange:r,tokensInsideRange:a}=c.xr(o.getValue(),i.startIndex,i.endIndex);let s=n().sum(r.map(c.J1));for(const n of a){const e=c.J1(n),t={startIndex:s,endIndex:s+e};if(c.Yr(n))return{token:n,position:t};s+=e}}function M(e){let t=e;for(let o=0;o<2;o+=1){const e=/^\$(.*)\$$/m.exec(t);if(!e||!e[1])break;t=e[1]}return t}function T(e){const t=(0,h.QY)(e.multiSelection);if(!t)return[];const{selection:o,store:i}=t,n=i.getValue();if(!n)return[];const r=v.wd(o)&&o.startIndex>0?[o.startIndex-1]:[o.startIndex];return v.oc(r,n)[0]||[]}function I(e){const{equationState:t,isTemporary:o}=e,i=t.editingToken?u.uh(c.hD(t.editingToken),(e=>c.ku(e)||c.QV(e))):u.uh(t.annotations,(e=>c.ku(e)||c.QV(e)||c.ZA(e))),r=n().compact([o&&c.W9(),...i]);return c.qZ(t.value,r)}},33954:(e,t,o)=>{o.d(t,{zU:()=>r,$5:()=>c,zP:()=>d,Em:()=>u,Ql:()=>g,mH:()=>B,wf:()=>Z,cq:()=>E,XN:()=>R,HV:()=>A});var i=o(59730),n=o(5366);const r=(0,n.defineMessages)({public_access_not_allowed:{id:"transactionErrors.publicAccessNotAllowed.message",defaultMessage:"This workspace does not allow pages with public access."},public_access_not_allowed_in_team:{id:"transactionErrors.publicAccessNotAllowedInTeam.message",defaultMessage:"This teamspace does not allow pages with public access."},block_permissions_max_size:{id:"transactionErrors.blockPermissionsMaxSize.message",defaultMessage:"You have exceeded the maximum permissions per page."},guests_over_limit:{id:"transactionErrors.guestsoverLimit.message",defaultMessage:"This workspace has reached the maximum number of guests (5)."},guests_not_allowed:{id:"transactionErrors.guestsNotAllowed.message",defaultMessage:"This workspace doesn't allow guests."},team_level_guests_not_allowed:{id:"transactionErrors.teamLevelGuestsNotAllowed.message",defaultMessage:"This teamspace does not allow guests."},workspace_top_level_operation_not_allowed:{id:"transactionErrors.workspaceTopLevelOperationNotAllowed.message",defaultMessage:"This workspace has locked modifying the workspace section of the sidebar."},team_top_level_operation_not_allowed:{id:"transactionErrors.teamTopLevelOperationNotAllowed.message",defaultMessage:"Only teamspace owners can edit teamspace sidebar pages.",description:"Error message for members trying to edit top-level pages when locked."},team_page_edit_operation_not_allowed:{id:"transactionErrors.teamPageEditOperationNotAllowed.message",defaultMessage:"Sorry, you cannot add or remove pages to this teamspace.",description:"Error message for members trying to edit teamspace pages when the user doesn't have edit access."},team_top_level_page_mismatch:{id:"transactionErrors.teamTopLevelPageMismatch.message",defaultMessage:"This page has fallen out of sync with its teamspace.",description:"Error shown when an operation modified top-level pages without updating team.team_pages"},blocks_inside_themselves_not_allowed:{id:"transactionErrors.blocksInsideThemselvesNotAllowed.message",defaultMessage:"Oops! Blocks cannot be moved inside of themselves."},moving_pages_to_other_workspaces_not_allowed:{id:"transactionErrors.movingPagesToOtherWorkspacesNotAllowed.message",defaultMessage:"This workspace has disabled moving pages to other workspaces."},space_domain_not_available:{id:"transactionErrors.spaceDomainNotAvailable.message",defaultMessage:"Sorry, this domain is not available."},space_education_email_domain_not_allowed:{id:"transactionErrors.spaceEducationalEmailDomainNotAllowed.message",defaultMessage:"Sorry, education domains are not allowed: {domain}",description:"Error shown to the user when attempting to add an allowed email that is considered an education domain."},space_email_domain_not_allowed:{id:"transactionErrors.spaceEmailDomainNotAllowed.message",defaultMessage:"Sorry, this domain is not allowed: {domain}"},space_allowed_email_domain_matches_no_members:{id:"transactionErrors.spaceAllowedEmailDomainMatchesNoMembers.message",defaultMessage:"Allowed email domain must match at least one member.",description:"Error displayed to the user when attempting to add an allowed email domain that does not match the email of any current members."},comment_only_access_cant_move_page:{id:"transactionErrors.commentOnlyAccessCantMovePage.message",defaultMessage:"Sorry, you cannot move this page because you only have Comment-Only access."},non_api_moves_not_allowed:{id:"transactionErrors.nonApiMovesNotAllowed.message",defaultMessage:"Please refresh (Cmd/Ctrl + R) to update Notion to move pages to other workspaces."},upgrade_client_is_needed:{id:"transactionErrors.upgradeClientIsNeeded.message",defaultMessage:"Please refresh (Cmd/Ctrl + R) to update Notion and try again."},search_engine_indexing_not_allowed:{id:"transactionErrors.searchEngineIndexingNotAllowed.message",defaultMessage:"This workspace does not allow public pages to be search indexed."},block_content_max_size:{id:"transactionErrors.blockContentMaxSize.message",defaultMessage:"You have exceeded the maximum contents per page."},block_properties_max_size:{id:"transactionErrors.blockPropertiesMaxSize.message",defaultMessage:"You have exceeded the maximum properties size per page.",description:"Error message displayed in dialog when the user adds too much content to a page."},collections_schema_max_size:{id:"transactionErrors.collectionSchemaMaxSize.message",defaultMessage:"You have exceeded the maximum database property schema size.",description:"Error message displayed in dialog when the user adds too many options to a single or multi select page property."},activity_edits_max_size:{id:"transactionErrors.activityEditsMaxSize.message",defaultMessage:"You have exceeded the maximum edits per page."},cannot_archive_only_default_team:{id:"transactionErrors.cannotArchiveOnlyDefaultTeam.message",defaultMessage:"Can’t archive this teamspace because it is the only default teamspace in this workspace.",description:"Error message displayed in a dialog if a teamspace that is the only default teamspace is being archived."},cannot_downgrade_self_if_only_owner:{id:"transactionErrors.cannotDowngradeSelfIfOnlyOwner.message",defaultMessage:"Can’t downgrade yourself to member since a teamspace must have at least one owner.",description:"Error message displayed in a dialog if a teamspace owner tried to downgrade themselves to member but are the only owner of the teamspace."},cannot_join_closed_team:{id:"transactionErrors.cannotJoinClosedTeam.message",defaultMessage:"Can’t join a closed teamspace. Contact the teamspace’s owner to be invited.",description:"Error message displayed in a dialog if someone tries to join a closed teamspace."},cannot_join_private_team:{id:"transactionErrors.cannotJoinPrivateTeam.message",defaultMessage:"Can’t join a private teamspace. Contact the teamspace’s owner to be invited.",description:"Error message displayed in a dialog if someone tries to join a private teamspace."},cannot_join_as_team_guest_if_space_member:{id:"transactionErrors.cannotJoinAsTeamGuestIfSpaceMember.message",defaultMessage:"Can’t join a team as a teamspace guest if you are a member of the space.",description:"Error message displayed in a dialog if someone who is a member of space tries to join a teamspace as teamspace guest."},team_name_empty:{id:"transactionErrors.teamNameEmpty.message",defaultMessage:"Teamspace name can’t be empty.",description:"Error message displayed in a dialog if the teamspace name being entered is empty."},team_name_too_long:{id:"transactionErrors.teamNameTooLong.message",defaultMessage:"Teamspace name must be under {maxTeamNameLength} characters.",description:"Error message displayed in a dialog if the teamspace name being entered is too long."},team_description_too_long:{id:"transactionErrors.teamDescriptionTooLong.message",defaultMessage:"Teamspace description must be under {maxTeamDescriptionLength} characters.",description:"Error message displayed in a dialog if the teamspace description being entered is too long."},guests_invited_too_quickly:{id:"transactionErrors.guestsInvitedTooQuickly.message",defaultMessage:"You have invited guests to the workspace too quickly. Please try again later.",description:"Error message displayed after a user invites too many guests (but not members) to a workspace in a certain period of time."},at_least_one_default_team:{id:"transactionErrors.atLeastOneDefaultTeam.message",defaultMessage:"There needs to be at least one default teamspace in your workspace.",description:"Error message displayed in a dialog when the user tries to set one or more teamspaces to not a default teamspace."},at_least_one_admin_in_workspace:{id:"transactionErrors.atLeastOneAdminInWorkspace.message",defaultMessage:"There needs to be at least one admin in your workspace.",description:"Error message displayed in a dialog when the user tries to remove the last admin in a workspace."},cant_add_new_members_from_this_jurisdiction:{id:"transactionErrors.cantAddNewMembersFromThisJurisdiction",defaultMessage:"We are currently not allowing customers to add new members from this jurisdiction.",description:"Shown if a user tries to add new members when they're in a region we have prohibited from adding new members."},cannot_invite_space_guests_as_team_owners_or_members:{id:"transactionErrors.cannotInviteGuestsToTeam",defaultMessage:"Can’t invite people who are not members of this workspace to this teamspace.",description:"Shown if a user invites someone who is not part of the workspace to a teamspace."},cannot_invite_guests_by_non_admin_and_non_team_owner:{id:"transactionErrors.cannotInviteGuestsByNonAdminAndNonTeamOwner",defaultMessage:"Only teamspace owners who are also workspace (membership) admin can invite people as teamspace guests.",description:"A error message when a user who is either not a team owner, or a workspace admin invites someone as teamspace guests."},non_owners_cannot_set_is_default:{id:"transactionErrors.nonOwnersCannotSetIsDefault",defaultMessage:"Only teamspace owners can set the default status on a teamspace.",description:"Shown if a non-teamspace owner tries to set the default status on a teamspace."},reordering_space_pages_not_allowed:{id:"transactionErrors.reorderingSpacePagesNotAllowed",defaultMessage:"You can’t reorder the workspace section because teamspaces has been enabled for this workspace.",description:"Shown if a non-teamspace owner tries to set the default status on a teamspace."},database_syncs_over_limit:{id:"transactionErrors.databaseSyncsOverLimit",defaultMessage:"You have hit your Synced Database limit.",description:"Shown if a user attempts to create a synced database in a space where the limit has been reached."},no_permission_to_move:{id:"transactionErrors.noPermissionToMove",defaultMessage:"You don‘t have access to move this page to the desired location.",description:"Shown if a user tries to move to a disallowed location because moving to the new location would cause elevated access."},duplicate_guest_membership_request:{id:"transactionErrors.duplicateGuestMembershipRequest",defaultMessage:"You have already submitted a membership request.",description:"Shown to a user when they try to self-request membership multiple times."},guest_membership_request_setting_off:{id:"transactionErrors.guestMembershipRequestOff",defaultMessage:"Guest membership requests have been turned off for this workspace.",description:"Shown to a user when they try to self-request membership but the admin has turned off the feature."},corrupt_collection_property:{id:"transactionErrors.corruptCollectionProperty",defaultMessage:"Your property change can not be saved because it causes corruption to the metadata.",description:"Shown to a user when the property change is rejected by the server."},duplicate_auto_increment_id_property:{id:"transactionErrors.duplicateAutoIncrementIdProperty",defaultMessage:"A database can only have one ID property",description:"Shown to a user when they try to add an ID property when one already exists."},convert_to_auto_increment_id_property:{id:"transactionErrors.convertToAutoIncrementIdProperty",defaultMessage:"Other properties can not be converted to an ID property",description:"Shown to a user when they try to change a non-ID property to an ID property."},convert_from_auto_increment_id_property:{id:"transactionErrors.convertFromAutoIncrementIdProperty",defaultMessage:"The ID property can not be converted to any other property",description:"Shown to a user when they try to change an ID property to a non-ID property."},wiki_forbidden_auto_increment_id_property:{id:"transactionErrors.wikiForbiddenAutoIncrementIdProperty",defaultMessage:"A wiki cannot have an ID property",description:"Shown to a user when they try to add an ID property to a wiki."},synced_database_forbidden_auto_increment_id_property:{id:"transactionErrors.syncedDatabaseForbiddenAutoIncrementIdProperty",defaultMessage:"A synced database cannot have an ID property",description:"Shown to a user when they try to add an ID property to a synced database."},cannot_invite_space_members_as_team_guests:{id:"transactionErrors.cannotInviteSpaceMembersAsTeamGuests",defaultMessage:"Can't invite workspace members as teamspace guests.",description:"Shown to a user when they try to add a workspace member as a teamspace guest."},cannot_invite_team_guests_if_space_disable_team_guests:{id:"transactionErrors.cannotInviteTeamGuestsIfSpaceDisableTeamGuests",defaultMessage:"Can’t invite teamspace guests if the space setting is disabled.",description:"Shown to a user when they try to add a teamspace guest, but the admin has disbale the feature from the settings."},cannot_invite_team_guests_with_matching_email_domains:{id:"transactionErrors.cannotInviteTeamGuestsWithMatchingEmailDomains",defaultMessage:"Can't invite teamspace guests whose emails match space allowed domain.",description:"Shown to a user when they try to add teamspace guests whose emails match space allowed domain."},cannot_delete_wiki_owner_property:{id:"transactionErrors.cannotDeleteWikiOwnerProeprty",defaultMessage:"Owner property can not be deleted from wiki.",description:"Shown to a user when they try to delete the owner property in a wiki."},missing_wiki_owner_property:{id:"transactionErrors.missingWikiOwnerProperty",defaultMessage:"Wiki is missing owner property.",description:"Shown to a user when they create a wiki without an owner property."},cannot_delete_sprints_status_property_schema:{id:"transactionErrors.cannotDeleteSprintsStatusPropertySchema",defaultMessage:"Status property cannot be deleted from Sprints schema.",description:"Shown to a user when they try to delete the status property from a v2 Sprints DB that does not allow deleting that."},cannot_mutate_sprints_status_property_schema:{id:"transactionErrors.cannotMutateSprintsStatusPropertySchema",defaultMessage:"Sprint status property schema cannot be modified.",description:"Shown to a user when they try to mutate the status property from a v2 Sprints DB that does not allow mutating that."},cannot_delete_tasks_current_sprint_property_filter:{id:"transactionErrors.cannotDeleteTasksCurrentSprintPropertyFilter",defaultMessage:"Tasks current sprint view has a current sprint status property filter that cannot be deleted.",description:"Shown to a user when they try to delete the current sprint status property filter from a tasks DB current sprint view related to a v2 Sprints DB that does not allow deleting that filter."},cannot_mutate_tasks_current_sprint_property_filter:{id:"transactionErrors.cannotMutateTasksCurrentSprintPropertyFilter",defaultMessage:"Tasks current sprint view has a current sprint status property filter that cannot be modified.",description:"Shown to a user when they try to modify the current sprint status property filter from a tasks DB current sprint view related to a v2 Sprints DB that does not allow mutating that filter."}}),a=(0,n.defineMessages)({email_domain_already_configured:{id:"samlErrors.emailDomainAlreadyConfigured.message",defaultMessage:"Email domain is already configured for SAML on existing workspace.",description:"Error message displayed when the user attempts to add an email domain already used by another workspace."},email_domain_workspace_creation_is_education_domain:{id:"samlErrors.emailDomainWorkspaceCreationIsEducationDomain.message",defaultMessage:"Cannot prevent creation of workspaces based on an education email domain.",description:"Error message displayed when the user attempts to update the workspace creation setting for an education email domain."},could_not_parse_idp_metadata_xml:{id:"samlErrors.couldNotParseIdentityProviderMetadataXML.message",defaultMessage:"Could not parse IDP metadata XML.",description:"Error that we show users when they upload invalid XML for their IDP (identity provider)"},invalid_idp_url:{id:"samlErrors.invalidIDPURL.message",defaultMessage:"The IDP metadata URL is an invalid URL."},saml_sso_required:{id:"samlErrors.samlRequired.message",defaultMessage:"You must use SAML SSO to log in to Notion"},could_not_parse_idp_metadata:{id:"samlErrors.couldNotParseIdpMetadata.message",defaultMessage:"Could not parse SAML IDP metadata. Please check that your IDP metadata is correct."},could_not_download_idp_metadata:{id:"samlErrors.couldNotDownloadIdpMetadata.message",defaultMessage:"SAML IDP metadata could not be downloaded. Please check that your IDP Metadata URL is correct."},saml_url_incorrect:{id:"samlErrors.incorrectURL.message",defaultMessage:"Audience in SAML assertion needs to be {correctUrl}"},incorrectly_configured_saml:{id:"samlErrors.incorrectlyConfiguredSaml.message",defaultMessage:"Incorrectly configured SAML SSO. Please contact your administrator."},saml_name_id_email_required:{id:"samlErrors.samlNameIdEmailRequired.message",defaultMessage:"The SAML Name ID attribute must be an email address. Please contact your administrator."},email_not_configured_for_saml_sso:{id:"samlErrors.emailNotConfiguredForSamlSso.message",defaultMessage:"This email is not configured for SAML SSO to this workspace. Please contact your administrator."},invalid_saml_configuration:{id:"samlErrors.invalidSamlConfiguration.message",defaultMessage:"Invalid SAML Configuration. Please contact your administrator."},domain_verification_dns_failed:{id:"samlErrors.domainVerificationDnsFailed.message",description:"Error displayed when user failed to update DNS record on the requested domain.",defaultMessage:"DNS record does not contain the correct notion-verification-code TXT record."},domain_verification_invalid_domain:{id:"samlErrors.domainVerificationInvalidDomain.message",description:"Error displayed when user passes in an invalid or reserved string value for a domain.",defaultMessage:"Invalid value for domain. Please correctly format and ensure the domain is not reserved: {domain}"},domain_verification_config_has_domain:{id:"samlErrors.domainVerificationConfigHasDomain.message",description:"Error displayed when the user attempts to add a domain already in the current SAML configuration.",defaultMessage:"SAML configuration already has the attempted domain."},domain_verification_has_pending_verifications:{id:"samlErrors.domainVerificationhasPending.message",defaultMessage:"There is already a pending domain verification for this domain.",description:"Error message displayed when the user attempts to verify a domain when there is already a pending domain verification."},disable_toggling_page_access_requests_for_non_members:{id:"samlErrors.disableTogglingPageAccessRequestsForNonMembers",defaultMessage:"Page access requests for non-members of a workspace is currently disabled.",description:"Error message shown if an admin tries to toggle the ability to allow non workspace members to request access to a page."},signed_request:{id:"samlErrors.signedRequest.message",defaultMessage:"IDP metadata cannot accept signed requests.",description:"Error message shown if IDP metadata wants signed requests"}}),s=(0,n.defineMessages)({invalid_email_address:{id:"emailErrors.invalidEmailAddress.message",defaultMessage:"Invalid email address"},invalid_email_entered:{id:"emailErrors.invalidEmailEntered.message",defaultMessage:"Please enter a valid email."},user_with_email_already_exists:{id:"emailErrors.userAlreadyExists.message",defaultMessage:"A user with this email already exists."},invalid_or_expired_password:{id:"emailErrors.invalidOrExpiredPassword.message",defaultMessage:"Your login code was incorrect. Please try again."},email_does_not_have_existing_account:{id:"emailErrors.noExistingAccountForEmailAddress.message",defaultMessage:"This email does not have an existing account."},email_unreachable:{id:"emailErrors.emailUnreachable.message",defaultMessage:"We could not reach the email address you provided. Please try again with a different email."},incorrect_password:{id:"emailErrors.incorrectPassword.message",defaultMessage:"Incorrect password."},invalid_email_domain:{id:"emailErrors.invalidEmailDomain.message",defaultMessage:"Invalid email domain",description:"Error message stating that an email domain is not valid"}}),l=(0,n.defineMessages)({enex_import_not_supported:{id:"importErrors.enexFileNotSupported.message",defaultMessage:"Evernote .enex import not supported."}}),c=(0,n.defineMessages)({csv_import_inconsistent_columns:{id:"csvImportErrors.inconsistentColumns.message",description:"Error message shown when the number of columns in the CSV file is inconsistent across rows.",defaultMessage:"Inconsistent number of columns in CSV file, {numBadRows} rows had problems. Header row had {numTitleColumns} columns. Row {firstBadRowIndex} was first inconsistent row with {firstBadRowLength} columns. Parsed row {firstBadRowIndex}: {firstBadRow}"}}),d=(0,n.defineMessages)({upload_file_size_exceeded:{id:"confluenceImportErrors.uploadFileSizeExceeded.message",description:"Error message shown when the uploaded ZIP file exceeds the maximum allowed file size",defaultMessage:"Import file cannot exceed {maxSize}."},failed_to_extract_zip:{id:"confluenceImportErrors.failedToExtractZip.message",description:"Error message shown when importing a Confluence workspace and the uploaded ZIP file cannot be extracted, due to a compression error or invalid file format",defaultMessage:"Failed to extract ZIP file."},no_index_html_file:{id:"confluenceImportErrors.noIndexHtmlFile.message",description:"Error message shown when importing a Confluence workspace and the uploaded ZIP file does not contain an index.html file in the main directory",defaultMessage:"Could not find index file in ZIP."},index_html_missing_available_pages:{id:"confluenceImportErrors.indexHtmlMissingAvailablePages.message",description:"Error message shown when importing a Confluence workspace and the index.html file in the main directory does not contain an 'Available Pages' section in the expected location",defaultMessage:"Invalid index file: could not find available pages."},no_confluence_id_in_page_link:{id:"confluenceImportErrors.noConfluenceIdInPageLink.message",description:"Error message shown when importing a Confluence workspace and a Confluence page's filename is in an unexpected format, and we cannot extract the Confluence ID from the filename",defaultMessage:"Could not extract page ID from file name."},failed_to_find_element:{id:"confluenceImportErrors.failedToFindElement.message",description:"Error message shown when importing a Confluence workspace and an expected element is not present while transforming a Confluence page's HTML content. Error should generically indicate that the upload failed to parse",defaultMessage:"Failed to parse upload."},found_element_is_incorrect_type:{id:"confluenceImportErrors.foundElementIsIncorrectType.message",description:"Error message shown when importing a Confluence workspace and an expected element is the incorrect type while transforming a Confluence page's HTML content. Error should generically indicate that the upload failed to parse",defaultMessage:"Failed to parse upload."},buffer_upload_failed:{id:"confluenceImportErrors.bufferUploadFailed.message",description:"Error message shown when importing a Confluence workspace and a buffer-based attachment (e.g. a base64-encoded image) fails to upload",defaultMessage:"Failed to upload attachment from buffer."},attachment_not_found:{id:"confluenceImportErrors.attachmentNotFound.message",description:"Error message shown when importing a Confluence workspace and an attachment's key is not found in the uploaded ZIP file's attachments directory",defaultMessage:"Failed to find attachment in ZIP file."},attachment_upload_failed:{id:"confluenceImportErrors.attachmentUploadFailed.message",description:"Error message shown when importing a Confluence workspace and a file-based attachment fails to upload",defaultMessage:"Failed to upload attachment from file."},failed_to_build_page:{id:"confluenceImportErrors.failedToBuildPage.message",description:"Error message shown when importing a Confluence workspace and a page fails to import for an unexpected reason",defaultMessage:"Failed to import page."},api_error:{id:"confluenceImportErrors.apiError.message",description:"Error message shown when importing a Confluence workspace and a page fails to import for an unexpected reason",defaultMessage:"Failed to fetch data from api."}}),p=(0,n.defineMessages)({free_plan_file_size_exceeded:{id:"fileUploadErrors.freePlanFileSizeExceeded.message",defaultMessage:"Your file is over the 5MB limit of the Free plan."}}),u=(0,n.defineMessages)({file_size_exceeded:{id:"importActions.fileImportFailedError.customSizeTooLarge.message",defaultMessage:"Import file cannot exceed {maxSize}.",description:"importFile failure message when file exceeds {maxSize}"}}),m=(0,n.defineMessages)({invite_link_disabled:{id:"inviteLinkErrors.inviteLinkDisabled.message",defaultMessage:"Invites are disabled, contact the administrator of this space."},unable_to_join_space:{id:"inviteLinkErrors.unableToJoinSpace.message",defaultMessage:"Please ask an administrator to invite you directly to this space.",description:"Error message displayed when user cannot join space."}}),g=(0,n.defineMessages)({password_too_short:{id:"passwordSettings.passwordTooShortError.message",defaultMessage:"Please make your password longer."},password_missing_letter:{id:"passwordSettings.passwordMissingLetter.message",defaultMessage:"Please include a letter, or use a longer password."},password_missing_number:{id:"passwordSettings.passwordMissingNumber.message",defaultMessage:"Please include a number, or use a longer password."},password_missing_letter_and_number:{id:"passwordSettings.passwordMissingLetterAndNumber.message",defaultMessage:"Please include a letter and a number, or use a longer password."},password_too_consistent:{id:"passwordSettings.passwordTooConsistent.message",defaultMessage:"Please include additional unique characters."},password_not_entered:{id:"passwordSettings.passwordNotEntered.message",defaultMessage:"Please enter your password."},password_not_set:{id:"passwordSettings.passwordNotSet.message",defaultMessage:"No password set.",description:"Error message when a user is attempting to change their password, but they don't have one set to begin with."}}),h=(0,n.defineMessages)({rate_limited:{id:"rateLimitError.message",defaultMessage:"Please try again later."},duplicate_rate_limited:{id:"duplicateRateLimitError.message",defaultMessage:"Rate limit reached, please try again later."},export_audit_log_rate_limited:{id:"export_audit_log_rate_limited.message",defaultMessage:"Rate limit reached for exporting audit logs, please try after your current exports are finished.",description:"Error message that describes hitting a rate limit and to try again after all current exports are finished processing."},export_user_analytics_rate_limited:{id:"exportUserAnalytics.rateLimited.message",defaultMessage:"Rate limit reached for exporting member analytics, please try after your current exports are finished.",description:"Error message that describes hitting a rate limit and to try again after all current exports are finished processing."},export_content_analytics_rate_limited:{id:"exportContentAnalytics.rateLimited.message",defaultMessage:"Rate limit reached for exporting content analytics, please try after your current exports are finished.",description:"Error message that describes hitting a rate limit when attempting to export content analytics and to try again after all current exports are finished processing."},export_admin_content_search_rate_limited:{id:"exportAdminContentSearch.rateLimited.message",defaultMessage:"Rate limit reached for exporting content search, please try after your current exports are finished.",description:"Error message that describes hitting a rate limit when attempting to export content search and to try again after all current exports are finished processing."}}),f=(0,n.defineMessages)({login_generic_error:{id:"loginErrors.generic.message",defaultMessage:"There was a problem logging in."},login_try_again:{id:"loginErrors.tryAgain.message",defaultMessage:"Please log in again."},login_csrf_error:{id:"loginErrors.csrf.message",defaultMessage:"If you’re logging in via a link, please open the link in the same browser that you requested the link from."},login_admin_mode_unsupported:{id:"loginErrors.adminModeUnsupported.message",defaultMessage:"Unsupported in Admin Mode"},login_invalid_email:{id:"loginErrors.invalidEmail.message",defaultMessage:"Invalid email."},login_invalid_password:{id:"loginErrors.invalidPassword.message",defaultMessage:"Invalid password."},login_from_restricted_region:{id:"loginErrors.restrictedRegion.message",defaultMessage:"You are attempting to access our service from a restricted jurisdiction.",description:"Shown when a user attempts to login/signup from a sanctioned region."},login_banned_user:{id:"loginErrors.bannedUser.message",defaultMessage:"Something is wrong with your account. Please contact support.",description:"Shown when a user attempts to login/signup when they are banned."},login_banned_network:{id:"loginErrors.bannedNetwork.message",defaultMessage:"Something is wrong with your connection to Notion. Please contact support in-app or at team@makenotion.com.",description:"Shown when a user attempts to login/signup when they are from what is very likely a malicious botnet."}}),v=(0,n.defineMessages)({generic_mfa_error:{id:"authErrors.genericMfaError.message",defaultMessage:"Something went wrong, please try again",description:"Still work in progress"},reused_mfa_code:{id:"authErrors.reusedMfaCode.message",defaultMessage:"Provided code has already been used. Please try again.",description:"The user provided an MFA code that has already been used."},invalid_mfa_code:{id:"authErrors.invalidMfaCode.message",defaultMessage:"The code didn’t work, try typing it again or resend code",description:"The user provided an One Time code that is incorrect"},mfa_duplicate_friendly_name:{id:"authErrors.duplicateFriendlyName",defaultMessage:"Authenticator name is already in use",description:"Generic error message when an Authenticator name has already been used"},mfa_empty_friendly_name:{id:"authErrors.emptyFriendlyName",defaultMessage:"Authenticator name cannot be empty",description:"Generic error message when an Authenticator name is the empty string"},mfa_bad_friendly_name:{id:"authErrors.badFriendlyName",defaultMessage:"Authenticator name cannot be used",description:"Generic error message when an Authenticator name has an inappropriate word in it"},password_login_required:{id:"authErrors.passwordLoginRequired",defaultMessage:"You must login with a password",description:"Error message requiring a user to login with a password if set"},invalid_phone_number:{id:"authErrors.invalidPhoneNumber.message",defaultMessage:"The phone number is not valid",description:"The user provided a phone number that is not valid"},invalid_country_code:{id:"authErrors.invalidCountryCode.message",defaultMessage:"The country code is not valid",description:"The user provided a country code that is not valid"},already_verified_phone_number:{id:"authErrors.alreadyVerifiedPhoneNumber.message",defaultMessage:"This phone number has already been verified",description:"This phone number is already verified for this account"},max_num_of_mfa_methods_reached:{id:"authErrors.maxMethods.message",defaultMessage:"You've reached the maximum number of MFA methods for the given type.",description:"You have exceeded the number of MFA methods you can configure for this type"},phone_number_setup_limit_reached:{id:"authErrors.phoneNumberLimitReached.message",defaultMessage:"This phone number can no longer be used to setup new 2-step verification methods.",description:"The phone number has been setup for 5 accounts and can no longer be used"},no_password_verification:{id:"authErrors.noPasswordVerification.message",defaultMessage:"Notion must verify your password to continue, exit this modal and try again",description:"You need to verify your password before you can make changes to your MFA methods"},twilio_generic_error:{id:"authErrors.twilioGenericError.message",defaultMessage:"Something went wrong, please reach out to customer support",description:"Twilio was not able to process the given request"},twilio_cannot_verify_phone_number:{id:"authErrors.twilioCannotVerifyPhoneNumber.message",defaultMessage:"We cannot verify your phone number, please check the number and try again",description:"Twilio is unable to verify the given phone number"},twilio_cannot_fetch_phone_number:{id:"authErrors.twilioCannotFetchPhoneNumber.message",defaultMessage:"There is no record of this phone number, please check the number and try again",description:"Twilio was unable to find an instance for the give phone number"}}),y=(0,n.defineMessages)({apple_api_status_error:{id:"appleErrors.api.statusError",defaultMessage:"There was a problem with the Apple service."},apple_api_token_error:{id:"appleErrors.api.tokenError",defaultMessage:"There was a problem verifying your identity with Apple."},apple_api_missing_id_error:{id:"appleErrors.api.missingIdError",defaultMessage:"There was a problem getting user information from Apple."},apple_api_missing_access_token_error:{id:"appleErrors.api.missingAccessTokenError",defaultMessage:"Apple failed to authorize the login."},apple_api_missing_beta_app_review_submission:{id:"appleErrors.api.missingBetaAppReviewSubmission",defaultMessage:"Cannot find betaAppReviewSubmission entry.",description:'Leave "betaAppReviewSubmission" as-is and translate the rest of the string.'},apple_api_missing_pre_release_version:{id:"appleErrors.api.missingPreReleaseVersion",defaultMessage:"Cannot find preReleaseVersion entry.",description:'Leave "preReleaseVersion" as-is and translate the rest of the string.'}}),b=((0,n.defineMessages)({google_drive_token_error:{id:"googleErrors.googleDriveTokenError",defaultMessage:"Error from Google Drive: {errorMessage}"}}),(0,n.defineMessages)({card_required:{id:"subscriptionErrors.cardRequiredError",defaultMessage:"Since you have not paid your last invoice, you must use a card."},invalid_credit:{id:"subscriptionErrors.invalidCreditError",defaultMessage:"This amount of credit is not available."},credit_no_free_lunch:{id:"subscriptionErrors.creditNoFreeLunch",defaultMessage:"Negative credits are not possible."},missing_name:{id:"subscriptionErrors.missingNameError",defaultMessage:"Name must exist."},missing_address:{id:"subscriptionErrors.missingAddressError",defaultMessage:"Address line 1 must exist."},credit_exceeds_balance:{id:"subscriptionErrors.creditExceedsBalanceError",defaultMessage:"Cannot apply credit to exceed balance beyond {maxCredits}."},subscription_personal_plan_more_than_one_member:{defaultMessage:"In order to use the personal plan, your workspace can have only one member.",id:"subscriptionErrors.personalPlanMoreThanOneMember"},invalid_vat:{id:"subscriptionErrors.invalidVatError",defaultMessage:"VAT/GST number is invalid."},coupon_already_applied:{id:"subscriptionErrors.couponAlreadyApplied",defaultMessage:"This coupon has already been applied"},subscription_attempt_from_restricted_region:{id:"updatingSubscriptionDetails.restrictedRegion.genericErrorMessage",defaultMessage:"We are currently not allowing customers to upgrade their subscription from this jurisdiction.",description:"Shown as an error message when a user attempts to subscribe to a notion plan if we detect a user is from a restricted region."},new_subscription_attempt_from_restricted_region:{id:"updatingSubscriptionDetails.restrictedRegion.newSubscriptionErrorMessage",defaultMessage:"We are currently not accepting new customers from this jurisdiction.",description:"Shown as an error message when a user attempts to subscribe to a notion plan if we detect a user is from a restricted region."},add_on_subscription_attempt_from_restricted_region:{id:"updatingSubscriptionDetails.restrictedRegion.addOnSubscriptionErrorMessage",defaultMessage:"We are currently not allowing customers to purchase add-ons from this jurisdiction.",description:"Shown as an error message when a user attempts to purchase add-ons if we detect a user is from a restricted region."},invalid_plan:{id:"subscriptionErrors.invalidPlan",defaultMessage:"The plan you have selected is not available.",description:"Shown when the plan a customer attempts to change into is not available."},collection_method_not_allowed:{id:"subscriptionErrors.collectionMethodNotAllowed",defaultMessage:"You cannot select this payment collection method in the app. Please reach out to support.",description:"Error message shown if a customer tries to set their billing collection method to invoice."}})),S=(0,n.defineMessages)({referral_user_already_signed_up:{defaultMessage:"User has already signed up.",id:"activateReferral.dialogError.userAlreadySignedUp.errorMessage"},referral_already_activated:{defaultMessage:"Referral has already been activated.",id:"activateReferral.dialogError.referralAlreadyActivated.errorMessage"},referral_no_valid_referral_found:{defaultMessage:"No valid referral found.",id:"activateReferral.dialogError.noValidReferral.errorMessage"},referral_referring_user_not_found:{defaultMessage:"Referring user not found.",id:"activateReferral.dialogError.referringUserNotFound.errorMessage"},referral_cannot_invite_yourself:{defaultMessage:"You cannot invite yourself",id:"activateReferral.dialogError.cannotInviteSelf.errorM